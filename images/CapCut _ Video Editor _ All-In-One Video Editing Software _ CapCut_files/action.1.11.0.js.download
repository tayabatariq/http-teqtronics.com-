!function(){"use strict";var Y=function(){return(Y=Object.assign||function(t){for(var n,r=1,e=arguments.length;r<e;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function G(t,n){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var e,i,o=r.call(t),u=[];try{for(;(void 0===n||0<n--)&&!(e=o.next()).done;)u.push(e.value)}catch(t){i={error:t}}finally{try{e&&!e.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return u}function P(t,n,r){if(r||2===arguments.length)for(var e,i=0,o=n.length;i<o;i++)!e&&i in n||((e=e||Array.prototype.slice.call(n,0,i))[i]=n[i]);return t.concat(e||Array.prototype.slice.call(n))}var a=function(){return{}};function r(t){return"object"==typeof t&&null!==t}var e=Object.prototype;function f(t){return"function"==typeof t}function X(t,n){if("[object Array]"===e.toString.call(t)&&0!==t.length)for(var r=0;r<t.length;){if(t[r]===n)return 1;r++}}function s(o,u,c){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!o)return a;var r=o[u],e=c.apply(void 0,P([r],G(t),!1)),i=e;return f(i)&&(i=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(this,t)}),o[u]=i,function(){i===o[u]?o[u]=r:e=r}}}function $(){var t=function(){for(var t=new Array(16),n=0,r=0;r<16;r++)0==(3&r)&&(n=4294967296*Math.random()),t[r]=n>>>((3&r)<<3)&255;return t}();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,function(t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);var e=0,i=n;return[i[t[e++]],i[t[e++]],i[t[e++]],i[t[e++]],"-",i[t[e++]],i[t[e++]],"-",i[t[e++]],i[t[e++]],"-",i[t[e++]],i[t[e++]],"-",i[t[e++]],i[t[e++]],i[t[e++]],i[t[e++]],i[t[+e]],i[t[15]]].join("")}(t)}var c=function(t,n,r,e){return t.destroyAgent.set(n,r,e)};function l(t,n){return t.initSubject(n)}function z(){return Date.now()}function d(){if("object"==typeof window&&r(window))return window}function p(){if("object"==typeof document&&r(document))return document}function i(){if(d()&&f(window.PerformanceObserver))return window.PerformanceObserver}function o(){var t=d()&&d()&&window.location;return null==t?void 0:t.href}function u(t){var n=t.config();return(n={pid:n.pid,view_id:n.viewId,url:o()}).context=t.context?t.context.toString():{},n}function C(r){var t=r&&r.timing||void 0;return[t,function(){return r&&r.now?r.now():(Date.now?Date.now():+new Date)-(t&&t.navigationStart||0)},function(t){var n=(r||{}).getEntriesByType;return f(n)&&n.call(r,t)||[]},function(){var t=(r||{}).clearResourceTimings;f(t)&&t.call(r)},function(t){var n=(r||{}).getEntriesByName;return f(n)&&n.call(r,t)||[]}]}function v(e){return function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t=G(n,2),this._method=t[0],this._url=t[1],e.apply(this,n)}}function h(i){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._reqHeaders=this._reqHeaders||{};var r=G(t,2),e=r[0],r=r[1];return this._reqHeaders[e]=r,i&&i.apply(this,t)}}function m(o,u){var n,c=(n=new RegExp("\\/monitor_web\\/collect|\\/monitor_browser\\/collect\\/batch","i"),function(t){return n.test(t)});return function(){for(var t,e,i,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._start=z(),this._data=null==n?void 0:n[0],c(this._url)||(t=u([this._method,this._url,this._start,this]),i=t,s(e=this,"onreadystatechange",function(r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 4===this.readyState&&i(e),r&&r.apply(this,t)}})()),o.apply(this,n)}}function y(e,i){return function(t,n){var r=i([t,n=void 0===n?{}:n]),n=e(t,n);return n.then(function(t){r(t)},function(){r(void 0)}),n}}function g(t,n,r){return t=G(A(t,n),3),n=t[0],t=t[2],n(r),t}var _=function(n,t){void 0===t&&(t=!1);var r=u(n);return t&&(r.timestamp=z()),function(t){n.report(Y(Y({},t),{overrides:r}))}},w=function(t,n){return r(t)?Y(Y({},n),t):!!t&&n},b="xhr_0",T=function(e){return function(t,n){var r;e&&((r=[]).push(s(e,"open",v)()),r.push(s(e,"setRequestHeader",h)()),r.push(s(e,"send",m)(t)),n(function(){r.forEach(function(t){return t()})}))}},E=["fetch_0",function(t,n){var r,e=d();e&&fetch&&((r=[]).push(s(e,"fetch",y)(t)),n(function(){r.forEach(function(t){return t()})}))}],S=["resource"],R=["longtask"],A=function(n,i,r){var e=n&&new n(function(t,e){t.getEntries?t.getEntries().forEach(function(t,n,r){return i(t,n,r,e)}):r&&r()});return[function(t){if(!n||!e)return r&&r();try{e.observe({entryTypes:t})}catch(t){return r&&r()}},function(t){if(!n||!e)return r&&r();try{e.observe({type:t,buffered:!0})}catch(t){return r&&r()}e.observe({type:t,buffered:!1})},function(){return e&&e.disconnect()}]},x=["longtask_0",function(t,n){var r=i();r&&n(g(r,t,R))}],j=["resource_0",function(t,n){var r=i();r&&n(g(r,t,S))}],F="http",J="resource",K="performance_longtask",Q="action";function U(t,n){if(t=L()?t.closest("["+n+"]"):function(t,n,r){void 0===r&&(r=10);for(var e=t,i=0;i<r&&e;i++){if(~H.indexOf(e.nodeName))return;if(e.hasAttribute(n))return e;e=e.parentElement}}(t,n))return t.getAttribute(n).trim()}var t,n,M,N,H=["BODY","HTML","HEAD"],L=function(){return void 0===t?t="closest"in HTMLElement.prototype:t},V=["click"],W={capture:!0},D=function(i,n,t,r){function e(t){var n;!w||!_&&!Object.keys(w.metrics).length||Object.keys(q).length&&!t||(w.metrics[K]&&(w.metrics[K].duration=S),n=0<E.length?Math.max.apply(Math,P([],G(E),!1))-Math.min.apply(Math,P([],G(E),!1)):0,w.metrics[F]&&(w.metrics[F].duration=n),t=R()-w.start_time,T&&T({ev_type:Q,payload:Y(Y({},w),{duration:t,frontend_time:t-n})}),o())}function o(){j(),w&&(b={start_time:w.start_time,id:w.id}),w=null,E=[],S=0}function u(t){w&&(w.metrics[t]={count:(null!==(t=null===(t=w.metrics[t])||void 0===t?void 0:t.count)&&void 0!==t?t:0)+1})}var c,a,f,s,l,d,p=G(t,4),v=p[0],h=p[1],m=p[2],y=p[3],g=r.types,_=r.pure,w=null,b=null,T=void 0,E=[],S=0,R=G(C(performance),2)[1],t=G((c=e,a=o,f=window,d=!1,[function(){d=!0,f.clearTimeout(l),l=f.setTimeout(function(){c(),a()},1e4),M()},M,function(){d=!1,f.clearTimeout(s),f.clearTimeout(l)}]),3),A=t[0],x=t[1],j=t[2];function M(){f.clearTimeout(s),d&&(s=f.setTimeout(function(){c()},100))}var N,H,L,D,O,k,q=(p=n,N=x,t=G(r=[v,h],2),v=t[0],h=t[1],r=G([H={},function(t,n){return H[t]=n},function(t){return delete H[t]}],3),t=r[0],L=r[1],D=r[2],O=0,p.push(v[0](function(t){G(t,1)[0];var n=O+=1;return L(n,z()),N(),function(){D(n),N()}})),p.push(h[0](function(){var t=O+=1;return L(t,z()),N(),function(){D(t),N()}})),t),h=G((h=MutationObserver,t=x,k=h&&new h(t),[function(t,n){k&&t&&k.observe(t,n)},function(){return k&&k.disconnect()}]),2),t=h[0],h=h[1];t(),n.push(h),n.push(j),n.push(m[0](function(t){var n=t.startTime,t=t.duration;x(),w&&w.start_time<=n+50&&(S+=t,u(K))})),n.push(y[0](function(t){var n=t.startTime,r=t.duration,t=t.initiatorType;x(),w&&w.start_time<n&&(["xmlhttprequest","fetch"].includes(t)&&(E.push(n,n+r),u(F)),["xmlhttprequest","fetch","beacon"].includes(t)||u(J))}));function B(t,n){var r=$(),e=G(C(performance),2)[1];w={start_time:e(),id:r,type:n,target:t,metrics:{}},T=i(),A()}function I(t){var n;e(!0),o(),t.target instanceof HTMLElement&&(n=t.target,(n=U(n,"data-apm-action")||n.innerText)&&B({name:n,path:function(t){var n=t,r=[];try{for(;null!==n.parentNode;){for(var e=0,i=0,o=0;o<n.parentNode.childNodes.length;o++){var u=n.parentNode.childNodes[o];u.nodeName===n.nodeName&&(u===n&&(i=e),e++)}n.hasAttribute("id")&&""!==n.id?r.unshift(n.nodeName+"#"+n.id):1<e?r.unshift(n.nodeName+":eq("+i+")"):r.unshift(n.nodeName),n=n.parentNode}return r.slice(1).join(">")}catch(t){return}}(t.target)},t.type))}g&&g.forEach(function(t){X(V,t)&&(document.addEventListener(t,I,W),n.push(function(){return document.removeEventListener(t,I,W)}))});return[function(t){if(t.ev_type===F)return(n=t.payload.response.timing&&t.payload.response.timing.startTime)?w&&n>w.start_time?w.id:b&&n>b.start_time?b.id:void 0:void 0;if(t.ev_type!==K)return w?("js_error"!==t.ev_type&&t.ev_type!==J||u(t.ev_type),w.id):void 0;var n=t.payload.longtasks.length&&t.payload.longtasks[0].startTime+50;return w&&n&&n>w.start_time?w.id:void 0},function(t,n){e(!0),o(),B({name:t},n)}]},O="action",k={types:["click"]};M=(null===(n=function(){if(!document)return null;if(document.currentScript)return document.currentScript;try{throw new Error}catch(t){var n=0,r=/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/i.exec(t.stack),e=r&&r[2]||!1,i=r&&r[3]||0,o=document.location.href.replace(document.location.hash,""),u="",c=document.getElementsByTagName("script");for(e===o&&(r=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(i-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),u=r.replace(i,"$1").trim());n<c.length;n++){if("interactive"===c[n].readyState)return c[n];if(c[n].src===e)return c[n];if(e===o&&c[n].innerHTML&&c[n].innerHTML.trim()===u)return c[n]}return null}}())||void 0===n?void 0:n.getAttribute("src"))||"",(N=p())&&M&&((N=N.createElement("a")).href=M,"/"!==(M=N.pathname||"/")[0]&&(M="/"+M),N.href,N.protocol.slice(0,-1),N.hostname,N.search.substring(1),N.hash);var q,B,I,Z,tt="1.11.0";q=O,B=function(e){e.on("init",function(){var t,n,r,r=(n=O,r=k,n=null===(t=(t=e).config())||void 0===t?void 0:t.plugins[n],w(n,r));r&&function(t,n){void 0===n&&(n=k);var r,e,i=[],o=p(),u=d();o&&u&&(n=G(D(function(){return _(t,!0)},i,[l(t,[b,T(XMLHttpRequest&&XMLHttpRequest.prototype)]),l(t,E),l(t,x),l(t,j)],n),2),r=n[0],n=n[1],t.on("report",e=function(t){var n=r(t);return n&&t.extra&&(t.extra.action_id=n),t}),i.push(function(){t.off("report",e)}),t.provide("startAction",n),c(t,O,Q,i))}(e,r)})},(I=void 0===I?function(t){if(t)return t.__SLARDAR_REGISTRY__||(t.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),t.__SLARDAR_REGISTRY__.Slardar}(d()):I)&&I.plugins&&(Z=q,I.plugins.filter(function(t){return t.name===Z&&t.version===tt})[0]||I.plugins.push({name:q,version:tt,apply:B}))}();
