/*! For license information please see byted.d429634d.js.LICENSE.txt */
(globalThis.__LOADABLE_LOADED_CHUNKS__=globalThis.__LOADABLE_LOADED_CHUNKS__||[]).push([["6975"],{89212:function(e,t,n){"use strict";n.d(t,{J4:function(){return a}}),n(467064),n(97164);var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=function(e){for(var t,n=e.toString(),r=[],i=0;i<n.length;i++)0<=(t=n.charCodeAt(i))&&t<=127?r.push(t):128<=t&&t<=2047?(r.push(192|31&t>>6),r.push(128|63&t)):(2048<=t&&t<=55295||57344<=t&&t<=65535)&&(r.push(224|15&t>>12),r.push(128|63&t>>6),r.push(128|63&t));for(var o=0;o<r.length;o++)r[o]&=255;return r},o=function(e){var t=[],n=[];if(void 0===e)return"";n=i(e);for(var r=0,o=n.length;r<o;++r)t.push((5^n[r]).toString(16));return t.join("")},a=function(e,t){var n,i=0,a=0;if("object"!=typeof e||!t||t.length<=0)return e;for(var s=r({mix_mode:i},e),c=0,u=t.length;c<u;++c)void 0!==(n=s[t[c]])&&(i|=1,a|=1,s[t[c]]=o(n));return s.mix_mode=i,s.fixed_mix_mode=a,s}},269448:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(527116),a=n(650093),s=i(n(620401)),c=i(n(857977));t.default=function(e,t){(0,a.set)("initProps",e),this.request=new l(e,t),o.sliderView.init(r(r({},e),{request:this.request}))};var u=function(e,t){var n,i=e.scene,o=e.aid,a=e.language,s=void 0===a?"":a,c=e.subjectAid,u=e.aff_multi_login,l=void 0===u?0:u,f=e.generalParams,d=void 0===f?{}:f;if("web"===t){var p={aid:o};"aff"===(void 0===i?"normal":i)&&(p.subject_aid=void 0===c?0:c),1===l&&(p.aff_multi_login=1),n=p}if("sso"===t||"auth"===t){var p={aid:o};1===l&&(p.aff_multi_login=1),n=p}if(n=r(r({},n),{account_sdk_source:t}),d)try{n=r(r({},d),n)}catch(e){console.error("[error], generalParams is not object!")}return s&&(n=r(r({},n),{language:s})),n},l=function(e,t){var n;return(void 0===t&&(t="web"),null===(n=(0,a.get)("initProps"))||void 0===n?void 0:n.fetch)?(0,c.default)():(0,s.default)(u(e,t))}},232097:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(269001),o=n(471664);t.default=function(e){var t=this;this.getAccountInfo=function(e){void 0===e&&(e={});var n=e.extra_params;return t.request({url:o.WEB_URL.ACCOUNT_INFO,method:"GET",data:void 0===n?{}:n})},this.setAccount=function(e){void 0===e&&(e={});var n=e.password,a=e.username,s=e.extra_params,c=(0,i.encryptParams)(r({password:n,username:a},void 0===s?{}:s),["password","username"]);return t.request({url:o.WEB_URL.ACCOUNT_SET,method:"POST",data:c})};var n=e.request;this.request=n}},477458:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(269001),o=n(471664);t.default=function(e){var t=this;this.sendEmailCode=function(e){var n=e.email,a=e.extra_params,s=(0,i.encryptParams)(r({email:n,type:4},void 0===a?{}:a),["email","type"]);return t.request({url:o.WEB_AFF_URL.SEND_EMAIL_CODE,method:"POST",data:s})},this.sendMobileCode=function(e){var n=e.mobile,a=e.extra_params,s=(0,i.encryptParams)(r({mobile:n,type:6},void 0===a?{}:a),["mobile","type"]);return t.request({url:o.WEB_AFF_URL.SEND_MOBILE_CODE,method:"POST",data:s})},this.mobileReset=function(e){var n=e.mobile,a=e.code,s=e.password,c=e.extra_params,u=(0,i.encryptParams)(r({mobile:n,code:a,password:s},void 0===c?{}:c),["mobile","code","password"]);return t.request({url:o.WEB_AFF_URL.RESET_BY_MOBILE,method:"POST",data:u})},this.emailReset=function(e){var n=e.email,a=e.code,s=e.password,c=e.extra_params,u=(0,i.encryptParams)(r({email:n,code:a,password:s},void 0===c?{}:c),["email","code","password"]);return t.request({url:o.WEB_AFF_URL.RESET_BY_EMAIL,method:"POST",data:u})};var n=e.request;this.request=n}},141853:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SuperAPI=t.UserAPI=t.RoleAPI=t.ResourceAPI=t.SubjectAPI=t.InviteAPI=t.ForgetPwdAPI=t.RegisterAPI=t.LoginAPI=void 0;var i=n(287210);Object.defineProperty(t,"LoginAPI",{enumerable:!0,get:function(){return r(i).default}});var o=n(9461);Object.defineProperty(t,"RegisterAPI",{enumerable:!0,get:function(){return r(o).default}});var a=n(477458);Object.defineProperty(t,"ForgetPwdAPI",{enumerable:!0,get:function(){return r(a).default}});var s=n(141513);Object.defineProperty(t,"InviteAPI",{enumerable:!0,get:function(){return r(s).default}});var c=n(129329);Object.defineProperty(t,"SubjectAPI",{enumerable:!0,get:function(){return r(c).default}});var u=n(525171);Object.defineProperty(t,"ResourceAPI",{enumerable:!0,get:function(){return r(u).default}});var l=n(87346);Object.defineProperty(t,"RoleAPI",{enumerable:!0,get:function(){return r(l).default}});var f=n(436398);Object.defineProperty(t,"UserAPI",{enumerable:!0,get:function(){return r(f).default}});var d=n(752924);Object.defineProperty(t,"SuperAPI",{enumerable:!0,get:function(){return r(d).default}})},141513:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(269001),a=n(471664);t.default=function(e){var t=this;this.mobileInvite=function(e){var n=e.extra_params,s=i(e,["extra_params"]),c=(0,o.encryptParams)(r(r({},s),void 0===n?{}:n),["mobile"]);return t.request({url:a.WEB_AFF_URL.MOBILE_INVITE,method:"POST",data:c})},this.emailInvite=function(e){var n=e.extra_params,s=i(e,["extra_params"]),c=(0,o.encryptParams)(r(r({},s),void 0===n?{}:n),["email"]);return t.request({url:a.WEB_AFF_URL.EMAIL_INVITE,method:"POST",data:c})},this.larkInvite=function(e){var n=e.extra_params,s=i(e,["extra_params"]),c=(0,o.encryptParams)(r(r({},s),void 0===n?{}:n),["email"]);return t.request({url:a.WEB_AFF_URL.LARK_INVITE,method:"POST",data:c})},this.getInvitationList=function(e){var n=e.page,i=void 0===n?1:n,o=e.page_size,s=void 0===o?10:o,c=e.extra_params,u=void 0===c?{}:c;return new Promise(function(e,n){t.request({url:"".concat(a.WEB_AFF_URL.INVITE_LIST).concat(i,"/"),method:"GET",data:r({page_size:s},u)}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.cancelInvitation=function(e){var n=e.invite_id,i=void 0===n?0:n,o=e.extra_params,s=void 0===o?{}:o;return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.CANCEL_INVITE,method:"POST",data:r({invite_id:i},s)}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.resendInvitation=function(e){var n=e.invite_id,i=void 0===n?0:n,o=e.next_url,s=void 0===o?"":o,c=e.link,u=void 0===c?"":c,l=e.extra_params,f=void 0===l?{}:l;return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.RESEND_INVITE,method:"POST",data:r({invite_id:i,next_url:s,link:u},f)}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.updateInvitation=function(e){var n=e.invite_id,i=e.deputy_identity_id,s=e.deputy_name,c=e.extra_params,u=(0,o.encryptParams)(r({invite_id:void 0===n?0:n,deputy_identity_id:i,deputy_name:s},void 0===c?{}:c),["deputy_name"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.UPDATE_INVITE,method:"POST",data:u}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.checkRegisterStatus=function(e){var n=e.invite_ticket,i=e.extra_params,o=void 0===i?{}:i;return new Promise(function(e,i){t.request({url:a.WEB_AFF_URL.CHECK_INVITE_VALID,method:"POST",data:r({invite_ticket:n},o)}).then(function(t){e(t)}).catch(function(e){i(e)})})},this.acceptInvitation=function(e){var n=e.invite_ticket,i=e.password,s=e.extra,c=e.extra_params,u=(0,o.encryptParams)(r({invite_ticket:n,password:i,extra:s},void 0===c?{}:c),["password","extra"]);return t.request({url:a.WEB_AFF_URL.ACCEPT_INVITE,method:"POST",data:u})};var n=e.request;this.request=n}},287210:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(269001),o=n(471664),a=n(650093);t.default=function(e){var t=this;this.sendCode=function(e){var n=e.mobile,a=e.extra_params,s=(0,i.encryptParams)(r({mobile:n,type:7},void 0===a?{}:a),["mobile","type"]);return t.request({url:o.WEB_AFF_URL.SEND_MOBILE_CODE,method:"POST",data:s})},this.smsLogin=function(e){var n=e.mobile,a=e.code,s=e.need_frozen_user,c=e.extra_params,u=(0,i.encryptParams)(r({mobile:n,code:a,need_frozen_user:void 0===s?0:s,type:7},void 0===c?{}:c),["mobile","type","code"]);return t.request({url:o.WEB_AFF_URL.SMS_LOGIN,method:"POST",data:u})},this.sendEmailCode=function(e){var n=e.email,a=e.extra_params,s=(0,i.encryptParams)(r({email:n,type:13},void 0===a?{}:a),["email","type"]);return t.request({url:o.WEB_AFF_URL.SEND_EMAIL_CODE,method:"POST",data:s})},this.emailLogin=function(e){var n=e.email,a=e.code,s=e.need_frozen_user,c=e.extra_params,u=(0,i.encryptParams)(r({email:n,code:a,need_frozen_user:void 0===s?0:s,type:13},void 0===c?{}:c),["email","type","code"]);return t.request({url:o.WEB_AFF_URL.EMAIL_LOGIN,method:"POST",data:u})},this.pwdLogin=function(e){var n,a=e.password,s=e.need_frozen_user,c=e.extra_params,u=["email","username","mobile","account"].find(function(t){return!!e[t]});if(!u)return Promise.reject();var l=(0,i.encryptParams)(r(((n={password:a})[u]=e[u],n.need_frozen_user=void 0===s?0:s,n),void 0===c?{}:c),["password",u]);return t.request({url:o.WEB_AFF_URL.PWD_LOGIN,method:"POST",data:l})},this.oauthLoginCall=function(e){var t=e.platform_app_id,n=e.next,s=e.extra_params,c=(0,a.get)("initProps")||{},u=c.aid,l=c.subjectAid,f=(0,i.objectToString)(r({platform_app_id:t,next:n,aid:u,subject_aid:l,account_sdk_source:"web"},void 0===s?{}:s));window.location.href="".concat(o.WEB_AFF_URL.OAUTH_LOGIN_CALL,"?").concat(f)},this.oauthLogin=function(e){var n=e.platform_app_id,i=e.redirect_uri,a=e.code,s=e.need_frozen_user,c=e.login_only,u=e.extra_params;return t.request({url:void 0===c||c?o.WEB_AFF_URL.OAUTH_LOGIN_ONLY:o.WEB_AFF_URL.OAUTH_LOGIN,method:"POST",data:r({platform_app_id:n,redirect_uri:i,code:a,need_frozen_user:void 0===s?0:s},void 0===u?{}:u)})},this.subjectLoginList=function(e){void 0===e&&(e={});var n=e.extra_params;return t.request({url:o.WEB_AFF_URL.SUBJECT_LOGIN_LIST,method:"GET",data:void 0===n?{}:n})},this.subjectLogin=function(e){var n=e.login_subject_uid,a=e.user_identity_id,s=e.extra_params,c=(0,i.encryptParams)(r({login_subject_uid:n,user_identity_id:void 0===a?"0":a},void 0===s?{}:s),["login_subject_uid","user_identity_id"]);return t.request({url:o.WEB_AFF_URL.SUBJECT_LOGIN,method:"POST",data:c})},this.logout=function(e){var n=e.next,s=e.not_redirect,c=(0,a.get)("initProps")||{},u={account_sdk_source:"web",aid:c.aid,subject_aid:c.subjectAid,next:void 0===n?"":n};if(void 0!==s&&s)return t.request({url:o.WEB_AFF_URL.LOGOUT,method:"GET",data:r(r({},u),{next:encodeURIComponent(u.next)})});window.location.href="".concat(o.WEB_AFF_URL.LOGOUT,"?").concat((0,i.objectToString)(u))},this.memberSwitch=function(e){var n=e.to_sec_member_id,i=e.extra_params;return t.request({url:o.WEB_AFF_URL.MEMBER_SWITCH,method:"POST",data:r({to_sec_member_id:n},void 0===i?{}:i)})};var n=e.request;this.request=n}},9461:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(269001),a=n(471664);t.default=function(e){var t=this;this.sendEmailCode=function(e){var n=e.email,i=e.extra_params,s=(0,o.encryptParams)(r({email:n,type:1},void 0===i?{}:i),["email","type"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.SEND_EMAIL_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.verifyEmail=function(e){var n=e.email,i=e.code,s=e.extra_params,c=(0,o.encryptParams)(r({email:n,code:i,type:1},void 0===s?{}:s),["email","code","type"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.CHECK_EMAIL_CODE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.registerByEmail=function(e){var n=e.extra_params,s=e.only_user,c=i(e,["extra_params","only_user"]),u=(0,o.encryptParams)(r(r({},c),void 0===n?{}:n),["base_infos","subject_name","password","identity_card","real_name"]),l=void 0!==s&&s?a.WEB_AFF_URL.REGISTER_EMAIL_USER_ONLY:a.WEB_AFF_URL.REGISTER_EMAIL;return new Promise(function(e,n){t.request({url:l,method:"POST",data:u}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.sendMobileCode=function(e){var n=e.mobile,i=e.extra_params,s=(0,o.encryptParams)(r({mobile:n,type:1},void 0===i?{}:i),["mobile","type"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.SEND_MOBILE_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.verifyMobile=function(e){var n=e.mobile,i=e.code,s=e.extra_params,c=(0,o.encryptParams)(r({mobile:n,code:i,type:1},void 0===s?{}:s),["mobile","code","type"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.CHECK_MOBILE_CODE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.registerByMobile=function(e){var n=e.extra_params,s=e.only_user,c=i(e,["extra_params","only_user"]),u=(0,o.encryptParams)(r(r({},c),void 0===n?{}:n),["base_infos","subject_name","password","identity_card","real_name"]),l=void 0!==s&&s?a.WEB_AFF_URL.REGISTER_MOBILE_USER_ONLY:a.WEB_AFF_URL.REGISTER_MOBILE;return new Promise(function(e,n){t.request({url:l,method:"POST",data:u}).then(function(t){e(t)}).catch(function(e){n(e)})})};var n=e.request;this.request=n}},525171:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(471664);t.default=function(e){var t=this;this.getResourceList=function(e){var n=e.page,o=void 0===n?1:n,a=e.page_size,s=void 0===a?10:a,c=e.subject_uid,u=e.extra_params,l=void 0===u?{}:u;return new Promise(function(e,n){t.request({url:"".concat(i.WEB_AFF_URL.RESOURCE_LIST).concat(o,"/"),method:"GET",data:r({page_size:s,subject_uid:c},l)}).then(function(t){e(t)}).catch(function(e){n(e)})})};var n=e.request;this.request=n}},87346:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(471664);t.default=function(e){var t=this;this.createRole=function(e){var n=e.role_name,o=e.permissions,a=e.subject_uid,s=e.extra_params,c=void 0===s?{}:s;return new Promise(function(e,s){t.request({url:i.WEB_AFF_URL.CREATE_ROLE,method:"POST",data:r({role_name:n,permissions:o,subject_uid:a},c)}).then(function(t){e(t)}).catch(function(e){s(e)})})},this.updateRole=function(e){var n=e.role_key,o=e.role_name,a=e.permissions,s=e.description,c=e.subject_uid,u=e.extra_params,l=void 0===u?{}:u;return new Promise(function(e,u){t.request({url:i.WEB_AFF_URL.UPDATE_ROLE,method:"POST",data:r({role_key:n,role_name:o,permissions:a,description:s,subject_uid:c},l)}).then(function(t){e(t)}).catch(function(e){u(e)})})},this.banRole=function(e){var n=e.role_key,o=e.subject_uid,a=e.extra_params,s=void 0===a?{}:a;return new Promise(function(e,a){t.request({url:i.WEB_AFF_URL.BAN_ROLE,method:"POST",data:r({role_key:n,subject_uid:o},s)}).then(function(t){e(t)}).catch(function(e){a(e)})})},this.getRoleList=function(e){var n=e.subject_uid,o=e.extra_params,a=void 0===o?{}:o;return new Promise(function(e,o){t.request({url:i.WEB_AFF_URL.ROLE_LIST,method:"GET",data:r({subject_uid:n},a)}).then(function(t){e(t)}).catch(function(e){o(e)})})},this.getRoleInfo=function(e){var n=e.role_key,o=e.subject_uid,a=e.extra_params,s=void 0===a?{}:a;return new Promise(function(e,a){t.request({url:i.WEB_AFF_URL.ROLE_INFO,method:"GET",data:r({role_key:n,subject_uid:o},s)}).then(function(t){e(t)}).catch(function(e){a(e)})})};var n=e.request;this.request=n}},129329:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(269001),a=n(471664);t.default=function(e){var t=this;this.createByUsername=function(e){var n=e.extra_params,s=i(e,["extra_params"]),c=(0,o.encryptParams)(r(r({},s),void 0===n?{}:n),["subject_name","deputy_name","password","username","base_infos","detail_infos"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.CREATE_BY_USERNAME,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.createByMobile=function(e){var n=e.extra_params,s=i(e,["extra_params"]),c=(0,o.encryptParams)(r(r({},s),void 0===n?{}:n),["subject_name","deputy_name","password","mobile","base_infos","detail_infos"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.CREATE_BY_MOBILE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.createByEmail=function(e){var n=e.extra_params,s=i(e,["extra_params"]),c=(0,o.encryptParams)(r(r({},s),void 0===n?{}:n),["subject_name","deputy_name","password","email","base_infos","detail_infos"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.CREATE_BY_EMAIL,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.getSubjectList=function(e){var n=e.page,i=void 0===n?1:n,o=e.page_size,s=void 0===o?10:o,c=e.deputy_identity_id,u=e.extra_params,l=void 0===u?{}:u;return new Promise(function(e,n){t.request({url:"".concat(a.WEB_AFF_URL.SUBJECT_LIST).concat(i,"/"),method:"GET",data:r({page_size:s,deputy_identity_id:c},l)}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.getSubjectDeputyList=function(e){var n=e.page,i=void 0===n?1:n,o=e.page_size,s=void 0===o?10:o,c=e.extra_params,u=void 0===c?{}:c;return new Promise(function(e,n){t.request({url:"".concat(a.WEB_AFF_URL.SUBJECT_DEPUTY_LIST).concat(i,"/"),method:"GET",data:r({page_size:s},u)}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.getSubjectIdentityList=function(e){var n=e.page,i=void 0===n?1:n,o=e.page_size,s=void 0===o?10:o,c=e.extra_params,u=void 0===c?{}:c;return new Promise(function(e,n){t.request({url:"".concat(a.WEB_AFF_URL.SUBJECT_IDENTITY_LIST).concat(i,"/"),method:"GET",data:r({page_size:s},u)}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.updateDeputyInfo=function(e){var n=e.sec_user_id,i=e.deputy_identity_id,s=e.deputy_name,c=e.user_identity_id,u=e.extra_params,l=(0,o.encryptParams)(r({sec_user_id:n,deputy_identity_id:i,deputy_name:s,user_identity_id:c},void 0===u?{}:u),["deputy_name","user_identity_id"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.UPDATE_DEPUTY_INFO,method:"POST",data:l}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.freezeDeputy=function(e){var n=e.sec_user_id,i=e.user_identity_id,s=e.is_frozen,c=e.extra_params,u=(0,o.encryptParams)(r({sec_user_id:n,user_identity_id:i,is_frozen:void 0===s?0:s},void 0===c?{}:c),["sec_user_id","user_identity_id"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.FREEZE_DEPUTY,method:"POST",data:u}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.deleteDeputy=function(e){var n=e.sec_user_id,i=e.user_identity_id,s=e.extra_params,c=(0,o.encryptParams)(r({sec_user_id:n,user_identity_id:i},void 0===s?{}:s),["user_identity_id"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.DELETE_DEPUTY,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.updateSubjectInfo=function(e){var n=e.sec_subject_uid,i=e.subject_name,s=e.base_infos,c=e.detail_infos,u=e.extra_params,l=(0,o.encryptParams)(r({sec_subject_uid:n,subject_name:i,base_infos:s,detail_infos:c},void 0===u?{}:u),["sec_subject_uid","subject_name","base_infos","detail_infos"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.UPDATE_SUBJECT_INFO,method:"POST",data:l}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.freezeSubject=function(e){var n=e.sec_subject_uid,i=e.is_frozen,s=e.extra_params,c=(0,o.encryptParams)(r({sec_subject_uid:n,is_frozen:void 0===i?0:i},void 0===s?{}:s),["sec_subject_uid"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.FREEZE_SUBJECT,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})};var n=e.request;this.request=n}},752924:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(269001),a=n(471664);t.default=function(e){var t=this;this.sendCodeToOldManager=function(e){void 0===e&&(e={});var n=e.extra_params,i=(0,o.encryptParams)(r({type:22},void 0===n?{}:n),["type"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.SEND_MOBILE_CODE,method:"POST",data:i}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.sendEmailCodeToOldManager=function(e){void 0===e&&(e={});var n=e.extra_params,i=(0,o.encryptParams)(r({type:6},void 0===n?{}:n),["type"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.SEND_EMAIL_CODE,method:"POST",data:i}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.verifyOldManagerMobile=function(e){var n=e.code,i=e.extra_params,s=(0,o.encryptParams)(r({code:n,type:22},void 0===i?{}:i),["code","type"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.VERIFY_MOBILE_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.verifyOldManagerEmail=function(e){var n=e.code,i=e.extra_params,s=(0,o.encryptParams)(r({code:n,type:6},void 0===i?{}:i),["code","type"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.VERIFY_EMAIL_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.sendCodeToNewManager=function(e){var n=e.mobile,i=e.verify_ticket,s=e.extra_params,c=(0,o.encryptParams)(r({mobile:n,verify_ticket:i,type:101},void 0===s?{}:s),["mobile","type"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.SEND_MOBILE_CODE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.sendEmailCodeToNewManager=function(e){var n=e.email,i=e.verify_ticket,s=e.extra_params,c=(0,o.encryptParams)(r({email:n,verify_ticket:i,type:101},void 0===s?{}:s),["email","type"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.SEND_EMAIL_CODE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.verifyNewManagerMobile=function(e){var n=e.mobile,i=e.code,s=e.extra_params,c=(0,o.encryptParams)(r({mobile:n,code:i,type:101},void 0===s?{}:s),["mobile","code","type"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.CHECK_MOBILE_CODE,method:"GET",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.verifyNewManagerEmail=function(e){var n=e.email,i=e.code,s=e.extra_params,c=(0,o.encryptParams)(r({email:n,code:i,type:101},void 0===s?{}:s),["email","code","type"]);return new Promise(function(e,n){t.request({url:a.WEB_AFF_URL.CHECK_EMAIL_CODE,method:"GET",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.transferManager=function(e){var n=e.extra_params,o=i(e,["extra_params"]);return t.request({url:a.WEB_AFF_URL.TRANSFER_MANAGER,method:"POST",data:r(r({},o),void 0===n?{}:n)})};var n=e.request;this.request=n}},436398:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(471664);t.default=function(e){var t=this;this.createUserWithRole=function(e){var n=e.role_key,o=e.sec_user_id,a=e.name,s=e.identity_id,c=e.subject_uid,u=e.extra_params,l=void 0===u?{}:u;return new Promise(function(e,u){t.request({url:i.WEB_AFF_URL.CREATE_USER_WITH_ROLE,method:"POST",data:r({role_key:n,sec_user_id:o,name:a,identity_id:s,subject_uid:c},l)}).then(function(t){e(t)}).catch(function(e){u(e)})})},this.addUserRole=function(e){var n=e.role_key,o=e.sec_user_identity_ids,a=e.subject_uid,s=e.extra_params,c=void 0===s?{}:s;return new Promise(function(e,s){t.request({url:i.WEB_AFF_URL.ADD_USER_ROLE,method:"POST",data:r({role_key:n,sec_user_identity_ids:o,subject_uid:a},c)}).then(function(t){e(t)}).catch(function(e){s(e)})})},this.deleteUserRole=function(e){var n=e.role_key,o=e.sec_user_identity_ids,a=e.subject_uid,s=e.extra_params,c=void 0===s?{}:s;return new Promise(function(e,s){t.request({url:i.WEB_AFF_URL.DELETE_USER_ROLE,method:"POST",data:r({role_key:n,sec_user_identity_ids:o,subject_uid:a},c)}).then(function(t){e(t)}).catch(function(e){s(e)})})},this.getUserRoleList=function(e){var n=e.subject_uid,o=e.extra_params,a=void 0===o?{}:o;return new Promise(function(e,o){t.request({url:i.WEB_AFF_URL.USER_ROLE_LIST,method:"GET",data:r({subject_uid:n},a)}).then(function(t){e(t)}).catch(function(e){o(e)})})},this.getAllUserRoleList=function(e){var n=e.subject_uid,o=e.identity_id,a=e.page,s=void 0===a?1:a,c=e.page_size,u=void 0===c?10:c,l=e.extra_params,f=void 0===l?{}:l;return new Promise(function(e,a){t.request({url:"".concat(i.WEB_AFF_URL.ALL_USER_ROLE_LIST).concat(s,"/"),method:"GET",data:r({subject_uid:n,identity_id:o,page_size:u},f)}).then(function(t){e(t)}).catch(function(e){a(e)})})},this.getUserPermissions=function(e){var n=e.subject_uid,o=e.extra_params,a=void 0===o?{}:o;return new Promise(function(e,o){t.request({url:i.WEB_AFF_URL.USER_PERMISSIONS,method:"GET",data:r({subject_uid:n},a)}).then(function(t){e(t)}).catch(function(e){o(e)})})};var n=e.request;this.request=n}},614343:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(269001),o=n(471664);t.default=function(e){var t=this;this.sendCode=function(e){var n=e.mobile,a=e.unbind_exist,s=e.extra_params,c=(0,i.encryptParams)(r({mobile:n,type:17,unbind_exist:void 0===a?0:a},void 0===s?{}:s),["mobile","type","unbind_exist"]);return t.request({url:o.WEB_URL.SEND_MOBILE_CODE,method:"POST",data:c})},this.bindMobile=function(e){void 0===e&&(e={});var n=e.mobile,a=e.code,s=e.password,c=e.verify_ticket,u=e.unbind_exist,l=e.extra_params,f=(0,i.encryptParams)(r({mobile:n,code:a,password:s,verify_ticket:c,unbind_exist:void 0===u?0:u,type:17},void 0===l?{}:l),["mobile","code","password","unbind_exist","type"]);return t.request({url:o.WEB_URL.MOBILE_BIND,method:"POST",data:f})},this.sendEmailCode=function(e){var n=e.email,a=e.extra_params,s=(0,i.encryptParams)(r({email:n,type:8},void 0===a?{}:a),["email","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SEND_EMAIL_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.bindEmail=function(e){var n=e.email,a=e.code,s=e.extra_params,c=(0,i.encryptParams)(r({email:n,code:a},void 0===s?{}:s),["email","code"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.EMAIL_BIND,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.bindAuth=function(e){var n=e.platform_app_id,i=e.code,a=e.access_token,s=e.access_token_secret,c=e.openid,u=e.profile_key,l=e.extra_params,f=void 0===l?{}:l;return new Promise(function(e,l){t.request({url:o.WEB_URL.AUTH_BIND,method:"POST",data:r({platform_app_id:n,code:i,access_token:a,access_token_secret:s,openid:c,profile_key:u},f)}).then(function(t){e(t)}).catch(function(e){l(e)})})},this.unbindAuth=function(e){var n=e.platform,i=e.extra_params,a=void 0===i?{}:i;return new Promise(function(e,i){t.request({url:o.WEB_URL.AUTH_UNBIND,method:"POST",data:r({platform:n},a)}).then(function(t){e(t)}).catch(function(e){i(e)})})},this.switchBindAuth=function(e){var n=e.platform_app_id,i=e.profile_key,a=e.extra_params,s=void 0===a?{}:a;return new Promise(function(e,a){t.request({url:o.WEB_URL.AUTH_SWITCH_BIND,method:"POST",data:r({platform_app_id:n,profile_key:i},s)}).then(function(t){e(t)}).catch(function(e){a(e)})})},this.changeQrcodeSuccess=function(e){var n=e.token,i=e.extra_params;return t.request({url:o.WEB_URL.CHANGE_QRCODE_SUCCESS,method:"POST",data:r({token:n},void 0===i?{}:i)})},this.changeQrcodeComfirm=function(e){var n=e.token,i=e.verify_ticket,a=e.extra_params;return t.request({url:o.WEB_URL.CHANGE_QRCODE_CONFIRM,method:"POST",data:r({token:n,verify_ticket:i},void 0===a?{}:a)})};var n=e.request;this.request=n}},61705:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(471664);t.default=function(e){var t=this;this.verifyWay=function(e){var n=e.cancel_ticket,o=e.extra_params;return t.request({url:i.WEB_URL.CANCEL_VERIFY_WAY,method:"GET",data:r({cancel_ticket:n},void 0===o?{}:o)})},this.checkIfPass=function(e){var n=e.value_ticket,o=e.extra_params;return t.request({url:i.WEB_URL.CANCEL_CHECK,method:"GET",data:r({value_ticket:n},o)})},this.confirm=function(e){var n=e.value_ticket,o=e.token,a=e.cancel_ticket,s=e.abandon,c=e.extra_params;return t.request({url:i.WEB_URL.CANCEL_CONFIRM,method:"POST",data:r({value_ticket:n,token:o,cancel_ticket:a,abandon:s},void 0===c?{}:c)})};var n=e.request;this.request=n}},563555:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(269001),o=n(471664);t.default=function(e){var t=this;this.checkMobileRegistered=function(e){var n=e.mobile,a=e.extra_params,s=(0,i.encryptParams)(r({mobile:n},void 0===a?{}:a),["mobile"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.CHECK_MOBILE_REGISTER,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.checkEmailRegistered=function(e){var n=e.email,a=e.extra_params,s=(0,i.encryptParams)(r({email:n},void 0===a?{}:a),["email"]);return t.request({url:o.WEB_URL.CHECK_EMAIL_REGISTER,method:"POST",data:s})};var n=e.request;this.request=n}},657600:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(269001),o=n(471664);t.default=function(e){var t=this;this.sendCode=function(e){var n=e.mobile,a=e.extra_params,s=(0,i.encryptParams)(r({mobile:n,type:6},void 0===a?{}:a),["mobile","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SEND_MOBILE_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.validateCode=function(e){var n=e.mobile,a=e.code,s=e.extra_params,c=(0,i.encryptParams)(r({mobile:n,code:a,type:6},void 0===s?{}:s),["mobile","code","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.CHECK_MOBILE_CODE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.resetPwdByMobile=function(e){var n=e.password,a=e.mobile,s=e.code,c=e.extra_params,u=(0,i.encryptParams)(r({password:n,mobile:a,code:s},void 0===c?{}:c),["password","mobile","code"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.RESET_PWD_BY_MOBILE,method:"POST",data:u}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.sendEmailCode=function(e){var n=e.email,a=e.extra_params,s=(0,i.encryptParams)(r({email:n,type:4},void 0===a?{}:a),["email","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SEND_EMAIL_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.validateEmail=function(e){var n=e.email,a=e.code,s=e.extra_params,c=(0,i.encryptParams)(r({email:n,code:a,type:4},void 0===s?{}:s),["email","code","type"]);return t.request({url:o.WEB_URL.CHECK_EMAIL_CODE,method:"POST",data:c})},this.resetPwdByEmail=function(e){var n=e.password,a=e.email,s=e.code,c=e.extra_params,u=(0,i.encryptParams)(r({password:n,email:a,code:s},void 0===c?{}:c),["password","email","code"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.RESET_PWD_BY_EMAIL,method:"POST",data:u}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.resetPwdByMobileTicket=function(e){var n=e.password,a=e.ticket,s=e.extra_params,c=(0,i.encryptParams)(r({password:n,ticket:a},void 0===s?{}:s),["password"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.RESET_PWD_BY_MOBILE_TICKET,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.resetPwdByEmailTicket=function(e){var n=e.password,a=e.ticket,s=e.extra_params,c=(0,i.encryptParams)(r({password:n,ticket:a},void 0===s?{}:s),["password"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.RESET_PWD_BY_EMAIL_TICKET,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})};var n=e.request;this.request=n}},232146:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(631785),c=a(n(269448)),u=n(141853),l=a(n(532413)),f=a(n(285078)),d=a(n(614343)),p=a(n(563555)),h=a(n(56101)),v=a(n(657600)),g=a(n(807561)),_=a(n(641895)),m=a(n(281373)),y=a(n(61705)),b=a(n(495073)),E=a(n(232097)),w=a(n(683627)),S=function(e){function t(t){var n=e.call(this,t,"web")||this,r=t.printLog,i=t.acrawler,a=void 0===i?"":i;void 0!==r&&r&&console.log("%cWebInterface Initial Props >>>>%O","background: #222; color: #bada55",t),a&&(0,s.initAcrawler)(a,t);var c=o(o({},t),{request:n.request});return n.login=new l.default(c),n.qrcodeLogin=new f.default(c),n.register=new h.default(c),n.forgetPwd=new v.default(c),n.bind=new d.default(c),n.rebind=new g.default(c),n.password=new _.default(c),n.extra=new p.default(c),n.verify=new m.default(c),n.cancel=new y.default(c),n.open=new b.default(c),n.account=new E.default(c),n.user=new w.default(c),n.affLogin=new u.LoginAPI(c),n.affRegister=new u.RegisterAPI(c),n.affInvite=new u.InviteAPI(c),n.affSubject=new u.SubjectAPI(c),n.affForgetPwd=new u.ForgetPwdAPI(c),n.affResource=new u.ResourceAPI(c),n.affRole=new u.RoleAPI(c),n.affUser=new u.UserAPI(c),n.affSuper=new u.SuperAPI(c),n}return i(t,e),t}(c.default);t.default=S},532413:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(269001),a=n(471664),s=n(650093);t.default=function(e){var t=this;this.sendCode=function(e){var n=e.mobile,i=e.registerOnly,s=e.extra_params,c=(0,o.encryptParams)(r({mobile:n,type:void 0!==i&&i?16:24},void 0===s?{}:s),["mobile","type"]);return new Promise(function(e,n){t.request({url:a.WEB_URL.SEND_MOBILE_CODE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.smsLogin=function(e){var n=e.mobile,i=e.code,s=e.login_only,c=e.extra_params,u=(0,o.encryptParams)(r({mobile:n,code:i},void 0===c?{}:c),["mobile","code"]),l=void 0!==s&&s?a.WEB_URL.SMS_LOGIN_ONLY:a.WEB_URL.SMS_LOGIN;return new Promise(function(e,n){t.request({url:l,method:"POST",data:u}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.smsLoginContinue=function(e){var n=e.mobile,i=e.sms_code_key,s=e.extra_params,c=(0,o.encryptParams)(r({mobile:n,sms_code_key:i},void 0===s?{}:s),["mobile","sms_code_key"]);return new Promise(function(e,n){t.request({url:a.WEB_URL.SMS_LOGIN_CONTINUE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.webLogin=function(e){var n=e.platform_app_id,i=e.next,o=e.extra_params,s=void 0===o?{}:o;return new Promise(function(e,o){t.request({url:a.WEB_URL.SMS_LOGIN_CONTINUE,method:"POST",data:r({platform_app_id:n,next:i},s)}).then(function(t){e(t)}).catch(function(e){o(e)})})},this.emailLogin=function(e){var n=e.email,i=e.password,s=e.extra_params,c=(0,o.encryptParams)(r({email:n,password:i},void 0===s?{}:s),["email","password"]);return new Promise(function(e,n){t.request({url:a.WEB_URL.EMAIL_LOGIN,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.emailCodeLogin=function(e){var n=e.email,i=e.code,s=e.extra_params,c=(0,o.encryptParams)(r({email:n,code:i,ect_type:13},void 0===s?{}:s),["email","code"]);return t.request({url:a.WEB_URL.EMAIL_CODE_LOGIN,method:"POST",data:c})},this.pwdLogin=function(e){var n=e.username,i=e.mobile,s=e.email,c=e.account,u=e.password,l=e.extra_params,f=(0,o.encryptParams)(r({username:n,mobile:i,email:s,account:c,password:u},void 0===l?{}:l),["username","mobile","email","account","password"]);return t.request({url:a.WEB_URL.PWD_LOGIN,method:"POST",data:f})},this.authLogin=function(e){var n=e.platform_app_id,i=e.code,o=e.access_token,s=e.access_token_secret,c=e.openid,u=e.profile_key,l=e.login_only,f=void 0!==l&&l,d=e.extra_params,p=void 0===d?{}:d;return new Promise(function(e,l){t.request({url:f?a.WEB_URL.AUTH_LOGIN_ONLY:a.WEB_URL.AUTH_LOGIN,method:"POST",data:r({platform_app_id:n,code:i,access_token:o,access_token_secret:s,openid:c,profile_key:u},p)}).then(function(t){e(t)}).catch(function(e){l(e)})})},this.webShareLogin=function(e){var n=e.extra_params,o=i(e,["extra_params"]);return t.request({url:a.WEB_URL.WEB_SHARE_LOGIN,method:"POST",data:r(r({},void 0===n?{}:n),o)})},this.getOauthMobile=function(e){var n=e.access_token,i=e.access_token_secret,o=e.code,s=e.expires_in,c=e.openid,u=e.platform_app_id,l=e.platform,f=e.need_plaintext,d=void 0!==f&&f,p=e.profile_key,h=e.extra_params,v=void 0===h?{}:h;return new Promise(function(e,f){t.request({url:a.WEB_URL.MOBILE_OAUTH,method:"POST",data:r({access_token:n,access_token_secret:i,code:o,expires_in:s,openid:c,platform_app_id:u,platform:l,need_plaintext:d,profile_key:p},v)}).then(function(t){e(t)}).catch(function(e){f(e)})})},this.authBindLogin=function(e){var n=e.platform_app_id,i=e.code,s=e.mobile,c=e.sms_code,u=e.sms_code_key,l=e.profile_key,f=e.extra_params,d=(0,o.encryptParams)(r({platform_app_id:n,code:i,mobile:s,sms_code:c,sms_code_key:u,profile_key:l},void 0===f?{}:f),["mobile","sms_code"]);return new Promise(function(e,n){t.request({url:a.WEB_URL.AUTH_BIND_ONLY,method:"POST",data:d}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.mobileBindLogin=function(e){var n=e.code,i=e.mobile,s=e.profile_key,c=e.extra_params,u=(0,o.encryptParams)(r({code:n,mobile:i,profile_key:s},void 0===c?{}:c),["mobile","code"]);return new Promise(function(e,n){t.request({url:a.WEB_URL.MOBILE_BIND_ONLY,method:"POST",data:u}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.logout=function(e){var n,r=e.next,i=e.need_redirect,o=void 0===i?1:i;if(o){var c=(null===(n=(0,s.get)("initProps"))||void 0===n?void 0:n.aid)||"",u=encodeURIComponent(void 0===r?"/":r);window.location.href="".concat(a.WEB_URL.LOGOUT,"?account_sdk_source=web&aid=").concat(c,"&next=").concat(u);return}return t.request({url:a.WEB_URL.LOGOUT,data:{need_redirect:o}})},this.sendEmailCode=function(e){var n=e.email,i=e.next,s=e.password,c=e.extra_params,u=(0,o.encryptParams)(r({email:n,next:i,password:s,type:1},void 0===c?{}:c),["email","password","type"]);return t.request({url:a.WEB_URL.SEND_EMAIL_CODE,method:"POST",data:u})},this.sendEmailLoginCode=function(e){var n=e.email,i=e.next,s=e.extra_params,c=(0,o.encryptParams)(r({email:n,next:i,type:13},void 0===s?{}:s),["email","type"]);return t.request({url:a.WEB_URL.SEND_EMAIL_CODE,method:"POST",data:c})},this.emailRegister=function(e){var n=e.email,i=e.code,s=e.password,c=e.ifLogin,u=e.extra_params,l=(0,o.encryptParams)(r({email:n,code:i,password:s,type:1},void 0===u?{}:u),["email","password","type","code"]);return t.request({url:void 0!==c&&c?a.WEB_URL.EMAIL_REGISTER_LOGIN:a.WEB_URL.EMAIL_REGISTER,method:"POST",data:l})},this.mobileRegister=function(e){var n=e.mobile,i=e.code,s=e.password,c=e.extra_params,u=(0,o.encryptParams)(r({mobile:n,code:i,password:s,type:16},void 0===c?{}:c),["mobile","code","password","type"]);return new Promise(function(e,n){t.request({url:a.WEB_URL.MOBILE_REGISTER,method:"POST",data:u}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.mobileEmailRegister=function(e){var n=e.mobile,i=e.sms_code,s=e.email,c=e.email_code,u=e.password,l=e.verify_ticket,f=e.extra_params,d=(0,o.encryptParams)(r({mobile:n,sms_code:i,email:s,email_code:c,password:u,verify_ticket:l,sms_type:16,ect_type:1},void 0===f?{}:f),["mobile","sms_code","sms_type","email","email_code","ect_type","password"]);return new Promise(function(e,n){t.request({url:a.WEB_URL.MOBILE_EMAIL_REGISTER,method:"POST",data:d}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.checkLogin=function(e){void 0===e&&(e={});var n=e.extra_params;return t.request({url:a.WEB_URL.CHECK_LOGIN,method:"GET",data:void 0===n?{}:n})},this.bindWithMobileLogin=function(e){var n=e.extra_params,o=i(e,["extra_params"]);return t.request({url:a.WEB_URL.BIND_WITH_MOBILE_LOGIN,method:"POST",data:r(r({},void 0===n?{}:n),o)})},this.bindWithEmailLogin=function(e){var n=e.extra_params,o=i(e,["extra_params"]);return t.request({url:a.WEB_URL.BIND_WITH_EMAIL_LOGIN,method:"POST",data:r(r({},void 0===n?{}:n),o)})},this.thirdAuth=function(e){var t,n=e.platform_app_id,r=e.next,i=e.use_local_host,o=e.action,c=(null===(t=(0,s.get)("initProps"))||void 0===t?void 0:t.aid)||"",u=encodeURIComponent(void 0===r?"/":r);window.location.href="".concat(a.WEB_URL.THIRD_AUTH,"?account_sdk_source=web&aid=").concat(c,"&next=").concat(u,"&platform_app_id=").concat(n,"&use_local_host=").concat(void 0===i?0:i,"&action=").concat(o)},this.emailRegisterNoVerifyV2=function(e){var n=e.email,i=e.password,s=e.next_url,c=e.recaptcha_token,u=e.extra_params,l=(0,o.encryptParams)(r({email:n,password:i,next_url:s,recaptcha_token:c},void 0===u?{}:u),["email","password","recaptcha_token"]);return t.request({url:a.WEB_URL.EMAIL_REGISTER_NO_VERIFY_V2,method:"POST",data:l})},this.wapLogin=function(e){var n=e.origin,r=e.type,i=e.use_local_host,o=e.scopes,s=e.next,c=e.url_params,u=e.platform_app_id,l=e.platform,f=e.replace,d=encodeURIComponent(s),p=encodeURIComponent("".concat(t.host,"/auth/login_success/?service=").concat(d)),h={aid:t.aid,type:void 0===r?"web":r,use_local_host:i,scopes:void 0===o?"user_info":o,next:p,url_params:void 0===c?"":c,platform_app_id:u,platform:void 0===l?"":l},v="",g=Object.keys(h).length;Object.keys(h).forEach(function(e,t){g===t+1?v+="".concat(e,"=").concat(h[e]):v+="".concat(e,"=").concat(h[e],"&")});var _="".concat(void 0===n?"":n).concat(a.WEB_URL.AUTH_LOGIN_URL,"?").concat(v);void 0!==f&&f?window.location.href=_:window.open(_,"_blank")},this.bindVerifyInfo=function(e){var n=e.auth_ticket,i=e.verify_ticket,o=e.token,s=e.scene,c=e.user_type,u=e.extra_params;return t.request({url:a.COMMON_URL.BIND_VERIFY_INFO,method:"GET",data:r({auth_ticket:n,verify_ticket:i,token:o,scene:s,user_type:c},void 0===u?{}:u)})};var n=e.request,c=e.host,u=e.aid;this.request=n,this.host=c,this.aid=u}},495073:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(269001),a=n(471664),s=function(){function e(e){var t=e.request;this.request=t}return e.prototype.getAuthInfo=function(e){var t=e.client_key,n=e.scope,i=e.extra_params;return this.request({url:a.WEB_URL.GET_OPEN_AUTH_INFO,method:"GET",data:r({client_key:t,scope:n},void 0===i?{}:i)})},e.prototype.sendCode=function(e){var t=e.mobile,n=e.extra_params,i=(0,o.encryptParams)(r({mobile:t,type:27},void 0===n?{}:n),["mobile","type"]);return this.request({url:a.WEB_URL.OPEN_SEND_CODE,method:"GET",data:i})},e.prototype.smsAuth=function(e){var t=e.client_key,n=e.scope,i=e.source,s=e.redirect_uri,c=e.state,u=e.mobile,l=e.code,f=e.extra_params,d=(0,o.encryptParams)(r({client_key:t,scope:n,source:i,redirect_uri:s,state:c,mobile:u,code:l},void 0===f?{}:f),["mobile","code"]);return this.request({url:a.WEB_URL.OPEN_SMS_AUTH,method:"POST",data:d})},e.prototype.accountAuth=function(e){var t=e.client_key,n=e.scope,i=e.source,s=e.redirect_uri,c=e.state,u=e.password,l=e.account,f=e.extra_params,d=(0,o.encryptParams)(r({client_key:t,scope:n,source:i,redirect_uri:s,state:c,password:u,account:l},void 0===f?{}:f),["password","account"]);return this.request({url:a.WEB_URL.OPEN_ACCOUNT_AUTH,method:"POST",data:d})},e.prototype.thirdAuth=function(e){var t=e.extra_params,n=i(e,["extra_params"]);return this.request({url:a.WEB_URL.OPEN_THIRD_AUTH,method:"POST",data:r(r({},n),void 0===t?{}:t)})},e.prototype.getQRCode=function(e){var t=e.client_key,n=e.scope,i=e.state,o=e.next,s=e.extra_params;return this.request({url:a.WEB_URL.OPEN_GET_QRCODE,method:"POST",data:r({client_key:t,scope:n,state:i,next:o},void 0===s?{}:s)})},e.prototype.checkQRCode=function(e){var t=e.token,n=e.next,i=e.scope,o=e.client_key,s=e.extra_params;return this.request({url:a.WEB_URL.OPEN_CHECK_QRCODE,method:"POST",data:r({token:t,next:n,scope:i,client_key:o},void 0===s?{}:s)})},e.prototype.toScanQRCode=function(e){var t=e.extra_params;return this.request({url:a.WEB_URL.OPEN_TO_SCAN_QRCODE,method:"POST",data:r({},void 0===t?{}:t)})},e.prototype.scanQRCode=function(e){var t=e.token,n=e.extra_params;return this.request({url:a.WEB_URL.OPEN_SCAN_QRCODE,method:"POST",data:r({token:t},void 0===n?{}:n)})},e.prototype.confirmQRCode=function(e){var t=e.token,n=e.scopes,i=e.extra_params;return this.request({url:a.WEB_URL.OPEN_CONFIRM_QRCODE,method:"POST",data:r({token:t,scopes:n},void 0===i?{}:i)})},e.prototype.webAuth=function(e){var t=e.extra_params,n=i(e,["extra_params"]);return this.request({url:a.WEB_URL.OPEN_WEB_AUTH,method:"POST",data:r(r({},n),void 0===t?{}:t)})},e}();t.default=s},641895:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(269001),o=n(471664);t.default=function(e){var t=this;this.sendCode=function(e){void 0===e&&(e={});var n=e.verify_mobile_seperate,a=e.extra_params,s=(0,i.encryptParams)(r({type:void 0!==n&&n?22:13},void 0===a?{}:a),["type"]);return t.request({url:o.WEB_URL.SEND_MOBILE_CODE,method:"POST",data:s})},this.validateMobile=function(e){var n=e.code,a=e.extra_params,s=(0,i.encryptParams)(r({code:n,type:22},void 0===a?{}:a),["code","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.VERIFY_MOBILE_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.changePwdByMobile=function(e){var n=e.password,a=e.code,s=e.ticket,c=e.extra_params,u=(0,i.encryptParams)(r({password:n,code:a,ticket:s},void 0===c?{}:c),["password","code"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.PWD_CHANGE_BY_MOBILE,method:"POST",data:u}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.updatePwd=function(e){var n=e.password,a=e.current_password,s=e.extra_params,c=(0,i.encryptParams)(r({password:n,current_password:a},void 0===s?{}:s),["password","current_password"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.PWD_UPDATE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.sendEmailCode=function(e){void 0===e&&(e={});var n=e.extra_params,a=(0,i.encryptParams)(r({type:11},void 0===n?{}:n),["type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SEND_EMAIL_CODE,method:"POST",data:a}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.validateEmail=function(e){var n=e.code,a=e.extra_params,s=(0,i.encryptParams)(r({code:n,type:11},void 0===a?{}:a),["code","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.VERIFY_EMAIL_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.changePwdByEmail=function(e){var n=e.password,a=e.code,s=e.ticket,c=e.extra_params,u=(0,i.encryptParams)(r({password:n,code:a,ticket:s},void 0===c?{}:c),["password","code"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.PWD_CHANGE_BY_EMAIL,method:"POST",data:u}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.setPassword=function(e){var n=e.password,a=e.extra_params,s=(0,i.encryptParams)(r({password:n},void 0===a?{}:a),["password"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.PWD_SET,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.checkHasSetPwd=function(e){void 0===e&&(e={});var n=e.extra_params,r=void 0===n?{}:n;return new Promise(function(e,n){t.request({url:o.WEB_URL.PWD_HAS_SET,method:"POST",data:r}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.checkWebHasSetPwd=function(e){void 0===e&&(e={});var n=e.extra_params;return t.request({url:o.WEB_URL.PWD_HAS_SET_V2,method:"GET",data:void 0===n?{}:n})},this.changePwdByEmailAndLogin=function(e){var n=e.password,a=e.code,s=e.email,c=e.extra_params,u=(0,i.encryptParams)(r({password:n,code:a,email:s},void 0===c?{}:c),["password","code"]);return t.request({url:o.WEB_URL.PWD_SET_BY_EAMIL_AND_LOGIN,method:"POST",data:u})};var n=e.request;this.request=n}},285078:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(471664),i=function(){function e(e){var t=e.request;this.request=t}return e.prototype.getQrcode=function(e){var t=e.next;return this.request({url:"".concat(r.WEB_URL.GET_QRCODE,"?next=").concat(encodeURIComponent(t)),method:"GET"})},e.prototype.checkQrconnect=function(e){var t=e.next,n=e.token;return this.request({url:"".concat(r.WEB_URL.CHECK_QRCONNECT,"?next=").concat(encodeURIComponent(t)),method:"GET",data:{token:n}})},e}();t.default=i},807561:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(269001),o=n(471664);t.default=function(e){var t=this;this.sendCodeToOldMobile=function(e){var n=e.mobile,a=e.use_bind_mobile,s=e.extra_params,c=(0,i.encryptParams)(r({mobile:n,type:void 0===a||a?22:28},void 0===s?{}:s),["mobile","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SEND_MOBILE_CODE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.validateOldMobile=function(e){var n=e.code,a=e.use_bind_mobile,s=e.extra_params,c=(0,i.encryptParams)(r({code:n,type:void 0===a||a?22:28},void 0===s?{}:s),["code","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.VERIFY_MOBILE_CODE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.sendCodeToNewMobile=function(e){var n=e.mobile,a=e.old_mobile,s=e.ticket,c=e.extra_params,u=(0,i.encryptParams)(r({mobile:n,old_mobile:a,type:20,ticket:s},void 0===c?{}:c),["mobile","old_mobile","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SEND_MOBILE_CODE,method:"POST",data:u}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.rebindMobile=function(e){var n=e.mobile,a=e.code,s=e.ticket,c=e.kick_other,u=e.extra_params,l=(0,i.encryptParams)(r({mobile:n,code:a,ticket:s,kick_other:void 0===c?0:c},void 0===u?{}:u),["mobile","code"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.MOBILE_REBIND,method:"POST",data:l}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.sendCodeToOldEmail=function(e){void 0===e&&(e={});var n=e.email,a=e.extra_params,s=(0,i.encryptParams)(r({email:n,type:6},void 0===a?{}:a),["email","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SEND_EMAIL_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.validateOldEmail=function(e){var n=e.email,a=e.code,s=e.extra_params,c=(0,i.encryptParams)(r({email:n,code:a,type:6},void 0===s?{}:s),["email","code","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.VERIFY_EMAIL_CODE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.sendCodeToNewEmail=function(e){var n=e.email,a=e.ticket,s=e.extra_params,c=(0,i.encryptParams)(r({email:n,ticket:a,type:7},void 0===s?{}:s),["email","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SEND_EMAIL_CODE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.rebindEmail=function(e){var n=e.email,a=e.code,s=e.ticket,c=e.extra_params,u=(0,i.encryptParams)(r({email:n,code:a,type:7,ticket:s},void 0===c?{}:c),["email","code","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.EMAIL_REBIND,method:"POST",data:u}).then(function(t){e(t)}).catch(function(e){n(e)})})};var n=e.request;this.request=n}},56101:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.request;this.request=t}},683627:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(471664);t.default=function(e){var t=this;this.getOauthProfile=function(e){var n,i=e.access_token,a=e.access_token_secret,s=e.code,c=e.expires_in,u=e.openid,l=e.platform_app_id,f=e.platform,d=e.extra_params;return t.request({url:o.WEB_URL.OAUTH_PROFILE,method:"GET",data:r({aid:null===(n=t.props)||void 0===n?void 0:n.aid,access_token:i,access_token_secret:a,code:s,expires_in:c,openid:u,platform_app_id:l,platform:f},void 0===d?{}:d)})},this.uploadAvatar=function(e){var n=e.avatar,i=e.extra_params,a=new FormData,s=new Blob([n],{type:n.type});a.append("avatar",s);var c=o.WEB_URL.UPLOAD_AVATAR;return t.request({url:c,method:"POST",data:a,params:r({},i),headers:{"Content-Type":"multipart/form-data"}})},this.updateUserInfo=function(e){var n=e.extra_params,a=i(e,["extra_params"]),s=r(r({},a),void 0===n?{}:n);return t.request({url:o.WEB_URL.UPDATE_USERINFO,method:"POST",data:s})},this.checkDefaultInfo=function(e){var n=e.scene,i=e.extra_params;return t.request({url:o.WEB_URL.CHECK_DEFAULT_INFO,method:"GET",params:r({scene:n},void 0===i?{}:i)})},this.getDefaultImageList=function(e){var n=t.props.aid,i=e.extra_params,a=o.WEB_URL.GET_BACKGROUND_LIST.replace("{aid}",String(n));return t.request({url:a,method:"GET",params:r({},void 0===i?{}:i)})},this.getDefaultAvatarList=function(e){var n=t.props.aid,i=e.extra_params,a=o.WEB_URL.GET_DEFAULT_AVATAR_LIST.replace("{aid}",String(n));return t.request({url:a,method:"GET",params:r({},void 0===i?{}:i)})},this.getRecommendName=function(e){var n=e.extra_params;return t.request({url:o.WEB_URL.GET_RECOMMEND_NAME,method:"GET",params:r({},void 0===n?{}:n)})},this.checkRemainTimes=function(e){var n=e.field,i=e.field_namespace,a=e.extra_params;return t.request({url:o.WEB_URL.CHECK_REMAIN_TIMES,method:"GET",params:r({field:n,field_namespace:void 0===i?"":i},void 0===a?{}:a)})},this.uploadPicture=function(e){var n=e.pic,i=e.is_sensitive,a=e.extra_params,s=new FormData,c=new Blob([n],{type:n.type});return s.append("pic",c),t.request({url:o.WEB_URL.UPLOAD_PICTURE,method:"POST",data:s,params:r({is_sensitive:i},void 0===a?{}:a)})},this.downloadImage=function(e){var n=e.key,i=e.extra_params;return t.request({url:o.WEB_URL.DOWNLOAD_IMAGE,method:"GET",params:r({key:n},void 0===i?{}:i)})};var n=e.request;e.aid,this.request=n,this.props=e}},281373:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(269001),o=n(471664);t.default=function(e){var t=this;this.notLoginSendCode=function(e){var n=e.mobile,a=e.extra_params,s=(0,i.encryptParams)(r({mobile:n,type:34},void 0===a?{}:a),["mobile","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SEND_MOBILE_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.notLoginValidateMobile=function(e){var n=e.mobile,a=e.code,s=e.extra_params,c=(0,i.encryptParams)(r({mobile:n,code:a,type:34},void 0===s?{}:s),["mobile","code","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.CHECK_MOBILE_CODE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.notLoginSendEmailCode=function(e){var n=e.email,a=e.extra_params,s=(0,i.encryptParams)(r({email:n,type:15},void 0===a?{}:a),["email","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SEND_EMAIL_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.notLoginValidateEmail=function(e){var n=e.email,a=e.code,s=e.extra_params,c=(0,i.encryptParams)(r({email:n,code:a,type:15},void 0===s?{}:s),["email","code","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.CHECK_EMAIL_CODE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.sendCode=function(e){void 0===e&&(e={});var n=e.extra_params,a=(0,i.encryptParams)(r({type:22},void 0===n?{}:n),["type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SEND_MOBILE_CODE,method:"POST",data:a}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.validateMobile=function(e){var n=e.code,a=e.extra_params,s=(0,i.encryptParams)(r({code:n,type:22},void 0===a?{}:a),["code","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.VERIFY_MOBILE_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.sendEmailCode=function(e){void 0===e&&(e={});var n=e.extra_params,a=(0,i.encryptParams)(r({type:6},void 0===n?{}:n),["type"]);return t.request({url:o.WEB_URL.SEND_EMAIL_CODE,method:"POST",data:a})},this.validateEmail=function(e){var n=e.code,a=e.extra_params,s=(0,i.encryptParams)(r({code:n,type:6},void 0===a?{}:a),["code","type"]);return t.request({url:o.WEB_URL.VERIFY_EMAIL_CODE,method:"POST",data:s})},this.accountVerify=function(e){var n=e.account,a=e.password,s=e.extra_params,c=(0,i.encryptParams)(r({account:n,password:a,user_login_version:1},void 0===s?{}:s),["account","password"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.ACCOUNT_VERIFY,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.authVerify=function(e){var n=e.platform_app_id,i=e.code,a=e.access_token,s=e.access_token_secret,c=e.openid,u=e.profile_key,l=e.extra_params,f=void 0===l?{}:l;return new Promise(function(e,l){t.request({url:o.WEB_URL.AUTH_VERIFY,method:"POST",data:r({platform_app_id:n,code:i,access_token:a,access_token_secret:s,openid:c,profile_key:u},f)}).then(function(t){e(t)}).catch(function(e){l(e)})})},this.smsAuthorizeSendCode=function(e){var n=e.mobile,a=e.extra_params,s=(0,i.encryptParams)(r({mobile:n,type:26},void 0===a?{}:a),["mobile","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SEND_MOBILE_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.smsAuthorize=function(e){var n=e.mobile,a=e.code,s=e.extra_params,c=(0,i.encryptParams)(r({mobile:n,code:a,type:26},void 0===s?{}:s),["mobile","code","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SMS_AUTHORIZE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})};var n=e.request;this.request=n}},735162:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(921133)),a=n(269001),s=n(650093);t.default=function(){return function(e){var t=e.baseURL,n=e.url,i=e.method,c=void 0===i?"GET":i,u=e.params,l=void 0===u?{}:u,f=e.data,d=void 0===f?{}:f,p=(0,s.get)("initProps"),h=p.fetch,v=(null==p?void 0:p.printLog)||!1,g=o.default.isValid(n)?n:t+n;return v&&(0,a.printGroupLog)("".concat(c," ").concat(g," >>>>"),{"data >>>>":d,"params >>>>":l},!1),h({url:g,method:c.toUpperCase(),params:r(r({},l),{is_native_h5:1}),data:d,needCommonParams:!0,header:{"x-tt-passport-csrf-token":(0,a.getCookie)("passport_csrf_token")||(0,a.getCookie)("passport_csrf_token_default")||""}}).then(function(t){return{data:t,status:200,statusText:"ok",config:e}})}}},857977:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(260351)),o=n(873815),a=n(650093),s=r(n(735162));t.default=function(){var e=(0,a.get)("initProps")||{},t=e.host,n=e.isBoe,r=e.requestInterceptors,c=e.responseInterceptors,u=i.default.create({baseURL:t||window&&"".concat(void 0!==n&&n?"http":"https","://").concat(window.location.hostname),adapter:(0,s.default)(),withCredentials:!0,transformRequest:[function(e){var t=e;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){console.log(e)}return t}]});return r&&Array.isArray(r)&&r.forEach(function(e){u.interceptors.request.use(function(t){return e(t)},void 0)}),c&&Array.isArray(c)&&c.forEach(function(e){u.interceptors.response.use(function(t){return e(t)},void 0)}),u.interceptors.response.use(o.after,void 0),u}},873815:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.after=void 0;var i=n(527116),o=n(269001),a=n(650093);t.after=function(e){var t,n,s,c=(null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.url)||"",u=(null===(n=null==e?void 0:e.headers)||void 0===n?void 0:n["x-tt-logid"])||"",l=function(e){var t,n,r=(null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.data)||void 0===n?void 0:n.response)||(null==e?void 0:e.data)||{};if("string"==typeof r)try{r=JSON.parse(r)}catch(e){console.log("fetch",e)}return r}(e),f=(0,a.get)("initProps"),d=(null==f?void 0:f.printLog)||!1;if((null==l?void 0:l.message)==="success")return d&&(0,o.printGroupLog)("call ".concat(c," result >>>>"),{SUCCESS:l.data,Logid:u},!1),Promise.resolve(l.data);d&&(0,o.printGroupLog)("call ".concat(c," result >>>>"),{ERROR:l.data,Logid:u},!1);var p=!(null==f?void 0:f.appShowCaptcha),h=null===(s=null==l?void 0:l.data)||void 0===s?void 0:s.verify_center_decision_conf;return p&&h?Promise.resolve(i.sliderView.show({verifyData:h,requestConfig:null==e?void 0:e.config})):Promise.reject(r(r({},l.data),{log_id:u}))}},620401:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(260351)),o=n(923917),a=n(650093);t.default=function(e){var t=(0,a.get)("initProps")||{},n=t.host,r=t.isBoe,s=t.requestInterceptors,c=t.responseInterceptors,u=i.default.create({baseURL:n||window&&"".concat(r?window.location.protocol:"https:","//").concat(window.location.hostname),withCredentials:!0});return u.interceptors.request.use(function(t){return(0,o.before)(t,e)},void 0),s&&Array.isArray(s)&&s.forEach(function(e){u.interceptors.request.use(function(t){return e(t)},void 0)}),c&&Array.isArray(c)&&c.forEach(function(e){u.interceptors.response.use(function(t){return e(t)},void 0)}),u.interceptors.response.use(function(e){return(0,o.after)(e)},void 0),u}},923917:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0}),t.before=t.after=void 0;var s=n(527116),c=n(269001),u=n(650093),l={web:{},sso:{respHandler:function(e){return(null==e?void 0:e.error_code)===0},successCallBack:function(e){return(null==e?void 0:e.message)==="success"?e.data:e},failCallBack:function(e){return e}},app:{},auth:{respHandler:function(e){return console.log("====== auth ======"),(null==e?void 0:e.status_code)===0},successCallBack:function(e){return console.log(e),console.log("====== auth ======"),e.data},failCallBack:function(e){return e}}};t.after=function(e){var t,n,i,o,a,f,d,p,h=l[e.config.params.account_sdk_source],v=(null==h?void 0:h.respHandler)||function(e){return(null==e?void 0:e.message)==="success"},g=(null==h?void 0:h.successCallBack)||function(e){return null==e?void 0:e.data},_=(null==h?void 0:h.failCallBack)||function(e){return null==e?void 0:e.data},m=(null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.url)||"",y=(null===(n=null==e?void 0:e.headers)||void 0===n?void 0:n["x-tt-logid"])||"",b=(null==e?void 0:e.data)||{},E=(0,u.get)("initProps"),w=(null==E?void 0:E.printLog)||!1;if("string"==typeof b)try{b=JSON.parse(b)}catch(e){console.log(e)}if(v(b))return w&&(0,c.printGroupLog)("call ".concat(m," result >>>>"),{"%cSUCCESS":g(b),"%cLogid":y}),Promise.resolve(g(b));w&&(0,c.printGroupLog)("call ".concat(m," result >>>>"),{"%cERROR":_(b),"%cLogid":y});var S=(null===(i=null==b?void 0:b.data)||void 0===i?void 0:i.verify_center_decision_conf)||(null===(o=null==b?void 0:b.data)||void 0===o?void 0:o.verify_center_secondary_decision_conf)||(null==b?void 0:b.verify_center_decision_conf)||(null==b?void 0:b.verify_center_secondary_decision_conf),O=(null===(a=null==b?void 0:b.data)||void 0===a?void 0:a.error_code)||(null==b?void 0:b.error_code);if(2046===O&&"function"==typeof(null===(f=null==E?void 0:E.secondVerifyWebOptions)||void 0===f?void 0:f.onValid))return null===(d=null==E?void 0:E.secondVerifyWebOptions)||void 0===d||d.onValid(),Promise.reject({description:"SECOND_VALID"});if(S){var T=(null===(p=null==b?void 0:b.data)||void 0===p?void 0:p.sms_code_key)||(null==b?void 0:b.sms_code_key);return Promise.resolve(s.sliderView.show({verifyData:S,requestConfig:null==e?void 0:e.config,requestData:2046===O&&T?{sms_code_key:T}:void 0})).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})}var k=_(b);return Promise.reject(r(r({},k),{log_id:y}))};t.before=function(e,t){return void 0===t&&(t={}),i(void 0,void 0,void 0,function(){var n,i,l,f,d,p,h,v,g,_,m,y,b,E,w,S,O;return o(this,function(o){switch(o.label){case 0:return i=(null==(n=(0,u.get)("initProps"))?void 0:n.printLog)||!1,[4,s.sliderView.getFp()];case 1:if(l=o.sent(),f=(null==n?void 0:n.appKey)||"",d=null==e?void 0:e.url,p=(null==e?void 0:e.method)||"get",h=(null==e?void 0:e.data)||{},v={"x-tt-passport-csrf-token":(0,c.getCookie)("passport_csrf_token")||(0,c.getCookie)("passport_csrf_token_default")||""},g=Object.assign({"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json, text/javascript"},e.headers||{},v,{}),e.headers=g,i&&(0,c.printGroupLog)("".concat(p," ").concat(d," >>>>"),{"%cdata >>>>":h,"%ccommon params >>>>":t}),null===(O=e.params)||void 0===O?void 0:O.isResend)return(_=e.params).isResend,y=a(_,["isResend"]),[2,r(r({},e),{params:y})];return b={},Object.keys(h).filter(function(e){return void 0!==h[e]}).forEach(function(e){b[e]=h[e]}),["post","POST"].includes(p)&&(E=r(r(r({},t),{verifyFp:l}),(null==e?void 0:e.params)||{}),w=(0,c.signature)(E,b,f),e.params=r(r({},E),w),(0,c.isFormData)(h)?e.data=h:e.data=(0,c.objectToString)(b)),["get","GET"].includes(p)&&(S=r(r(r(r({},b),t),{verifyFp:l}),e.params),w=(0,c.signature)(S,{},f),e.params=r(r({},S),w)),[2,e]}})})}},631785:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initAcrawler=void 0;var r=n(471664);function i(e){var t=(window||{}).byted_acrawler,n=[].concat(Object.values(r.WEB_URL),Object.values(r.WEB_AFF_URL),Object.values(r.WEB_SSO)),i=Object.values(r.WEB_SSO).map(function(e){return[e,"/passport/sso".concat(e)]})||[];t&&t.init({aid:e.aid,isSDK:!0,boe:e.isBoe||!1,enablePathList:n,urlRewriteRules:i})}t.initAcrawler=function(e,t){var n,r,o,a="https://sf16-secsdk.ibytedtos.com/obj/rc-web-sdk-gcs/webmssdk/1.0.0.303/webmssdk.js";if("gcp"===e||"giso"===e?a="https://sf16-secsdk.ibytedtos.com/obj/rc-web-sdk-giso/webmssdk/1.0.0.303/webmssdk.js":"sg"===e?a="https://sf16-secsdk.ibytedtos.com/obj/rc-web-sdk-sg/webmssdk/1.0.0.303/webmssdk.js":("va"===e||"gcs"===e)&&(a="https://sf16-secsdk.ibytedtos.com/obj/rc-web-sdk-gcs/webmssdk/1.0.0.303/webmssdk.js"),window.byted_acrawler)i(t);else{;n=a,r=function(){i(t)},(o=document.createElement("script")).type="text/javascript",o.src=n,document.getElementsByTagName("head")[0].appendChild(o),o.readyState?o.onreadystatechange=function(){("complete"===o.readyState||"loaded"===o.readyState)&&(o.onreadystatechange=null,r&&r())}:o.onload=function(){r&&r()}}}},650093:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=t.set=void 0;var n={};t.set=function(e,t){return new Promise(function(r){n[e]=t,r(n)})};t.get=function(e){return n[e]}},269001:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.signature=t.encryptParams=t.stringToObject=t.objectToString=t.printGroupLog=t.isFormData=t.getCookie=void 0;var o=i(n(467064)),a=i(n(97164));t.getCookie=function(e){var t,n=new RegExp("(^| )".concat(e,"=([^;]*)(;|$)"));return(t=document.cookie.match(n))?unescape(t[2]):""};t.isFormData=function(e){return"undefined"!=typeof FormData&&e instanceof FormData};t.printGroupLog=function(e,t,n){void 0===n&&(n=!0),console.group(e),t&&Object.keys(t).forEach(function(e){n?console.log(e,n||"background: #222; color: #bada55",t[e]):console.log(e,t[e])}),console.groupEnd()};t.objectToString=function(e){return Object.keys(e).map(function(t){var n=e[t];return"object"==typeof n?"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(JSON.stringify(n))):"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n))}).join("&")};t.stringToObject=function(e){if(!e)return{};var t={};return e.split("&").forEach(function(e){var n=e.split("="),r=n[0],i=n[1];t[r]=i}),t};var s=function(e){for(var t,n=e.toString(),r=[],i=0;i<n.length;i++)0<=(t=n.charCodeAt(i))&&t<=127?r.push(t):128<=t&&t<=2047?(r.push(192|31&t>>6),r.push(128|63&t)):(2048<=t&&t<=55295||57344<=t&&t<=65535)&&(r.push(224|15&t>>12),r.push(128|63&t>>6),r.push(128|63&t));for(var o=0;o<r.length;o++)r[o]&=255;return r},c=function(e){var t=[],n=[];if(void 0===e)return"";n=s(e);for(var r=0,i=n.length;r<i;++r)t.push((5^n[r]).toString(16));return t.join("")};t.encryptParams=function(e,t){var n,i=0,o=0;if("object"!=typeof e||!t||t.length<=0)return e;for(var a=r({mix_mode:i},e),s=0,u=t.length;s<u;++s)void 0!==(n=a[t[s]])&&(i|=1,o|=1,a[t[s]]=c(n));return a.mix_mode=i,a.fixed_mix_mode=o,a};var u=function(e,t){void 0===e&&(e={}),void 0===t&&(t=-1);var n=Object.keys(e).sort()||[];return t>=0&&n.splice(t),{str:n.map(function(t){var n=e[t];return"object"==typeof n?"".concat(t,"=").concat(JSON.stringify(n)):"".concat(t,"=").concat(n)}).join("&"),arr:n}};t.signature=function(e,t,n){if(void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n=""),!n)return{};var r=u(e,10),i=r.str,s=r.arr,l=u(t),f=l.str;l.arr;var d="".concat(void 0===i?"":i,"&").concat(void 0===f?"":f,"&app_key=").concat(n),p=(0,o.default)(d);return{sign:a.default.stringify(p),qs:c((void 0===s?[]:s).join(","))}}},527116:function(e,t,n){"use strict";var r,i,o,a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return c(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},d=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0}),t.sliderView=void 0;var p=u(n(193208)),h=u(n(916234)),v=u(n(69458)),g=u(n(860469)),_=n(269001),m=n(650093),y={aid:0,iid:"0",did:"0"},b={sideSlide:"disabled",lang:"zh",showMode:"mask",region:"sg",app_name:""},E={sg:p,va:h,in:v,mya:g},w=function(e){var t=e.captchaOptions,n=e.secondVerifyWebOptions,r={commonOptions:a(a({},y),{aid:e.aid,did:e.did?String(e.did):"0",iid:e.iid?String(e.iid):"0"}),captchaOptions:a(a(a({},b),{sideSlide:e.captchaSideSlide||"disabled",lang:e.language||"zh",showMode:e.captchaShowMode||"mask",region:e.region||"sg",app_name:e.appName||"",host:e.captchaHost||""}),void 0===t?{}:t),secondVerifyWebOptions:n};!(o=E[e.region||"sg"]||p).init&&(o=null==o?void 0:o.default),o.init(r,function(){},function(){})};t.sliderView={init:function(e){var t=e.request,n=d(e,["request"]);r=t,w(n)},show:function(e){var t=e.requestConfig,n=e.verifyData,i=e.requestData,s={};try{s=JSON.parse(n)}catch(e){console.log("wrong desision config!")}return new Promise(function(n,c){var u;o.render({verify_data:s,captchaOptions:{host:null===(u=(0,m.get)("initProps"))||void 0===u?void 0:u.setDynamicCaptchaHost(e.requestConfig),successCb:function(){return l(void 0,void 0,void 0,function(){var e;return f(this,function(i){switch(i.label){case 0:return[4,o.getFp()];case 1:return e=i.sent(),null==r||r(a(a({},t),{params:a(a({},t.params),{fp:e,isResend:!0})})).then(function(e){n(e)}).catch(function(e){c(e)}),[2]}})})},closeCb:function(){c("CLOSE_CAPTCHA")}},secondVerifyWebOptions:{callBack:function(e){return l(void 0,void 0,void 0,function(){var e,o;return f(this,function(s){return e=t.data||"",i&&(o=(0,_.stringToObject)(e),e=(0,_.objectToString)(a(a({},o),i))),null==r||r(a(a({},t),{params:a(a({},t.params),{isResend:!0}),data:e})).then(function(e){n(e)}).catch(function(e){c(e)}),[2]})})},closeCallBack:function(){c({description:"SECOND_VALID",requestData:i})}}})})},getFp:function(){return i?Promise.resolve(i):Promise.race([new Promise(function(e){setTimeout(function(){return e("")},1e3)}),o.getFp()]).then(function(e){return i=e,console.log("===>",e),e})}}},471664:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMMON_URL=t.MOBILE_AFF_URL=t.SSO_AFF_URL=t.AUTH_URL=t.APP_URL=t.WEB_SSO=t.WEB_AFF_URL=t.WEB_URL=void 0;var n="/user_info",r="/passport/web",i="/passport/mobile",o="/aff",a="/passport/aff/web",s="/passport/aff/mobile",c="/passport/common";t.WEB_URL={SEND_MOBILE_CODE:"".concat(r,"/send_code/"),SEND_EMAIL_CODE:"".concat(r,"/email/send_code/"),VERIFY_MOBILE_CODE:"".concat(r,"/validate_code/"),VERIFY_EMAIL_CODE:"".concat(r,"/email/verify/"),CHECK_MOBILE_CODE:"".concat(r,"/mobile/check_code/"),CHECK_EMAIL_CODE:"".concat(r,"/email/check_code/"),SMS_LOGIN:"".concat(r,"/sms_login/"),SMS_LOGIN_ONLY:"".concat(r,"/sms_login_only/"),SMS_LOGIN_CONTINUE:"".concat(r,"/sms_login_continue/"),EMAIL_LOGIN:"".concat(r,"/email/login/"),EMAIL_CODE_LOGIN:"".concat(r,"/email/code_login/"),EMAIL_REGISTER_LOGIN:"".concat(r,"/email/register_verify_login/"),EMAIL_REGISTER:"".concat(r,"/email/register_verify/"),PWD_LOGIN:"".concat(r,"/user/login/"),AUTH_LOGIN:"".concat(r,"/auth/login/"),AUTH_LOGIN_ONLY:"".concat(r,"/auth/login_only/"),AUTH_BIND_ONLY:"".concat(r,"/auth/bind_login/"),MOBILE_BIND_ONLY:"".concat(r,"/mobile/bind_login/"),MOBILE_EMAIL_REGISTER:"".concat(r,"/mobile_email_register/"),MOBILE_REGISTER:"/passport/mobile/register/",MOBILE_OAUTH:"/passport/auth/show_oauth_mobile/",LOGOUT:"".concat(r,"/logout/"),CHECK_LOGIN:"/passport/account/info/v2/",BIND_WITH_MOBILE_LOGIN:"".concat(r,"/auth/bind_with_mobile_login/"),BIND_WITH_EMAIL_LOGIN:"".concat(r,"/auth/bind_with_email_login/"),GET_QRCODE:"".concat(r,"/get_qrcode/"),CHECK_QRCONNECT:"".concat(r,"/check_qrconnect/"),SCAN_QRCODE:"".concat(r,"/scan_qrcode/"),CONFIRM_QRCODE:"".concat(r,"/confirm_qrcode/"),THIRD_AUTH:"".concat(r,"/web_login/"),WEB_SHARE_LOGIN:"".concat(r,"/auth/share_login/"),AUTH_LOGIN_URL:"/passport/auth/wap_login/",EMAIL_REGISTER_NO_VERIFY:"".concat(r,"/email/register/"),EMAIL_REGISTER_NO_VERIFY_V2:"".concat(r,"/email/register/v2/"),MOBILE_BIND:"".concat(r,"/mobile/bind/"),EMAIL_BIND:"".concat(r,"/email/bind/"),AUTH_BIND:"".concat(r,"/auth/bind/"),AUTH_UNBIND:"".concat(r,"/auth/unbind/"),AUTH_SWITCH_BIND:"".concat(r,"/auth/switch_bind/"),MOBILE_REBIND:"".concat(r,"/mobile/change/"),EMAIL_REBIND:"".concat(r,"/email/change/"),RESET_PWD_BY_MOBILE:"".concat(r,"/password/reset/"),RESET_PWD_BY_EMAIL:"".concat(r,"/email/password/reset/"),RESET_PWD_BY_MOBILE_TICKET:"".concat(r,"/password/reset_by_ticket/"),RESET_PWD_BY_EMAIL_TICKET:"".concat(r,"/password/reset_by_email_ticket/"),PWD_CHANGE_BY_MOBILE:"".concat(r,"/password/change/"),PWD_UPDATE:"".concat(r,"/password/update/"),PWD_CHANGE_BY_EMAIL:"".concat(r,"/email/change_password/"),PWD_SET:"".concat(r,"/password/set/"),PWD_HAS_SET:"/passport/password/has_set/",PWD_HAS_SET_V2:"".concat(r,"/password/has_set/"),PWD_SET_BY_EAMIL_AND_LOGIN:"".concat(r,"/email/password/reset_and_login/"),ACCOUNT_VERIFY:"".concat(r,"/account/verify/"),AUTH_VERIFY:"".concat(r,"/auth/verify/"),SMS_AUTHORIZE:"".concat(r,"/sms/authorize/"),CANCEL_VERIFY_WAY:"/passport/auth/cancel_verify_way/",CANCEL_CHECK:"".concat(r,"/cancel/check/"),CANCEL_CONFIRM:"".concat(r,"/cancel/confirm/"),CHECK_MOBILE_REGISTER:"".concat(r,"/user/check_mobile_registered/"),CHECK_EMAIL_REGISTER:"".concat(r,"/user/check_email_registered"),CHANGE_QRCODE_SUCCESS:"/passport/qrcode_twostep_verify/scan_qrcode/",CHANGE_QRCODE_CONFIRM:"/passport/qrcode_twostep_verify/confirm_by_ticket/",GET_OPEN_AUTH_INFO:"/passport/open/auth_info/v2/",OPEN_SEND_CODE:"/passport/open/send_code/",OPEN_SMS_AUTH:"/passport/open/web/sms/auth/",OPEN_ACCOUNT_AUTH:"/passport/open/web/account/auth/",OPEN_THIRD_AUTH:"/passport/open/web/third_party/auth/",OPEN_GET_QRCODE:"/passport/open/get_qrcode/",OPEN_CHECK_QRCODE:"/passport/open/check_qrcode",OPEN_TO_SCAN_QRCODE:"/passport/open/to_scan_qrcode/",OPEN_SCAN_QRCODE:"/passport/open/scan_qrcode/",OPEN_CONFIRM_QRCODE:"/passport/open/confirm_qrcode/",OPEN_WEB_AUTH:"/passport/open/web/auth/",ACCOUNT_INFO:"".concat(r,"/account/info/"),ACCOUNT_SET:"".concat(r,"/account/set/"),OAUTH_PROFILE:"/web/user/get/oauth_profile/",UPLOAD_AVATAR:"/web/user/update/upload_avatar/",UPDATE_USERINFO:"/web/user/update/user_info/",CHECK_DEFAULT_INFO:"/web/user/check/default_info/",GET_BACKGROUND_LIST:"/web/user/settings/{aid}/default_background_image_list/",GET_DEFAULT_AVATAR_LIST:"/web/user/settings/{aid}/default_avatar_list/",GET_RECOMMEND_NAME:"/web/user/settings/recommend_name/",UPLOAD_PICTURE:"/web/user/upload/pic/",CHECK_REMAIN_TIMES:"/web/user/get/remain_update_times/",DOWNLOAD_IMAGE:"/user/web/download/image/",DOWNLOAD_IMAGE_V2:"/user/web/download/image/v2/"},t.WEB_AFF_URL={SEND_MOBILE_CODE:"".concat(a,"/mobile/send_code/"),SEND_EMAIL_CODE:"".concat(a,"/email/send_code/"),VERIFY_MOBILE_CODE:"".concat(a,"/mobile/validate_code/"),VERIFY_EMAIL_CODE:"".concat(a,"/email/verify/"),CHECK_MOBILE_CODE:"".concat(a,"/mobile/check_code/"),CHECK_EMAIL_CODE:"".concat(a,"/email/check_code/"),SMS_LOGIN:"".concat(a,"/mobile/sms_login/"),EMAIL_LOGIN:"".concat(a,"/email/code_login/"),PWD_LOGIN:"".concat(a,"/user/login/"),OAUTH_LOGIN_CALL:"".concat(a,"/oauth/login/call/"),OAUTH_LOGIN_ONLY:"".concat(a,"/oauth/login_only/"),OAUTH_LOGIN:"".concat(a,"/oauth/login/"),SUBJECT_LOGIN_LIST:"".concat(a,"/subject/login_list/"),SUBJECT_LOGIN:"".concat(a,"/subject/login/"),LOGOUT:"".concat(a,"/logout/"),REGISTER_EMAIL_USER_ONLY:"".concat(a,"/email/register/only_user/"),REGISTER_EMAIL:"".concat(a,"/email/register/"),REGISTER_MOBILE_USER_ONLY:"".concat(a,"/mobile/register/only_user/"),REGISTER_MOBILE:"".concat(a,"/mobile/register/"),RESET_BY_MOBILE:"".concat(a,"/mobile/password/reset/"),RESET_BY_EMAIL:"".concat(a,"/email/password/reset/"),MOBILE_INVITE:"".concat(a,"/invitation/mobile/invite/"),EMAIL_INVITE:"".concat(a,"/invitation/email/invite/"),LARK_INVITE:"".concat(a,"/invitation/lark/invite/"),INVITE_LIST:"".concat(a,"/invitation/list/"),CANCEL_INVITE:"".concat(a,"/invitation/cancel/"),RESEND_INVITE:"".concat(a,"/invitation/resend/"),UPDATE_INVITE:"".concat(a,"/invitation/update/"),CHECK_INVITE_VALID:"".concat(a,"/invitation/check/"),ACCEPT_INVITE:"".concat(a,"/invitation/accept/"),CREATE_BY_USERNAME:"".concat(a,"/subject/username/create/"),CREATE_BY_MOBILE:"".concat(a,"/subject/mobile/create/"),CREATE_BY_EMAIL:"".concat(a,"/subject/email/create/"),SUBJECT_LIST:"".concat(a,"/subject/all/list/"),SUBJECT_DEPUTY_LIST:"".concat(a,"/subject/deputy/list/"),SUBJECT_IDENTITY_LIST:"".concat(a,"/subject/identity/list/"),UPDATE_DEPUTY_INFO:"".concat(a,"/deputy/update/"),FREEZE_DEPUTY:"".concat(a,"/deputy/freeze/"),DELETE_DEPUTY:"".concat(a,"/deputy/delete/"),UPDATE_SUBJECT_INFO:"".concat(a,"/subject/update/"),FREEZE_SUBJECT:"".concat(a,"/subject/freeze/"),RESOURCE_LIST:"".concat(a,"/resource/list/"),CREATE_ROLE:"".concat(a,"/role/create/"),UPDATE_ROLE:"".concat(a,"/role/update/"),BAN_ROLE:"".concat(a,"/role/ban/"),ROLE_LIST:"".concat(a,"/role/list/"),ROLE_INFO:"".concat(a,"/role/info/"),CREATE_USER_WITH_ROLE:"".concat(a,"/user/create_with_role/"),ADD_USER_ROLE:"".concat(a,"/user_role/add/"),DELETE_USER_ROLE:"".concat(a,"/user_role/del/"),USER_ROLE_LIST:"".concat(a,"/user_role/list/"),ALL_USER_ROLE_LIST:"".concat(a,"/user_role/all/list/"),USER_PERMISSIONS:"".concat(a,"/user/permissions/"),SUCCESSOR_SEND_CODE:"".concat(a,"/admin/successor/send_code/"),TRANSFER_MANAGER:"".concat(a,"/admin/transfer/"),MEMBER_SWITCH:"".concat(a,"/member/switch/")},t.WEB_SSO={MOBILE_CODE_URL:"/send_activation_code/",MOBILE_CODE_URL_V2:"/send_activation_code/v2/",EMAIL_ACTIVATE_URL:"/send_email_activate_link/",EMAIL_ACTIVATE_URL_V2:"/send_email_activate_link/v2/",EMAIL_ACTIVATE_CODE_URL:"/send_email_activate_code/",EMAIL_ACTIVATE_CODE_URL_V2:"/send_email_activate_code/v2/",CHECK_LOGIN:"/check_login/",MOBILE_CODE_LOGIN_URL:"/quick_login/",MOBILE_CODE_LOGIN_URL_V2:"/quick_login/v2/",MOBILE_CODE_LOGIN_ONLY_URL:"/quick_login_only/",ACCOUNT_LOGIN_URL:"/account_login/",ACCOUNT_LOGIN_URL_V2:"/account_login/v2/",AUTH_LOGIN_URL:"/passport/auth/wap_login/",BIND_WITH_MOBILE_LOGIN:"/bind_with_mobile_login/",AUTH_LOGIN:"/auth/login/",AUTH_LOGIN_ONLY:"/auth/login_only/",LOGOUT:"/logout/",EMAIL_ACTIVATE_CODE_LOGIN:"/activate_email/code_login/",EMAIL_REGISTER:"/activate_email/register/",EMAIL_REGISTER_V2:"/activate_email/register/v2/",MOBILE_REGISTER_WITH_EMAIL:"/register/",MOBILE_REGISTER_WITH_EMAIL_V2:"/register/v2/",SSO_EMAIL_ACTIVATE_CODE_URL:"/sso/send_email_activate_code/",RESET_PASSWORD:"/reset_password/",RESET_PASSWORD_BY_EMAIL:"/activate_email/reset_password/",BIND_MOBILE:"/bind_mobile/",CHANGE_MOBILE:"/change_mobile/",QUICK_AUTH:"/quick_auth/",GET_QRCODE:"/get_qrcode/",CHECK_QRCONNECT:"/check_qrconnect/",SCAN_QRCODE:"/scan_qrcode/",CONFIRM_QRCODE:"/confirm_qrcode/",MOBILE_EMAIL_REGISTER:"/mobile_email_register/",SET_PASWORD:"/password/set/"},t.APP_URL={SEND_MOBILE_CODE:"".concat(i,"/send_code/"),CHECK_MOBILE_CODE:"".concat(i,"/check_code/"),UNBIND_UNUSABLE_MOBILE:"".concat(i,"/unbind_limited_unusable_mobile/"),BIND_WITH_MOBILE_LOGIN:"/passport/auth/bind_with_mobile_login/",AUTH_LOGIN:"/passport/auth/login/",OAUTH_PROFILE:"/user/get/oauth_profile/"},t.AUTH_URL={WEB_SDK_INIT:"".concat(n,"/common/v1/web_sdk_init/")},t.SSO_AFF_URL={MEMBER_SWITCH:"".concat(o,"/member/switch/")},t.MOBILE_AFF_URL={MEMBER_SWITCH:"".concat(s,"/member/switch/")},t.COMMON_URL={BIND_VERIFY_INFO:"".concat(c,"/register/web/bind_verify_info/")}},69458:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o,a,s,c,u,l,f,d,p,h,v,g,_,m,y,b,E,w,S,O,T,k,I,A,R,C,L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0});var P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function D(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e,null==t?n.path:t)}},n.exports),n.exports}var x=function(e){return e&&e.Math==Math&&e},M=x("object"==typeof globalThis&&globalThis)||x("object"==typeof window&&window)||x("object"==typeof self&&self)||x("object"==typeof P&&P)||function(){return this}()||Function("return this")(),j=Function.prototype,N=j.apply,B=j.bind,G=j.call,U="object"==typeof Reflect&&Reflect.apply||(B?G.bind(N):function(){return G.apply(N,arguments)}),z=Function.prototype,q=z.bind,W=z.call,F=q&&q.bind(W),K=q?function(e){return e&&F(W,e)}:function(e){return e&&function(){return W.apply(e,arguments)}},V=function(e){return"function"==typeof e},H=function(e){try{return!!e()}catch(e){return!0}},J=!H(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Y=Function.prototype.call,X=Y.bind?Y.bind(Y):function(){return Y.apply(Y,arguments)},$={}.propertyIsEnumerable,Q=Object.getOwnPropertyDescriptor,Z={f:Q&&!$.call({1:2},1)?function(e){var t=Q(this,e);return!!t&&t.enumerable}:$},ee=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},et=K({}.toString),en=K("".slice),er=function(e){return en(et(e),8,-1)},ei=M.Object,eo=K("".split),ea=H(function(){return!ei("z").propertyIsEnumerable(0)})?function(e){return"String"==er(e)?eo(e,""):ei(e)}:ei,es=M.TypeError,ec=function(e){if(void 0==e)throw es("Can't call method on "+e);return e},eu=function(e){return ea(ec(e))},el=function(e){return"object"==typeof e?null!==e:V(e)},ef={},ed=function(e){return V(e)?e:void 0},ep=function(e,t){return arguments.length<2?ed(ef[e])||ed(M[e]):ef[e]&&ef[e][t]||M[e]&&M[e][t]},eh=K({}.isPrototypeOf),ev=ep("navigator","userAgent")||"",eg=M.process,e_=M.Deno,em=eg&&eg.versions||e_&&e_.version,ey=em&&em.v8;ey&&(s=(a=ey.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&ev&&(!(a=ev.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=ev.match(/Chrome\/(\d+)/))&&(s=+a[1]);var eb=s,eE=!!Object.getOwnPropertySymbols&&!H(function(){var e=Symbol();return!String(e)||!(Object(e) instanceof Symbol)||!Symbol.sham&&eb&&eb<41}),ew=eE&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,eS=M.Object,eO=ew?function(e){return"symbol"==typeof e}:function(e){var t=ep("Symbol");return V(t)&&eh(t.prototype,eS(e))},eT=M.String,ek=function(e){try{return eT(e)}catch(e){return"Object"}},eI=M.TypeError,eA=function(e){if(V(e))return e;throw eI(ek(e)+" is not a function")},eR=function(e,t){var n=e[t];return null==n?void 0:eA(n)},eC=M.TypeError,eL=function(e,t){var n,r;if("string"===t&&V(n=e.toString)&&!el(r=X(n,e))||V(n=e.valueOf)&&!el(r=X(n,e))||"string"!==t&&V(n=e.toString)&&!el(r=X(n,e)))return r;throw eC("Can't convert object to primitive value")},eP=Object.defineProperty,eD="__core-js_shared__",ex=M[eD]||function(e,t){try{eP(M,e,{value:t,configurable:!0,writable:!0})}catch(n){M[e]=t}return t}(eD,{}),eM=D(function(e){(e.exports=function(e,t){return ex[e]||(ex[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.1",mode:"pure",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})}),ej=M.Object,eN=function(e){return ej(ec(e))},eB=K({}.hasOwnProperty),eG=Object.hasOwn||function(e,t){return eB(eN(e),t)},eU=0,ez=Math.random(),eq=K(1..toString),eW=function(e){return"Symbol("+(void 0===e?"":e)+")_"+eq(++eU+ez,36)},eF=eM("wks"),eK=M.Symbol,eV=eK&&eK.for,eH=ew?eK:eK&&eK.withoutSetter||eW,eJ=function(e){if(!eG(eF,e)||!(eE||"string"==typeof eF[e])){var t="Symbol."+e;eE&&eG(eK,e)?eF[e]=eK[e]:ew&&eV?eF[e]=eV(t):eF[e]=eH(t)}return eF[e]},eY=M.TypeError,eX=eJ("toPrimitive"),e$=function(e,t){if(!el(e)||eO(e))return e;var n,r=eR(e,eX);if(r){if(void 0===t&&(t="default"),!el(n=X(r,e,t))||eO(n))return n;throw eY("Can't convert object to primitive value")}return void 0===t&&(t="number"),eL(e,t)},eQ=function(e){var t=e$(e,"string");return eO(t)?t:t+""},eZ=M.document,e0=el(eZ)&&el(eZ.createElement),e1=function(e){return e0?eZ.createElement(e):{}},e2=!J&&!H(function(){return 7!=Object.defineProperty(e1("div"),"a",{get:function(){return 7}}).a}),e4=Object.getOwnPropertyDescriptor,e3=J?e4:function(e,t){if(e=eu(e),t=eQ(t),e2)try{return e4(e,t)}catch(e){}if(eG(e,t))return ee(!X(Z.f,e,t),e[t])},e6=/#|\.prototype\./,e5=function(e,t){var n=e9[e8(e)];return n==te||n!=e7&&(V(t)?H(t):!!t)},e8=e5.normalize=function(e){return String(e).replace(e6,".").toLowerCase()},e9=e5.data={},e7=e5.NATIVE="N",te=e5.POLYFILL="P",tn=K(K.bind),tr=function(e,t){return eA(e),void 0===t?e:tn?tn(e,t):function(){return e.apply(t,arguments)}},ti=M.String,to=M.TypeError,ta=function(e){if(el(e))return e;throw to(ti(e)+" is not an object")},ts=M.TypeError,tc=Object.defineProperty,tu={f:J?tc:function(e,t,n){if(ta(e),t=eQ(t),ta(n),e2)try{return tc(e,t,n)}catch(e){}if("get"in n||"set"in n)throw ts("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},tl=J?function(e,t,n){return tu.f(e,t,ee(1,n))}:function(e,t,n){return e[t]=n,e},tf=e3,td=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return U(e,this,arguments)};return t.prototype=e.prototype,t},tp=function(e,t){var n,r,i,o,a,s,c,u,l=e.target,f=e.global,d=e.stat,p=e.proto,h=f?M:d?M[l]:(M[l]||{}).prototype,v=f?ef:ef[l]||tl(ef,l,{})[l],g=v.prototype;for(i in t)n=!e5(f?i:l+(d?".":"#")+i,e.forced)&&h&&eG(h,i),a=v[i],n&&(s=e.noTargetGet?(u=tf(h,i))&&u.value:h[i]),o=n&&s?s:t[i],(!n||typeof a!=typeof o)&&(c=e.bind&&n?tr(o,M):e.wrap&&n?td(o):p&&V(o)?K(o):o,(e.sham||o&&o.sham||a&&a.sham)&&tl(c,"sham",!0),tl(v,i,c),p&&(!eG(ef,r=l+"Prototype")&&tl(ef,r,{}),tl(ef[r],i,o),e.real&&g&&!g[i]&&tl(g,i,o)))},th=eM("keys"),tv=function(e){return th[e]||(th[e]=eW(e))},tg=!H(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),t_=tv("IE_PROTO"),tm=M.Object,ty=tm.prototype,tb=tg?tm.getPrototypeOf:function(e){var t=eN(e);if(eG(t,t_))return t[t_];var n=t.constructor;return V(n)&&t instanceof n?n.prototype:t instanceof tm?ty:null},tE=M.String,tw=M.TypeError,tS=function(e){if("object"==typeof e||V(e))return e;throw tw("Can't set "+tE(e)+" as a prototype")},tO=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=K(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return ta(n),tS(r),t?e(n,r):n.__proto__=r,n}}():void 0),tT=Math.ceil,tk=Math.floor,tI=function(e){var t=+e;return t!=t||0===t?0:(t>0?tk:tT)(t)},tA=Math.max,tR=Math.min,tC=function(e,t){var n=tI(e);return n<0?tA(n+t,0):tR(n,t)},tL=Math.min,tP=function(e){var t;return(t=e.length)>0?tL(tI(t),0x1fffffffffffff):0},tD=function(e){return function(t,n,r){var i,o=eu(t),a=tP(o),s=tC(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},tx={includes:tD(!0),indexOf:tD(!1)},tM={},tj=tx.indexOf,tN=K([].push),tB=function(e,t){var n,r=eu(e),i=0,o=[];for(n in r)!eG(tM,n)&&eG(r,n)&&tN(o,n);for(;t.length>i;)eG(r,n=t[i++])&&(~tj(o,n)||tN(o,n));return o},tG=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],tU=tG.concat("length","prototype"),tz={f:Object.getOwnPropertyNames||function(e){return tB(e,tU)}},tq={f:Object.getOwnPropertySymbols},tW=K([].concat),tF=ep("Reflect","ownKeys")||function(e){var t=tz.f(ta(e)),n=tq.f;return n?tW(t,n(e)):t},tK=Object.keys||function(e){return tB(e,tG)},tV=J?Object.defineProperties:function(e,t){ta(e);for(var n,r=eu(t),i=tK(t),o=i.length,a=0;o>a;)tu.f(e,n=i[a++],r[n]);return e},tH=ep("document","documentElement"),tJ="prototype",tY="script",tX=tv("IE_PROTO"),t$=function(){},tQ=function(e){return"<"+tY+">"+e+"</"+tY+">"},tZ=function(e){e.write(tQ("")),e.close();var t=e.parentWindow.Object;return e=null,t},t0=function(){var e,t=e1("iframe");return t.style.display="none",tH.appendChild(t),t.src=String("java"+tY+":"),(e=t.contentWindow.document).open(),e.write(tQ("document.F=Object")),e.close(),e.F},t1=function(){try{c=new ActiveXObject("htmlfile")}catch(e){}t1="undefined"!=typeof document?document.domain&&c?tZ(c):t0():tZ(c);for(var e=tG.length;e--;)delete t1[tJ][tG[e]];return t1()};tM[tX]=!0;var t2=Object.create||function(e,t){var n;return null!==e?(t$[tJ]=ta(e),n=new t$,t$[tJ]=null,n[tX]=e):n=t1(),void 0===t?n:tV(n,t)},t4=K("".replace),t3=String(Error("zxcasd").stack),t6=/\n\s*at [^:]*:[^\n]*/,t5=t6.test(t3),t8=function(e,t){if(t5&&"string"==typeof e)for(;t--;)e=t4(e,t6,"");return e},t9=function(e,t){el(t)&&"cause"in t&&tl(e,"cause",t.cause)},t7={},ne=eJ("iterator"),nt=Array.prototype,nn=eJ("toStringTag"),nr={};nr[nn]="z";var ni="[object z]"===String(nr),no=eJ("toStringTag"),na=M.Object,ns="Arguments"==er(function(){return arguments}()),nc=function(e,t){try{return e[t]}catch(e){}},nu=ni?er:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=nc(t=na(e),no))?n:ns?er(t):"Object"==(r=er(t))&&V(t.callee)?"Arguments":r},nl=eJ("iterator"),nf=function(e){if(void 0!=e)return eR(e,nl)||eR(e,"@@iterator")||t7[nu(e)]},nd=M.TypeError,np=function(e,t){var n=arguments.length<2?nf(e):t;if(eA(n))return ta(X(n,e));throw nd(ek(e)+" is not iterable")},nh=function(e,t,n){var r,i;ta(e);try{if(!(r=eR(e,"return"))){if("throw"===t)throw n;return n}r=X(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return ta(r),n},nv=M.TypeError,ng=function(e,t){this.stopped=e,this.result=t},n_=ng.prototype,nm=function(e,t,n){var r,i,o,a,s,c,u,l,f=n&&n.that,d=!!(n&&n.AS_ENTRIES),p=!!(n&&n.IS_ITERATOR),h=!!(n&&n.INTERRUPTED),v=tr(t,f),g=function(e){return i&&nh(i,"normal",e),new ng(!0,e)},_=function(e){return d?(ta(e),h?v(e[0],e[1],g):v(e[0],e[1])):h?v(e,g):v(e)};if(p)i=e;else{;if(!(o=nf(e)))throw nv(ek(e)+" is not iterable");if(void 0!==(r=o)&&(t7.Array===r||nt[ne]===r)){for(a=0,s=tP(e);s>a;a++)if((c=_(e[a]))&&eh(n_,c))return c;return new ng(!1)}i=np(e,o)}for(u=i.next;!(l=X(u,i)).done;){try{c=_(l.value)}catch(e){nh(i,"throw",e)}if("object"==typeof c&&c&&eh(n_,c))return c}return new ng(!1)},ny=M.String,nb=function(e){if("Symbol"===nu(e))throw TypeError("Cannot convert a Symbol value to a string");return ny(e)},nE=!H(function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",ee(1,7)),7!==e.stack)}),nw=eJ("toStringTag"),nS=M.Error,nO=[].push,nT=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,i=eh(nk,this);tO?n=tO(new nS,i?tb(this):nk):tl(n=i?this:t2(nk),nw,"Error"),void 0!==t&&tl(n,"message",function(e,t){return void 0===e?arguments.length<2?"":t:nb(e)}(t)),nE&&tl(n,"stack",t8(n.stack,1)),t9(n,r);var o=[];return nm(e,nO,{that:o}),tl(n,"errors",o),n};tO?tO(nT,nS):!function(e,t,n){for(var r=tF(t),i=tu.f,o=e3,a=0;a<r.length;a++){var s=r[a];!eG(e,s)&&!(n&&eG(n,s))&&i(e,s,o(t,s))}}(nT,nS,{name:!0});var nk=nT.prototype=t2(nS.prototype,{constructor:ee(1,nT),message:ee(1,""),name:ee(1,"AggregateError")});tp({global:!0},{AggregateError:nT});var nI=K(Function.toString);!V(ex.inspectSource)&&(ex.inspectSource=function(e){return nI(e)});var nA=ex.inspectSource,nR=M.WeakMap,nC=V(nR)&&/native code/.test(nA(nR)),nL="Object already initialized",nP=M.TypeError,nD=M.WeakMap;if(nC||ex.state){var nx=ex.state||(ex.state=new nD),nM=K(nx.get),nj=K(nx.has),nN=K(nx.set);u=function(e,t){if(nj(nx,e))throw new nP(nL);return t.facade=e,nN(nx,e,t),t},l=function(e){return nM(nx,e)||{}},f=function(e){return nj(nx,e)}}else{var nB=tv("state");tM[nB]=!0,u=function(e,t){if(eG(e,nB))throw new nP(nL);return t.facade=e,tl(e,nB,t),t},l=function(e){return eG(e,nB)?e[nB]:{}},f=function(e){return eG(e,nB)}}var nG=u,nU=function(e){return function(t){var n;if(!el(t)||(n=l(t)).type!==e)throw nP("Incompatible receiver, "+e+" required");return n}},nz=Function.prototype,nq=J&&Object.getOwnPropertyDescriptor,nW=eG(nz,"name"),nF=nW&&(!J||J&&nq(nz,"name").configurable),nK=function(e,t,n,r){r&&r.enumerable?e[t]=n:tl(e,t,n)},nV=eJ("iterator"),nH=!1;[].keys&&("next"in(h=[].keys())?(p=tb(tb(h)))!==Object.prototype&&(d=p):nH=!0),!V((d=void 0==d||H(function(){var e={};return d[nV].call(e)!==e})?{}:t2(d))[nV])&&nK(d,nV,function(){return this});var nJ=d,nY=nH,nX=ni?({}).toString:function(){return"[object "+nu(this)+"]"},n$=tu.f,nQ=eJ("toStringTag"),nZ=function(e,t,n,r){if(e){var i=n?e:e.prototype;!eG(i,nQ)&&n$(i,nQ,{configurable:!0,value:t}),r&&!ni&&tl(i,"toString",nX)}},n0=function(){return this},n1=function(e,t,n,r){var i=t+" Iterator";return e.prototype=t2(nJ,{next:ee(+!r,n)}),nZ(e,i,!1,!0),t7[i]=n0,e},n2=nW&&"something"===(function(){}).name,n4=nY,n3=eJ("iterator"),n6="keys",n5="values",n8="entries",n9=function(){return this},n7=function(e,t,n,r,i,o,a){n1(n,t,r);var s,c,u,l=function(e){if(e===i&&v)return v;if(!n4&&e in p)return p[e];switch(e){case n6:return function(){return new n(this,e)};case n5:case n8:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",d=!1,p=e.prototype,h=p[n3]||p["@@iterator"]||i&&p[i],v=!n4&&h||l(i),g="Array"==t&&p.entries||h;if(g&&(s=tb(g.call(new e)))!==Object.prototype&&s.next&&(nZ(s,f,!0,!0),t7[f]=n9),n2&&i==n5&&h&&h.name!==n5&&(d=!0,v=function(){return X(h,this)}),i){if(c={values:l(n5),keys:o?v:l(n6),entries:l(n8)},a)for(u in c)(n4||d||!(u in p))&&nK(p,u,c[u]);else tp({target:t,proto:!0,forced:n4||d},c)}return a&&p[n3]!==v&&nK(p,n3,v,{name:i}),t7[t]=v,c};tu.f;var re="Array Iterator",rt=nU(re);n7(Array,"Array",function(e,t){nG(this,{type:re,target:eu(e),index:0,kind:t})},function(){var e=rt(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),t7.Arguments=t7.Array;var rn=M.Promise,rr=eJ("species"),ri=M.TypeError,ro=function(e,t){if(eh(t,e))return e;throw ri("Incorrect invocation")},ra=eJ("iterator"),rs=!1;try{var rc=0,ru={next:function(){return{done:!!rc++}},return:function(){rs=!0}};ru[ra]=function(){return this},Array.from(ru,function(){throw 2})}catch(e){}var rl=function(){},rf=[],rd=ep("Reflect","construct"),rp=/^\s*(?:class|function)\b/,rh=K(rp.exec),rv=!rp.exec(rl),rg=function(e){if(!V(e))return!1;try{return rd(rl,rf,e),!0}catch(e){return!1}},r_=function(e){if(!V(e))return!1;switch(nu(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return rv||!!rh(rp,nA(e))}catch(e){return!0}};r_.sham=!0;var rm=!rd||H(function(){var e;return rg(rg.call)||!rg(Object)||!rg(function(){e=!0})||e})?r_:rg,ry=M.TypeError,rb=function(e){if(rm(e))return e;throw ry(ek(e)+" is not a constructor")},rE=eJ("species"),rw=function(e,t){var n,r=ta(e).constructor;return void 0===r||void 0==(n=ta(r)[rE])?t:rb(n)},rS=K([].slice),rO=/(?:ipad|iphone|ipod).*applewebkit/i.test(ev),rT="process"==er(M.process),rk=M.setImmediate,rI=M.clearImmediate,rA=M.process,rR=M.Dispatch,rC=M.Function,rL=M.MessageChannel,rP=M.String,rD=0,rx={},rM="onreadystatechange";try{v=M.location}catch(e){}var rj=function(e){if(eG(rx,e)){var t=rx[e];delete rx[e],t()}},rN=function(e){return function(){rj(e)}},rB=function(e){rj(e.data)},rG=function(e){M.postMessage(rP(e),v.protocol+"//"+v.host)};(!rk||!rI)&&(rk=function(e){var t=rS(arguments,1);return rx[++rD]=function(){U(V(e)?e:rC(e),void 0,t)},g(rD),rD},rI=function(e){delete rx[e]},rT?g=function(e){rA.nextTick(rN(e))}:rR&&rR.now?g=function(e){rR.now(rN(e))}:rL&&!rO?(m=(_=new rL).port2,_.port1.onmessage=rB,g=tr(m.postMessage,m)):M.addEventListener&&V(M.postMessage)&&!M.importScripts&&v&&"file:"!==v.protocol&&!H(rG)?(g=rG,M.addEventListener("message",rB,!1)):g=rM in e1("script")?function(e){tH.appendChild(e1("script"))[rM]=function(){tH.removeChild(this),rj(e)}}:function(e){setTimeout(rN(e),0)});var rU=rk,rz=/ipad|iphone|ipod/i.test(ev)&&void 0!==M.Pebble,rq=/web0s(?!.*chrome)/i.test(ev),rW=rU,rF=M.MutationObserver||M.WebKitMutationObserver,rK=M.document,rV=M.process,rH=M.Promise,rJ=e3(M,"queueMicrotask"),rY=rJ&&rJ.value;!rY&&(y=function(){var e,t;for(rT&&(e=rV.domain)&&e.exit();b;){t=b.fn,b=b.next;try{t()}catch(e){throw b?w():E=void 0,e}}E=void 0,e&&e.enter()},rO||rT||rq||!rF||!rK?!rz&&rH&&rH.resolve?((T=rH.resolve(void 0)).constructor=rH,k=tr(T.then,T),w=function(){k(y)}):rT?w=function(){rV.nextTick(y)}:(rW=tr(rW,M),w=function(){rW(y)}):(S=!0,O=rK.createTextNode(""),new rF(y).observe(O,{characterData:!0}),w=function(){O.data=S=!S}));var rX=rY||function(e){var t={fn:e,next:void 0};E&&(E.next=t),!b&&(b=t,w()),E=t},r$=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=eA(t),this.reject=eA(n)},rQ={f:function(e){return new r$(e)}},rZ=function(e,t){if(ta(e),el(t)&&t.constructor===e)return t;var n=rQ.f(e);return(0,n.resolve)(t),n.promise},r0=function(e,t){var n=M.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},r1=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},r2=function(){this.head=null,this.tail=null};r2.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var r4="object"==typeof window,r3=rU,r6=eJ("species"),r5="Promise",r8=nU(r5),r9=nU(r5),r7=rn&&rn.prototype,ie=rn,it=r7,ir=M.TypeError,ii=M.document,io=M.process,ia=rQ.f,is=ia,ic=!!(ii&&ii.createEvent&&M.dispatchEvent),iu=V(M.PromiseRejectionEvent),il="unhandledrejection",id=!1,ip=e5(r5,function(){var e=nA(ie),t=e!==String(ie);if(!t&&66===eb||!it.finally)return!0;if(eb>=51&&/native code/.test(e))return!1;var n=new ie(function(e){e(1)}),r=function(e){e(function(){},function(){})};return(n.constructor={})[r6]=r,!(id=n.then(function(){}) instanceof r)||!t&&r4&&!iu}),ih=ip||!function(e,t){if(!rs)return!1;var n=!1;try{var r={};r[ra]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}(function(e){ie.all(e).catch(function(){})}),iv=function(e){var t;return!!(el(e)&&V(t=e.then))&&t},ig=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(!a&&(2===t.rejection&&iE(t),t.rejection=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===e.promise?u(ir("Promise-chain cycle")):(r=iv(n))?X(r,n,c,u):c(n)):u(o)}catch(e){l&&!i&&l.exit(),u(e)}},i_=function(e,t){!e.notified&&(e.notified=!0,rX(function(){for(var n,r=e.reactions;n=r.get();)ig(n,e);e.notified=!1,t&&!e.rejection&&iy(e)}))},im=function(e,t,n){var r,i;ic?((r=ii.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),M.dispatchEvent(r)):r={promise:t,reason:n},!iu&&(i=M["on"+e])?i(r):e===il&&r0("Unhandled promise rejection",n)},iy=function(e){X(r3,M,function(){var t,n=e.facade,r=e.value;if(ib(e)&&(t=r1(function(){rT?io.emit("unhandledRejection",r,n):im(il,n,r)}),e.rejection=rT||ib(e)?2:1,t.error))throw t.value})},ib=function(e){return 1!==e.rejection&&!e.parent},iE=function(e){X(r3,M,function(){var t=e.facade;rT?io.emit("rejectionHandled",t):im("rejectionhandled",t,e.value)})},iw=function(e,t,n){return function(r){e(t,r,n)}},iS=function(e,t,n){!e.done&&(e.done=!0,n&&(e=n),e.value=t,e.state=2,i_(e,!0))},iO=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw ir("Promise can't be resolved itself");var r=iv(t);r?rX(function(){var n={done:!1};try{X(r,t,iw(iO,n,e),iw(iS,n,e))}catch(t){iS(n,t,e)}}):(e.value=t,e.state=1,i_(e,!1))}catch(t){iS({done:!1},t,e)}}};ip&&(it=(ie=function(e){ro(this,it),eA(e),X(I,this);var t=r8(this);try{e(iw(iO,t),iw(iS,t))}catch(e){iS(t,e)}}).prototype,(I=function(e){nG(this,{type:r5,done:!1,notified:!1,parent:!1,reactions:new r2,rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)nK(e,r,t[r],n);return e}(it,{then:function(e,t){var n=r9(this),r=ia(rw(this,ie));return n.parent=!0,r.ok=!V(e)||e,r.fail=V(t)&&t,r.domain=rT?io.domain:void 0,0==n.state?n.reactions.add(r):rX(function(){ig(r,n)}),r.promise},catch:function(e){return this.then(void 0,e)}}),A=function(){var e=new I,t=r8(e);this.promise=e,this.resolve=iw(iO,t),this.reject=iw(iS,t)},rQ.f=ia=function(e){return e===ie||e===R?new A(e):is(e)}),tp({global:!0,wrap:!0,forced:ip},{Promise:ie}),nZ(ie,r5,!1,!0),r=ep(r5),i=tu.f,J&&r&&!r[rr]&&i(r,rr,{configurable:!0,get:function(){return this}}),R=ep(r5),tp({target:r5,stat:!0,forced:ip},{reject:function(e){var t=ia(this);return X(t.reject,void 0,e),t.promise}}),tp({target:r5,stat:!0,forced:!0},{resolve:function(e){return rZ(this===R?ie:this,e)}}),tp({target:r5,stat:!0,forced:ih},{all:function(e){var t=this,n=ia(t),r=n.resolve,i=n.reject,o=r1(function(){var n=eA(t.resolve),o=[],a=0,s=1;nm(e,function(e){var c=a++,u=!1;s++,X(n,t,e).then(function(e){!u&&(u=!0,o[c]=e,--s||r(o))},i)}),--s||r(o)});return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=ia(t),r=n.reject,i=r1(function(){var i=eA(t.resolve);nm(e,function(e){X(i,t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}}),tp({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=rQ.f(t),r=n.resolve,i=n.reject,o=r1(function(){var n=eA(t.resolve),i=[],o=0,a=1;nm(e,function(e){var s=o++,c=!1;a++,X(n,t,e).then(function(e){!c&&(c=!0,i[s]={status:"fulfilled",value:e},--a||r(i))},function(e){!c&&(c=!0,i[s]={status:"rejected",reason:e},--a||r(i))})}),--a||r(i)});return o.error&&i(o.value),n.promise}});var iT="No one promise resolved";tp({target:"Promise",stat:!0},{any:function(e){var t=this,n=ep("AggregateError"),r=rQ.f(t),i=r.resolve,o=r.reject,a=r1(function(){var r=eA(t.resolve),a=[],s=0,c=1,u=!1;nm(e,function(e){var l=s++,f=!1;c++,X(r,t,e).then(function(e){!f&&!u&&(u=!0,i(e))},function(e){!f&&!u&&(f=!0,a[l]=e,--c||o(new n(a,iT)))})}),--c||o(new n(a,iT))});return a.error&&o(a.value),r.promise}}),tp({target:"Promise",proto:!0,real:!0,forced:!!rn&&H(function(){rn.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=rw(this,ep("Promise")),n=V(e);return this.then(n?function(n){return rZ(t,e()).then(function(){return n})}:e,n?function(n){return rZ(t,e()).then(function(){throw n})}:e)}});var ik=K("".charAt),iI=K("".charCodeAt),iA=K("".slice),iR=function(e){return function(t,n){var r,i,o=nb(ec(t)),a=tI(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=iI(o,a))<55296||r>56319||a+1===s||(i=iI(o,a+1))<56320||i>57343?e?ik(o,a):r:e?iA(o,a,a+2):(r-55296<<10)+(i-56320)+65536}},iC={codeAt:iR(!1),charAt:iR(!0)}.charAt,iL="String Iterator",iP=nU(iL);n7(String,"String",function(e){nG(this,{type:iL,string:nb(e),index:0})},function(){var e,t=iP(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=iC(n,r),t.index+=e.length,{value:e,done:!1})});var iD=ef.Promise,ix={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},iM=eJ("toStringTag");for(var ij in ix){var iN=M[ij],iB=iN&&iN.prototype;iB&&nu(iB)!==iM&&tl(iB,iM,ij),t7[ij]=t7.Array}var iG=function(){return(iG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function iU(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function iz(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)(r||!(i in t))&&(!r&&(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var iq=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],iW=function(){return{}};function iF(e){return e}function iK(e){return"object"==typeof e&&null!==e}var iV=Object.prototype;function iH(e){return"[object Array]"===iV.toString.call(e)}function iJ(e){return"number"==typeof e}function iY(e){return"string"==typeof e}function iX(e,t){if(!iH(e)||0===e.length)return!1;for(var n=0;n<e.length;){if(e[n]===t)return!0;n++}return!1}var i$=function(e,t){if(!iH(e))return e;var n=e.indexOf(t);if(n>=0){var r=e.slice();return r.splice(n,1),r}return e},iQ=function(e,t,n){for(var r,i=iU(t.split(".")),o=i[0],a=i.slice(1);e&&a.length>0;)e=e[o],o=(r=iU(a))[0],a=r.slice(1);if(!!e)return n(e,o)};function iZ(e){try{return iY(e)?e:JSON.stringify(e)}catch(e){return"[FAILED_TO_STRINGIFY]:"+String(e)}}var i0="".padStart?function(e,t){return void 0===t&&(t=8),e.padStart(t," ")}:function(e){return e},i1=0,i2=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,iz(["[SDK]",Date.now(),i0(""+i1++)],iU(e),!1))},i4=0,i3=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,iz(["[SDK]",Date.now(),i0(""+i4++)],iU(e),!1))},i6=function(e){return!!(Math.random()<Number(e))||!1},i5=function(e,t){return!!(e<Number(t))||!1},i8=function(e){return function(t){for(var n=t,r=0;r<e.length;r++)if(n)try{n=e[r](n)}catch(e){i2(e)}else break;return n}};function i9(){var e=function(){for(var e=Array(16),t=0,n=0;n<16;n++)(3&n)==0&&(t=0x100000000*Math.random()),e[n]=t>>>((3&n)<<3)&255;return e}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);var r=0;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]]].join("")}(e)}var i7=function(e){var t,n,r,i=(t={},n={},r={set:function(e,i){return t[e]=i,n[e]=iZ(i),r},merge:function(e){return t=iG(iG({},t),e),Object.keys(e).forEach(function(t){n[t]=iZ(e[t])}),r},delete:function(e){return delete t[e],delete n[e],r},clear:function(){return t={},n={},r},get:function(e){return n[e]},toString:function(){return iG({},n)}});e.provide("context",i),e.on("report",function(e){return!e.extra&&(e.extra={}),e.extra.context=i.toString(),e})},oe=function(){return Date.now()},ot=function(e){if(e)return!e.__SLARDAR_REGISTRY__&&(e.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),e.__SLARDAR_REGISTRY__.Slardar},on=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ot(function(){if("object"==typeof window&&iK(window))return window}());n&&(!n.errors&&(n.errors=[]),n.errors.push(e))},or="custom",oi=function(e){if(!!e&&!!iK(e)&&!!e.name&&!!iY(e.name)){var t={name:e.name,type:"event"};if("metrics"in e&&iK(e.metrics)){var n=e.metrics,r={};for(var i in n)iJ(n[i])&&(r[i]=n[i]);t.metrics=r}if("categories"in e&&iK(e.categories)){var o=e.categories,a={};for(var i in o)a[i]=iZ(o[i]);t.categories=a}return t}},oo=function(e){if(!!e&&!!iK(e)&&!!e.content&&!!iY(e.content)){var t={content:iZ(e.content),type:"log",level:"info"};if("level"in e&&(t.level=e.level),"extra"in e&&iK(e.extra)){var n=e.extra,r={},i={};for(var o in n)iJ(n[o])?r[o]=n[o]:i[o]=iZ(n[o]);t.metrics=r,t.categories=i}return t}},oa=function(e){e.provide("sendEvent",function(t){var n=oi(t);n&&e.report({ev_type:or,payload:n,extra:{timestamp:oe()}})}),e.provide("sendLog",function(t){var n=oo(t);n&&e.report({ev_type:or,payload:n,extra:{timestamp:oe()}})})},os=function(e,t){var n=e.common||{};return n.sample_rate=t,e.common=n,e},oc=function(e,t,n,r,i){var o;return e?(o=i(r,t),function(){return o}):function(){return n(t)}},ou=function(e,t,n){switch(n){case"eq":return iX(t,e);case"neq":return!iX(t,e);case"gt":return e>t[0];case"gte":return e>=t[0];case"lt":return e<t[0];case"lte":return e<=t[0];case"regex":return!!e.match(new RegExp(t.join("|")));case"not_regex":return!e.match(new RegExp(t.join("|")));default:return!1}},ol=function(e,t,n,r){var i,o,a=iQ(e,t,function(e,t){return e[t]});if(void 0===a)return!1;var s="boolean"==typeof a?"bool":iJ(a)?"number":"string";return ou(a,(i=r,o=s,i.map(function(e){switch(o){case"number":return Number(e);case"boolean":return"1"===e;default:return String(e)}})),n)},of=function(e,t){try{return"rule"===t.type?ol(e,t.field,t.op,t.values):"and"===t.type?t.children.every(function(t){return of(e,t)}):t.children.some(function(t){return of(e,t)})}catch(e){return on(e),!1}},od=function(e,t,n,r,i,o){var a={};return Object.keys(e).forEach(function(s){var c=e[s],u=c.enable,l=c.sample_rate,f=c.conditional_sample_rules;u?(a[s]={enable:u,sample_rate:l,effectiveSampleRate:l*n,hit:oc(t,l,r,i,o)},f&&(a[s].conditional_hit_rules=f.map(function(e){var a=e.sample_rate,s=e.filter;return{sample_rate:a,hit:oc(t,a,r,i,o),effectiveSampleRate:a*n,filter:s}}))):a[s]={enable:u,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}}),a},op=function(e,t,n,r,i){if(!t)return iF;var o=t.sample_rate,a=t.include_users,s=t.sample_granularity,c=t.rules,u=t.r,l=void 0===u?Math.random():u;if(iX(a,e))return function(e){return os(e,1)};var f="session"===s,d=oc(f,o,n,l,r),p=od(c,f,o,n,l,r);return function(e){if(!d())return f&&i[0](),!1;if(!(e.ev_type in p))return os(e,o);if(!p[e.ev_type].enable)return f&&i[1](e.ev_type),!1;if(null===(t=e.common)||void 0===t?void 0:t.sample_rate)return e;var t,n=p[e.ev_type],r=n.conditional_hit_rules;if(r){for(var a=0;a<r.length;a++)if(of(e,r[a].filter)){if(r[a].hit())return os(e,r[a].effectiveSampleRate);return!1}}return n.hit()?os(e,n.effectiveSampleRate):(!(r&&r.length)&&f&&i[1](e.ev_type),!1)}},oh=function(e){e.on("start",function(){var t=e.config(),n=op(t.userId,t.sample,i6,i5,[function(){e.destroy()},function(t){e.destroyAgent.removeByEvType(t)}]);e.on("build",n)})},ov={build:function(e){return{ev_type:e.ev_type,payload:e.payload,common:iG(iG({},e.extra||{}),e.overrides||{})}}},og=function(e){var t,n=e,r={},i=iW,o=iW;return{getConfig:function(){return n},setConfig:function(a){return r=iG(iG({},r),a||{}),function(){var t=iG(iG({},e),r);t.sample=function(e,t){if(!e||!t)return e||t;var n=iG(iG({},e),t);return n.include_users=iz(iz([],iU(e.include_users||[]),!1),iU(t.include_users||[]),!1),n.rules=iz(iz([],iU(Object.keys(e.rules||{})),!1),iU(Object.keys(t.rules||{})),!1).reduce(function(n,r){var i,o;return!(r in n)&&(r in(e.rules||{})&&r in(t.rules||{})?(n[r]=iG(iG({},e.rules[r]),t.rules[r]),n[r].conditional_sample_rules=iz(iz([],iU(e.rules[r].conditional_sample_rules||[]),!1),iU(t.rules[r].conditional_sample_rules||[]),!1)):n[r]=(null===(i=e.rules)||void 0===i?void 0:i[r])||(null===(o=t.rules)||void 0===o?void 0:o[r])),n},{}),n}(e.sample,r.sample),n=t,o()}(),!t&&(t=a,i()),n},onChange:function(e){o=e},onReady:function(e){i=e,t&&i()}}},o_={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}};function om(e){return iG({},e)}function oy(e){return iK(e)&&"bid"in e&&"transport"in e}function ob(e){return iG({},e)}var oE=function(e,t){var n={url:"",protocol:"",domain:"",path:"",query:"",timestamp:Date.now(),sdk_version:t.version||"1.4.5",sdk_name:t.name||"SDK_BASE"};return iG(iG({},e),{extra:iG(iG({},n),e.extra||{})})},ow=function(e){e.on("report",function(t){return oE(t,e.config())})},oS=function(e,t){var n={};return n.bid=t.bid,n.pid=t.pid,n.view_id=t.viewId,n.user_id=t.userId,n.device_id=t.deviceId,n.session_id=t.sessionId,n.release=t.release,n.env=t.env,iG(iG({},e),{extra:iG(iG({},n),e.extra||{})})},oO=function(e){e.on("beforeBuild",function(t){return oS(t,e.config())})},oT=function(e){return{bid:"",pid:"",viewId:"__"+Date.now(),userId:i9(),deviceId:i9(),sessionId:i9(),domain:"mon-i18n.tiktokv.com",release:"",env:"production",sample:o_,plugins:{},transport:{get:iW,post:iW}}},ok=function(e){var t=void 0===e?{}:e,n=t.createSender,r=void 0===n?function(e){var t,n;return function(e){var t,n=e.transport,r=e.endpoint,i=e.size,o=void 0===i?10:i,a=e.wait,s=void 0===a?1e3:a,c=[],u=0;function l(){if(!!c.length){var e=this.getBatchData();n.post({url:r,data:e,fail:function(n){t&&t(n,e)}}),c=[]}}return{getSize:function(){return o},getWait:function(){return s},setSize:function(e){o=e},setWait:function(e){s=e},getEndpoint:function(){return r},setEndpoint:function(e){r=e},send:function(e){c.push(e),c.length>=o&&l.call(this),clearTimeout(u),u=setTimeout(l.bind(this),s)},flush:function(){clearTimeout(u),l.call(this)},getBatchData:function(){return c.length?JSON.stringify({ev_type:"batch",list:c}):""},clear:function(){clearTimeout(u),c=[]},fail:function(e){t=e}}}({size:20,endpoint:(t=e.domain,void 0===n&&(n="/monitor_browser/collect/batch/"),(t&&t.indexOf("//")>=0?"":"https://")+t+n),transport:e.transport})}:n,i=t.builder,o=t.createDefaultConfig,a=function(e){var t,n,r,i,o,a,s=e.builder,c=e.createSender,u=e.createDefaultConfig,l=e.createConfigManager,f=e.userConfigNormalizer,d=e.initConfigNormalizer,p=e.validateInitConfig,h={};iq.forEach(function(e){return h[e]=[]});var v=!1,g=!1,_=!1,m=[],y=[];var b=(t=!1,n={},r=function(e){e.length&&e.forEach(function(e){try{e()}catch(e){}}),e.length=0},{set:function(e,i,o){n[e]?n[e].push([i,o]):n[e]=[[i,o]],t&&r(o)},has:function(e){return!!n[e]},remove:i=function(e){n[e]&&n[e].forEach(function(e){r(e[1])}),n[e]=void 0},removeByEvType:function(e){Object.keys(n).forEach(function(t){n[t]&&n[t].forEach(function(t){t[0]===e&&r(t[1])})})},clear:function(){t=!0,Object.keys(n).forEach(function(e){i(e)})}}),E={getBuilder:function(){return s},getSender:function(){return o},getPreStartQueue:function(){return m},init:function(e){if(v){i3("already inited");return}if(e&&iK(e)&&p(e)){var t=u(e);if(!t)throw Error("defaultConfig missing");var n=d(e);if((a=l(t)).setConfig(n),a.onChange(function(){w("config")}),!(o=c(a.getConfig())))throw Error("sender missing");v=!0,w("init",!0)}else throw Error("invalid InitConfig, init failed")},set:function(e){if(!!v)e&&iK(e)&&(w("beforeConfig",!1,e),null==a||a.setConfig(e))},config:function(e){if(!!v)return e&&iK(e)&&(w("beforeConfig",!1,e),null==a||a.setConfig(f(e))),null==a?void 0:a.getConfig()},provide:function(e,t){if(iX(y,e)){i3("cannot provide "+e+", reserved");return}E[e]=t,w("provide",!1,e)},start:function(){var e=this;if(!!v&&!g)null==a||a.onReady(function(){g=!0,w("start",!0),m.forEach(function(t){return e.build(t)}),m.length=0})},report:function(e){if(!e)return;var t=i8(h.beforeReport)(e);if(!t)return;var n=i8(h.report)(t);if(!!n)g?this.build(n):m.push(n)},build:function(e){if(!g)return;var t=i8(h.beforeBuild)(e);if(!t)return;var n=s.build(t);if(!n)return;var r=i8(h.build)(n);if(!!r)this.send(r)},send:function(e){if(!!g){var t=i8(h.beforeSend)(e);t&&(o.send(t),w("send",!1,t))}},destroy:function(){b.clear(),_=!0,m.length=0,w("beforeDestroy",!0)},on:function(e,t){if("init"===e&&v||"start"===e&&g||"beforeDestroy"===e&&_)try{t()}catch(e){}else h[e]&&h[e].push(t)},off:function(e,t){h[e]&&(h[e]=i$(h[e],t))},destroyAgent:b};return y=Object.keys(E),E;function w(e,t){void 0===t&&(t=!1);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];h[e].forEach(function(e){try{e.apply(void 0,iz([],iU(n),!1))}catch(e){}}),t&&(h[e].length=0)}}({validateInitConfig:oy,initConfigNormalizer:om,userConfigNormalizer:ob,createSender:r,builder:void 0===i?ov:i,createDefaultConfig:void 0===o?oT:o,createConfigManager:og});return i7(a),oO(a),ow(a),!function(e,t){e.on("init",function(){var t=[],n=function(n){n.forEach(function(n){var r=n.name;!iX(t,r)&&(t.push(r),n.setup(e),e.destroyAgent.set(r,r,[function(){t=i$(t,r),n.tearDown&&n.tearDown()}]))})};e.provide("applyIntegrations",n);var r=e.config();r&&r.integrations&&n(r.integrations)})}(a),a},oI=function(e){void 0===e&&(e={});var t=ok(e);return oh(t),oa(t),t};oI();var oA={in:"https://sgali-mcs.byteoversea.com",sg:"https://sgali-mcs.byteoversea.com",va:"https://maliva-mcs.byteoversea.com",tcpy:"https://mcs-sg.tiktok.com",tcpy_in:"https://mcs-va-useast2a.tiktokv.com",ttp:"https://mcs.tiktokw.us",ttp2:"https://mcs.tiktokw.us"},oR="s_v_web_id",oC="/vc/setting",oL=function(e){return -1!==["ttp","tcpy"].indexOf(e)?"/v1/list":"/list"},oP=function(e){return -1!==["ttp","tcpy"].indexOf(e)?"/v1/user/webid":"/webid"};(o=C||(C={}))[o.TIKTOK_NATIVE=1180]="TIKTOK_NATIVE",o[o.MUSICALLY_NATIVE=1233]="MUSICALLY_NATIVE",o[o.TIKTOK_LOGIN_WEB=1459]="TIKTOK_LOGIN_WEB",o[o.TIKTOK_LITE=1340]="TIKTOK_LITE",o[o.TIKTOK_MUSIC=310024]="TIKTOK_MUSIC",o[o.TIKTOK_OPEN_PLATFORM=2471]="TIKTOK_OPEN_PLATFORM",o[o.TIKTOK_LIVE_BACKSTAGE=6849]="TIKTOK_LIVE_BACKSTAGE",o[o.TIKTOK_SAFETY_ENFORCEMENT_TOOL=326738]="TIKTOK_SAFETY_ENFORCEMENT_TOOL",o[o.TIKTOK_ADS=1583]="TIKTOK_ADS",o[o.TIKTOK_SELLER_APP=7743]="TIKTOK_SELLER_APP",o[o.TIKTOK_MAGELLAN=4068]="TIKTOK_MAGELLAN",o[o.TIKTOK_MAGELLAN2=6556]="TIKTOK_MAGELLAN2",o[o.TIKTOK_WEB=1988]="TIKTOK_WEB",o[o.TIKTOK_BIZ_CENTER=2239]="TIKTOK_BIZ_CENTER";var oD=function(e){for(var t=Object.keys(e),n="",r=0;r<t.length;r++){var i=t[r],o=e[i],a=encodeURIComponent(i)+"="+encodeURIComponent(o);n=r>=1?n+"&"+a:a}return n},ox=function(e){return{aid:e.commonOptions.aid}},oM=new(function(){function e(){this.isInit=!1,this.pid="0",this.filename=""}return e.prototype.init=function(e,t){if(!this.isInit){this.isInit=!0,this.pid=String(e.aid),this.browserSlardar=oI();var n={transport:{get:function(){},post:function(e){t(e.url,JSON.parse(e.data))}},bid:"verify_center_va",pid:this.pid,release:"3.8.20-nontt-alpha.2",env:"in",sample:{sample_rate:1,include_users:[],sample_granularity:"session",rules:{pageview:{enable:!0,sample_rate:.01},js_error:{enable:!0,sample_rate:1},resource_error:{enable:!0,sample_rate:.01},http:{enable:!0,sample_rate:.01},resource:{enable:!0,sample_rate:.01}}}};this.browserSlardar.init(n),this.browserSlardar.context.merge({belong:"hotsdk"})}},e.prototype.start=function(){var e=this;this.browserSlardar.start(),this.reportPageview(),window.addEventListener("error",function(t){var n,r;if("ErrorEvent"===(r=t,Object.prototype.toString.call(r).slice(8,-1))&&e.filename&&t.filename===e.filename)e.reportJsError({message:null==t?void 0:t.message,stack:null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.stack,filename:null==t?void 0:t.filename})},!0)},e.prototype.destroy=function(){this.browserSlardar.destroy()},e.prototype.reportPageview=function(){this.browserSlardar.report({ev_type:"pageview",payload:{pid:this.pid,source:"init"}})},e.prototype.reportJsError=function(e){this.browserSlardar.report({ev_type:"js_error",payload:{error:{name:"JS ERROR",message:e.message,stack:e.stack,filename:e.filename||this.filename},breadcrumbs:[]}})},e.prototype.reportHttp=function(e){this.browserSlardar.report({ev_type:"http",payload:{api:"xhr",request:{method:e.method,url:e.url},response:{status:e.status,is_custom_error:!1,timestamp:Date.now()},duration:e.duration}})},e.prototype.reportResourceError=function(e){this.browserSlardar.report({ev_type:"resource_error",payload:{type:"script",url:e}})},e.prototype.reportResource=function(e){this.browserSlardar.report({ev_type:"resource",payload:{entryType:"resource",name:e.url,duration:e.duration,startTime:e.startTime}})},e.prototype.setFileName=function(e){this.filename=e},e}()),oj=function(e){var t=e.url,n=e.method,r=e.data,i=e.config;return new iD(function(o,a){var s=new XMLHttpRequest,c=Date.now(),u=function(){-1!==e.url.indexOf(oC)&&oM.reportHttp({url:t,method:n,duration:Date.now()-c,status:s.status})};s.onreadystatechange=function(){if(s.readyState===s.DONE){if(s.status>=200&&s.status<300){var e={},t=s.response||s.responseText,n=s.getResponseHeader("Content-Type")||s.getResponseHeader("content-type");if(n&&-1!==n.indexOf("application/json"))try{e=JSON.parse(t)}catch(e){}else e=t;setTimeout(function(){o(e)},0)}else a(TypeError("Network request failed, status: "+s.status));u()}},s.onerror=function(){setTimeout(function(){a(TypeError("Network request failed, occur error"))},0),u()},s.ontimeout=function(){setTimeout(function(){a(TypeError("Network request failed, timeout"))},0),u()},s.onabort=function(){setTimeout(function(){a(new DOMException("Aborted","AbortError"))},0),u()};var l=t;if((null==i?void 0:i.params)&&(l=l+"?"+oD(i.params)),s.open(n,l,!0),(null==i?void 0:i.timeout)&&"number"==typeof i.timeout?s.timeout=i.timeout:s.timeout=5e3,null==i?void 0:i.headers){for(var f=i.headers,d=0,p=Object.keys(f);d<p.length;d++){var h=p[d];s.setRequestHeader(h,f[h])}}(null==i?void 0:i.withCredentials)&&(s.withCredentials=i.withCredentials),"POST"===n.toUpperCase()&&r?s.send(JSON.stringify(r)):s.send(null)})},oN=function(e,t,n){void 0===n&&(n={});var r=n.headers?L({"Content-Type":"application/json"},n.headers):{"Content-Type":"application/json"};return oj({url:e,method:"POST",data:t,config:L(L({},n),{headers:r})})},oB=function(e){var t={exports:{}},n=Function("exports","module",e);try{n(t.exports,t)}catch(e){oM.reportJsError({message:null==e?void 0:e.message,stack:null==e?void 0:e.stack,filename:null==e?void 0:e.filename})}return t},oG=D(function(e,t){!function(t){var n,r;e.exports=t()}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(new Date*1+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o){if(!o[c])continue;if(s+="; "+c,!0!==o[c])s+="="+o[c].split(";")[0]}return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),c=s.slice(1).join("=");!n&&'"'===c.charAt(0)&&(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(i[u]=c,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})})}),oU=function(e){void 0===e&&(e={});var t,n,r,i=oG.get(oR);if(!i||0!==i.indexOf("verify_")){;t="object"==typeof(t=e)?t:{},n=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),t=e.length,n=Date.now().toString(36),r=[];r[8]=r[13]=r[18]=r[23]="_",r[14]="4";for(var i=0,o=void 0;i<36;i++)!r[i]&&(o=0|Math.random()*t,r[i]=e[19==i?3&o|8:o]);return"verify_"+n+"_"+r.join("")}(),r={path:"/"},t.domain&&/^([a-z0-9-]+)?(\.[a-z0-9-]+)+$/.test(t.domain)&&(r.domain=t.domain),oG.set(oR,n,r),i=n}return i},oz=function(e,t){return oN(""+(e||"https://vcs-i18n.tiktokv.com")+oC+"?aid="+(null==t?void 0:t.aid),{},{headers:{"X-Setting-Flag":1}})},oq=new(function(){function e(){this.fetchWebId=null,this.channelType="",this.isInit=!1,this.conf={app_id:0,evtParams:{}}}return e.prototype.init=function(e,t){if(void 0===t&&(t={}),!this.isInit){var n;if(this.isInit=!0,this.conf.app_id="cn"===e.region?2018:2740,this.conf.evtParams=L(L({},t),{webdriver:"undefined",isScheduling:"false",product_host:window.location.host,product_path:window.location.hostname,type:2,aid:e.aid}),n=e.aid,Object.values(C).filter(function(e){return"number"==typeof e}).includes(n))this.channelType="tcpy_in";else this.channelType="in"}},e.prototype.getTeaWebId=function(){if(!this.fetchWebId){var e,t;this.fetchWebId=(e=this.conf.app_id,oN(""+oA[t=this.channelType]+oP(t),{app_id:e,referer:document.referrer,url:window.location.href,user_agent:window.navigator.userAgent,user_unique_id:""}).then(function(e){return e.web_id}))}return this.fetchWebId},e.prototype.trackEvent=function(e,t){var n=this;void 0===t&&(t={}),this.getTeaWebId().then(function(r){var i=[{events:[{event:"turing_verify_sdk",is_bav:0,local_time_ms:Date.now(),params:JSON.stringify(L(L(L({},n.conf.evtParams),t),{key:"h5_"+e,time:Date.now()}))}],local_time:Math.floor(Date.now()/1e3),header:{app_id:n.conf.app_id,referrer:document.referrer,platform:"web",sdk_lib:"js",sdk_version:"0.0.0"},user:{user_unique_id:r,web_id:r}}];n.sendEvents(i)}).catch(function(e){console.log("err: ",e)})},e.prototype.sendEvents=function(e){var t,n;(t=e,oN(""+oA[n=this.channelType]+oL(n),t)).catch(function(e){console.log("report err: ",e)})},e}()),oW={verify:{back_up_js_v2:{in:[]},js_v2:{in:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/bric-captcha-ttweb/core-captcha/in/2.32.1/1.0.0.162/captcha.js"}}},oF={},oK={executor:"Function",static_domain:"",settingHost:""},oV={aid:1e5},oH=function(e){var t=Date.now();return oz(oK.settingHost,e).catch(function(){return oz(oK.settingHost,e)}).then(function(e){var n,r;return(oq.trackEvent("hotsdk_getsetting",{is_success:1,duration:Date.now()-t,message:""}),null===(r=null===(n=null==e?void 0:e.verify)||void 0===n?void 0:n.js_v2)||void 0===r?void 0:r.in)?e.verify:oW.verify}).catch(function(e){return oq.trackEvent("hotsdk_getsetting",{is_success:0,duration:Date.now()-t,message:null==e?void 0:e.message}),oW.verify})},oJ=function(e,t,n,r){oM.setFileName(e);var i,o,a=Date.now(),s=iD.resolve({});if("script"===t){;s=(i=e,new iD(function(e,t){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("crossorigin","anonymous"),r.setAttribute("src",i),n.appendChild(r);var o=setTimeout(function(){t(Error("LoadJSSDKMoreTan4000ms"))},4e3);r.onload=function(){clearTimeout(o),e(0)},r.onerror=function(){clearTimeout(o),t(Error("Failed to load SDK!"))}})).then(function(){return window.verifySDK})}else{;s=(o={timeout:2e4},oj({url:e,method:"GET",config:o})).then(function(e){if(n&&r&&n!==r){var t=RegExp(n,"g");e=e.replace(t,r)}return oB(e).exports})}return s.then(function(t){return oM.reportResource({url:e,startTime:Date.now(),duration:Date.now()-a}),t}).catch(function(t){return oM.reportResourceError(e),iD.reject(t)})},oY=function(){function e(){}return e.get=function(t){return(0===e.status||3===e.status)&&(e.status=1,e.core=oH(t).then(function(t){var n,r,i,o=null===(n=t.js_v2)||void 0===n?void 0:n.in,a=(null===(r=t.back_up_js_v2)||void 0===r?void 0:r.in)||[],s=null===(i=o.match(/\/\/([\w-]+(\.[\w-]+)+)/))||void 0===i?void 0:i[1];oK.static_domain="";var c=[o].concat(a);return new iD(function(t,n){var r=function(){var i,o=c.shift(),a=null===(i=o.match(/\/\/([\w-]+(\.[\w-]+)+)/))||void 0===i?void 0:i[1];oJ(o,oK.executor,s,a).then(function(n){t(n),e.status=2,oq.trackEvent("hotsdk_loadscript",{is_success:1})}).catch(function(t){c.length?r():(n(t),e.status=3,oq.trackEvent("hotsdk_loadscript",{is_success:0}))})};r()})}).catch(function(e){return iD.reject(e)})),e.core},e.status=0,e}(),oX=function(e){e.static_domain&&(oK.static_domain=e.static_domain),e.settingHost&&(oK.settingHost=e.settingHost),e.executor&&(oK.executor=e.executor)},o$=function(){function e(){}return e.config=function(e){oX(e)},e.init=function(e,t,n){var r=ox(e);return oq.init(L(L({},r),{region:"in"})),oM.init(r,oN),oM.start(),oY.get(r).then(function(n){Object.assign(oF,L(L({},e),{captchaOptions:L(L({},e.captchaOptions),{h5_check_version:(null===(r=e.captchaOptions)||void 0===r?void 0:r.closeDecisionCheck)?"0.0.0":"3.8.20-nontt-alpha.2"})}));var r,i=n.initVerifyCenter(oF);if(!t)return i;t(i)}).catch(function(e){if(!n)return iD.reject(e);n(e)})},e}();t.TTVerifyCenter=o$,t.close=function(){oY.get(oV).then(function(e){null==e||e.closeCaptcha()})},t.config=oX,t.getFp=function(){var e,t,n,r=(null===(t=null==oF?void 0:oF.captchaOptions)||void 0===t?void 0:t.fp)||oG.get(oR)||(void 0===(e=null===(n=null==oF?void 0:oF.captchaOptions)||void 0===n?void 0:n.fpCookieOption)&&(e={}),oU(e));return iD.resolve(r)},t.init=function(e,t,n){void 0===t&&(t=function(){}),void 0===n&&(n=function(){});var r=ox(e);Object.assign(oV,r),oq.init(L(L({},r),{region:"in"})),oM.init(r,oN),oM.start(),oY.get(r).then(function(n){var r;Object.assign(oF,L(L({},e),{captchaOptions:L(L({},e.captchaOptions),{h5_check_version:(null===(r=e.captchaOptions)||void 0===r?void 0:r.closeDecisionCheck)?"0.0.0":"3.8.20-nontt-alpha.2"})})),null==n||n.initVerifyOptions(oF),t(n)}).catch(function(e){var t;n({type:"loadJSSDK",msg:null!==(t=null==e?void 0:e.message)&&void 0!==t?t:""})})},t.render=function(e){oY.get(oV).then(function(t){null==t||t.autoRender(e)}).catch(function(e){console.log("err: ",e)})},t.transform=function(e){var t={code:"10000",from:"",type:"verify",version:"1",region:"in",subtype:"",verify_event:"",fp:"",detail:""};return 3059===e?t.subtype="text":3060===e?t.subtype="3d":99996===e?t.subtype="whirl":t.subtype="slide",JSON.stringify(t)}},860469:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o,a,s,c,u,l,f,d,p,h,v,g,_,m,y,b,E,w,S,O,T,k,I,A,R,C,L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0});var P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function D(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e,null==t?n.path:t)}},n.exports),n.exports}var x=function(e){return e&&e.Math==Math&&e},M=x("object"==typeof globalThis&&globalThis)||x("object"==typeof window&&window)||x("object"==typeof self&&self)||x("object"==typeof P&&P)||function(){return this}()||Function("return this")(),j=Function.prototype,N=j.apply,B=j.bind,G=j.call,U="object"==typeof Reflect&&Reflect.apply||(B?G.bind(N):function(){return G.apply(N,arguments)}),z=Function.prototype,q=z.bind,W=z.call,F=q&&q.bind(W),K=q?function(e){return e&&F(W,e)}:function(e){return e&&function(){return W.apply(e,arguments)}},V=function(e){return"function"==typeof e},H=function(e){try{return!!e()}catch(e){return!0}},J=!H(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Y=Function.prototype.call,X=Y.bind?Y.bind(Y):function(){return Y.apply(Y,arguments)},$={}.propertyIsEnumerable,Q=Object.getOwnPropertyDescriptor,Z={f:Q&&!$.call({1:2},1)?function(e){var t=Q(this,e);return!!t&&t.enumerable}:$},ee=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},et=K({}.toString),en=K("".slice),er=function(e){return en(et(e),8,-1)},ei=M.Object,eo=K("".split),ea=H(function(){return!ei("z").propertyIsEnumerable(0)})?function(e){return"String"==er(e)?eo(e,""):ei(e)}:ei,es=M.TypeError,ec=function(e){if(void 0==e)throw es("Can't call method on "+e);return e},eu=function(e){return ea(ec(e))},el=function(e){return"object"==typeof e?null!==e:V(e)},ef={},ed=function(e){return V(e)?e:void 0},ep=function(e,t){return arguments.length<2?ed(ef[e])||ed(M[e]):ef[e]&&ef[e][t]||M[e]&&M[e][t]},eh=K({}.isPrototypeOf),ev=ep("navigator","userAgent")||"",eg=M.process,e_=M.Deno,em=eg&&eg.versions||e_&&e_.version,ey=em&&em.v8;ey&&(s=(a=ey.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&ev&&(!(a=ev.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=ev.match(/Chrome\/(\d+)/))&&(s=+a[1]);var eb=s,eE=!!Object.getOwnPropertySymbols&&!H(function(){var e=Symbol();return!String(e)||!(Object(e) instanceof Symbol)||!Symbol.sham&&eb&&eb<41}),ew=eE&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,eS=M.Object,eO=ew?function(e){return"symbol"==typeof e}:function(e){var t=ep("Symbol");return V(t)&&eh(t.prototype,eS(e))},eT=M.String,ek=function(e){try{return eT(e)}catch(e){return"Object"}},eI=M.TypeError,eA=function(e){if(V(e))return e;throw eI(ek(e)+" is not a function")},eR=function(e,t){var n=e[t];return null==n?void 0:eA(n)},eC=M.TypeError,eL=function(e,t){var n,r;if("string"===t&&V(n=e.toString)&&!el(r=X(n,e))||V(n=e.valueOf)&&!el(r=X(n,e))||"string"!==t&&V(n=e.toString)&&!el(r=X(n,e)))return r;throw eC("Can't convert object to primitive value")},eP=Object.defineProperty,eD="__core-js_shared__",ex=M[eD]||function(e,t){try{eP(M,e,{value:t,configurable:!0,writable:!0})}catch(n){M[e]=t}return t}(eD,{}),eM=D(function(e){(e.exports=function(e,t){return ex[e]||(ex[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.1",mode:"pure",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})}),ej=M.Object,eN=function(e){return ej(ec(e))},eB=K({}.hasOwnProperty),eG=Object.hasOwn||function(e,t){return eB(eN(e),t)},eU=0,ez=Math.random(),eq=K(1..toString),eW=function(e){return"Symbol("+(void 0===e?"":e)+")_"+eq(++eU+ez,36)},eF=eM("wks"),eK=M.Symbol,eV=eK&&eK.for,eH=ew?eK:eK&&eK.withoutSetter||eW,eJ=function(e){if(!eG(eF,e)||!(eE||"string"==typeof eF[e])){var t="Symbol."+e;eE&&eG(eK,e)?eF[e]=eK[e]:ew&&eV?eF[e]=eV(t):eF[e]=eH(t)}return eF[e]},eY=M.TypeError,eX=eJ("toPrimitive"),e$=function(e,t){if(!el(e)||eO(e))return e;var n,r=eR(e,eX);if(r){if(void 0===t&&(t="default"),!el(n=X(r,e,t))||eO(n))return n;throw eY("Can't convert object to primitive value")}return void 0===t&&(t="number"),eL(e,t)},eQ=function(e){var t=e$(e,"string");return eO(t)?t:t+""},eZ=M.document,e0=el(eZ)&&el(eZ.createElement),e1=function(e){return e0?eZ.createElement(e):{}},e2=!J&&!H(function(){return 7!=Object.defineProperty(e1("div"),"a",{get:function(){return 7}}).a}),e4=Object.getOwnPropertyDescriptor,e3=J?e4:function(e,t){if(e=eu(e),t=eQ(t),e2)try{return e4(e,t)}catch(e){}if(eG(e,t))return ee(!X(Z.f,e,t),e[t])},e6=/#|\.prototype\./,e5=function(e,t){var n=e9[e8(e)];return n==te||n!=e7&&(V(t)?H(t):!!t)},e8=e5.normalize=function(e){return String(e).replace(e6,".").toLowerCase()},e9=e5.data={},e7=e5.NATIVE="N",te=e5.POLYFILL="P",tn=K(K.bind),tr=function(e,t){return eA(e),void 0===t?e:tn?tn(e,t):function(){return e.apply(t,arguments)}},ti=M.String,to=M.TypeError,ta=function(e){if(el(e))return e;throw to(ti(e)+" is not an object")},ts=M.TypeError,tc=Object.defineProperty,tu={f:J?tc:function(e,t,n){if(ta(e),t=eQ(t),ta(n),e2)try{return tc(e,t,n)}catch(e){}if("get"in n||"set"in n)throw ts("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},tl=J?function(e,t,n){return tu.f(e,t,ee(1,n))}:function(e,t,n){return e[t]=n,e},tf=e3,td=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return U(e,this,arguments)};return t.prototype=e.prototype,t},tp=function(e,t){var n,r,i,o,a,s,c,u,l=e.target,f=e.global,d=e.stat,p=e.proto,h=f?M:d?M[l]:(M[l]||{}).prototype,v=f?ef:ef[l]||tl(ef,l,{})[l],g=v.prototype;for(i in t)n=!e5(f?i:l+(d?".":"#")+i,e.forced)&&h&&eG(h,i),a=v[i],n&&(s=e.noTargetGet?(u=tf(h,i))&&u.value:h[i]),o=n&&s?s:t[i],(!n||typeof a!=typeof o)&&(c=e.bind&&n?tr(o,M):e.wrap&&n?td(o):p&&V(o)?K(o):o,(e.sham||o&&o.sham||a&&a.sham)&&tl(c,"sham",!0),tl(v,i,c),p&&(!eG(ef,r=l+"Prototype")&&tl(ef,r,{}),tl(ef[r],i,o),e.real&&g&&!g[i]&&tl(g,i,o)))},th=eM("keys"),tv=function(e){return th[e]||(th[e]=eW(e))},tg=!H(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),t_=tv("IE_PROTO"),tm=M.Object,ty=tm.prototype,tb=tg?tm.getPrototypeOf:function(e){var t=eN(e);if(eG(t,t_))return t[t_];var n=t.constructor;return V(n)&&t instanceof n?n.prototype:t instanceof tm?ty:null},tE=M.String,tw=M.TypeError,tS=function(e){if("object"==typeof e||V(e))return e;throw tw("Can't set "+tE(e)+" as a prototype")},tO=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=K(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return ta(n),tS(r),t?e(n,r):n.__proto__=r,n}}():void 0),tT=Math.ceil,tk=Math.floor,tI=function(e){var t=+e;return t!=t||0===t?0:(t>0?tk:tT)(t)},tA=Math.max,tR=Math.min,tC=function(e,t){var n=tI(e);return n<0?tA(n+t,0):tR(n,t)},tL=Math.min,tP=function(e){var t;return(t=e.length)>0?tL(tI(t),0x1fffffffffffff):0},tD=function(e){return function(t,n,r){var i,o=eu(t),a=tP(o),s=tC(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},tx={includes:tD(!0),indexOf:tD(!1)},tM={},tj=tx.indexOf,tN=K([].push),tB=function(e,t){var n,r=eu(e),i=0,o=[];for(n in r)!eG(tM,n)&&eG(r,n)&&tN(o,n);for(;t.length>i;)eG(r,n=t[i++])&&(~tj(o,n)||tN(o,n));return o},tG=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],tU=tG.concat("length","prototype"),tz={f:Object.getOwnPropertyNames||function(e){return tB(e,tU)}},tq={f:Object.getOwnPropertySymbols},tW=K([].concat),tF=ep("Reflect","ownKeys")||function(e){var t=tz.f(ta(e)),n=tq.f;return n?tW(t,n(e)):t},tK=Object.keys||function(e){return tB(e,tG)},tV=J?Object.defineProperties:function(e,t){ta(e);for(var n,r=eu(t),i=tK(t),o=i.length,a=0;o>a;)tu.f(e,n=i[a++],r[n]);return e},tH=ep("document","documentElement"),tJ="prototype",tY="script",tX=tv("IE_PROTO"),t$=function(){},tQ=function(e){return"<"+tY+">"+e+"</"+tY+">"},tZ=function(e){e.write(tQ("")),e.close();var t=e.parentWindow.Object;return e=null,t},t0=function(){var e,t=e1("iframe");return t.style.display="none",tH.appendChild(t),t.src=String("java"+tY+":"),(e=t.contentWindow.document).open(),e.write(tQ("document.F=Object")),e.close(),e.F},t1=function(){try{c=new ActiveXObject("htmlfile")}catch(e){}t1="undefined"!=typeof document?document.domain&&c?tZ(c):t0():tZ(c);for(var e=tG.length;e--;)delete t1[tJ][tG[e]];return t1()};tM[tX]=!0;var t2=Object.create||function(e,t){var n;return null!==e?(t$[tJ]=ta(e),n=new t$,t$[tJ]=null,n[tX]=e):n=t1(),void 0===t?n:tV(n,t)},t4=K("".replace),t3=String(Error("zxcasd").stack),t6=/\n\s*at [^:]*:[^\n]*/,t5=t6.test(t3),t8=function(e,t){if(t5&&"string"==typeof e)for(;t--;)e=t4(e,t6,"");return e},t9=function(e,t){el(t)&&"cause"in t&&tl(e,"cause",t.cause)},t7={},ne=eJ("iterator"),nt=Array.prototype,nn=eJ("toStringTag"),nr={};nr[nn]="z";var ni="[object z]"===String(nr),no=eJ("toStringTag"),na=M.Object,ns="Arguments"==er(function(){return arguments}()),nc=function(e,t){try{return e[t]}catch(e){}},nu=ni?er:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=nc(t=na(e),no))?n:ns?er(t):"Object"==(r=er(t))&&V(t.callee)?"Arguments":r},nl=eJ("iterator"),nf=function(e){if(void 0!=e)return eR(e,nl)||eR(e,"@@iterator")||t7[nu(e)]},nd=M.TypeError,np=function(e,t){var n=arguments.length<2?nf(e):t;if(eA(n))return ta(X(n,e));throw nd(ek(e)+" is not iterable")},nh=function(e,t,n){var r,i;ta(e);try{if(!(r=eR(e,"return"))){if("throw"===t)throw n;return n}r=X(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return ta(r),n},nv=M.TypeError,ng=function(e,t){this.stopped=e,this.result=t},n_=ng.prototype,nm=function(e,t,n){var r,i,o,a,s,c,u,l,f=n&&n.that,d=!!(n&&n.AS_ENTRIES),p=!!(n&&n.IS_ITERATOR),h=!!(n&&n.INTERRUPTED),v=tr(t,f),g=function(e){return i&&nh(i,"normal",e),new ng(!0,e)},_=function(e){return d?(ta(e),h?v(e[0],e[1],g):v(e[0],e[1])):h?v(e,g):v(e)};if(p)i=e;else{;if(!(o=nf(e)))throw nv(ek(e)+" is not iterable");if(void 0!==(r=o)&&(t7.Array===r||nt[ne]===r)){for(a=0,s=tP(e);s>a;a++)if((c=_(e[a]))&&eh(n_,c))return c;return new ng(!1)}i=np(e,o)}for(u=i.next;!(l=X(u,i)).done;){try{c=_(l.value)}catch(e){nh(i,"throw",e)}if("object"==typeof c&&c&&eh(n_,c))return c}return new ng(!1)},ny=M.String,nb=function(e){if("Symbol"===nu(e))throw TypeError("Cannot convert a Symbol value to a string");return ny(e)},nE=!H(function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",ee(1,7)),7!==e.stack)}),nw=eJ("toStringTag"),nS=M.Error,nO=[].push,nT=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,i=eh(nk,this);tO?n=tO(new nS,i?tb(this):nk):tl(n=i?this:t2(nk),nw,"Error"),void 0!==t&&tl(n,"message",function(e,t){return void 0===e?arguments.length<2?"":t:nb(e)}(t)),nE&&tl(n,"stack",t8(n.stack,1)),t9(n,r);var o=[];return nm(e,nO,{that:o}),tl(n,"errors",o),n};tO?tO(nT,nS):!function(e,t,n){for(var r=tF(t),i=tu.f,o=e3,a=0;a<r.length;a++){var s=r[a];!eG(e,s)&&!(n&&eG(n,s))&&i(e,s,o(t,s))}}(nT,nS,{name:!0});var nk=nT.prototype=t2(nS.prototype,{constructor:ee(1,nT),message:ee(1,""),name:ee(1,"AggregateError")});tp({global:!0},{AggregateError:nT});var nI=K(Function.toString);!V(ex.inspectSource)&&(ex.inspectSource=function(e){return nI(e)});var nA=ex.inspectSource,nR=M.WeakMap,nC=V(nR)&&/native code/.test(nA(nR)),nL="Object already initialized",nP=M.TypeError,nD=M.WeakMap;if(nC||ex.state){var nx=ex.state||(ex.state=new nD),nM=K(nx.get),nj=K(nx.has),nN=K(nx.set);u=function(e,t){if(nj(nx,e))throw new nP(nL);return t.facade=e,nN(nx,e,t),t},l=function(e){return nM(nx,e)||{}},f=function(e){return nj(nx,e)}}else{var nB=tv("state");tM[nB]=!0,u=function(e,t){if(eG(e,nB))throw new nP(nL);return t.facade=e,tl(e,nB,t),t},l=function(e){return eG(e,nB)?e[nB]:{}},f=function(e){return eG(e,nB)}}var nG=u,nU=function(e){return function(t){var n;if(!el(t)||(n=l(t)).type!==e)throw nP("Incompatible receiver, "+e+" required");return n}},nz=Function.prototype,nq=J&&Object.getOwnPropertyDescriptor,nW=eG(nz,"name"),nF=nW&&(!J||J&&nq(nz,"name").configurable),nK=function(e,t,n,r){r&&r.enumerable?e[t]=n:tl(e,t,n)},nV=eJ("iterator"),nH=!1;[].keys&&("next"in(h=[].keys())?(p=tb(tb(h)))!==Object.prototype&&(d=p):nH=!0),!V((d=void 0==d||H(function(){var e={};return d[nV].call(e)!==e})?{}:t2(d))[nV])&&nK(d,nV,function(){return this});var nJ=d,nY=nH,nX=ni?({}).toString:function(){return"[object "+nu(this)+"]"},n$=tu.f,nQ=eJ("toStringTag"),nZ=function(e,t,n,r){if(e){var i=n?e:e.prototype;!eG(i,nQ)&&n$(i,nQ,{configurable:!0,value:t}),r&&!ni&&tl(i,"toString",nX)}},n0=function(){return this},n1=function(e,t,n,r){var i=t+" Iterator";return e.prototype=t2(nJ,{next:ee(+!r,n)}),nZ(e,i,!1,!0),t7[i]=n0,e},n2=nW&&"something"===(function(){}).name,n4=nY,n3=eJ("iterator"),n6="keys",n5="values",n8="entries",n9=function(){return this},n7=function(e,t,n,r,i,o,a){n1(n,t,r);var s,c,u,l=function(e){if(e===i&&v)return v;if(!n4&&e in p)return p[e];switch(e){case n6:return function(){return new n(this,e)};case n5:case n8:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",d=!1,p=e.prototype,h=p[n3]||p["@@iterator"]||i&&p[i],v=!n4&&h||l(i),g="Array"==t&&p.entries||h;if(g&&(s=tb(g.call(new e)))!==Object.prototype&&s.next&&(nZ(s,f,!0,!0),t7[f]=n9),n2&&i==n5&&h&&h.name!==n5&&(d=!0,v=function(){return X(h,this)}),i){if(c={values:l(n5),keys:o?v:l(n6),entries:l(n8)},a)for(u in c)(n4||d||!(u in p))&&nK(p,u,c[u]);else tp({target:t,proto:!0,forced:n4||d},c)}return a&&p[n3]!==v&&nK(p,n3,v,{name:i}),t7[t]=v,c};tu.f;var re="Array Iterator",rt=nU(re);n7(Array,"Array",function(e,t){nG(this,{type:re,target:eu(e),index:0,kind:t})},function(){var e=rt(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),t7.Arguments=t7.Array;var rn=M.Promise,rr=eJ("species"),ri=M.TypeError,ro=function(e,t){if(eh(t,e))return e;throw ri("Incorrect invocation")},ra=eJ("iterator"),rs=!1;try{var rc=0,ru={next:function(){return{done:!!rc++}},return:function(){rs=!0}};ru[ra]=function(){return this},Array.from(ru,function(){throw 2})}catch(e){}var rl=function(){},rf=[],rd=ep("Reflect","construct"),rp=/^\s*(?:class|function)\b/,rh=K(rp.exec),rv=!rp.exec(rl),rg=function(e){if(!V(e))return!1;try{return rd(rl,rf,e),!0}catch(e){return!1}},r_=function(e){if(!V(e))return!1;switch(nu(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return rv||!!rh(rp,nA(e))}catch(e){return!0}};r_.sham=!0;var rm=!rd||H(function(){var e;return rg(rg.call)||!rg(Object)||!rg(function(){e=!0})||e})?r_:rg,ry=M.TypeError,rb=function(e){if(rm(e))return e;throw ry(ek(e)+" is not a constructor")},rE=eJ("species"),rw=function(e,t){var n,r=ta(e).constructor;return void 0===r||void 0==(n=ta(r)[rE])?t:rb(n)},rS=K([].slice),rO=/(?:ipad|iphone|ipod).*applewebkit/i.test(ev),rT="process"==er(M.process),rk=M.setImmediate,rI=M.clearImmediate,rA=M.process,rR=M.Dispatch,rC=M.Function,rL=M.MessageChannel,rP=M.String,rD=0,rx={},rM="onreadystatechange";try{v=M.location}catch(e){}var rj=function(e){if(eG(rx,e)){var t=rx[e];delete rx[e],t()}},rN=function(e){return function(){rj(e)}},rB=function(e){rj(e.data)},rG=function(e){M.postMessage(rP(e),v.protocol+"//"+v.host)};(!rk||!rI)&&(rk=function(e){var t=rS(arguments,1);return rx[++rD]=function(){U(V(e)?e:rC(e),void 0,t)},g(rD),rD},rI=function(e){delete rx[e]},rT?g=function(e){rA.nextTick(rN(e))}:rR&&rR.now?g=function(e){rR.now(rN(e))}:rL&&!rO?(m=(_=new rL).port2,_.port1.onmessage=rB,g=tr(m.postMessage,m)):M.addEventListener&&V(M.postMessage)&&!M.importScripts&&v&&"file:"!==v.protocol&&!H(rG)?(g=rG,M.addEventListener("message",rB,!1)):g=rM in e1("script")?function(e){tH.appendChild(e1("script"))[rM]=function(){tH.removeChild(this),rj(e)}}:function(e){setTimeout(rN(e),0)});var rU=rk,rz=/ipad|iphone|ipod/i.test(ev)&&void 0!==M.Pebble,rq=/web0s(?!.*chrome)/i.test(ev),rW=rU,rF=M.MutationObserver||M.WebKitMutationObserver,rK=M.document,rV=M.process,rH=M.Promise,rJ=e3(M,"queueMicrotask"),rY=rJ&&rJ.value;!rY&&(y=function(){var e,t;for(rT&&(e=rV.domain)&&e.exit();b;){t=b.fn,b=b.next;try{t()}catch(e){throw b?w():E=void 0,e}}E=void 0,e&&e.enter()},rO||rT||rq||!rF||!rK?!rz&&rH&&rH.resolve?((T=rH.resolve(void 0)).constructor=rH,k=tr(T.then,T),w=function(){k(y)}):rT?w=function(){rV.nextTick(y)}:(rW=tr(rW,M),w=function(){rW(y)}):(S=!0,O=rK.createTextNode(""),new rF(y).observe(O,{characterData:!0}),w=function(){O.data=S=!S}));var rX=rY||function(e){var t={fn:e,next:void 0};E&&(E.next=t),!b&&(b=t,w()),E=t},r$=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=eA(t),this.reject=eA(n)},rQ={f:function(e){return new r$(e)}},rZ=function(e,t){if(ta(e),el(t)&&t.constructor===e)return t;var n=rQ.f(e);return(0,n.resolve)(t),n.promise},r0=function(e,t){var n=M.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},r1=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},r2=function(){this.head=null,this.tail=null};r2.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var r4="object"==typeof window,r3=rU,r6=eJ("species"),r5="Promise",r8=nU(r5),r9=nU(r5),r7=rn&&rn.prototype,ie=rn,it=r7,ir=M.TypeError,ii=M.document,io=M.process,ia=rQ.f,is=ia,ic=!!(ii&&ii.createEvent&&M.dispatchEvent),iu=V(M.PromiseRejectionEvent),il="unhandledrejection",id=!1,ip=e5(r5,function(){var e=nA(ie),t=e!==String(ie);if(!t&&66===eb||!it.finally)return!0;if(eb>=51&&/native code/.test(e))return!1;var n=new ie(function(e){e(1)}),r=function(e){e(function(){},function(){})};return(n.constructor={})[r6]=r,!(id=n.then(function(){}) instanceof r)||!t&&r4&&!iu}),ih=ip||!function(e,t){if(!rs)return!1;var n=!1;try{var r={};r[ra]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}(function(e){ie.all(e).catch(function(){})}),iv=function(e){var t;return!!(el(e)&&V(t=e.then))&&t},ig=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(!a&&(2===t.rejection&&iE(t),t.rejection=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===e.promise?u(ir("Promise-chain cycle")):(r=iv(n))?X(r,n,c,u):c(n)):u(o)}catch(e){l&&!i&&l.exit(),u(e)}},i_=function(e,t){!e.notified&&(e.notified=!0,rX(function(){for(var n,r=e.reactions;n=r.get();)ig(n,e);e.notified=!1,t&&!e.rejection&&iy(e)}))},im=function(e,t,n){var r,i;ic?((r=ii.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),M.dispatchEvent(r)):r={promise:t,reason:n},!iu&&(i=M["on"+e])?i(r):e===il&&r0("Unhandled promise rejection",n)},iy=function(e){X(r3,M,function(){var t,n=e.facade,r=e.value;if(ib(e)&&(t=r1(function(){rT?io.emit("unhandledRejection",r,n):im(il,n,r)}),e.rejection=rT||ib(e)?2:1,t.error))throw t.value})},ib=function(e){return 1!==e.rejection&&!e.parent},iE=function(e){X(r3,M,function(){var t=e.facade;rT?io.emit("rejectionHandled",t):im("rejectionhandled",t,e.value)})},iw=function(e,t,n){return function(r){e(t,r,n)}},iS=function(e,t,n){!e.done&&(e.done=!0,n&&(e=n),e.value=t,e.state=2,i_(e,!0))},iO=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw ir("Promise can't be resolved itself");var r=iv(t);r?rX(function(){var n={done:!1};try{X(r,t,iw(iO,n,e),iw(iS,n,e))}catch(t){iS(n,t,e)}}):(e.value=t,e.state=1,i_(e,!1))}catch(t){iS({done:!1},t,e)}}};ip&&(it=(ie=function(e){ro(this,it),eA(e),X(I,this);var t=r8(this);try{e(iw(iO,t),iw(iS,t))}catch(e){iS(t,e)}}).prototype,(I=function(e){nG(this,{type:r5,done:!1,notified:!1,parent:!1,reactions:new r2,rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)nK(e,r,t[r],n);return e}(it,{then:function(e,t){var n=r9(this),r=ia(rw(this,ie));return n.parent=!0,r.ok=!V(e)||e,r.fail=V(t)&&t,r.domain=rT?io.domain:void 0,0==n.state?n.reactions.add(r):rX(function(){ig(r,n)}),r.promise},catch:function(e){return this.then(void 0,e)}}),A=function(){var e=new I,t=r8(e);this.promise=e,this.resolve=iw(iO,t),this.reject=iw(iS,t)},rQ.f=ia=function(e){return e===ie||e===R?new A(e):is(e)}),tp({global:!0,wrap:!0,forced:ip},{Promise:ie}),nZ(ie,r5,!1,!0),r=ep(r5),i=tu.f,J&&r&&!r[rr]&&i(r,rr,{configurable:!0,get:function(){return this}}),R=ep(r5),tp({target:r5,stat:!0,forced:ip},{reject:function(e){var t=ia(this);return X(t.reject,void 0,e),t.promise}}),tp({target:r5,stat:!0,forced:!0},{resolve:function(e){return rZ(this===R?ie:this,e)}}),tp({target:r5,stat:!0,forced:ih},{all:function(e){var t=this,n=ia(t),r=n.resolve,i=n.reject,o=r1(function(){var n=eA(t.resolve),o=[],a=0,s=1;nm(e,function(e){var c=a++,u=!1;s++,X(n,t,e).then(function(e){!u&&(u=!0,o[c]=e,--s||r(o))},i)}),--s||r(o)});return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=ia(t),r=n.reject,i=r1(function(){var i=eA(t.resolve);nm(e,function(e){X(i,t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}}),tp({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=rQ.f(t),r=n.resolve,i=n.reject,o=r1(function(){var n=eA(t.resolve),i=[],o=0,a=1;nm(e,function(e){var s=o++,c=!1;a++,X(n,t,e).then(function(e){!c&&(c=!0,i[s]={status:"fulfilled",value:e},--a||r(i))},function(e){!c&&(c=!0,i[s]={status:"rejected",reason:e},--a||r(i))})}),--a||r(i)});return o.error&&i(o.value),n.promise}});var iT="No one promise resolved";tp({target:"Promise",stat:!0},{any:function(e){var t=this,n=ep("AggregateError"),r=rQ.f(t),i=r.resolve,o=r.reject,a=r1(function(){var r=eA(t.resolve),a=[],s=0,c=1,u=!1;nm(e,function(e){var l=s++,f=!1;c++,X(r,t,e).then(function(e){!f&&!u&&(u=!0,i(e))},function(e){!f&&!u&&(f=!0,a[l]=e,--c||o(new n(a,iT)))})}),--c||o(new n(a,iT))});return a.error&&o(a.value),r.promise}}),tp({target:"Promise",proto:!0,real:!0,forced:!!rn&&H(function(){rn.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=rw(this,ep("Promise")),n=V(e);return this.then(n?function(n){return rZ(t,e()).then(function(){return n})}:e,n?function(n){return rZ(t,e()).then(function(){throw n})}:e)}});var ik=K("".charAt),iI=K("".charCodeAt),iA=K("".slice),iR=function(e){return function(t,n){var r,i,o=nb(ec(t)),a=tI(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=iI(o,a))<55296||r>56319||a+1===s||(i=iI(o,a+1))<56320||i>57343?e?ik(o,a):r:e?iA(o,a,a+2):(r-55296<<10)+(i-56320)+65536}},iC={codeAt:iR(!1),charAt:iR(!0)}.charAt,iL="String Iterator",iP=nU(iL);n7(String,"String",function(e){nG(this,{type:iL,string:nb(e),index:0})},function(){var e,t=iP(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=iC(n,r),t.index+=e.length,{value:e,done:!1})});var iD=ef.Promise,ix={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},iM=eJ("toStringTag");for(var ij in ix){var iN=M[ij],iB=iN&&iN.prototype;iB&&nu(iB)!==iM&&tl(iB,iM,ij),t7[ij]=t7.Array}var iG=function(){return(iG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function iU(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function iz(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)(r||!(i in t))&&(!r&&(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var iq=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],iW=function(){return{}};function iF(e){return e}function iK(e){return"object"==typeof e&&null!==e}var iV=Object.prototype;function iH(e){return"[object Array]"===iV.toString.call(e)}function iJ(e){return"number"==typeof e}function iY(e){return"string"==typeof e}function iX(e,t){if(!iH(e)||0===e.length)return!1;for(var n=0;n<e.length;){if(e[n]===t)return!0;n++}return!1}var i$=function(e,t){if(!iH(e))return e;var n=e.indexOf(t);if(n>=0){var r=e.slice();return r.splice(n,1),r}return e},iQ=function(e,t,n){for(var r,i=iU(t.split(".")),o=i[0],a=i.slice(1);e&&a.length>0;)e=e[o],o=(r=iU(a))[0],a=r.slice(1);if(!!e)return n(e,o)};function iZ(e){try{return iY(e)?e:JSON.stringify(e)}catch(e){return"[FAILED_TO_STRINGIFY]:"+String(e)}}var i0="".padStart?function(e,t){return void 0===t&&(t=8),e.padStart(t," ")}:function(e){return e},i1=0,i2=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,iz(["[SDK]",Date.now(),i0(""+i1++)],iU(e),!1))},i4=0,i3=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,iz(["[SDK]",Date.now(),i0(""+i4++)],iU(e),!1))},i6=function(e){return!!(Math.random()<Number(e))||!1},i5=function(e,t){return!!(e<Number(t))||!1},i8=function(e){return function(t){for(var n=t,r=0;r<e.length;r++)if(n)try{n=e[r](n)}catch(e){i2(e)}else break;return n}};function i9(){var e=function(){for(var e=Array(16),t=0,n=0;n<16;n++)(3&n)==0&&(t=0x100000000*Math.random()),e[n]=t>>>((3&n)<<3)&255;return e}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);var r=0;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]]].join("")}(e)}var i7=function(e){var t,n,r,i=(t={},n={},r={set:function(e,i){return t[e]=i,n[e]=iZ(i),r},merge:function(e){return t=iG(iG({},t),e),Object.keys(e).forEach(function(t){n[t]=iZ(e[t])}),r},delete:function(e){return delete t[e],delete n[e],r},clear:function(){return t={},n={},r},get:function(e){return n[e]},toString:function(){return iG({},n)}});e.provide("context",i),e.on("report",function(e){return!e.extra&&(e.extra={}),e.extra.context=i.toString(),e})},oe=function(){return Date.now()},ot=function(e){if(e)return!e.__SLARDAR_REGISTRY__&&(e.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),e.__SLARDAR_REGISTRY__.Slardar},on=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ot(function(){if("object"==typeof window&&iK(window))return window}());n&&(!n.errors&&(n.errors=[]),n.errors.push(e))},or="custom",oi=function(e){if(!!e&&!!iK(e)&&!!e.name&&!!iY(e.name)){var t={name:e.name,type:"event"};if("metrics"in e&&iK(e.metrics)){var n=e.metrics,r={};for(var i in n)iJ(n[i])&&(r[i]=n[i]);t.metrics=r}if("categories"in e&&iK(e.categories)){var o=e.categories,a={};for(var i in o)a[i]=iZ(o[i]);t.categories=a}return t}},oo=function(e){if(!!e&&!!iK(e)&&!!e.content&&!!iY(e.content)){var t={content:iZ(e.content),type:"log",level:"info"};if("level"in e&&(t.level=e.level),"extra"in e&&iK(e.extra)){var n=e.extra,r={},i={};for(var o in n)iJ(n[o])?r[o]=n[o]:i[o]=iZ(n[o]);t.metrics=r,t.categories=i}return t}},oa=function(e){e.provide("sendEvent",function(t){var n=oi(t);n&&e.report({ev_type:or,payload:n,extra:{timestamp:oe()}})}),e.provide("sendLog",function(t){var n=oo(t);n&&e.report({ev_type:or,payload:n,extra:{timestamp:oe()}})})},os=function(e,t){var n=e.common||{};return n.sample_rate=t,e.common=n,e},oc=function(e,t,n,r,i){var o;return e?(o=i(r,t),function(){return o}):function(){return n(t)}},ou=function(e,t,n){switch(n){case"eq":return iX(t,e);case"neq":return!iX(t,e);case"gt":return e>t[0];case"gte":return e>=t[0];case"lt":return e<t[0];case"lte":return e<=t[0];case"regex":return!!e.match(new RegExp(t.join("|")));case"not_regex":return!e.match(new RegExp(t.join("|")));default:return!1}},ol=function(e,t,n,r){var i,o,a=iQ(e,t,function(e,t){return e[t]});if(void 0===a)return!1;var s="boolean"==typeof a?"bool":iJ(a)?"number":"string";return ou(a,(i=r,o=s,i.map(function(e){switch(o){case"number":return Number(e);case"boolean":return"1"===e;default:return String(e)}})),n)},of=function(e,t){try{return"rule"===t.type?ol(e,t.field,t.op,t.values):"and"===t.type?t.children.every(function(t){return of(e,t)}):t.children.some(function(t){return of(e,t)})}catch(e){return on(e),!1}},od=function(e,t,n,r,i,o){var a={};return Object.keys(e).forEach(function(s){var c=e[s],u=c.enable,l=c.sample_rate,f=c.conditional_sample_rules;u?(a[s]={enable:u,sample_rate:l,effectiveSampleRate:l*n,hit:oc(t,l,r,i,o)},f&&(a[s].conditional_hit_rules=f.map(function(e){var a=e.sample_rate,s=e.filter;return{sample_rate:a,hit:oc(t,a,r,i,o),effectiveSampleRate:a*n,filter:s}}))):a[s]={enable:u,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}}),a},op=function(e,t,n,r,i){if(!t)return iF;var o=t.sample_rate,a=t.include_users,s=t.sample_granularity,c=t.rules,u=t.r,l=void 0===u?Math.random():u;if(iX(a,e))return function(e){return os(e,1)};var f="session"===s,d=oc(f,o,n,l,r),p=od(c,f,o,n,l,r);return function(e){if(!d())return f&&i[0](),!1;if(!(e.ev_type in p))return os(e,o);if(!p[e.ev_type].enable)return f&&i[1](e.ev_type),!1;if(null===(t=e.common)||void 0===t?void 0:t.sample_rate)return e;var t,n=p[e.ev_type],r=n.conditional_hit_rules;if(r){for(var a=0;a<r.length;a++)if(of(e,r[a].filter)){if(r[a].hit())return os(e,r[a].effectiveSampleRate);return!1}}return n.hit()?os(e,n.effectiveSampleRate):(!(r&&r.length)&&f&&i[1](e.ev_type),!1)}},oh=function(e){e.on("start",function(){var t=e.config(),n=op(t.userId,t.sample,i6,i5,[function(){e.destroy()},function(t){e.destroyAgent.removeByEvType(t)}]);e.on("build",n)})},ov={build:function(e){return{ev_type:e.ev_type,payload:e.payload,common:iG(iG({},e.extra||{}),e.overrides||{})}}},og=function(e){var t,n=e,r={},i=iW,o=iW;return{getConfig:function(){return n},setConfig:function(a){return r=iG(iG({},r),a||{}),function(){var t=iG(iG({},e),r);t.sample=function(e,t){if(!e||!t)return e||t;var n=iG(iG({},e),t);return n.include_users=iz(iz([],iU(e.include_users||[]),!1),iU(t.include_users||[]),!1),n.rules=iz(iz([],iU(Object.keys(e.rules||{})),!1),iU(Object.keys(t.rules||{})),!1).reduce(function(n,r){var i,o;return!(r in n)&&(r in(e.rules||{})&&r in(t.rules||{})?(n[r]=iG(iG({},e.rules[r]),t.rules[r]),n[r].conditional_sample_rules=iz(iz([],iU(e.rules[r].conditional_sample_rules||[]),!1),iU(t.rules[r].conditional_sample_rules||[]),!1)):n[r]=(null===(i=e.rules)||void 0===i?void 0:i[r])||(null===(o=t.rules)||void 0===o?void 0:o[r])),n},{}),n}(e.sample,r.sample),n=t,o()}(),!t&&(t=a,i()),n},onChange:function(e){o=e},onReady:function(e){i=e,t&&i()}}},o_={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}};function om(e){return iG({},e)}function oy(e){return iK(e)&&"bid"in e&&"transport"in e}function ob(e){return iG({},e)}var oE=function(e,t){var n={url:"",protocol:"",domain:"",path:"",query:"",timestamp:Date.now(),sdk_version:t.version||"1.4.5",sdk_name:t.name||"SDK_BASE"};return iG(iG({},e),{extra:iG(iG({},n),e.extra||{})})},ow=function(e){e.on("report",function(t){return oE(t,e.config())})},oS=function(e,t){var n={};return n.bid=t.bid,n.pid=t.pid,n.view_id=t.viewId,n.user_id=t.userId,n.device_id=t.deviceId,n.session_id=t.sessionId,n.release=t.release,n.env=t.env,iG(iG({},e),{extra:iG(iG({},n),e.extra||{})})},oO=function(e){e.on("beforeBuild",function(t){return oS(t,e.config())})},oT=function(e){return{bid:"",pid:"",viewId:"__"+Date.now(),userId:i9(),deviceId:i9(),sessionId:i9(),domain:"mon-va.byteoversea.com",release:"",env:"production",sample:o_,plugins:{},transport:{get:iW,post:iW}}},ok=function(e){var t=void 0===e?{}:e,n=t.createSender,r=void 0===n?function(e){var t,n;return function(e){var t,n=e.transport,r=e.endpoint,i=e.size,o=void 0===i?10:i,a=e.wait,s=void 0===a?1e3:a,c=[],u=0;function l(){if(!!c.length){var e=this.getBatchData();n.post({url:r,data:e,fail:function(n){t&&t(n,e)}}),c=[]}}return{getSize:function(){return o},getWait:function(){return s},setSize:function(e){o=e},setWait:function(e){s=e},getEndpoint:function(){return r},setEndpoint:function(e){r=e},send:function(e){c.push(e),c.length>=o&&l.call(this),clearTimeout(u),u=setTimeout(l.bind(this),s)},flush:function(){clearTimeout(u),l.call(this)},getBatchData:function(){return c.length?JSON.stringify({ev_type:"batch",list:c}):""},clear:function(){clearTimeout(u),c=[]},fail:function(e){t=e}}}({size:20,endpoint:(t=e.domain,void 0===n&&(n="/monitor_browser/collect/batch/"),(t&&t.indexOf("//")>=0?"":"https://")+t+n),transport:e.transport})}:n,i=t.builder,o=t.createDefaultConfig,a=function(e){var t,n,r,i,o,a,s=e.builder,c=e.createSender,u=e.createDefaultConfig,l=e.createConfigManager,f=e.userConfigNormalizer,d=e.initConfigNormalizer,p=e.validateInitConfig,h={};iq.forEach(function(e){return h[e]=[]});var v=!1,g=!1,_=!1,m=[],y=[];var b=(t=!1,n={},r=function(e){e.length&&e.forEach(function(e){try{e()}catch(e){}}),e.length=0},{set:function(e,i,o){n[e]?n[e].push([i,o]):n[e]=[[i,o]],t&&r(o)},has:function(e){return!!n[e]},remove:i=function(e){n[e]&&n[e].forEach(function(e){r(e[1])}),n[e]=void 0},removeByEvType:function(e){Object.keys(n).forEach(function(t){n[t]&&n[t].forEach(function(t){t[0]===e&&r(t[1])})})},clear:function(){t=!0,Object.keys(n).forEach(function(e){i(e)})}}),E={getBuilder:function(){return s},getSender:function(){return o},getPreStartQueue:function(){return m},init:function(e){if(v){i3("already inited");return}if(e&&iK(e)&&p(e)){var t=u(e);if(!t)throw Error("defaultConfig missing");var n=d(e);if((a=l(t)).setConfig(n),a.onChange(function(){w("config")}),!(o=c(a.getConfig())))throw Error("sender missing");v=!0,w("init",!0)}else throw Error("invalid InitConfig, init failed")},set:function(e){if(!!v)e&&iK(e)&&(w("beforeConfig",!1,e),null==a||a.setConfig(e))},config:function(e){if(!!v)return e&&iK(e)&&(w("beforeConfig",!1,e),null==a||a.setConfig(f(e))),null==a?void 0:a.getConfig()},provide:function(e,t){if(iX(y,e)){i3("cannot provide "+e+", reserved");return}E[e]=t,w("provide",!1,e)},start:function(){var e=this;if(!!v&&!g)null==a||a.onReady(function(){g=!0,w("start",!0),m.forEach(function(t){return e.build(t)}),m.length=0})},report:function(e){if(!e)return;var t=i8(h.beforeReport)(e);if(!t)return;var n=i8(h.report)(t);if(!!n)g?this.build(n):m.push(n)},build:function(e){if(!g)return;var t=i8(h.beforeBuild)(e);if(!t)return;var n=s.build(t);if(!n)return;var r=i8(h.build)(n);if(!!r)this.send(r)},send:function(e){if(!!g){var t=i8(h.beforeSend)(e);t&&(o.send(t),w("send",!1,t))}},destroy:function(){b.clear(),_=!0,m.length=0,w("beforeDestroy",!0)},on:function(e,t){if("init"===e&&v||"start"===e&&g||"beforeDestroy"===e&&_)try{t()}catch(e){}else h[e]&&h[e].push(t)},off:function(e,t){h[e]&&(h[e]=i$(h[e],t))},destroyAgent:b};return y=Object.keys(E),E;function w(e,t){void 0===t&&(t=!1);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];h[e].forEach(function(e){try{e.apply(void 0,iz([],iU(n),!1))}catch(e){}}),t&&(h[e].length=0)}}({validateInitConfig:oy,initConfigNormalizer:om,userConfigNormalizer:ob,createSender:r,builder:void 0===i?ov:i,createDefaultConfig:void 0===o?oT:o,createConfigManager:og});return i7(a),oO(a),ow(a),!function(e,t){e.on("init",function(){var t=[],n=function(n){n.forEach(function(n){var r=n.name;!iX(t,r)&&(t.push(r),n.setup(e),e.destroyAgent.set(r,r,[function(){t=i$(t,r),n.tearDown&&n.tearDown()}]))})};e.provide("applyIntegrations",n);var r=e.config();r&&r.integrations&&n(r.integrations)})}(a),a},oI=function(e){void 0===e&&(e={});var t=ok(e);return oh(t),oa(t),t};oI();var oA={in:"https://sgali-mcs.byteoversea.com",sg:"https://sgali-mcs.byteoversea.com",va:"https://maliva-mcs.byteoversea.com",tcpy:"https://mcs-sg.tiktok.com",tcpy_in:"https://mcs-va-useast2a.tiktokv.com",ttp:"https://mcs.tiktokw.us",ttp2:"https://mcs.tiktokw.us"},oR="s_v_web_id",oC="/vc/setting",oL=function(e){return -1!==["ttp","tcpy"].indexOf(e)?"/v1/list":"/list"},oP=function(e){return -1!==["ttp","tcpy"].indexOf(e)?"/v1/user/webid":"/webid"};(o=C||(C={}))[o.TIKTOK_NATIVE=1180]="TIKTOK_NATIVE",o[o.MUSICALLY_NATIVE=1233]="MUSICALLY_NATIVE",o[o.TIKTOK_LOGIN_WEB=1459]="TIKTOK_LOGIN_WEB",o[o.TIKTOK_LITE=1340]="TIKTOK_LITE",o[o.TIKTOK_MUSIC=310024]="TIKTOK_MUSIC",o[o.TIKTOK_OPEN_PLATFORM=2471]="TIKTOK_OPEN_PLATFORM",o[o.TIKTOK_LIVE_BACKSTAGE=6849]="TIKTOK_LIVE_BACKSTAGE",o[o.TIKTOK_SAFETY_ENFORCEMENT_TOOL=326738]="TIKTOK_SAFETY_ENFORCEMENT_TOOL",o[o.TIKTOK_ADS=1583]="TIKTOK_ADS",o[o.TIKTOK_SELLER_APP=7743]="TIKTOK_SELLER_APP",o[o.TIKTOK_MAGELLAN=4068]="TIKTOK_MAGELLAN",o[o.TIKTOK_MAGELLAN2=6556]="TIKTOK_MAGELLAN2",o[o.TIKTOK_WEB=1988]="TIKTOK_WEB",o[o.TIKTOK_BIZ_CENTER=2239]="TIKTOK_BIZ_CENTER";var oD=function(e){for(var t=Object.keys(e),n="",r=0;r<t.length;r++){var i=t[r],o=e[i],a=encodeURIComponent(i)+"="+encodeURIComponent(o);n=r>=1?n+"&"+a:a}return n},ox=function(e){return{aid:e.commonOptions.aid}},oM=new(function(){function e(){this.isInit=!1,this.pid="0",this.filename=""}return e.prototype.init=function(e,t){if(!this.isInit){this.isInit=!0,this.pid=String(e.aid),this.browserSlardar=oI();var n={transport:{get:function(){},post:function(e){t(e.url,JSON.parse(e.data))}},bid:"verify_center_va",pid:this.pid,release:"3.8.20-nontt-alpha.2",env:"mya",sample:{sample_rate:1,include_users:[],sample_granularity:"session",rules:{pageview:{enable:!0,sample_rate:.01},js_error:{enable:!0,sample_rate:1},resource_error:{enable:!0,sample_rate:.01},http:{enable:!0,sample_rate:.01},resource:{enable:!0,sample_rate:.01}}}};this.browserSlardar.init(n),this.browserSlardar.context.merge({belong:"hotsdk"})}},e.prototype.start=function(){var e=this;this.browserSlardar.start(),this.reportPageview(),window.addEventListener("error",function(t){var n,r;if("ErrorEvent"===(r=t,Object.prototype.toString.call(r).slice(8,-1))&&e.filename&&t.filename===e.filename)e.reportJsError({message:null==t?void 0:t.message,stack:null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.stack,filename:null==t?void 0:t.filename})},!0)},e.prototype.destroy=function(){this.browserSlardar.destroy()},e.prototype.reportPageview=function(){this.browserSlardar.report({ev_type:"pageview",payload:{pid:this.pid,source:"init"}})},e.prototype.reportJsError=function(e){this.browserSlardar.report({ev_type:"js_error",payload:{error:{name:"JS ERROR",message:e.message,stack:e.stack,filename:e.filename||this.filename},breadcrumbs:[]}})},e.prototype.reportHttp=function(e){this.browserSlardar.report({ev_type:"http",payload:{api:"xhr",request:{method:e.method,url:e.url},response:{status:e.status,is_custom_error:!1,timestamp:Date.now()},duration:e.duration}})},e.prototype.reportResourceError=function(e){this.browserSlardar.report({ev_type:"resource_error",payload:{type:"script",url:e}})},e.prototype.reportResource=function(e){this.browserSlardar.report({ev_type:"resource",payload:{entryType:"resource",name:e.url,duration:e.duration,startTime:e.startTime}})},e.prototype.setFileName=function(e){this.filename=e},e}()),oj=function(e){var t=e.url,n=e.method,r=e.data,i=e.config;return new iD(function(o,a){var s=new XMLHttpRequest,c=Date.now(),u=function(){-1!==e.url.indexOf(oC)&&oM.reportHttp({url:t,method:n,duration:Date.now()-c,status:s.status})};s.onreadystatechange=function(){if(s.readyState===s.DONE){if(s.status>=200&&s.status<300){var e={},t=s.response||s.responseText,n=s.getResponseHeader("Content-Type")||s.getResponseHeader("content-type");if(n&&-1!==n.indexOf("application/json"))try{e=JSON.parse(t)}catch(e){}else e=t;setTimeout(function(){o(e)},0)}else a(TypeError("Network request failed, status: "+s.status));u()}},s.onerror=function(){setTimeout(function(){a(TypeError("Network request failed, occur error"))},0),u()},s.ontimeout=function(){setTimeout(function(){a(TypeError("Network request failed, timeout"))},0),u()},s.onabort=function(){setTimeout(function(){a(new DOMException("Aborted","AbortError"))},0),u()};var l=t;if((null==i?void 0:i.params)&&(l=l+"?"+oD(i.params)),s.open(n,l,!0),(null==i?void 0:i.timeout)&&"number"==typeof i.timeout?s.timeout=i.timeout:s.timeout=5e3,null==i?void 0:i.headers){for(var f=i.headers,d=0,p=Object.keys(f);d<p.length;d++){var h=p[d];s.setRequestHeader(h,f[h])}}(null==i?void 0:i.withCredentials)&&(s.withCredentials=i.withCredentials),"POST"===n.toUpperCase()&&r?s.send(JSON.stringify(r)):s.send(null)})},oN=function(e,t,n){void 0===n&&(n={});var r=n.headers?L({"Content-Type":"application/json"},n.headers):{"Content-Type":"application/json"};return oj({url:e,method:"POST",data:t,config:L(L({},n),{headers:r})})},oB=function(e){var t={exports:{}},n=Function("exports","module",e);try{n(t.exports,t)}catch(e){oM.reportJsError({message:null==e?void 0:e.message,stack:null==e?void 0:e.stack,filename:null==e?void 0:e.filename})}return t},oG=D(function(e,t){!function(t){var n,r;e.exports=t()}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(new Date*1+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o){if(!o[c])continue;if(s+="; "+c,!0!==o[c])s+="="+o[c].split(";")[0]}return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),c=s.slice(1).join("=");!n&&'"'===c.charAt(0)&&(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(i[u]=c,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})})}),oU=function(e){void 0===e&&(e={});var t,n,r,i=oG.get(oR);if(!i||0!==i.indexOf("verify_")){;t="object"==typeof(t=e)?t:{},n=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),t=e.length,n=Date.now().toString(36),r=[];r[8]=r[13]=r[18]=r[23]="_",r[14]="4";for(var i=0,o=void 0;i<36;i++)!r[i]&&(o=0|Math.random()*t,r[i]=e[19==i?3&o|8:o]);return"verify_"+n+"_"+r.join("")}(),r={path:"/"},t.domain&&/^([a-z0-9-]+)?(\.[a-z0-9-]+)+$/.test(t.domain)&&(r.domain=t.domain),oG.set(oR,n,r),i=n}return i},oz=function(e,t){return oN(""+(e||"https://vcs-mya.byteintl.com")+oC+"?aid="+(null==t?void 0:t.aid),{},{headers:{"X-Setting-Flag":1}})},oq=new(function(){function e(){this.fetchWebId=null,this.channelType="",this.isInit=!1,this.conf={app_id:0,evtParams:{}}}return e.prototype.init=function(e,t){void 0===t&&(t={}),!this.isInit&&(this.isInit=!0,this.conf.app_id="cn"===e.region?2018:2740,this.conf.evtParams=L(L({},t),{webdriver:"undefined",isScheduling:"false",product_host:window.location.host,product_path:window.location.hostname,type:2,aid:e.aid}),this.channelType="mya")},e.prototype.getTeaWebId=function(){if(!this.fetchWebId){var e,t;this.fetchWebId=(e=this.conf.app_id,oN(""+oA[t=this.channelType]+oP(t),{app_id:e,referer:document.referrer,url:window.location.href,user_agent:window.navigator.userAgent,user_unique_id:""}).then(function(e){return e.web_id}))}return this.fetchWebId},e.prototype.trackEvent=function(e,t){var n=this;void 0===t&&(t={}),this.getTeaWebId().then(function(r){var i=[{events:[{event:"turing_verify_sdk",is_bav:0,local_time_ms:Date.now(),params:JSON.stringify(L(L(L({},n.conf.evtParams),t),{key:"h5_"+e,time:Date.now()}))}],local_time:Math.floor(Date.now()/1e3),header:{app_id:n.conf.app_id,referrer:document.referrer,platform:"web",sdk_lib:"js",sdk_version:"0.0.0"},user:{user_unique_id:r,web_id:r}}];n.sendEvents(i)}).catch(function(e){console.log("err: ",e)})},e.prototype.sendEvents=function(e){var t,n;(t=e,oN(""+oA[n=this.channelType]+oL(n),t)).catch(function(e){console.log("report err: ",e)})},e}()),oW={verify:{back_up_js_v2:{sg:[],mya:[]},js_v2:{sg:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/bric-captcha-ttweb/core-captcha/sg/2.32.1/1.0.0.162/captcha.js",mya:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/bric-captcha-ttweb/core-captcha/sg/2.32.1/1.0.0.162/captcha.js"}}},oF={},oK={executor:"Function",static_domain:"",settingHost:""},oV={aid:1e5},oH=function(e){var t=Date.now();return oz(oK.settingHost,e).catch(function(){return oz(oK.settingHost,e)}).then(function(e){var n,r;return(oq.trackEvent("hotsdk_getsetting",{is_success:1,duration:Date.now()-t,message:""}),null===(r=null===(n=null==e?void 0:e.verify)||void 0===n?void 0:n.js_v2)||void 0===r?void 0:r.mya)?e.verify:oW.verify}).catch(function(e){return oq.trackEvent("hotsdk_getsetting",{is_success:0,duration:Date.now()-t,message:null==e?void 0:e.message}),oW.verify})},oJ=function(e,t,n,r){oM.setFileName(e);var i,o,a=Date.now(),s=iD.resolve({});if("script"===t){;s=(i=e,new iD(function(e,t){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("crossorigin","anonymous"),r.setAttribute("src",i),n.appendChild(r);var o=setTimeout(function(){t(Error("LoadJSSDKMoreTan4000ms"))},4e3);r.onload=function(){clearTimeout(o),e(0)},r.onerror=function(){clearTimeout(o),t(Error("Failed to load SDK!"))}})).then(function(){return window.verifySDK})}else{;s=(o={timeout:2e4},oj({url:e,method:"GET",config:o})).then(function(e){if(n&&r&&n!==r){var t=RegExp(n,"g");e=e.replace(t,r)}return oB(e).exports})}return s.then(function(t){return oM.reportResource({url:e,startTime:Date.now(),duration:Date.now()-a}),t}).catch(function(t){return oM.reportResourceError(e),iD.reject(t)})},oY=function(){function e(){}return e.get=function(t){return(0===e.status||3===e.status)&&(e.status=1,e.core=oH(t).then(function(t){var n,r,i,o=null===(n=t.js_v2)||void 0===n?void 0:n.mya,a=(null===(r=t.back_up_js_v2)||void 0===r?void 0:r.mya)||[],s=null===(i=o.match(/\/\/([\w-]+(\.[\w-]+)+)/))||void 0===i?void 0:i[1];oK.static_domain="";var c=[o].concat(a);return new iD(function(t,n){var r=function(){var i,o=c.shift(),a=null===(i=o.match(/\/\/([\w-]+(\.[\w-]+)+)/))||void 0===i?void 0:i[1];oJ(o,oK.executor,s,a).then(function(n){t(n),e.status=2,oq.trackEvent("hotsdk_loadscript",{is_success:1})}).catch(function(t){c.length?r():(n(t),e.status=3,oq.trackEvent("hotsdk_loadscript",{is_success:0}))})};r()})}).catch(function(e){return iD.reject(e)})),e.core},e.status=0,e}(),oX=function(e){e.static_domain&&(oK.static_domain=e.static_domain),e.settingHost&&(oK.settingHost=e.settingHost),e.executor&&(oK.executor=e.executor)},o$=function(){function e(){}return e.config=function(e){oX(e)},e.init=function(e,t,n){var r=ox(e);return oq.init(L(L({},r),{region:"mya"})),oM.init(r,oN),oM.start(),oY.get(r).then(function(n){Object.assign(oF,L(L({},e),{captchaOptions:L(L({},e.captchaOptions),{h5_check_version:(null===(r=e.captchaOptions)||void 0===r?void 0:r.closeDecisionCheck)?"0.0.0":"3.8.20-nontt-alpha.2"})}));var r,i=n.initVerifyCenter(oF);if(!t)return i;t(i)}).catch(function(e){if(!n)return iD.reject(e);n(e)})},e}();t.TTVerifyCenter=o$,t.close=function(){oY.get(oV).then(function(e){null==e||e.closeCaptcha()})},t.config=oX,t.getFp=function(){var e,t,n,r=(null===(t=null==oF?void 0:oF.captchaOptions)||void 0===t?void 0:t.fp)||oG.get(oR)||(void 0===(e=null===(n=null==oF?void 0:oF.captchaOptions)||void 0===n?void 0:n.fpCookieOption)&&(e={}),oU(e));return iD.resolve(r)},t.init=function(e,t,n){void 0===t&&(t=function(){}),void 0===n&&(n=function(){});var r=ox(e);Object.assign(oV,r),oq.init(L(L({},r),{region:"mya"})),oM.init(r,oN),oM.start(),oY.get(r).then(function(n){var r;Object.assign(oF,L(L({},e),{captchaOptions:L(L({},e.captchaOptions),{h5_check_version:(null===(r=e.captchaOptions)||void 0===r?void 0:r.closeDecisionCheck)?"0.0.0":"3.8.20-nontt-alpha.2"})})),null==n||n.initVerifyOptions(oF),t(n)}).catch(function(e){var t;n({type:"loadJSSDK",msg:null!==(t=null==e?void 0:e.message)&&void 0!==t?t:""})})},t.render=function(e){oY.get(oV).then(function(t){null==t||t.autoRender(e)}).catch(function(e){console.log("err: ",e)})},t.transform=function(e){var t={code:"10000",from:"",type:"verify",version:"1",region:"mya",subtype:"",verify_event:"",fp:"",detail:""};return 3059===e?t.subtype="text":3060===e?t.subtype="3d":99996===e?t.subtype="whirl":t.subtype="slide",JSON.stringify(t)}},193208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o,a,s,c,u,l,f,d,p,h,v,g,_,m,y,b,E,w,S,O,T,k,I,A,R,C,L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0});var P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function D(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e,null==t?n.path:t)}},n.exports),n.exports}var x=function(e){return e&&e.Math==Math&&e},M=x("object"==typeof globalThis&&globalThis)||x("object"==typeof window&&window)||x("object"==typeof self&&self)||x("object"==typeof P&&P)||function(){return this}()||Function("return this")(),j=Function.prototype,N=j.apply,B=j.bind,G=j.call,U="object"==typeof Reflect&&Reflect.apply||(B?G.bind(N):function(){return G.apply(N,arguments)}),z=Function.prototype,q=z.bind,W=z.call,F=q&&q.bind(W),K=q?function(e){return e&&F(W,e)}:function(e){return e&&function(){return W.apply(e,arguments)}},V=function(e){return"function"==typeof e},H=function(e){try{return!!e()}catch(e){return!0}},J=!H(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Y=Function.prototype.call,X=Y.bind?Y.bind(Y):function(){return Y.apply(Y,arguments)},$={}.propertyIsEnumerable,Q=Object.getOwnPropertyDescriptor,Z={f:Q&&!$.call({1:2},1)?function(e){var t=Q(this,e);return!!t&&t.enumerable}:$},ee=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},et=K({}.toString),en=K("".slice),er=function(e){return en(et(e),8,-1)},ei=M.Object,eo=K("".split),ea=H(function(){return!ei("z").propertyIsEnumerable(0)})?function(e){return"String"==er(e)?eo(e,""):ei(e)}:ei,es=M.TypeError,ec=function(e){if(void 0==e)throw es("Can't call method on "+e);return e},eu=function(e){return ea(ec(e))},el=function(e){return"object"==typeof e?null!==e:V(e)},ef={},ed=function(e){return V(e)?e:void 0},ep=function(e,t){return arguments.length<2?ed(ef[e])||ed(M[e]):ef[e]&&ef[e][t]||M[e]&&M[e][t]},eh=K({}.isPrototypeOf),ev=ep("navigator","userAgent")||"",eg=M.process,e_=M.Deno,em=eg&&eg.versions||e_&&e_.version,ey=em&&em.v8;ey&&(s=(a=ey.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&ev&&(!(a=ev.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=ev.match(/Chrome\/(\d+)/))&&(s=+a[1]);var eb=s,eE=!!Object.getOwnPropertySymbols&&!H(function(){var e=Symbol();return!String(e)||!(Object(e) instanceof Symbol)||!Symbol.sham&&eb&&eb<41}),ew=eE&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,eS=M.Object,eO=ew?function(e){return"symbol"==typeof e}:function(e){var t=ep("Symbol");return V(t)&&eh(t.prototype,eS(e))},eT=M.String,ek=function(e){try{return eT(e)}catch(e){return"Object"}},eI=M.TypeError,eA=function(e){if(V(e))return e;throw eI(ek(e)+" is not a function")},eR=function(e,t){var n=e[t];return null==n?void 0:eA(n)},eC=M.TypeError,eL=function(e,t){var n,r;if("string"===t&&V(n=e.toString)&&!el(r=X(n,e))||V(n=e.valueOf)&&!el(r=X(n,e))||"string"!==t&&V(n=e.toString)&&!el(r=X(n,e)))return r;throw eC("Can't convert object to primitive value")},eP=Object.defineProperty,eD="__core-js_shared__",ex=M[eD]||function(e,t){try{eP(M,e,{value:t,configurable:!0,writable:!0})}catch(n){M[e]=t}return t}(eD,{}),eM=D(function(e){(e.exports=function(e,t){return ex[e]||(ex[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.1",mode:"pure",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})}),ej=M.Object,eN=function(e){return ej(ec(e))},eB=K({}.hasOwnProperty),eG=Object.hasOwn||function(e,t){return eB(eN(e),t)},eU=0,ez=Math.random(),eq=K(1..toString),eW=function(e){return"Symbol("+(void 0===e?"":e)+")_"+eq(++eU+ez,36)},eF=eM("wks"),eK=M.Symbol,eV=eK&&eK.for,eH=ew?eK:eK&&eK.withoutSetter||eW,eJ=function(e){if(!eG(eF,e)||!(eE||"string"==typeof eF[e])){var t="Symbol."+e;eE&&eG(eK,e)?eF[e]=eK[e]:ew&&eV?eF[e]=eV(t):eF[e]=eH(t)}return eF[e]},eY=M.TypeError,eX=eJ("toPrimitive"),e$=function(e,t){if(!el(e)||eO(e))return e;var n,r=eR(e,eX);if(r){if(void 0===t&&(t="default"),!el(n=X(r,e,t))||eO(n))return n;throw eY("Can't convert object to primitive value")}return void 0===t&&(t="number"),eL(e,t)},eQ=function(e){var t=e$(e,"string");return eO(t)?t:t+""},eZ=M.document,e0=el(eZ)&&el(eZ.createElement),e1=function(e){return e0?eZ.createElement(e):{}},e2=!J&&!H(function(){return 7!=Object.defineProperty(e1("div"),"a",{get:function(){return 7}}).a}),e4=Object.getOwnPropertyDescriptor,e3=J?e4:function(e,t){if(e=eu(e),t=eQ(t),e2)try{return e4(e,t)}catch(e){}if(eG(e,t))return ee(!X(Z.f,e,t),e[t])},e6=/#|\.prototype\./,e5=function(e,t){var n=e9[e8(e)];return n==te||n!=e7&&(V(t)?H(t):!!t)},e8=e5.normalize=function(e){return String(e).replace(e6,".").toLowerCase()},e9=e5.data={},e7=e5.NATIVE="N",te=e5.POLYFILL="P",tn=K(K.bind),tr=function(e,t){return eA(e),void 0===t?e:tn?tn(e,t):function(){return e.apply(t,arguments)}},ti=M.String,to=M.TypeError,ta=function(e){if(el(e))return e;throw to(ti(e)+" is not an object")},ts=M.TypeError,tc=Object.defineProperty,tu={f:J?tc:function(e,t,n){if(ta(e),t=eQ(t),ta(n),e2)try{return tc(e,t,n)}catch(e){}if("get"in n||"set"in n)throw ts("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},tl=J?function(e,t,n){return tu.f(e,t,ee(1,n))}:function(e,t,n){return e[t]=n,e},tf=e3,td=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return U(e,this,arguments)};return t.prototype=e.prototype,t},tp=function(e,t){var n,r,i,o,a,s,c,u,l=e.target,f=e.global,d=e.stat,p=e.proto,h=f?M:d?M[l]:(M[l]||{}).prototype,v=f?ef:ef[l]||tl(ef,l,{})[l],g=v.prototype;for(i in t)n=!e5(f?i:l+(d?".":"#")+i,e.forced)&&h&&eG(h,i),a=v[i],n&&(s=e.noTargetGet?(u=tf(h,i))&&u.value:h[i]),o=n&&s?s:t[i],(!n||typeof a!=typeof o)&&(c=e.bind&&n?tr(o,M):e.wrap&&n?td(o):p&&V(o)?K(o):o,(e.sham||o&&o.sham||a&&a.sham)&&tl(c,"sham",!0),tl(v,i,c),p&&(!eG(ef,r=l+"Prototype")&&tl(ef,r,{}),tl(ef[r],i,o),e.real&&g&&!g[i]&&tl(g,i,o)))},th=eM("keys"),tv=function(e){return th[e]||(th[e]=eW(e))},tg=!H(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),t_=tv("IE_PROTO"),tm=M.Object,ty=tm.prototype,tb=tg?tm.getPrototypeOf:function(e){var t=eN(e);if(eG(t,t_))return t[t_];var n=t.constructor;return V(n)&&t instanceof n?n.prototype:t instanceof tm?ty:null},tE=M.String,tw=M.TypeError,tS=function(e){if("object"==typeof e||V(e))return e;throw tw("Can't set "+tE(e)+" as a prototype")},tO=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=K(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return ta(n),tS(r),t?e(n,r):n.__proto__=r,n}}():void 0),tT=Math.ceil,tk=Math.floor,tI=function(e){var t=+e;return t!=t||0===t?0:(t>0?tk:tT)(t)},tA=Math.max,tR=Math.min,tC=function(e,t){var n=tI(e);return n<0?tA(n+t,0):tR(n,t)},tL=Math.min,tP=function(e){var t;return(t=e.length)>0?tL(tI(t),0x1fffffffffffff):0},tD=function(e){return function(t,n,r){var i,o=eu(t),a=tP(o),s=tC(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},tx={includes:tD(!0),indexOf:tD(!1)},tM={},tj=tx.indexOf,tN=K([].push),tB=function(e,t){var n,r=eu(e),i=0,o=[];for(n in r)!eG(tM,n)&&eG(r,n)&&tN(o,n);for(;t.length>i;)eG(r,n=t[i++])&&(~tj(o,n)||tN(o,n));return o},tG=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],tU=tG.concat("length","prototype"),tz={f:Object.getOwnPropertyNames||function(e){return tB(e,tU)}},tq={f:Object.getOwnPropertySymbols},tW=K([].concat),tF=ep("Reflect","ownKeys")||function(e){var t=tz.f(ta(e)),n=tq.f;return n?tW(t,n(e)):t},tK=Object.keys||function(e){return tB(e,tG)},tV=J?Object.defineProperties:function(e,t){ta(e);for(var n,r=eu(t),i=tK(t),o=i.length,a=0;o>a;)tu.f(e,n=i[a++],r[n]);return e},tH=ep("document","documentElement"),tJ="prototype",tY="script",tX=tv("IE_PROTO"),t$=function(){},tQ=function(e){return"<"+tY+">"+e+"</"+tY+">"},tZ=function(e){e.write(tQ("")),e.close();var t=e.parentWindow.Object;return e=null,t},t0=function(){var e,t=e1("iframe");return t.style.display="none",tH.appendChild(t),t.src=String("java"+tY+":"),(e=t.contentWindow.document).open(),e.write(tQ("document.F=Object")),e.close(),e.F},t1=function(){try{c=new ActiveXObject("htmlfile")}catch(e){}t1="undefined"!=typeof document?document.domain&&c?tZ(c):t0():tZ(c);for(var e=tG.length;e--;)delete t1[tJ][tG[e]];return t1()};tM[tX]=!0;var t2=Object.create||function(e,t){var n;return null!==e?(t$[tJ]=ta(e),n=new t$,t$[tJ]=null,n[tX]=e):n=t1(),void 0===t?n:tV(n,t)},t4=K("".replace),t3=String(Error("zxcasd").stack),t6=/\n\s*at [^:]*:[^\n]*/,t5=t6.test(t3),t8=function(e,t){if(t5&&"string"==typeof e)for(;t--;)e=t4(e,t6,"");return e},t9=function(e,t){el(t)&&"cause"in t&&tl(e,"cause",t.cause)},t7={},ne=eJ("iterator"),nt=Array.prototype,nn=eJ("toStringTag"),nr={};nr[nn]="z";var ni="[object z]"===String(nr),no=eJ("toStringTag"),na=M.Object,ns="Arguments"==er(function(){return arguments}()),nc=function(e,t){try{return e[t]}catch(e){}},nu=ni?er:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=nc(t=na(e),no))?n:ns?er(t):"Object"==(r=er(t))&&V(t.callee)?"Arguments":r},nl=eJ("iterator"),nf=function(e){if(void 0!=e)return eR(e,nl)||eR(e,"@@iterator")||t7[nu(e)]},nd=M.TypeError,np=function(e,t){var n=arguments.length<2?nf(e):t;if(eA(n))return ta(X(n,e));throw nd(ek(e)+" is not iterable")},nh=function(e,t,n){var r,i;ta(e);try{if(!(r=eR(e,"return"))){if("throw"===t)throw n;return n}r=X(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return ta(r),n},nv=M.TypeError,ng=function(e,t){this.stopped=e,this.result=t},n_=ng.prototype,nm=function(e,t,n){var r,i,o,a,s,c,u,l,f=n&&n.that,d=!!(n&&n.AS_ENTRIES),p=!!(n&&n.IS_ITERATOR),h=!!(n&&n.INTERRUPTED),v=tr(t,f),g=function(e){return i&&nh(i,"normal",e),new ng(!0,e)},_=function(e){return d?(ta(e),h?v(e[0],e[1],g):v(e[0],e[1])):h?v(e,g):v(e)};if(p)i=e;else{;if(!(o=nf(e)))throw nv(ek(e)+" is not iterable");if(void 0!==(r=o)&&(t7.Array===r||nt[ne]===r)){for(a=0,s=tP(e);s>a;a++)if((c=_(e[a]))&&eh(n_,c))return c;return new ng(!1)}i=np(e,o)}for(u=i.next;!(l=X(u,i)).done;){try{c=_(l.value)}catch(e){nh(i,"throw",e)}if("object"==typeof c&&c&&eh(n_,c))return c}return new ng(!1)},ny=M.String,nb=function(e){if("Symbol"===nu(e))throw TypeError("Cannot convert a Symbol value to a string");return ny(e)},nE=!H(function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",ee(1,7)),7!==e.stack)}),nw=eJ("toStringTag"),nS=M.Error,nO=[].push,nT=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,i=eh(nk,this);tO?n=tO(new nS,i?tb(this):nk):tl(n=i?this:t2(nk),nw,"Error"),void 0!==t&&tl(n,"message",function(e,t){return void 0===e?arguments.length<2?"":t:nb(e)}(t)),nE&&tl(n,"stack",t8(n.stack,1)),t9(n,r);var o=[];return nm(e,nO,{that:o}),tl(n,"errors",o),n};tO?tO(nT,nS):!function(e,t,n){for(var r=tF(t),i=tu.f,o=e3,a=0;a<r.length;a++){var s=r[a];!eG(e,s)&&!(n&&eG(n,s))&&i(e,s,o(t,s))}}(nT,nS,{name:!0});var nk=nT.prototype=t2(nS.prototype,{constructor:ee(1,nT),message:ee(1,""),name:ee(1,"AggregateError")});tp({global:!0},{AggregateError:nT});var nI=K(Function.toString);!V(ex.inspectSource)&&(ex.inspectSource=function(e){return nI(e)});var nA=ex.inspectSource,nR=M.WeakMap,nC=V(nR)&&/native code/.test(nA(nR)),nL="Object already initialized",nP=M.TypeError,nD=M.WeakMap;if(nC||ex.state){var nx=ex.state||(ex.state=new nD),nM=K(nx.get),nj=K(nx.has),nN=K(nx.set);u=function(e,t){if(nj(nx,e))throw new nP(nL);return t.facade=e,nN(nx,e,t),t},l=function(e){return nM(nx,e)||{}},f=function(e){return nj(nx,e)}}else{var nB=tv("state");tM[nB]=!0,u=function(e,t){if(eG(e,nB))throw new nP(nL);return t.facade=e,tl(e,nB,t),t},l=function(e){return eG(e,nB)?e[nB]:{}},f=function(e){return eG(e,nB)}}var nG=u,nU=function(e){return function(t){var n;if(!el(t)||(n=l(t)).type!==e)throw nP("Incompatible receiver, "+e+" required");return n}},nz=Function.prototype,nq=J&&Object.getOwnPropertyDescriptor,nW=eG(nz,"name"),nF=nW&&(!J||J&&nq(nz,"name").configurable),nK=function(e,t,n,r){r&&r.enumerable?e[t]=n:tl(e,t,n)},nV=eJ("iterator"),nH=!1;[].keys&&("next"in(h=[].keys())?(p=tb(tb(h)))!==Object.prototype&&(d=p):nH=!0),!V((d=void 0==d||H(function(){var e={};return d[nV].call(e)!==e})?{}:t2(d))[nV])&&nK(d,nV,function(){return this});var nJ=d,nY=nH,nX=ni?({}).toString:function(){return"[object "+nu(this)+"]"},n$=tu.f,nQ=eJ("toStringTag"),nZ=function(e,t,n,r){if(e){var i=n?e:e.prototype;!eG(i,nQ)&&n$(i,nQ,{configurable:!0,value:t}),r&&!ni&&tl(i,"toString",nX)}},n0=function(){return this},n1=function(e,t,n,r){var i=t+" Iterator";return e.prototype=t2(nJ,{next:ee(+!r,n)}),nZ(e,i,!1,!0),t7[i]=n0,e},n2=nW&&"something"===(function(){}).name,n4=nY,n3=eJ("iterator"),n6="keys",n5="values",n8="entries",n9=function(){return this},n7=function(e,t,n,r,i,o,a){n1(n,t,r);var s,c,u,l=function(e){if(e===i&&v)return v;if(!n4&&e in p)return p[e];switch(e){case n6:return function(){return new n(this,e)};case n5:case n8:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",d=!1,p=e.prototype,h=p[n3]||p["@@iterator"]||i&&p[i],v=!n4&&h||l(i),g="Array"==t&&p.entries||h;if(g&&(s=tb(g.call(new e)))!==Object.prototype&&s.next&&(nZ(s,f,!0,!0),t7[f]=n9),n2&&i==n5&&h&&h.name!==n5&&(d=!0,v=function(){return X(h,this)}),i){if(c={values:l(n5),keys:o?v:l(n6),entries:l(n8)},a)for(u in c)(n4||d||!(u in p))&&nK(p,u,c[u]);else tp({target:t,proto:!0,forced:n4||d},c)}return a&&p[n3]!==v&&nK(p,n3,v,{name:i}),t7[t]=v,c};tu.f;var re="Array Iterator",rt=nU(re);n7(Array,"Array",function(e,t){nG(this,{type:re,target:eu(e),index:0,kind:t})},function(){var e=rt(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),t7.Arguments=t7.Array;var rn=M.Promise,rr=eJ("species"),ri=M.TypeError,ro=function(e,t){if(eh(t,e))return e;throw ri("Incorrect invocation")},ra=eJ("iterator"),rs=!1;try{var rc=0,ru={next:function(){return{done:!!rc++}},return:function(){rs=!0}};ru[ra]=function(){return this},Array.from(ru,function(){throw 2})}catch(e){}var rl=function(){},rf=[],rd=ep("Reflect","construct"),rp=/^\s*(?:class|function)\b/,rh=K(rp.exec),rv=!rp.exec(rl),rg=function(e){if(!V(e))return!1;try{return rd(rl,rf,e),!0}catch(e){return!1}},r_=function(e){if(!V(e))return!1;switch(nu(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return rv||!!rh(rp,nA(e))}catch(e){return!0}};r_.sham=!0;var rm=!rd||H(function(){var e;return rg(rg.call)||!rg(Object)||!rg(function(){e=!0})||e})?r_:rg,ry=M.TypeError,rb=function(e){if(rm(e))return e;throw ry(ek(e)+" is not a constructor")},rE=eJ("species"),rw=function(e,t){var n,r=ta(e).constructor;return void 0===r||void 0==(n=ta(r)[rE])?t:rb(n)},rS=K([].slice),rO=/(?:ipad|iphone|ipod).*applewebkit/i.test(ev),rT="process"==er(M.process),rk=M.setImmediate,rI=M.clearImmediate,rA=M.process,rR=M.Dispatch,rC=M.Function,rL=M.MessageChannel,rP=M.String,rD=0,rx={},rM="onreadystatechange";try{v=M.location}catch(e){}var rj=function(e){if(eG(rx,e)){var t=rx[e];delete rx[e],t()}},rN=function(e){return function(){rj(e)}},rB=function(e){rj(e.data)},rG=function(e){M.postMessage(rP(e),v.protocol+"//"+v.host)};(!rk||!rI)&&(rk=function(e){var t=rS(arguments,1);return rx[++rD]=function(){U(V(e)?e:rC(e),void 0,t)},g(rD),rD},rI=function(e){delete rx[e]},rT?g=function(e){rA.nextTick(rN(e))}:rR&&rR.now?g=function(e){rR.now(rN(e))}:rL&&!rO?(m=(_=new rL).port2,_.port1.onmessage=rB,g=tr(m.postMessage,m)):M.addEventListener&&V(M.postMessage)&&!M.importScripts&&v&&"file:"!==v.protocol&&!H(rG)?(g=rG,M.addEventListener("message",rB,!1)):g=rM in e1("script")?function(e){tH.appendChild(e1("script"))[rM]=function(){tH.removeChild(this),rj(e)}}:function(e){setTimeout(rN(e),0)});var rU=rk,rz=/ipad|iphone|ipod/i.test(ev)&&void 0!==M.Pebble,rq=/web0s(?!.*chrome)/i.test(ev),rW=rU,rF=M.MutationObserver||M.WebKitMutationObserver,rK=M.document,rV=M.process,rH=M.Promise,rJ=e3(M,"queueMicrotask"),rY=rJ&&rJ.value;!rY&&(y=function(){var e,t;for(rT&&(e=rV.domain)&&e.exit();b;){t=b.fn,b=b.next;try{t()}catch(e){throw b?w():E=void 0,e}}E=void 0,e&&e.enter()},rO||rT||rq||!rF||!rK?!rz&&rH&&rH.resolve?((T=rH.resolve(void 0)).constructor=rH,k=tr(T.then,T),w=function(){k(y)}):rT?w=function(){rV.nextTick(y)}:(rW=tr(rW,M),w=function(){rW(y)}):(S=!0,O=rK.createTextNode(""),new rF(y).observe(O,{characterData:!0}),w=function(){O.data=S=!S}));var rX=rY||function(e){var t={fn:e,next:void 0};E&&(E.next=t),!b&&(b=t,w()),E=t},r$=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=eA(t),this.reject=eA(n)},rQ={f:function(e){return new r$(e)}},rZ=function(e,t){if(ta(e),el(t)&&t.constructor===e)return t;var n=rQ.f(e);return(0,n.resolve)(t),n.promise},r0=function(e,t){var n=M.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},r1=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},r2=function(){this.head=null,this.tail=null};r2.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var r4="object"==typeof window,r3=rU,r6=eJ("species"),r5="Promise",r8=nU(r5),r9=nU(r5),r7=rn&&rn.prototype,ie=rn,it=r7,ir=M.TypeError,ii=M.document,io=M.process,ia=rQ.f,is=ia,ic=!!(ii&&ii.createEvent&&M.dispatchEvent),iu=V(M.PromiseRejectionEvent),il="unhandledrejection",id=!1,ip=e5(r5,function(){var e=nA(ie),t=e!==String(ie);if(!t&&66===eb||!it.finally)return!0;if(eb>=51&&/native code/.test(e))return!1;var n=new ie(function(e){e(1)}),r=function(e){e(function(){},function(){})};return(n.constructor={})[r6]=r,!(id=n.then(function(){}) instanceof r)||!t&&r4&&!iu}),ih=ip||!function(e,t){if(!rs)return!1;var n=!1;try{var r={};r[ra]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}(function(e){ie.all(e).catch(function(){})}),iv=function(e){var t;return!!(el(e)&&V(t=e.then))&&t},ig=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(!a&&(2===t.rejection&&iE(t),t.rejection=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===e.promise?u(ir("Promise-chain cycle")):(r=iv(n))?X(r,n,c,u):c(n)):u(o)}catch(e){l&&!i&&l.exit(),u(e)}},i_=function(e,t){!e.notified&&(e.notified=!0,rX(function(){for(var n,r=e.reactions;n=r.get();)ig(n,e);e.notified=!1,t&&!e.rejection&&iy(e)}))},im=function(e,t,n){var r,i;ic?((r=ii.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),M.dispatchEvent(r)):r={promise:t,reason:n},!iu&&(i=M["on"+e])?i(r):e===il&&r0("Unhandled promise rejection",n)},iy=function(e){X(r3,M,function(){var t,n=e.facade,r=e.value;if(ib(e)&&(t=r1(function(){rT?io.emit("unhandledRejection",r,n):im(il,n,r)}),e.rejection=rT||ib(e)?2:1,t.error))throw t.value})},ib=function(e){return 1!==e.rejection&&!e.parent},iE=function(e){X(r3,M,function(){var t=e.facade;rT?io.emit("rejectionHandled",t):im("rejectionhandled",t,e.value)})},iw=function(e,t,n){return function(r){e(t,r,n)}},iS=function(e,t,n){!e.done&&(e.done=!0,n&&(e=n),e.value=t,e.state=2,i_(e,!0))},iO=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw ir("Promise can't be resolved itself");var r=iv(t);r?rX(function(){var n={done:!1};try{X(r,t,iw(iO,n,e),iw(iS,n,e))}catch(t){iS(n,t,e)}}):(e.value=t,e.state=1,i_(e,!1))}catch(t){iS({done:!1},t,e)}}};ip&&(it=(ie=function(e){ro(this,it),eA(e),X(I,this);var t=r8(this);try{e(iw(iO,t),iw(iS,t))}catch(e){iS(t,e)}}).prototype,(I=function(e){nG(this,{type:r5,done:!1,notified:!1,parent:!1,reactions:new r2,rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)nK(e,r,t[r],n);return e}(it,{then:function(e,t){var n=r9(this),r=ia(rw(this,ie));return n.parent=!0,r.ok=!V(e)||e,r.fail=V(t)&&t,r.domain=rT?io.domain:void 0,0==n.state?n.reactions.add(r):rX(function(){ig(r,n)}),r.promise},catch:function(e){return this.then(void 0,e)}}),A=function(){var e=new I,t=r8(e);this.promise=e,this.resolve=iw(iO,t),this.reject=iw(iS,t)},rQ.f=ia=function(e){return e===ie||e===R?new A(e):is(e)}),tp({global:!0,wrap:!0,forced:ip},{Promise:ie}),nZ(ie,r5,!1,!0),r=ep(r5),i=tu.f,J&&r&&!r[rr]&&i(r,rr,{configurable:!0,get:function(){return this}}),R=ep(r5),tp({target:r5,stat:!0,forced:ip},{reject:function(e){var t=ia(this);return X(t.reject,void 0,e),t.promise}}),tp({target:r5,stat:!0,forced:!0},{resolve:function(e){return rZ(this===R?ie:this,e)}}),tp({target:r5,stat:!0,forced:ih},{all:function(e){var t=this,n=ia(t),r=n.resolve,i=n.reject,o=r1(function(){var n=eA(t.resolve),o=[],a=0,s=1;nm(e,function(e){var c=a++,u=!1;s++,X(n,t,e).then(function(e){!u&&(u=!0,o[c]=e,--s||r(o))},i)}),--s||r(o)});return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=ia(t),r=n.reject,i=r1(function(){var i=eA(t.resolve);nm(e,function(e){X(i,t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}}),tp({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=rQ.f(t),r=n.resolve,i=n.reject,o=r1(function(){var n=eA(t.resolve),i=[],o=0,a=1;nm(e,function(e){var s=o++,c=!1;a++,X(n,t,e).then(function(e){!c&&(c=!0,i[s]={status:"fulfilled",value:e},--a||r(i))},function(e){!c&&(c=!0,i[s]={status:"rejected",reason:e},--a||r(i))})}),--a||r(i)});return o.error&&i(o.value),n.promise}});var iT="No one promise resolved";tp({target:"Promise",stat:!0},{any:function(e){var t=this,n=ep("AggregateError"),r=rQ.f(t),i=r.resolve,o=r.reject,a=r1(function(){var r=eA(t.resolve),a=[],s=0,c=1,u=!1;nm(e,function(e){var l=s++,f=!1;c++,X(r,t,e).then(function(e){!f&&!u&&(u=!0,i(e))},function(e){!f&&!u&&(f=!0,a[l]=e,--c||o(new n(a,iT)))})}),--c||o(new n(a,iT))});return a.error&&o(a.value),r.promise}}),tp({target:"Promise",proto:!0,real:!0,forced:!!rn&&H(function(){rn.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=rw(this,ep("Promise")),n=V(e);return this.then(n?function(n){return rZ(t,e()).then(function(){return n})}:e,n?function(n){return rZ(t,e()).then(function(){throw n})}:e)}});var ik=K("".charAt),iI=K("".charCodeAt),iA=K("".slice),iR=function(e){return function(t,n){var r,i,o=nb(ec(t)),a=tI(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=iI(o,a))<55296||r>56319||a+1===s||(i=iI(o,a+1))<56320||i>57343?e?ik(o,a):r:e?iA(o,a,a+2):(r-55296<<10)+(i-56320)+65536}},iC={codeAt:iR(!1),charAt:iR(!0)}.charAt,iL="String Iterator",iP=nU(iL);n7(String,"String",function(e){nG(this,{type:iL,string:nb(e),index:0})},function(){var e,t=iP(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=iC(n,r),t.index+=e.length,{value:e,done:!1})});var iD=ef.Promise,ix={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},iM=eJ("toStringTag");for(var ij in ix){var iN=M[ij],iB=iN&&iN.prototype;iB&&nu(iB)!==iM&&tl(iB,iM,ij),t7[ij]=t7.Array}var iG=function(){return(iG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function iU(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function iz(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)(r||!(i in t))&&(!r&&(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var iq=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],iW=function(){return{}};function iF(e){return e}function iK(e){return"object"==typeof e&&null!==e}var iV=Object.prototype;function iH(e){return"[object Array]"===iV.toString.call(e)}function iJ(e){return"number"==typeof e}function iY(e){return"string"==typeof e}function iX(e,t){if(!iH(e)||0===e.length)return!1;for(var n=0;n<e.length;){if(e[n]===t)return!0;n++}return!1}var i$=function(e,t){if(!iH(e))return e;var n=e.indexOf(t);if(n>=0){var r=e.slice();return r.splice(n,1),r}return e},iQ=function(e,t,n){for(var r,i=iU(t.split(".")),o=i[0],a=i.slice(1);e&&a.length>0;)e=e[o],o=(r=iU(a))[0],a=r.slice(1);if(!!e)return n(e,o)};function iZ(e){try{return iY(e)?e:JSON.stringify(e)}catch(e){return"[FAILED_TO_STRINGIFY]:"+String(e)}}var i0="".padStart?function(e,t){return void 0===t&&(t=8),e.padStart(t," ")}:function(e){return e},i1=0,i2=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,iz(["[SDK]",Date.now(),i0(""+i1++)],iU(e),!1))},i4=0,i3=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,iz(["[SDK]",Date.now(),i0(""+i4++)],iU(e),!1))},i6=function(e){return!!(Math.random()<Number(e))||!1},i5=function(e,t){return!!(e<Number(t))||!1},i8=function(e){return function(t){for(var n=t,r=0;r<e.length;r++)if(n)try{n=e[r](n)}catch(e){i2(e)}else break;return n}};function i9(){var e=function(){for(var e=Array(16),t=0,n=0;n<16;n++)(3&n)==0&&(t=0x100000000*Math.random()),e[n]=t>>>((3&n)<<3)&255;return e}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);var r=0;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]]].join("")}(e)}var i7=function(e){var t,n,r,i=(t={},n={},r={set:function(e,i){return t[e]=i,n[e]=iZ(i),r},merge:function(e){return t=iG(iG({},t),e),Object.keys(e).forEach(function(t){n[t]=iZ(e[t])}),r},delete:function(e){return delete t[e],delete n[e],r},clear:function(){return t={},n={},r},get:function(e){return n[e]},toString:function(){return iG({},n)}});e.provide("context",i),e.on("report",function(e){return!e.extra&&(e.extra={}),e.extra.context=i.toString(),e})},oe=function(){return Date.now()},ot=function(e){if(e)return!e.__SLARDAR_REGISTRY__&&(e.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),e.__SLARDAR_REGISTRY__.Slardar},on=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ot(function(){if("object"==typeof window&&iK(window))return window}());n&&(!n.errors&&(n.errors=[]),n.errors.push(e))},or="custom",oi=function(e){if(!!e&&!!iK(e)&&!!e.name&&!!iY(e.name)){var t={name:e.name,type:"event"};if("metrics"in e&&iK(e.metrics)){var n=e.metrics,r={};for(var i in n)iJ(n[i])&&(r[i]=n[i]);t.metrics=r}if("categories"in e&&iK(e.categories)){var o=e.categories,a={};for(var i in o)a[i]=iZ(o[i]);t.categories=a}return t}},oo=function(e){if(!!e&&!!iK(e)&&!!e.content&&!!iY(e.content)){var t={content:iZ(e.content),type:"log",level:"info"};if("level"in e&&(t.level=e.level),"extra"in e&&iK(e.extra)){var n=e.extra,r={},i={};for(var o in n)iJ(n[o])?r[o]=n[o]:i[o]=iZ(n[o]);t.metrics=r,t.categories=i}return t}},oa=function(e){e.provide("sendEvent",function(t){var n=oi(t);n&&e.report({ev_type:or,payload:n,extra:{timestamp:oe()}})}),e.provide("sendLog",function(t){var n=oo(t);n&&e.report({ev_type:or,payload:n,extra:{timestamp:oe()}})})},os=function(e,t){var n=e.common||{};return n.sample_rate=t,e.common=n,e},oc=function(e,t,n,r,i){var o;return e?(o=i(r,t),function(){return o}):function(){return n(t)}},ou=function(e,t,n){switch(n){case"eq":return iX(t,e);case"neq":return!iX(t,e);case"gt":return e>t[0];case"gte":return e>=t[0];case"lt":return e<t[0];case"lte":return e<=t[0];case"regex":return!!e.match(new RegExp(t.join("|")));case"not_regex":return!e.match(new RegExp(t.join("|")));default:return!1}},ol=function(e,t,n,r){var i,o,a=iQ(e,t,function(e,t){return e[t]});if(void 0===a)return!1;var s="boolean"==typeof a?"bool":iJ(a)?"number":"string";return ou(a,(i=r,o=s,i.map(function(e){switch(o){case"number":return Number(e);case"boolean":return"1"===e;default:return String(e)}})),n)},of=function(e,t){try{return"rule"===t.type?ol(e,t.field,t.op,t.values):"and"===t.type?t.children.every(function(t){return of(e,t)}):t.children.some(function(t){return of(e,t)})}catch(e){return on(e),!1}},od=function(e,t,n,r,i,o){var a={};return Object.keys(e).forEach(function(s){var c=e[s],u=c.enable,l=c.sample_rate,f=c.conditional_sample_rules;u?(a[s]={enable:u,sample_rate:l,effectiveSampleRate:l*n,hit:oc(t,l,r,i,o)},f&&(a[s].conditional_hit_rules=f.map(function(e){var a=e.sample_rate,s=e.filter;return{sample_rate:a,hit:oc(t,a,r,i,o),effectiveSampleRate:a*n,filter:s}}))):a[s]={enable:u,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}}),a},op=function(e,t,n,r,i){if(!t)return iF;var o=t.sample_rate,a=t.include_users,s=t.sample_granularity,c=t.rules,u=t.r,l=void 0===u?Math.random():u;if(iX(a,e))return function(e){return os(e,1)};var f="session"===s,d=oc(f,o,n,l,r),p=od(c,f,o,n,l,r);return function(e){if(!d())return f&&i[0](),!1;if(!(e.ev_type in p))return os(e,o);if(!p[e.ev_type].enable)return f&&i[1](e.ev_type),!1;if(null===(t=e.common)||void 0===t?void 0:t.sample_rate)return e;var t,n=p[e.ev_type],r=n.conditional_hit_rules;if(r){for(var a=0;a<r.length;a++)if(of(e,r[a].filter)){if(r[a].hit())return os(e,r[a].effectiveSampleRate);return!1}}return n.hit()?os(e,n.effectiveSampleRate):(!(r&&r.length)&&f&&i[1](e.ev_type),!1)}},oh=function(e){e.on("start",function(){var t=e.config(),n=op(t.userId,t.sample,i6,i5,[function(){e.destroy()},function(t){e.destroyAgent.removeByEvType(t)}]);e.on("build",n)})},ov={build:function(e){return{ev_type:e.ev_type,payload:e.payload,common:iG(iG({},e.extra||{}),e.overrides||{})}}},og=function(e){var t,n=e,r={},i=iW,o=iW;return{getConfig:function(){return n},setConfig:function(a){return r=iG(iG({},r),a||{}),function(){var t=iG(iG({},e),r);t.sample=function(e,t){if(!e||!t)return e||t;var n=iG(iG({},e),t);return n.include_users=iz(iz([],iU(e.include_users||[]),!1),iU(t.include_users||[]),!1),n.rules=iz(iz([],iU(Object.keys(e.rules||{})),!1),iU(Object.keys(t.rules||{})),!1).reduce(function(n,r){var i,o;return!(r in n)&&(r in(e.rules||{})&&r in(t.rules||{})?(n[r]=iG(iG({},e.rules[r]),t.rules[r]),n[r].conditional_sample_rules=iz(iz([],iU(e.rules[r].conditional_sample_rules||[]),!1),iU(t.rules[r].conditional_sample_rules||[]),!1)):n[r]=(null===(i=e.rules)||void 0===i?void 0:i[r])||(null===(o=t.rules)||void 0===o?void 0:o[r])),n},{}),n}(e.sample,r.sample),n=t,o()}(),!t&&(t=a,i()),n},onChange:function(e){o=e},onReady:function(e){i=e,t&&i()}}},o_={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}};function om(e){return iG({},e)}function oy(e){return iK(e)&&"bid"in e&&"transport"in e}function ob(e){return iG({},e)}var oE=function(e,t){var n={url:"",protocol:"",domain:"",path:"",query:"",timestamp:Date.now(),sdk_version:t.version||"1.4.5",sdk_name:t.name||"SDK_BASE"};return iG(iG({},e),{extra:iG(iG({},n),e.extra||{})})},ow=function(e){e.on("report",function(t){return oE(t,e.config())})},oS=function(e,t){var n={};return n.bid=t.bid,n.pid=t.pid,n.view_id=t.viewId,n.user_id=t.userId,n.device_id=t.deviceId,n.session_id=t.sessionId,n.release=t.release,n.env=t.env,iG(iG({},e),{extra:iG(iG({},n),e.extra||{})})},oO=function(e){e.on("beforeBuild",function(t){return oS(t,e.config())})},oT=function(e){return{bid:"",pid:"",viewId:"__"+Date.now(),userId:i9(),deviceId:i9(),sessionId:i9(),domain:"mon-va.byteoversea.com",release:"",env:"production",sample:o_,plugins:{},transport:{get:iW,post:iW}}},ok=function(e){var t=void 0===e?{}:e,n=t.createSender,r=void 0===n?function(e){var t,n;return function(e){var t,n=e.transport,r=e.endpoint,i=e.size,o=void 0===i?10:i,a=e.wait,s=void 0===a?1e3:a,c=[],u=0;function l(){if(!!c.length){var e=this.getBatchData();n.post({url:r,data:e,fail:function(n){t&&t(n,e)}}),c=[]}}return{getSize:function(){return o},getWait:function(){return s},setSize:function(e){o=e},setWait:function(e){s=e},getEndpoint:function(){return r},setEndpoint:function(e){r=e},send:function(e){c.push(e),c.length>=o&&l.call(this),clearTimeout(u),u=setTimeout(l.bind(this),s)},flush:function(){clearTimeout(u),l.call(this)},getBatchData:function(){return c.length?JSON.stringify({ev_type:"batch",list:c}):""},clear:function(){clearTimeout(u),c=[]},fail:function(e){t=e}}}({size:20,endpoint:(t=e.domain,void 0===n&&(n="/monitor_browser/collect/batch/"),(t&&t.indexOf("//")>=0?"":"https://")+t+n),transport:e.transport})}:n,i=t.builder,o=t.createDefaultConfig,a=function(e){var t,n,r,i,o,a,s=e.builder,c=e.createSender,u=e.createDefaultConfig,l=e.createConfigManager,f=e.userConfigNormalizer,d=e.initConfigNormalizer,p=e.validateInitConfig,h={};iq.forEach(function(e){return h[e]=[]});var v=!1,g=!1,_=!1,m=[],y=[];var b=(t=!1,n={},r=function(e){e.length&&e.forEach(function(e){try{e()}catch(e){}}),e.length=0},{set:function(e,i,o){n[e]?n[e].push([i,o]):n[e]=[[i,o]],t&&r(o)},has:function(e){return!!n[e]},remove:i=function(e){n[e]&&n[e].forEach(function(e){r(e[1])}),n[e]=void 0},removeByEvType:function(e){Object.keys(n).forEach(function(t){n[t]&&n[t].forEach(function(t){t[0]===e&&r(t[1])})})},clear:function(){t=!0,Object.keys(n).forEach(function(e){i(e)})}}),E={getBuilder:function(){return s},getSender:function(){return o},getPreStartQueue:function(){return m},init:function(e){if(v){i3("already inited");return}if(e&&iK(e)&&p(e)){var t=u(e);if(!t)throw Error("defaultConfig missing");var n=d(e);if((a=l(t)).setConfig(n),a.onChange(function(){w("config")}),!(o=c(a.getConfig())))throw Error("sender missing");v=!0,w("init",!0)}else throw Error("invalid InitConfig, init failed")},set:function(e){if(!!v)e&&iK(e)&&(w("beforeConfig",!1,e),null==a||a.setConfig(e))},config:function(e){if(!!v)return e&&iK(e)&&(w("beforeConfig",!1,e),null==a||a.setConfig(f(e))),null==a?void 0:a.getConfig()},provide:function(e,t){if(iX(y,e)){i3("cannot provide "+e+", reserved");return}E[e]=t,w("provide",!1,e)},start:function(){var e=this;if(!!v&&!g)null==a||a.onReady(function(){g=!0,w("start",!0),m.forEach(function(t){return e.build(t)}),m.length=0})},report:function(e){if(!e)return;var t=i8(h.beforeReport)(e);if(!t)return;var n=i8(h.report)(t);if(!!n)g?this.build(n):m.push(n)},build:function(e){if(!g)return;var t=i8(h.beforeBuild)(e);if(!t)return;var n=s.build(t);if(!n)return;var r=i8(h.build)(n);if(!!r)this.send(r)},send:function(e){if(!!g){var t=i8(h.beforeSend)(e);t&&(o.send(t),w("send",!1,t))}},destroy:function(){b.clear(),_=!0,m.length=0,w("beforeDestroy",!0)},on:function(e,t){if("init"===e&&v||"start"===e&&g||"beforeDestroy"===e&&_)try{t()}catch(e){}else h[e]&&h[e].push(t)},off:function(e,t){h[e]&&(h[e]=i$(h[e],t))},destroyAgent:b};return y=Object.keys(E),E;function w(e,t){void 0===t&&(t=!1);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];h[e].forEach(function(e){try{e.apply(void 0,iz([],iU(n),!1))}catch(e){}}),t&&(h[e].length=0)}}({validateInitConfig:oy,initConfigNormalizer:om,userConfigNormalizer:ob,createSender:r,builder:void 0===i?ov:i,createDefaultConfig:void 0===o?oT:o,createConfigManager:og});return i7(a),oO(a),ow(a),!function(e,t){e.on("init",function(){var t=[],n=function(n){n.forEach(function(n){var r=n.name;!iX(t,r)&&(t.push(r),n.setup(e),e.destroyAgent.set(r,r,[function(){t=i$(t,r),n.tearDown&&n.tearDown()}]))})};e.provide("applyIntegrations",n);var r=e.config();r&&r.integrations&&n(r.integrations)})}(a),a},oI=function(e){void 0===e&&(e={});var t=ok(e);return oh(t),oa(t),t};oI();var oA={in:"https://sgali-mcs.byteoversea.com",sg:"https://sgali-mcs.byteoversea.com",va:"https://maliva-mcs.byteoversea.com",tcpy:"https://mcs-sg.tiktok.com",tcpy_in:"https://mcs-va-useast2a.tiktokv.com",ttp:"https://mcs.tiktokw.us",ttp2:"https://mcs.tiktokw.us"},oR="s_v_web_id",oC="/vc/setting",oL=function(e){return -1!==["ttp","tcpy"].indexOf(e)?"/v1/list":"/list"},oP=function(e){return -1!==["ttp","tcpy"].indexOf(e)?"/v1/user/webid":"/webid"};(o=C||(C={}))[o.TIKTOK_NATIVE=1180]="TIKTOK_NATIVE",o[o.MUSICALLY_NATIVE=1233]="MUSICALLY_NATIVE",o[o.TIKTOK_LOGIN_WEB=1459]="TIKTOK_LOGIN_WEB",o[o.TIKTOK_LITE=1340]="TIKTOK_LITE",o[o.TIKTOK_MUSIC=310024]="TIKTOK_MUSIC",o[o.TIKTOK_OPEN_PLATFORM=2471]="TIKTOK_OPEN_PLATFORM",o[o.TIKTOK_LIVE_BACKSTAGE=6849]="TIKTOK_LIVE_BACKSTAGE",o[o.TIKTOK_SAFETY_ENFORCEMENT_TOOL=326738]="TIKTOK_SAFETY_ENFORCEMENT_TOOL",o[o.TIKTOK_ADS=1583]="TIKTOK_ADS",o[o.TIKTOK_SELLER_APP=7743]="TIKTOK_SELLER_APP",o[o.TIKTOK_MAGELLAN=4068]="TIKTOK_MAGELLAN",o[o.TIKTOK_MAGELLAN2=6556]="TIKTOK_MAGELLAN2",o[o.TIKTOK_WEB=1988]="TIKTOK_WEB",o[o.TIKTOK_BIZ_CENTER=2239]="TIKTOK_BIZ_CENTER";var oD=function(e){for(var t=Object.keys(e),n="",r=0;r<t.length;r++){var i=t[r],o=e[i],a=encodeURIComponent(i)+"="+encodeURIComponent(o);n=r>=1?n+"&"+a:a}return n},ox=function(e){return{aid:e.commonOptions.aid}},oM=new(function(){function e(){this.isInit=!1,this.pid="0",this.filename=""}return e.prototype.init=function(e,t){if(!this.isInit){this.isInit=!0,this.pid=String(e.aid),this.browserSlardar=oI();var n={transport:{get:function(){},post:function(e){t(e.url,JSON.parse(e.data))}},bid:"verify_center_va",pid:this.pid,release:"3.8.20-nontt-alpha.2",env:"sg",sample:{sample_rate:1,include_users:[],sample_granularity:"session",rules:{pageview:{enable:!0,sample_rate:.01},js_error:{enable:!0,sample_rate:1},resource_error:{enable:!0,sample_rate:.01},http:{enable:!0,sample_rate:.01},resource:{enable:!0,sample_rate:.01}}}};this.browserSlardar.init(n),this.browserSlardar.context.merge({belong:"hotsdk"})}},e.prototype.start=function(){var e=this;this.browserSlardar.start(),this.reportPageview(),window.addEventListener("error",function(t){var n,r;if("ErrorEvent"===(r=t,Object.prototype.toString.call(r).slice(8,-1))&&e.filename&&t.filename===e.filename)e.reportJsError({message:null==t?void 0:t.message,stack:null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.stack,filename:null==t?void 0:t.filename})},!0)},e.prototype.destroy=function(){this.browserSlardar.destroy()},e.prototype.reportPageview=function(){this.browserSlardar.report({ev_type:"pageview",payload:{pid:this.pid,source:"init"}})},e.prototype.reportJsError=function(e){this.browserSlardar.report({ev_type:"js_error",payload:{error:{name:"JS ERROR",message:e.message,stack:e.stack,filename:e.filename||this.filename},breadcrumbs:[]}})},e.prototype.reportHttp=function(e){this.browserSlardar.report({ev_type:"http",payload:{api:"xhr",request:{method:e.method,url:e.url},response:{status:e.status,is_custom_error:!1,timestamp:Date.now()},duration:e.duration}})},e.prototype.reportResourceError=function(e){this.browserSlardar.report({ev_type:"resource_error",payload:{type:"script",url:e}})},e.prototype.reportResource=function(e){this.browserSlardar.report({ev_type:"resource",payload:{entryType:"resource",name:e.url,duration:e.duration,startTime:e.startTime}})},e.prototype.setFileName=function(e){this.filename=e},e}()),oj=function(e){var t=e.url,n=e.method,r=e.data,i=e.config;return new iD(function(o,a){var s=new XMLHttpRequest,c=Date.now(),u=function(){-1!==e.url.indexOf(oC)&&oM.reportHttp({url:t,method:n,duration:Date.now()-c,status:s.status})};s.onreadystatechange=function(){if(s.readyState===s.DONE){if(s.status>=200&&s.status<300){var e={},t=s.response||s.responseText,n=s.getResponseHeader("Content-Type")||s.getResponseHeader("content-type");if(n&&-1!==n.indexOf("application/json"))try{e=JSON.parse(t)}catch(e){}else e=t;setTimeout(function(){o(e)},0)}else a(TypeError("Network request failed, status: "+s.status));u()}},s.onerror=function(){setTimeout(function(){a(TypeError("Network request failed, occur error"))},0),u()},s.ontimeout=function(){setTimeout(function(){a(TypeError("Network request failed, timeout"))},0),u()},s.onabort=function(){setTimeout(function(){a(new DOMException("Aborted","AbortError"))},0),u()};var l=t;if((null==i?void 0:i.params)&&(l=l+"?"+oD(i.params)),s.open(n,l,!0),(null==i?void 0:i.timeout)&&"number"==typeof i.timeout?s.timeout=i.timeout:s.timeout=5e3,null==i?void 0:i.headers){for(var f=i.headers,d=0,p=Object.keys(f);d<p.length;d++){var h=p[d];s.setRequestHeader(h,f[h])}}(null==i?void 0:i.withCredentials)&&(s.withCredentials=i.withCredentials),"POST"===n.toUpperCase()&&r?s.send(JSON.stringify(r)):s.send(null)})},oN=function(e,t,n){void 0===n&&(n={});var r=n.headers?L({"Content-Type":"application/json"},n.headers):{"Content-Type":"application/json"};return oj({url:e,method:"POST",data:t,config:L(L({},n),{headers:r})})},oB=function(e){var t={exports:{}},n=Function("exports","module",e);try{n(t.exports,t)}catch(e){oM.reportJsError({message:null==e?void 0:e.message,stack:null==e?void 0:e.stack,filename:null==e?void 0:e.filename})}return t},oG=D(function(e,t){!function(t){var n,r;e.exports=t()}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(new Date*1+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o){if(!o[c])continue;if(s+="; "+c,!0!==o[c])s+="="+o[c].split(";")[0]}return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),c=s.slice(1).join("=");!n&&'"'===c.charAt(0)&&(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(i[u]=c,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})})}),oU=function(e){void 0===e&&(e={});var t,n,r,i=oG.get(oR);if(!i||0!==i.indexOf("verify_")){;t="object"==typeof(t=e)?t:{},n=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),t=e.length,n=Date.now().toString(36),r=[];r[8]=r[13]=r[18]=r[23]="_",r[14]="4";for(var i=0,o=void 0;i<36;i++)!r[i]&&(o=0|Math.random()*t,r[i]=e[19==i?3&o|8:o]);return"verify_"+n+"_"+r.join("")}(),r={path:"/"},t.domain&&/^([a-z0-9-]+)?(\.[a-z0-9-]+)+$/.test(t.domain)&&(r.domain=t.domain),oG.set(oR,n,r),i=n}return i},oz=function(e,t){return oN(""+(e||"https://vcs-sg.tiktokv.com")+oC+"?aid="+(null==t?void 0:t.aid),{},{headers:{"X-Setting-Flag":1}})},oq=new(function(){function e(){this.fetchWebId=null,this.channelType="",this.isInit=!1,this.conf={app_id:0,evtParams:{}}}return e.prototype.init=function(e,t){if(void 0===t&&(t={}),!this.isInit){var n;if(this.isInit=!0,this.conf.app_id="cn"===e.region?2018:2740,this.conf.evtParams=L(L({},t),{webdriver:"undefined",isScheduling:"false",product_host:window.location.host,product_path:window.location.hostname,type:2,aid:e.aid}),n=e.aid,Object.values(C).filter(function(e){return"number"==typeof e}).includes(n))this.channelType="tcpy";else this.channelType="sg"}},e.prototype.getTeaWebId=function(){if(!this.fetchWebId){var e,t;this.fetchWebId=(e=this.conf.app_id,oN(""+oA[t=this.channelType]+oP(t),{app_id:e,referer:document.referrer,url:window.location.href,user_agent:window.navigator.userAgent,user_unique_id:""}).then(function(e){return e.web_id}))}return this.fetchWebId},e.prototype.trackEvent=function(e,t){var n=this;void 0===t&&(t={}),this.getTeaWebId().then(function(r){var i=[{events:[{event:"turing_verify_sdk",is_bav:0,local_time_ms:Date.now(),params:JSON.stringify(L(L(L({},n.conf.evtParams),t),{key:"h5_"+e,time:Date.now()}))}],local_time:Math.floor(Date.now()/1e3),header:{app_id:n.conf.app_id,referrer:document.referrer,platform:"web",sdk_lib:"js",sdk_version:"0.0.0"},user:{user_unique_id:r,web_id:r}}];n.sendEvents(i)}).catch(function(e){console.log("err: ",e)})},e.prototype.sendEvents=function(e){var t,n;(t=e,oN(""+oA[n=this.channelType]+oL(n),t)).catch(function(e){console.log("report err: ",e)})},e}()),oW={verify:{back_up_js_v2:{sg:[]},js_v2:{sg:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/bric-captcha-ttweb/core-captcha/sg/2.32.1/1.0.0.162/captcha.js"}}},oF={},oK={executor:"Function",static_domain:"",settingHost:""},oV={aid:1e5},oH=function(e){var t=Date.now();return oz(oK.settingHost,e).catch(function(){return oz(oK.settingHost,e)}).then(function(e){var n,r;return(oq.trackEvent("hotsdk_getsetting",{is_success:1,duration:Date.now()-t,message:""}),null===(r=null===(n=null==e?void 0:e.verify)||void 0===n?void 0:n.js_v2)||void 0===r?void 0:r.sg)?e.verify:oW.verify}).catch(function(e){return oq.trackEvent("hotsdk_getsetting",{is_success:0,duration:Date.now()-t,message:null==e?void 0:e.message}),oW.verify})},oJ=function(e,t,n,r){oM.setFileName(e);var i,o,a=Date.now(),s=iD.resolve({});if("script"===t){;s=(i=e,new iD(function(e,t){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("crossorigin","anonymous"),r.setAttribute("src",i),n.appendChild(r);var o=setTimeout(function(){t(Error("LoadJSSDKMoreTan4000ms"))},4e3);r.onload=function(){clearTimeout(o),e(0)},r.onerror=function(){clearTimeout(o),t(Error("Failed to load SDK!"))}})).then(function(){return window.verifySDK})}else{;s=(o={timeout:2e4},oj({url:e,method:"GET",config:o})).then(function(e){if(n&&r&&n!==r){var t=RegExp(n,"g");e=e.replace(t,r)}return oB(e).exports})}return s.then(function(t){return oM.reportResource({url:e,startTime:Date.now(),duration:Date.now()-a}),t}).catch(function(t){return oM.reportResourceError(e),iD.reject(t)})},oY=function(){function e(){}return e.get=function(t){return(0===e.status||3===e.status)&&(e.status=1,e.core=oH(t).then(function(t){var n,r,i,o=null===(n=t.js_v2)||void 0===n?void 0:n.sg,a=(null===(r=t.back_up_js_v2)||void 0===r?void 0:r.sg)||[],s=null===(i=o.match(/\/\/([\w-]+(\.[\w-]+)+)/))||void 0===i?void 0:i[1];oK.static_domain="";var c=[o].concat(a);return new iD(function(t,n){var r=function(){var i,o=c.shift(),a=null===(i=o.match(/\/\/([\w-]+(\.[\w-]+)+)/))||void 0===i?void 0:i[1];oJ(o,oK.executor,s,a).then(function(n){t(n),e.status=2,oq.trackEvent("hotsdk_loadscript",{is_success:1})}).catch(function(t){c.length?r():(n(t),e.status=3,oq.trackEvent("hotsdk_loadscript",{is_success:0}))})};r()})}).catch(function(e){return iD.reject(e)})),e.core},e.status=0,e}(),oX=function(e){e.static_domain&&(oK.static_domain=e.static_domain),e.settingHost&&(oK.settingHost=e.settingHost),e.executor&&(oK.executor=e.executor)},o$=function(){function e(){}return e.config=function(e){oX(e)},e.init=function(e,t,n){var r=ox(e);return oq.init(L(L({},r),{region:"sg"})),oM.init(r,oN),oM.start(),oY.get(r).then(function(n){Object.assign(oF,L(L({},e),{captchaOptions:L(L({},e.captchaOptions),{h5_check_version:(null===(r=e.captchaOptions)||void 0===r?void 0:r.closeDecisionCheck)?"0.0.0":"3.8.20-nontt-alpha.2"})}));var r,i=n.initVerifyCenter(oF);if(!t)return i;t(i)}).catch(function(e){if(!n)return iD.reject(e);n(e)})},e}();t.TTVerifyCenter=o$,t.close=function(){oY.get(oV).then(function(e){null==e||e.closeCaptcha()})},t.config=oX,t.getFp=function(){var e,t,n,r=(null===(t=null==oF?void 0:oF.captchaOptions)||void 0===t?void 0:t.fp)||oG.get(oR)||(void 0===(e=null===(n=null==oF?void 0:oF.captchaOptions)||void 0===n?void 0:n.fpCookieOption)&&(e={}),oU(e));return iD.resolve(r)},t.init=function(e,t,n){void 0===t&&(t=function(){}),void 0===n&&(n=function(){});var r=ox(e);Object.assign(oV,r),oq.init(L(L({},r),{region:"sg"})),oM.init(r,oN),oM.start(),oY.get(r).then(function(n){var r;Object.assign(oF,L(L({},e),{captchaOptions:L(L({},e.captchaOptions),{h5_check_version:(null===(r=e.captchaOptions)||void 0===r?void 0:r.closeDecisionCheck)?"0.0.0":"3.8.20-nontt-alpha.2"})})),null==n||n.initVerifyOptions(oF),t(n)}).catch(function(e){var t;n({type:"loadJSSDK",msg:null!==(t=null==e?void 0:e.message)&&void 0!==t?t:""})})},t.render=function(e){oY.get(oV).then(function(t){null==t||t.autoRender(e)}).catch(function(e){console.log("err: ",e)})},t.transform=function(e){var t={code:"10000",from:"",type:"verify",version:"1",region:"sg",subtype:"",verify_event:"",fp:"",detail:""};return 3059===e?t.subtype="text":3060===e?t.subtype="3d":99996===e?t.subtype="whirl":t.subtype="slide",JSON.stringify(t)}},916234:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o,a,s,c,u,l,f,d,p,h,v,g,_,m,y,b,E,w,S,O,T,k,I,A,R,C,L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0});var P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function D(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e,null==t?n.path:t)}},n.exports),n.exports}var x=function(e){return e&&e.Math==Math&&e},M=x("object"==typeof globalThis&&globalThis)||x("object"==typeof window&&window)||x("object"==typeof self&&self)||x("object"==typeof P&&P)||function(){return this}()||Function("return this")(),j=Function.prototype,N=j.apply,B=j.bind,G=j.call,U="object"==typeof Reflect&&Reflect.apply||(B?G.bind(N):function(){return G.apply(N,arguments)}),z=Function.prototype,q=z.bind,W=z.call,F=q&&q.bind(W),K=q?function(e){return e&&F(W,e)}:function(e){return e&&function(){return W.apply(e,arguments)}},V=function(e){return"function"==typeof e},H=function(e){try{return!!e()}catch(e){return!0}},J=!H(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Y=Function.prototype.call,X=Y.bind?Y.bind(Y):function(){return Y.apply(Y,arguments)},$={}.propertyIsEnumerable,Q=Object.getOwnPropertyDescriptor,Z={f:Q&&!$.call({1:2},1)?function(e){var t=Q(this,e);return!!t&&t.enumerable}:$},ee=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},et=K({}.toString),en=K("".slice),er=function(e){return en(et(e),8,-1)},ei=M.Object,eo=K("".split),ea=H(function(){return!ei("z").propertyIsEnumerable(0)})?function(e){return"String"==er(e)?eo(e,""):ei(e)}:ei,es=M.TypeError,ec=function(e){if(void 0==e)throw es("Can't call method on "+e);return e},eu=function(e){return ea(ec(e))},el=function(e){return"object"==typeof e?null!==e:V(e)},ef={},ed=function(e){return V(e)?e:void 0},ep=function(e,t){return arguments.length<2?ed(ef[e])||ed(M[e]):ef[e]&&ef[e][t]||M[e]&&M[e][t]},eh=K({}.isPrototypeOf),ev=ep("navigator","userAgent")||"",eg=M.process,e_=M.Deno,em=eg&&eg.versions||e_&&e_.version,ey=em&&em.v8;ey&&(s=(a=ey.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&ev&&(!(a=ev.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=ev.match(/Chrome\/(\d+)/))&&(s=+a[1]);var eb=s,eE=!!Object.getOwnPropertySymbols&&!H(function(){var e=Symbol();return!String(e)||!(Object(e) instanceof Symbol)||!Symbol.sham&&eb&&eb<41}),ew=eE&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,eS=M.Object,eO=ew?function(e){return"symbol"==typeof e}:function(e){var t=ep("Symbol");return V(t)&&eh(t.prototype,eS(e))},eT=M.String,ek=function(e){try{return eT(e)}catch(e){return"Object"}},eI=M.TypeError,eA=function(e){if(V(e))return e;throw eI(ek(e)+" is not a function")},eR=function(e,t){var n=e[t];return null==n?void 0:eA(n)},eC=M.TypeError,eL=function(e,t){var n,r;if("string"===t&&V(n=e.toString)&&!el(r=X(n,e))||V(n=e.valueOf)&&!el(r=X(n,e))||"string"!==t&&V(n=e.toString)&&!el(r=X(n,e)))return r;throw eC("Can't convert object to primitive value")},eP=Object.defineProperty,eD="__core-js_shared__",ex=M[eD]||function(e,t){try{eP(M,e,{value:t,configurable:!0,writable:!0})}catch(n){M[e]=t}return t}(eD,{}),eM=D(function(e){(e.exports=function(e,t){return ex[e]||(ex[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.1",mode:"pure",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})}),ej=M.Object,eN=function(e){return ej(ec(e))},eB=K({}.hasOwnProperty),eG=Object.hasOwn||function(e,t){return eB(eN(e),t)},eU=0,ez=Math.random(),eq=K(1..toString),eW=function(e){return"Symbol("+(void 0===e?"":e)+")_"+eq(++eU+ez,36)},eF=eM("wks"),eK=M.Symbol,eV=eK&&eK.for,eH=ew?eK:eK&&eK.withoutSetter||eW,eJ=function(e){if(!eG(eF,e)||!(eE||"string"==typeof eF[e])){var t="Symbol."+e;eE&&eG(eK,e)?eF[e]=eK[e]:ew&&eV?eF[e]=eV(t):eF[e]=eH(t)}return eF[e]},eY=M.TypeError,eX=eJ("toPrimitive"),e$=function(e,t){if(!el(e)||eO(e))return e;var n,r=eR(e,eX);if(r){if(void 0===t&&(t="default"),!el(n=X(r,e,t))||eO(n))return n;throw eY("Can't convert object to primitive value")}return void 0===t&&(t="number"),eL(e,t)},eQ=function(e){var t=e$(e,"string");return eO(t)?t:t+""},eZ=M.document,e0=el(eZ)&&el(eZ.createElement),e1=function(e){return e0?eZ.createElement(e):{}},e2=!J&&!H(function(){return 7!=Object.defineProperty(e1("div"),"a",{get:function(){return 7}}).a}),e4=Object.getOwnPropertyDescriptor,e3=J?e4:function(e,t){if(e=eu(e),t=eQ(t),e2)try{return e4(e,t)}catch(e){}if(eG(e,t))return ee(!X(Z.f,e,t),e[t])},e6=/#|\.prototype\./,e5=function(e,t){var n=e9[e8(e)];return n==te||n!=e7&&(V(t)?H(t):!!t)},e8=e5.normalize=function(e){return String(e).replace(e6,".").toLowerCase()},e9=e5.data={},e7=e5.NATIVE="N",te=e5.POLYFILL="P",tn=K(K.bind),tr=function(e,t){return eA(e),void 0===t?e:tn?tn(e,t):function(){return e.apply(t,arguments)}},ti=M.String,to=M.TypeError,ta=function(e){if(el(e))return e;throw to(ti(e)+" is not an object")},ts=M.TypeError,tc=Object.defineProperty,tu={f:J?tc:function(e,t,n){if(ta(e),t=eQ(t),ta(n),e2)try{return tc(e,t,n)}catch(e){}if("get"in n||"set"in n)throw ts("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},tl=J?function(e,t,n){return tu.f(e,t,ee(1,n))}:function(e,t,n){return e[t]=n,e},tf=e3,td=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return U(e,this,arguments)};return t.prototype=e.prototype,t},tp=function(e,t){var n,r,i,o,a,s,c,u,l=e.target,f=e.global,d=e.stat,p=e.proto,h=f?M:d?M[l]:(M[l]||{}).prototype,v=f?ef:ef[l]||tl(ef,l,{})[l],g=v.prototype;for(i in t)n=!e5(f?i:l+(d?".":"#")+i,e.forced)&&h&&eG(h,i),a=v[i],n&&(s=e.noTargetGet?(u=tf(h,i))&&u.value:h[i]),o=n&&s?s:t[i],(!n||typeof a!=typeof o)&&(c=e.bind&&n?tr(o,M):e.wrap&&n?td(o):p&&V(o)?K(o):o,(e.sham||o&&o.sham||a&&a.sham)&&tl(c,"sham",!0),tl(v,i,c),p&&(!eG(ef,r=l+"Prototype")&&tl(ef,r,{}),tl(ef[r],i,o),e.real&&g&&!g[i]&&tl(g,i,o)))},th=eM("keys"),tv=function(e){return th[e]||(th[e]=eW(e))},tg=!H(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),t_=tv("IE_PROTO"),tm=M.Object,ty=tm.prototype,tb=tg?tm.getPrototypeOf:function(e){var t=eN(e);if(eG(t,t_))return t[t_];var n=t.constructor;return V(n)&&t instanceof n?n.prototype:t instanceof tm?ty:null},tE=M.String,tw=M.TypeError,tS=function(e){if("object"==typeof e||V(e))return e;throw tw("Can't set "+tE(e)+" as a prototype")},tO=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=K(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return ta(n),tS(r),t?e(n,r):n.__proto__=r,n}}():void 0),tT=Math.ceil,tk=Math.floor,tI=function(e){var t=+e;return t!=t||0===t?0:(t>0?tk:tT)(t)},tA=Math.max,tR=Math.min,tC=function(e,t){var n=tI(e);return n<0?tA(n+t,0):tR(n,t)},tL=Math.min,tP=function(e){var t;return(t=e.length)>0?tL(tI(t),0x1fffffffffffff):0},tD=function(e){return function(t,n,r){var i,o=eu(t),a=tP(o),s=tC(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},tx={includes:tD(!0),indexOf:tD(!1)},tM={},tj=tx.indexOf,tN=K([].push),tB=function(e,t){var n,r=eu(e),i=0,o=[];for(n in r)!eG(tM,n)&&eG(r,n)&&tN(o,n);for(;t.length>i;)eG(r,n=t[i++])&&(~tj(o,n)||tN(o,n));return o},tG=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],tU=tG.concat("length","prototype"),tz={f:Object.getOwnPropertyNames||function(e){return tB(e,tU)}},tq={f:Object.getOwnPropertySymbols},tW=K([].concat),tF=ep("Reflect","ownKeys")||function(e){var t=tz.f(ta(e)),n=tq.f;return n?tW(t,n(e)):t},tK=Object.keys||function(e){return tB(e,tG)},tV=J?Object.defineProperties:function(e,t){ta(e);for(var n,r=eu(t),i=tK(t),o=i.length,a=0;o>a;)tu.f(e,n=i[a++],r[n]);return e},tH=ep("document","documentElement"),tJ="prototype",tY="script",tX=tv("IE_PROTO"),t$=function(){},tQ=function(e){return"<"+tY+">"+e+"</"+tY+">"},tZ=function(e){e.write(tQ("")),e.close();var t=e.parentWindow.Object;return e=null,t},t0=function(){var e,t=e1("iframe");return t.style.display="none",tH.appendChild(t),t.src=String("java"+tY+":"),(e=t.contentWindow.document).open(),e.write(tQ("document.F=Object")),e.close(),e.F},t1=function(){try{c=new ActiveXObject("htmlfile")}catch(e){}t1="undefined"!=typeof document?document.domain&&c?tZ(c):t0():tZ(c);for(var e=tG.length;e--;)delete t1[tJ][tG[e]];return t1()};tM[tX]=!0;var t2=Object.create||function(e,t){var n;return null!==e?(t$[tJ]=ta(e),n=new t$,t$[tJ]=null,n[tX]=e):n=t1(),void 0===t?n:tV(n,t)},t4=K("".replace),t3=String(Error("zxcasd").stack),t6=/\n\s*at [^:]*:[^\n]*/,t5=t6.test(t3),t8=function(e,t){if(t5&&"string"==typeof e)for(;t--;)e=t4(e,t6,"");return e},t9=function(e,t){el(t)&&"cause"in t&&tl(e,"cause",t.cause)},t7={},ne=eJ("iterator"),nt=Array.prototype,nn=eJ("toStringTag"),nr={};nr[nn]="z";var ni="[object z]"===String(nr),no=eJ("toStringTag"),na=M.Object,ns="Arguments"==er(function(){return arguments}()),nc=function(e,t){try{return e[t]}catch(e){}},nu=ni?er:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=nc(t=na(e),no))?n:ns?er(t):"Object"==(r=er(t))&&V(t.callee)?"Arguments":r},nl=eJ("iterator"),nf=function(e){if(void 0!=e)return eR(e,nl)||eR(e,"@@iterator")||t7[nu(e)]},nd=M.TypeError,np=function(e,t){var n=arguments.length<2?nf(e):t;if(eA(n))return ta(X(n,e));throw nd(ek(e)+" is not iterable")},nh=function(e,t,n){var r,i;ta(e);try{if(!(r=eR(e,"return"))){if("throw"===t)throw n;return n}r=X(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return ta(r),n},nv=M.TypeError,ng=function(e,t){this.stopped=e,this.result=t},n_=ng.prototype,nm=function(e,t,n){var r,i,o,a,s,c,u,l,f=n&&n.that,d=!!(n&&n.AS_ENTRIES),p=!!(n&&n.IS_ITERATOR),h=!!(n&&n.INTERRUPTED),v=tr(t,f),g=function(e){return i&&nh(i,"normal",e),new ng(!0,e)},_=function(e){return d?(ta(e),h?v(e[0],e[1],g):v(e[0],e[1])):h?v(e,g):v(e)};if(p)i=e;else{;if(!(o=nf(e)))throw nv(ek(e)+" is not iterable");if(void 0!==(r=o)&&(t7.Array===r||nt[ne]===r)){for(a=0,s=tP(e);s>a;a++)if((c=_(e[a]))&&eh(n_,c))return c;return new ng(!1)}i=np(e,o)}for(u=i.next;!(l=X(u,i)).done;){try{c=_(l.value)}catch(e){nh(i,"throw",e)}if("object"==typeof c&&c&&eh(n_,c))return c}return new ng(!1)},ny=M.String,nb=function(e){if("Symbol"===nu(e))throw TypeError("Cannot convert a Symbol value to a string");return ny(e)},nE=!H(function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",ee(1,7)),7!==e.stack)}),nw=eJ("toStringTag"),nS=M.Error,nO=[].push,nT=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,i=eh(nk,this);tO?n=tO(new nS,i?tb(this):nk):tl(n=i?this:t2(nk),nw,"Error"),void 0!==t&&tl(n,"message",function(e,t){return void 0===e?arguments.length<2?"":t:nb(e)}(t)),nE&&tl(n,"stack",t8(n.stack,1)),t9(n,r);var o=[];return nm(e,nO,{that:o}),tl(n,"errors",o),n};tO?tO(nT,nS):!function(e,t,n){for(var r=tF(t),i=tu.f,o=e3,a=0;a<r.length;a++){var s=r[a];!eG(e,s)&&!(n&&eG(n,s))&&i(e,s,o(t,s))}}(nT,nS,{name:!0});var nk=nT.prototype=t2(nS.prototype,{constructor:ee(1,nT),message:ee(1,""),name:ee(1,"AggregateError")});tp({global:!0},{AggregateError:nT});var nI=K(Function.toString);!V(ex.inspectSource)&&(ex.inspectSource=function(e){return nI(e)});var nA=ex.inspectSource,nR=M.WeakMap,nC=V(nR)&&/native code/.test(nA(nR)),nL="Object already initialized",nP=M.TypeError,nD=M.WeakMap;if(nC||ex.state){var nx=ex.state||(ex.state=new nD),nM=K(nx.get),nj=K(nx.has),nN=K(nx.set);u=function(e,t){if(nj(nx,e))throw new nP(nL);return t.facade=e,nN(nx,e,t),t},l=function(e){return nM(nx,e)||{}},f=function(e){return nj(nx,e)}}else{var nB=tv("state");tM[nB]=!0,u=function(e,t){if(eG(e,nB))throw new nP(nL);return t.facade=e,tl(e,nB,t),t},l=function(e){return eG(e,nB)?e[nB]:{}},f=function(e){return eG(e,nB)}}var nG=u,nU=function(e){return function(t){var n;if(!el(t)||(n=l(t)).type!==e)throw nP("Incompatible receiver, "+e+" required");return n}},nz=Function.prototype,nq=J&&Object.getOwnPropertyDescriptor,nW=eG(nz,"name"),nF=nW&&(!J||J&&nq(nz,"name").configurable),nK=function(e,t,n,r){r&&r.enumerable?e[t]=n:tl(e,t,n)},nV=eJ("iterator"),nH=!1;[].keys&&("next"in(h=[].keys())?(p=tb(tb(h)))!==Object.prototype&&(d=p):nH=!0),!V((d=void 0==d||H(function(){var e={};return d[nV].call(e)!==e})?{}:t2(d))[nV])&&nK(d,nV,function(){return this});var nJ=d,nY=nH,nX=ni?({}).toString:function(){return"[object "+nu(this)+"]"},n$=tu.f,nQ=eJ("toStringTag"),nZ=function(e,t,n,r){if(e){var i=n?e:e.prototype;!eG(i,nQ)&&n$(i,nQ,{configurable:!0,value:t}),r&&!ni&&tl(i,"toString",nX)}},n0=function(){return this},n1=function(e,t,n,r){var i=t+" Iterator";return e.prototype=t2(nJ,{next:ee(+!r,n)}),nZ(e,i,!1,!0),t7[i]=n0,e},n2=nW&&"something"===(function(){}).name,n4=nY,n3=eJ("iterator"),n6="keys",n5="values",n8="entries",n9=function(){return this},n7=function(e,t,n,r,i,o,a){n1(n,t,r);var s,c,u,l=function(e){if(e===i&&v)return v;if(!n4&&e in p)return p[e];switch(e){case n6:return function(){return new n(this,e)};case n5:case n8:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",d=!1,p=e.prototype,h=p[n3]||p["@@iterator"]||i&&p[i],v=!n4&&h||l(i),g="Array"==t&&p.entries||h;if(g&&(s=tb(g.call(new e)))!==Object.prototype&&s.next&&(nZ(s,f,!0,!0),t7[f]=n9),n2&&i==n5&&h&&h.name!==n5&&(d=!0,v=function(){return X(h,this)}),i){if(c={values:l(n5),keys:o?v:l(n6),entries:l(n8)},a)for(u in c)(n4||d||!(u in p))&&nK(p,u,c[u]);else tp({target:t,proto:!0,forced:n4||d},c)}return a&&p[n3]!==v&&nK(p,n3,v,{name:i}),t7[t]=v,c};tu.f;var re="Array Iterator",rt=nU(re);n7(Array,"Array",function(e,t){nG(this,{type:re,target:eu(e),index:0,kind:t})},function(){var e=rt(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),t7.Arguments=t7.Array;var rn=M.Promise,rr=eJ("species"),ri=M.TypeError,ro=function(e,t){if(eh(t,e))return e;throw ri("Incorrect invocation")},ra=eJ("iterator"),rs=!1;try{var rc=0,ru={next:function(){return{done:!!rc++}},return:function(){rs=!0}};ru[ra]=function(){return this},Array.from(ru,function(){throw 2})}catch(e){}var rl=function(){},rf=[],rd=ep("Reflect","construct"),rp=/^\s*(?:class|function)\b/,rh=K(rp.exec),rv=!rp.exec(rl),rg=function(e){if(!V(e))return!1;try{return rd(rl,rf,e),!0}catch(e){return!1}},r_=function(e){if(!V(e))return!1;switch(nu(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return rv||!!rh(rp,nA(e))}catch(e){return!0}};r_.sham=!0;var rm=!rd||H(function(){var e;return rg(rg.call)||!rg(Object)||!rg(function(){e=!0})||e})?r_:rg,ry=M.TypeError,rb=function(e){if(rm(e))return e;throw ry(ek(e)+" is not a constructor")},rE=eJ("species"),rw=function(e,t){var n,r=ta(e).constructor;return void 0===r||void 0==(n=ta(r)[rE])?t:rb(n)},rS=K([].slice),rO=/(?:ipad|iphone|ipod).*applewebkit/i.test(ev),rT="process"==er(M.process),rk=M.setImmediate,rI=M.clearImmediate,rA=M.process,rR=M.Dispatch,rC=M.Function,rL=M.MessageChannel,rP=M.String,rD=0,rx={},rM="onreadystatechange";try{v=M.location}catch(e){}var rj=function(e){if(eG(rx,e)){var t=rx[e];delete rx[e],t()}},rN=function(e){return function(){rj(e)}},rB=function(e){rj(e.data)},rG=function(e){M.postMessage(rP(e),v.protocol+"//"+v.host)};(!rk||!rI)&&(rk=function(e){var t=rS(arguments,1);return rx[++rD]=function(){U(V(e)?e:rC(e),void 0,t)},g(rD),rD},rI=function(e){delete rx[e]},rT?g=function(e){rA.nextTick(rN(e))}:rR&&rR.now?g=function(e){rR.now(rN(e))}:rL&&!rO?(m=(_=new rL).port2,_.port1.onmessage=rB,g=tr(m.postMessage,m)):M.addEventListener&&V(M.postMessage)&&!M.importScripts&&v&&"file:"!==v.protocol&&!H(rG)?(g=rG,M.addEventListener("message",rB,!1)):g=rM in e1("script")?function(e){tH.appendChild(e1("script"))[rM]=function(){tH.removeChild(this),rj(e)}}:function(e){setTimeout(rN(e),0)});var rU=rk,rz=/ipad|iphone|ipod/i.test(ev)&&void 0!==M.Pebble,rq=/web0s(?!.*chrome)/i.test(ev),rW=rU,rF=M.MutationObserver||M.WebKitMutationObserver,rK=M.document,rV=M.process,rH=M.Promise,rJ=e3(M,"queueMicrotask"),rY=rJ&&rJ.value;!rY&&(y=function(){var e,t;for(rT&&(e=rV.domain)&&e.exit();b;){t=b.fn,b=b.next;try{t()}catch(e){throw b?w():E=void 0,e}}E=void 0,e&&e.enter()},rO||rT||rq||!rF||!rK?!rz&&rH&&rH.resolve?((T=rH.resolve(void 0)).constructor=rH,k=tr(T.then,T),w=function(){k(y)}):rT?w=function(){rV.nextTick(y)}:(rW=tr(rW,M),w=function(){rW(y)}):(S=!0,O=rK.createTextNode(""),new rF(y).observe(O,{characterData:!0}),w=function(){O.data=S=!S}));var rX=rY||function(e){var t={fn:e,next:void 0};E&&(E.next=t),!b&&(b=t,w()),E=t},r$=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=eA(t),this.reject=eA(n)},rQ={f:function(e){return new r$(e)}},rZ=function(e,t){if(ta(e),el(t)&&t.constructor===e)return t;var n=rQ.f(e);return(0,n.resolve)(t),n.promise},r0=function(e,t){var n=M.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},r1=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},r2=function(){this.head=null,this.tail=null};r2.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var r4="object"==typeof window,r3=rU,r6=eJ("species"),r5="Promise",r8=nU(r5),r9=nU(r5),r7=rn&&rn.prototype,ie=rn,it=r7,ir=M.TypeError,ii=M.document,io=M.process,ia=rQ.f,is=ia,ic=!!(ii&&ii.createEvent&&M.dispatchEvent),iu=V(M.PromiseRejectionEvent),il="unhandledrejection",id=!1,ip=e5(r5,function(){var e=nA(ie),t=e!==String(ie);if(!t&&66===eb||!it.finally)return!0;if(eb>=51&&/native code/.test(e))return!1;var n=new ie(function(e){e(1)}),r=function(e){e(function(){},function(){})};return(n.constructor={})[r6]=r,!(id=n.then(function(){}) instanceof r)||!t&&r4&&!iu}),ih=ip||!function(e,t){if(!rs)return!1;var n=!1;try{var r={};r[ra]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}(function(e){ie.all(e).catch(function(){})}),iv=function(e){var t;return!!(el(e)&&V(t=e.then))&&t},ig=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(!a&&(2===t.rejection&&iE(t),t.rejection=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===e.promise?u(ir("Promise-chain cycle")):(r=iv(n))?X(r,n,c,u):c(n)):u(o)}catch(e){l&&!i&&l.exit(),u(e)}},i_=function(e,t){!e.notified&&(e.notified=!0,rX(function(){for(var n,r=e.reactions;n=r.get();)ig(n,e);e.notified=!1,t&&!e.rejection&&iy(e)}))},im=function(e,t,n){var r,i;ic?((r=ii.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),M.dispatchEvent(r)):r={promise:t,reason:n},!iu&&(i=M["on"+e])?i(r):e===il&&r0("Unhandled promise rejection",n)},iy=function(e){X(r3,M,function(){var t,n=e.facade,r=e.value;if(ib(e)&&(t=r1(function(){rT?io.emit("unhandledRejection",r,n):im(il,n,r)}),e.rejection=rT||ib(e)?2:1,t.error))throw t.value})},ib=function(e){return 1!==e.rejection&&!e.parent},iE=function(e){X(r3,M,function(){var t=e.facade;rT?io.emit("rejectionHandled",t):im("rejectionhandled",t,e.value)})},iw=function(e,t,n){return function(r){e(t,r,n)}},iS=function(e,t,n){!e.done&&(e.done=!0,n&&(e=n),e.value=t,e.state=2,i_(e,!0))},iO=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw ir("Promise can't be resolved itself");var r=iv(t);r?rX(function(){var n={done:!1};try{X(r,t,iw(iO,n,e),iw(iS,n,e))}catch(t){iS(n,t,e)}}):(e.value=t,e.state=1,i_(e,!1))}catch(t){iS({done:!1},t,e)}}};ip&&(it=(ie=function(e){ro(this,it),eA(e),X(I,this);var t=r8(this);try{e(iw(iO,t),iw(iS,t))}catch(e){iS(t,e)}}).prototype,(I=function(e){nG(this,{type:r5,done:!1,notified:!1,parent:!1,reactions:new r2,rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)nK(e,r,t[r],n);return e}(it,{then:function(e,t){var n=r9(this),r=ia(rw(this,ie));return n.parent=!0,r.ok=!V(e)||e,r.fail=V(t)&&t,r.domain=rT?io.domain:void 0,0==n.state?n.reactions.add(r):rX(function(){ig(r,n)}),r.promise},catch:function(e){return this.then(void 0,e)}}),A=function(){var e=new I,t=r8(e);this.promise=e,this.resolve=iw(iO,t),this.reject=iw(iS,t)},rQ.f=ia=function(e){return e===ie||e===R?new A(e):is(e)}),tp({global:!0,wrap:!0,forced:ip},{Promise:ie}),nZ(ie,r5,!1,!0),r=ep(r5),i=tu.f,J&&r&&!r[rr]&&i(r,rr,{configurable:!0,get:function(){return this}}),R=ep(r5),tp({target:r5,stat:!0,forced:ip},{reject:function(e){var t=ia(this);return X(t.reject,void 0,e),t.promise}}),tp({target:r5,stat:!0,forced:!0},{resolve:function(e){return rZ(this===R?ie:this,e)}}),tp({target:r5,stat:!0,forced:ih},{all:function(e){var t=this,n=ia(t),r=n.resolve,i=n.reject,o=r1(function(){var n=eA(t.resolve),o=[],a=0,s=1;nm(e,function(e){var c=a++,u=!1;s++,X(n,t,e).then(function(e){!u&&(u=!0,o[c]=e,--s||r(o))},i)}),--s||r(o)});return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=ia(t),r=n.reject,i=r1(function(){var i=eA(t.resolve);nm(e,function(e){X(i,t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}}),tp({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=rQ.f(t),r=n.resolve,i=n.reject,o=r1(function(){var n=eA(t.resolve),i=[],o=0,a=1;nm(e,function(e){var s=o++,c=!1;a++,X(n,t,e).then(function(e){!c&&(c=!0,i[s]={status:"fulfilled",value:e},--a||r(i))},function(e){!c&&(c=!0,i[s]={status:"rejected",reason:e},--a||r(i))})}),--a||r(i)});return o.error&&i(o.value),n.promise}});var iT="No one promise resolved";tp({target:"Promise",stat:!0},{any:function(e){var t=this,n=ep("AggregateError"),r=rQ.f(t),i=r.resolve,o=r.reject,a=r1(function(){var r=eA(t.resolve),a=[],s=0,c=1,u=!1;nm(e,function(e){var l=s++,f=!1;c++,X(r,t,e).then(function(e){!f&&!u&&(u=!0,i(e))},function(e){!f&&!u&&(f=!0,a[l]=e,--c||o(new n(a,iT)))})}),--c||o(new n(a,iT))});return a.error&&o(a.value),r.promise}}),tp({target:"Promise",proto:!0,real:!0,forced:!!rn&&H(function(){rn.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=rw(this,ep("Promise")),n=V(e);return this.then(n?function(n){return rZ(t,e()).then(function(){return n})}:e,n?function(n){return rZ(t,e()).then(function(){throw n})}:e)}});var ik=K("".charAt),iI=K("".charCodeAt),iA=K("".slice),iR=function(e){return function(t,n){var r,i,o=nb(ec(t)),a=tI(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=iI(o,a))<55296||r>56319||a+1===s||(i=iI(o,a+1))<56320||i>57343?e?ik(o,a):r:e?iA(o,a,a+2):(r-55296<<10)+(i-56320)+65536}},iC={codeAt:iR(!1),charAt:iR(!0)}.charAt,iL="String Iterator",iP=nU(iL);n7(String,"String",function(e){nG(this,{type:iL,string:nb(e),index:0})},function(){var e,t=iP(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=iC(n,r),t.index+=e.length,{value:e,done:!1})});var iD=ef.Promise,ix={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},iM=eJ("toStringTag");for(var ij in ix){var iN=M[ij],iB=iN&&iN.prototype;iB&&nu(iB)!==iM&&tl(iB,iM,ij),t7[ij]=t7.Array}var iG=function(){return(iG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function iU(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function iz(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)(r||!(i in t))&&(!r&&(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var iq=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],iW=function(){return{}};function iF(e){return e}function iK(e){return"object"==typeof e&&null!==e}var iV=Object.prototype;function iH(e){return"[object Array]"===iV.toString.call(e)}function iJ(e){return"number"==typeof e}function iY(e){return"string"==typeof e}function iX(e,t){if(!iH(e)||0===e.length)return!1;for(var n=0;n<e.length;){if(e[n]===t)return!0;n++}return!1}var i$=function(e,t){if(!iH(e))return e;var n=e.indexOf(t);if(n>=0){var r=e.slice();return r.splice(n,1),r}return e},iQ=function(e,t,n){for(var r,i=iU(t.split(".")),o=i[0],a=i.slice(1);e&&a.length>0;)e=e[o],o=(r=iU(a))[0],a=r.slice(1);if(!!e)return n(e,o)};function iZ(e){try{return iY(e)?e:JSON.stringify(e)}catch(e){return"[FAILED_TO_STRINGIFY]:"+String(e)}}var i0="".padStart?function(e,t){return void 0===t&&(t=8),e.padStart(t," ")}:function(e){return e},i1=0,i2=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,iz(["[SDK]",Date.now(),i0(""+i1++)],iU(e),!1))},i4=0,i3=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,iz(["[SDK]",Date.now(),i0(""+i4++)],iU(e),!1))},i6=function(e){return!!(Math.random()<Number(e))||!1},i5=function(e,t){return!!(e<Number(t))||!1},i8=function(e){return function(t){for(var n=t,r=0;r<e.length;r++)if(n)try{n=e[r](n)}catch(e){i2(e)}else break;return n}};function i9(){var e=function(){for(var e=Array(16),t=0,n=0;n<16;n++)(3&n)==0&&(t=0x100000000*Math.random()),e[n]=t>>>((3&n)<<3)&255;return e}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);var r=0;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]]].join("")}(e)}var i7=function(e){var t,n,r,i=(t={},n={},r={set:function(e,i){return t[e]=i,n[e]=iZ(i),r},merge:function(e){return t=iG(iG({},t),e),Object.keys(e).forEach(function(t){n[t]=iZ(e[t])}),r},delete:function(e){return delete t[e],delete n[e],r},clear:function(){return t={},n={},r},get:function(e){return n[e]},toString:function(){return iG({},n)}});e.provide("context",i),e.on("report",function(e){return!e.extra&&(e.extra={}),e.extra.context=i.toString(),e})},oe=function(){return Date.now()},ot=function(e){if(e)return!e.__SLARDAR_REGISTRY__&&(e.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),e.__SLARDAR_REGISTRY__.Slardar},on=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ot(function(){if("object"==typeof window&&iK(window))return window}());n&&(!n.errors&&(n.errors=[]),n.errors.push(e))},or="custom",oi=function(e){if(!!e&&!!iK(e)&&!!e.name&&!!iY(e.name)){var t={name:e.name,type:"event"};if("metrics"in e&&iK(e.metrics)){var n=e.metrics,r={};for(var i in n)iJ(n[i])&&(r[i]=n[i]);t.metrics=r}if("categories"in e&&iK(e.categories)){var o=e.categories,a={};for(var i in o)a[i]=iZ(o[i]);t.categories=a}return t}},oo=function(e){if(!!e&&!!iK(e)&&!!e.content&&!!iY(e.content)){var t={content:iZ(e.content),type:"log",level:"info"};if("level"in e&&(t.level=e.level),"extra"in e&&iK(e.extra)){var n=e.extra,r={},i={};for(var o in n)iJ(n[o])?r[o]=n[o]:i[o]=iZ(n[o]);t.metrics=r,t.categories=i}return t}},oa=function(e){e.provide("sendEvent",function(t){var n=oi(t);n&&e.report({ev_type:or,payload:n,extra:{timestamp:oe()}})}),e.provide("sendLog",function(t){var n=oo(t);n&&e.report({ev_type:or,payload:n,extra:{timestamp:oe()}})})},os=function(e,t){var n=e.common||{};return n.sample_rate=t,e.common=n,e},oc=function(e,t,n,r,i){var o;return e?(o=i(r,t),function(){return o}):function(){return n(t)}},ou=function(e,t,n){switch(n){case"eq":return iX(t,e);case"neq":return!iX(t,e);case"gt":return e>t[0];case"gte":return e>=t[0];case"lt":return e<t[0];case"lte":return e<=t[0];case"regex":return!!e.match(new RegExp(t.join("|")));case"not_regex":return!e.match(new RegExp(t.join("|")));default:return!1}},ol=function(e,t,n,r){var i,o,a=iQ(e,t,function(e,t){return e[t]});if(void 0===a)return!1;var s="boolean"==typeof a?"bool":iJ(a)?"number":"string";return ou(a,(i=r,o=s,i.map(function(e){switch(o){case"number":return Number(e);case"boolean":return"1"===e;default:return String(e)}})),n)},of=function(e,t){try{return"rule"===t.type?ol(e,t.field,t.op,t.values):"and"===t.type?t.children.every(function(t){return of(e,t)}):t.children.some(function(t){return of(e,t)})}catch(e){return on(e),!1}},od=function(e,t,n,r,i,o){var a={};return Object.keys(e).forEach(function(s){var c=e[s],u=c.enable,l=c.sample_rate,f=c.conditional_sample_rules;u?(a[s]={enable:u,sample_rate:l,effectiveSampleRate:l*n,hit:oc(t,l,r,i,o)},f&&(a[s].conditional_hit_rules=f.map(function(e){var a=e.sample_rate,s=e.filter;return{sample_rate:a,hit:oc(t,a,r,i,o),effectiveSampleRate:a*n,filter:s}}))):a[s]={enable:u,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}}),a},op=function(e,t,n,r,i){if(!t)return iF;var o=t.sample_rate,a=t.include_users,s=t.sample_granularity,c=t.rules,u=t.r,l=void 0===u?Math.random():u;if(iX(a,e))return function(e){return os(e,1)};var f="session"===s,d=oc(f,o,n,l,r),p=od(c,f,o,n,l,r);return function(e){if(!d())return f&&i[0](),!1;if(!(e.ev_type in p))return os(e,o);if(!p[e.ev_type].enable)return f&&i[1](e.ev_type),!1;if(null===(t=e.common)||void 0===t?void 0:t.sample_rate)return e;var t,n=p[e.ev_type],r=n.conditional_hit_rules;if(r){for(var a=0;a<r.length;a++)if(of(e,r[a].filter)){if(r[a].hit())return os(e,r[a].effectiveSampleRate);return!1}}return n.hit()?os(e,n.effectiveSampleRate):(!(r&&r.length)&&f&&i[1](e.ev_type),!1)}},oh=function(e){e.on("start",function(){var t=e.config(),n=op(t.userId,t.sample,i6,i5,[function(){e.destroy()},function(t){e.destroyAgent.removeByEvType(t)}]);e.on("build",n)})},ov={build:function(e){return{ev_type:e.ev_type,payload:e.payload,common:iG(iG({},e.extra||{}),e.overrides||{})}}},og=function(e){var t,n=e,r={},i=iW,o=iW;return{getConfig:function(){return n},setConfig:function(a){return r=iG(iG({},r),a||{}),function(){var t=iG(iG({},e),r);t.sample=function(e,t){if(!e||!t)return e||t;var n=iG(iG({},e),t);return n.include_users=iz(iz([],iU(e.include_users||[]),!1),iU(t.include_users||[]),!1),n.rules=iz(iz([],iU(Object.keys(e.rules||{})),!1),iU(Object.keys(t.rules||{})),!1).reduce(function(n,r){var i,o;return!(r in n)&&(r in(e.rules||{})&&r in(t.rules||{})?(n[r]=iG(iG({},e.rules[r]),t.rules[r]),n[r].conditional_sample_rules=iz(iz([],iU(e.rules[r].conditional_sample_rules||[]),!1),iU(t.rules[r].conditional_sample_rules||[]),!1)):n[r]=(null===(i=e.rules)||void 0===i?void 0:i[r])||(null===(o=t.rules)||void 0===o?void 0:o[r])),n},{}),n}(e.sample,r.sample),n=t,o()}(),!t&&(t=a,i()),n},onChange:function(e){o=e},onReady:function(e){i=e,t&&i()}}},o_={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}};function om(e){return iG({},e)}function oy(e){return iK(e)&&"bid"in e&&"transport"in e}function ob(e){return iG({},e)}var oE=function(e,t){var n={url:"",protocol:"",domain:"",path:"",query:"",timestamp:Date.now(),sdk_version:t.version||"1.4.5",sdk_name:t.name||"SDK_BASE"};return iG(iG({},e),{extra:iG(iG({},n),e.extra||{})})},ow=function(e){e.on("report",function(t){return oE(t,e.config())})},oS=function(e,t){var n={};return n.bid=t.bid,n.pid=t.pid,n.view_id=t.viewId,n.user_id=t.userId,n.device_id=t.deviceId,n.session_id=t.sessionId,n.release=t.release,n.env=t.env,iG(iG({},e),{extra:iG(iG({},n),e.extra||{})})},oO=function(e){e.on("beforeBuild",function(t){return oS(t,e.config())})},oT=function(e){return{bid:"",pid:"",viewId:"__"+Date.now(),userId:i9(),deviceId:i9(),sessionId:i9(),domain:"mon-va.byteoversea.com",release:"",env:"production",sample:o_,plugins:{},transport:{get:iW,post:iW}}},ok=function(e){var t=void 0===e?{}:e,n=t.createSender,r=void 0===n?function(e){var t,n;return function(e){var t,n=e.transport,r=e.endpoint,i=e.size,o=void 0===i?10:i,a=e.wait,s=void 0===a?1e3:a,c=[],u=0;function l(){if(!!c.length){var e=this.getBatchData();n.post({url:r,data:e,fail:function(n){t&&t(n,e)}}),c=[]}}return{getSize:function(){return o},getWait:function(){return s},setSize:function(e){o=e},setWait:function(e){s=e},getEndpoint:function(){return r},setEndpoint:function(e){r=e},send:function(e){c.push(e),c.length>=o&&l.call(this),clearTimeout(u),u=setTimeout(l.bind(this),s)},flush:function(){clearTimeout(u),l.call(this)},getBatchData:function(){return c.length?JSON.stringify({ev_type:"batch",list:c}):""},clear:function(){clearTimeout(u),c=[]},fail:function(e){t=e}}}({size:20,endpoint:(t=e.domain,void 0===n&&(n="/monitor_browser/collect/batch/"),(t&&t.indexOf("//")>=0?"":"https://")+t+n),transport:e.transport})}:n,i=t.builder,o=t.createDefaultConfig,a=function(e){var t,n,r,i,o,a,s=e.builder,c=e.createSender,u=e.createDefaultConfig,l=e.createConfigManager,f=e.userConfigNormalizer,d=e.initConfigNormalizer,p=e.validateInitConfig,h={};iq.forEach(function(e){return h[e]=[]});var v=!1,g=!1,_=!1,m=[],y=[];var b=(t=!1,n={},r=function(e){e.length&&e.forEach(function(e){try{e()}catch(e){}}),e.length=0},{set:function(e,i,o){n[e]?n[e].push([i,o]):n[e]=[[i,o]],t&&r(o)},has:function(e){return!!n[e]},remove:i=function(e){n[e]&&n[e].forEach(function(e){r(e[1])}),n[e]=void 0},removeByEvType:function(e){Object.keys(n).forEach(function(t){n[t]&&n[t].forEach(function(t){t[0]===e&&r(t[1])})})},clear:function(){t=!0,Object.keys(n).forEach(function(e){i(e)})}}),E={getBuilder:function(){return s},getSender:function(){return o},getPreStartQueue:function(){return m},init:function(e){if(v){i3("already inited");return}if(e&&iK(e)&&p(e)){var t=u(e);if(!t)throw Error("defaultConfig missing");var n=d(e);if((a=l(t)).setConfig(n),a.onChange(function(){w("config")}),!(o=c(a.getConfig())))throw Error("sender missing");v=!0,w("init",!0)}else throw Error("invalid InitConfig, init failed")},set:function(e){if(!!v)e&&iK(e)&&(w("beforeConfig",!1,e),null==a||a.setConfig(e))},config:function(e){if(!!v)return e&&iK(e)&&(w("beforeConfig",!1,e),null==a||a.setConfig(f(e))),null==a?void 0:a.getConfig()},provide:function(e,t){if(iX(y,e)){i3("cannot provide "+e+", reserved");return}E[e]=t,w("provide",!1,e)},start:function(){var e=this;if(!!v&&!g)null==a||a.onReady(function(){g=!0,w("start",!0),m.forEach(function(t){return e.build(t)}),m.length=0})},report:function(e){if(!e)return;var t=i8(h.beforeReport)(e);if(!t)return;var n=i8(h.report)(t);if(!!n)g?this.build(n):m.push(n)},build:function(e){if(!g)return;var t=i8(h.beforeBuild)(e);if(!t)return;var n=s.build(t);if(!n)return;var r=i8(h.build)(n);if(!!r)this.send(r)},send:function(e){if(!!g){var t=i8(h.beforeSend)(e);t&&(o.send(t),w("send",!1,t))}},destroy:function(){b.clear(),_=!0,m.length=0,w("beforeDestroy",!0)},on:function(e,t){if("init"===e&&v||"start"===e&&g||"beforeDestroy"===e&&_)try{t()}catch(e){}else h[e]&&h[e].push(t)},off:function(e,t){h[e]&&(h[e]=i$(h[e],t))},destroyAgent:b};return y=Object.keys(E),E;function w(e,t){void 0===t&&(t=!1);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];h[e].forEach(function(e){try{e.apply(void 0,iz([],iU(n),!1))}catch(e){}}),t&&(h[e].length=0)}}({validateInitConfig:oy,initConfigNormalizer:om,userConfigNormalizer:ob,createSender:r,builder:void 0===i?ov:i,createDefaultConfig:void 0===o?oT:o,createConfigManager:og});return i7(a),oO(a),ow(a),!function(e,t){e.on("init",function(){var t=[],n=function(n){n.forEach(function(n){var r=n.name;!iX(t,r)&&(t.push(r),n.setup(e),e.destroyAgent.set(r,r,[function(){t=i$(t,r),n.tearDown&&n.tearDown()}]))})};e.provide("applyIntegrations",n);var r=e.config();r&&r.integrations&&n(r.integrations)})}(a),a},oI=function(e){void 0===e&&(e={});var t=ok(e);return oh(t),oa(t),t};oI();var oA={in:"https://sgali-mcs.byteoversea.com",sg:"https://sgali-mcs.byteoversea.com",va:"https://maliva-mcs.byteoversea.com",tcpy:"https://mcs-sg.tiktok.com",tcpy_in:"https://mcs-va-useast2a.tiktokv.com",ttp:"https://mcs.tiktokw.us",ttp2:"https://mcs.tiktokw.us"},oR="s_v_web_id",oC="/vc/setting",oL=function(e){return -1!==["ttp","tcpy"].indexOf(e)?"/v1/list":"/list"},oP=function(e){return -1!==["ttp","tcpy"].indexOf(e)?"/v1/user/webid":"/webid"};(o=C||(C={}))[o.TIKTOK_NATIVE=1180]="TIKTOK_NATIVE",o[o.MUSICALLY_NATIVE=1233]="MUSICALLY_NATIVE",o[o.TIKTOK_LOGIN_WEB=1459]="TIKTOK_LOGIN_WEB",o[o.TIKTOK_LITE=1340]="TIKTOK_LITE",o[o.TIKTOK_MUSIC=310024]="TIKTOK_MUSIC",o[o.TIKTOK_OPEN_PLATFORM=2471]="TIKTOK_OPEN_PLATFORM",o[o.TIKTOK_LIVE_BACKSTAGE=6849]="TIKTOK_LIVE_BACKSTAGE",o[o.TIKTOK_SAFETY_ENFORCEMENT_TOOL=326738]="TIKTOK_SAFETY_ENFORCEMENT_TOOL",o[o.TIKTOK_ADS=1583]="TIKTOK_ADS",o[o.TIKTOK_SELLER_APP=7743]="TIKTOK_SELLER_APP",o[o.TIKTOK_MAGELLAN=4068]="TIKTOK_MAGELLAN",o[o.TIKTOK_MAGELLAN2=6556]="TIKTOK_MAGELLAN2",o[o.TIKTOK_WEB=1988]="TIKTOK_WEB",o[o.TIKTOK_BIZ_CENTER=2239]="TIKTOK_BIZ_CENTER";var oD=function(e){for(var t=Object.keys(e),n="",r=0;r<t.length;r++){var i=t[r],o=e[i],a=encodeURIComponent(i)+"="+encodeURIComponent(o);n=r>=1?n+"&"+a:a}return n},ox=function(e){return{aid:e.commonOptions.aid}},oM=new(function(){function e(){this.isInit=!1,this.pid="0",this.filename=""}return e.prototype.init=function(e,t){if(!this.isInit){this.isInit=!0,this.pid=String(e.aid),this.browserSlardar=oI();var n={transport:{get:function(){},post:function(e){t(e.url,JSON.parse(e.data))}},bid:"verify_center_va",pid:this.pid,release:"3.8.20-nontt-alpha.2",env:"va",sample:{sample_rate:1,include_users:[],sample_granularity:"session",rules:{pageview:{enable:!0,sample_rate:.01},js_error:{enable:!0,sample_rate:1},resource_error:{enable:!0,sample_rate:.01},http:{enable:!0,sample_rate:.01},resource:{enable:!0,sample_rate:.01}}}};this.browserSlardar.init(n),this.browserSlardar.context.merge({belong:"hotsdk"})}},e.prototype.start=function(){var e=this;this.browserSlardar.start(),this.reportPageview(),window.addEventListener("error",function(t){var n,r;if("ErrorEvent"===(r=t,Object.prototype.toString.call(r).slice(8,-1))&&e.filename&&t.filename===e.filename)e.reportJsError({message:null==t?void 0:t.message,stack:null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.stack,filename:null==t?void 0:t.filename})},!0)},e.prototype.destroy=function(){this.browserSlardar.destroy()},e.prototype.reportPageview=function(){this.browserSlardar.report({ev_type:"pageview",payload:{pid:this.pid,source:"init"}})},e.prototype.reportJsError=function(e){this.browserSlardar.report({ev_type:"js_error",payload:{error:{name:"JS ERROR",message:e.message,stack:e.stack,filename:e.filename||this.filename},breadcrumbs:[]}})},e.prototype.reportHttp=function(e){this.browserSlardar.report({ev_type:"http",payload:{api:"xhr",request:{method:e.method,url:e.url},response:{status:e.status,is_custom_error:!1,timestamp:Date.now()},duration:e.duration}})},e.prototype.reportResourceError=function(e){this.browserSlardar.report({ev_type:"resource_error",payload:{type:"script",url:e}})},e.prototype.reportResource=function(e){this.browserSlardar.report({ev_type:"resource",payload:{entryType:"resource",name:e.url,duration:e.duration,startTime:e.startTime}})},e.prototype.setFileName=function(e){this.filename=e},e}()),oj=function(e){var t=e.url,n=e.method,r=e.data,i=e.config;return new iD(function(o,a){var s=new XMLHttpRequest,c=Date.now(),u=function(){-1!==e.url.indexOf(oC)&&oM.reportHttp({url:t,method:n,duration:Date.now()-c,status:s.status})};s.onreadystatechange=function(){if(s.readyState===s.DONE){if(s.status>=200&&s.status<300){var e={},t=s.response||s.responseText,n=s.getResponseHeader("Content-Type")||s.getResponseHeader("content-type");if(n&&-1!==n.indexOf("application/json"))try{e=JSON.parse(t)}catch(e){}else e=t;setTimeout(function(){o(e)},0)}else a(TypeError("Network request failed, status: "+s.status));u()}},s.onerror=function(){setTimeout(function(){a(TypeError("Network request failed, occur error"))},0),u()},s.ontimeout=function(){setTimeout(function(){a(TypeError("Network request failed, timeout"))},0),u()},s.onabort=function(){setTimeout(function(){a(new DOMException("Aborted","AbortError"))},0),u()};var l=t;if((null==i?void 0:i.params)&&(l=l+"?"+oD(i.params)),s.open(n,l,!0),(null==i?void 0:i.timeout)&&"number"==typeof i.timeout?s.timeout=i.timeout:s.timeout=5e3,null==i?void 0:i.headers){for(var f=i.headers,d=0,p=Object.keys(f);d<p.length;d++){var h=p[d];s.setRequestHeader(h,f[h])}}(null==i?void 0:i.withCredentials)&&(s.withCredentials=i.withCredentials),"POST"===n.toUpperCase()&&r?s.send(JSON.stringify(r)):s.send(null)})},oN=function(e,t,n){void 0===n&&(n={});var r=n.headers?L({"Content-Type":"application/json"},n.headers):{"Content-Type":"application/json"};return oj({url:e,method:"POST",data:t,config:L(L({},n),{headers:r})})},oB=function(e){var t={exports:{}},n=Function("exports","module",e);try{n(t.exports,t)}catch(e){oM.reportJsError({message:null==e?void 0:e.message,stack:null==e?void 0:e.stack,filename:null==e?void 0:e.filename})}return t},oG=D(function(e,t){!function(t){var n,r;e.exports=t()}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(new Date*1+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o){if(!o[c])continue;if(s+="; "+c,!0!==o[c])s+="="+o[c].split(";")[0]}return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),c=s.slice(1).join("=");!n&&'"'===c.charAt(0)&&(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(i[u]=c,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})})}),oU=function(e){void 0===e&&(e={});var t,n,r,i=oG.get(oR);if(!i||0!==i.indexOf("verify_")){;t="object"==typeof(t=e)?t:{},n=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),t=e.length,n=Date.now().toString(36),r=[];r[8]=r[13]=r[18]=r[23]="_",r[14]="4";for(var i=0,o=void 0;i<36;i++)!r[i]&&(o=0|Math.random()*t,r[i]=e[19==i?3&o|8:o]);return"verify_"+n+"_"+r.join("")}(),r={path:"/"},t.domain&&/^([a-z0-9-]+)?(\.[a-z0-9-]+)+$/.test(t.domain)&&(r.domain=t.domain),oG.set(oR,n,r),i=n}return i},oz=function(e,t){return oN(""+(e||"https://vcs-va.tiktokv.com")+oC+"?aid="+(null==t?void 0:t.aid),{},{headers:{"X-Setting-Flag":1}})},oq=new(function(){function e(){this.fetchWebId=null,this.channelType="",this.isInit=!1,this.conf={app_id:0,evtParams:{}}}return e.prototype.init=function(e,t){if(void 0===t&&(t={}),!this.isInit){var n;if(this.isInit=!0,this.conf.app_id="cn"===e.region?2018:2740,this.conf.evtParams=L(L({},t),{webdriver:"undefined",isScheduling:"false",product_host:window.location.host,product_path:window.location.hostname,type:2,aid:e.aid}),n=e.aid,Object.values(C).filter(function(e){return"number"==typeof e}).includes(n))this.channelType="tcpy";else this.channelType="va"}},e.prototype.getTeaWebId=function(){if(!this.fetchWebId){var e,t;this.fetchWebId=(e=this.conf.app_id,oN(""+oA[t=this.channelType]+oP(t),{app_id:e,referer:document.referrer,url:window.location.href,user_agent:window.navigator.userAgent,user_unique_id:""}).then(function(e){return e.web_id}))}return this.fetchWebId},e.prototype.trackEvent=function(e,t){var n=this;void 0===t&&(t={}),this.getTeaWebId().then(function(r){var i=[{events:[{event:"turing_verify_sdk",is_bav:0,local_time_ms:Date.now(),params:JSON.stringify(L(L(L({},n.conf.evtParams),t),{key:"h5_"+e,time:Date.now()}))}],local_time:Math.floor(Date.now()/1e3),header:{app_id:n.conf.app_id,referrer:document.referrer,platform:"web",sdk_lib:"js",sdk_version:"0.0.0"},user:{user_unique_id:r,web_id:r}}];n.sendEvents(i)}).catch(function(e){console.log("err: ",e)})},e.prototype.sendEvents=function(e){var t,n;(t=e,oN(""+oA[n=this.channelType]+oL(n),t)).catch(function(e){console.log("report err: ",e)})},e}()),oW={verify:{back_up_js_v2:{va:[]},js_v2:{va:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/bric-captcha-ttweb/core-captcha/va/2.32.1/1.0.0.162/captcha.js"}}},oF={},oK={executor:"Function",static_domain:"",settingHost:""},oV={aid:1e5},oH=function(e){var t=Date.now();return oz(oK.settingHost,e).catch(function(){return oz(oK.settingHost,e)}).then(function(e){var n,r;return(oq.trackEvent("hotsdk_getsetting",{is_success:1,duration:Date.now()-t,message:""}),null===(r=null===(n=null==e?void 0:e.verify)||void 0===n?void 0:n.js_v2)||void 0===r?void 0:r.va)?e.verify:oW.verify}).catch(function(e){return oq.trackEvent("hotsdk_getsetting",{is_success:0,duration:Date.now()-t,message:null==e?void 0:e.message}),oW.verify})},oJ=function(e,t,n,r){oM.setFileName(e);var i,o,a=Date.now(),s=iD.resolve({});if("script"===t){;s=(i=e,new iD(function(e,t){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("crossorigin","anonymous"),r.setAttribute("src",i),n.appendChild(r);var o=setTimeout(function(){t(Error("LoadJSSDKMoreTan4000ms"))},4e3);r.onload=function(){clearTimeout(o),e(0)},r.onerror=function(){clearTimeout(o),t(Error("Failed to load SDK!"))}})).then(function(){return window.verifySDK})}else{;s=(o={timeout:2e4},oj({url:e,method:"GET",config:o})).then(function(e){if(n&&r&&n!==r){var t=RegExp(n,"g");e=e.replace(t,r)}return oB(e).exports})}return s.then(function(t){return oM.reportResource({url:e,startTime:Date.now(),duration:Date.now()-a}),t}).catch(function(t){return oM.reportResourceError(e),iD.reject(t)})},oY=function(){function e(){}return e.get=function(t){return(0===e.status||3===e.status)&&(e.status=1,e.core=oH(t).then(function(t){var n,r,i,o=null===(n=t.js_v2)||void 0===n?void 0:n.va,a=(null===(r=t.back_up_js_v2)||void 0===r?void 0:r.va)||[],s=null===(i=o.match(/\/\/([\w-]+(\.[\w-]+)+)/))||void 0===i?void 0:i[1];oK.static_domain="";var c=[o].concat(a);return new iD(function(t,n){var r=function(){var i,o=c.shift(),a=null===(i=o.match(/\/\/([\w-]+(\.[\w-]+)+)/))||void 0===i?void 0:i[1];oJ(o,oK.executor,s,a).then(function(n){t(n),e.status=2,oq.trackEvent("hotsdk_loadscript",{is_success:1})}).catch(function(t){c.length?r():(n(t),e.status=3,oq.trackEvent("hotsdk_loadscript",{is_success:0}))})};r()})}).catch(function(e){return iD.reject(e)})),e.core},e.status=0,e}(),oX=function(e){e.static_domain&&(oK.static_domain=e.static_domain),e.settingHost&&(oK.settingHost=e.settingHost),e.executor&&(oK.executor=e.executor)},o$=function(){function e(){}return e.config=function(e){oX(e)},e.init=function(e,t,n){var r=ox(e);return oq.init(L(L({},r),{region:"va"})),oM.init(r,oN),oM.start(),oY.get(r).then(function(n){Object.assign(oF,L(L({},e),{captchaOptions:L(L({},e.captchaOptions),{h5_check_version:(null===(r=e.captchaOptions)||void 0===r?void 0:r.closeDecisionCheck)?"0.0.0":"3.8.20-nontt-alpha.2"})}));var r,i=n.initVerifyCenter(oF);if(!t)return i;t(i)}).catch(function(e){if(!n)return iD.reject(e);n(e)})},e}();t.TTVerifyCenter=o$,t.close=function(){oY.get(oV).then(function(e){null==e||e.closeCaptcha()})},t.config=oX,t.getFp=function(){var e,t,n,r=(null===(t=null==oF?void 0:oF.captchaOptions)||void 0===t?void 0:t.fp)||oG.get(oR)||(void 0===(e=null===(n=null==oF?void 0:oF.captchaOptions)||void 0===n?void 0:n.fpCookieOption)&&(e={}),oU(e));return iD.resolve(r)},t.init=function(e,t,n){void 0===t&&(t=function(){}),void 0===n&&(n=function(){});var r=ox(e);Object.assign(oV,r),oq.init(L(L({},r),{region:"va"})),oM.init(r,oN),oM.start(),oY.get(r).then(function(n){var r;Object.assign(oF,L(L({},e),{captchaOptions:L(L({},e.captchaOptions),{h5_check_version:(null===(r=e.captchaOptions)||void 0===r?void 0:r.closeDecisionCheck)?"0.0.0":"3.8.20-nontt-alpha.2"})})),null==n||n.initVerifyOptions(oF),t(n)}).catch(function(e){var t;n({type:"loadJSSDK",msg:null!==(t=null==e?void 0:e.message)&&void 0!==t?t:""})})},t.render=function(e){oY.get(oV).then(function(t){null==t||t.autoRender(e)}).catch(function(e){console.log("err: ",e)})},t.transform=function(e){var t={code:"10000",from:"",type:"verify",version:"1",region:"va",subtype:"",verify_event:"",fp:"",detail:""};return 3059===e?t.subtype="text":3060===e?t.subtype="3d":99996===e?t.subtype="whirl":t.subtype="slide",JSON.stringify(t)}},697641:function(e,t,n){var r,i=n(499845);r=0,function(e){"use strict";var t;let r,o;function a(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})}let s="";function c(){return 1e4*Date.now()+Math.floor(1e4*Math.random())}function u(e){return("000"+parseInt(e,2).toString(16)).slice(-4)}function l(e,t){switch(t){case 0:for(;128&b(e););break;case 2:h(e,w(e));break;case 5:h(e,4);break;case 1:h(e,8);break;default:throw Error("Unimplemented type: "+t)}}function f(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let d=[];function p(){let e=d.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function h(e,t){if(e.offset+t>e.limit)throw Error("Skip past limit");e.offset+=t}function v(e){return e.offset>=e.limit}function g(e,t){let n=e.bytes,r=e.offset,i=e.limit,o=r+t;if(o>n.length){let t=new Uint8Array(2*o);t.set(n),e.bytes=t}return e.offset=o,o>i&&(e.limit=o),r}function _(e,t){let n=e.offset;if(n+t>e.limit)throw Error("Read past limit");return e.offset+=t,n}function m(e,t){let n=_(e,t),r=String.fromCharCode,i=e.bytes,o="";for(let e=0;e<t;e++){let a,s,c,u;let l=i[e+n];(128&l)==0?o+=r(l):(224&l)==192?e+1>=t?o+="\uFFFD":(192&(a=i[e+n+1]))!=128?o+="\uFFFD":(u=(31&l)<<6|63&a)<128?o+="\uFFFD":(o+=r(u),e++):(240&l)==224?e+2>=t?o+="\uFFFD":(a=i[e+n+1],((a|(s=i[e+n+2])<<8)&49344)!=32896?o+="\uFFFD":(u=(15&l)<<12|(63&a)<<6|63&s)<2048||u>=55296&&u<=57343?o+="\uFFFD":(o+=r(u),e+=2)):(248&l)==240?e+3>=t?o+="\uFFFD":(a=i[e+n+1],s=i[e+n+2],((a|s<<8|(c=i[e+n+3])<<16)&0xc0c0c0)!=8421504?o+="\uFFFD":(u=(7&l)<<18|(63&a)<<12|(63&s)<<6|63&c)<65536||u>1114111?o+="\uFFFD":(u-=65536,o+=r((u>>10)+55296,(1023&u)+56320),e+=3)):o+="\uFFFD"}return o}function y(e,t){let n=t.length,r=0;for(let e=0;e<n;e++){let i=t.charCodeAt(e);i>=55296&&i<=56319&&e+1<n&&(i=(i<<10)+t.charCodeAt(++e)-0x35fdc00),r+=i<128?1:i<2048?2:i<65536?3:4}S(e,r);let i=g(e,r),o=e.bytes;for(let e=0;e<n;e++){let r=t.charCodeAt(e);r>=55296&&r<=56319&&e+1<n&&(r=(r<<10)+t.charCodeAt(++e)-0x35fdc00),r<128?o[i++]=r:(r<2048?o[i++]=r>>6&31|192:(r<65536?o[i++]=r>>12&15|224:(o[i++]=r>>18&7|240,o[i++]=r>>12&63|128),o[i++]=r>>6&63|128),o[i++]=63&r|128)}}function b(e){return e.bytes[_(e,1)]}function E(e,t){let n=g(e,1);e.bytes[n]=t}function w(e){let t,n=0,r=0;do t=b(e),n<32&&(r|=(127&t)<<n),n+=7;while(128&t);return r}function S(e,t){for(t>>>=0;t>=128;)E(e,127&t|128),t>>>=7;E(e,t)}function O(e,t){let n,r=0,i=0,o=0;return r=127&(n=b(e)),128&n&&(r|=(127&(n=b(e)))<<7,128&n&&(r|=(127&(n=b(e)))<<14,128&n&&(r|=(127&(n=b(e)))<<21,128&n&&(i=127&(n=b(e)),128&n&&(i|=(127&(n=b(e)))<<7,128&n&&(i|=(127&(n=b(e)))<<14,128&n&&(i|=(127&(n=b(e)))<<21,128&n&&(o=127&(n=b(e)),128&n&&(o|=(127&(n=b(e)))<<7))))))))),{low:r|i<<28,high:i>>>4|o<<24,unsigned:t}}function T(e,t){let n=t.low>>>0,r=(t.low>>>28|t.high<<4)>>>0,i=t.high>>>24,o=0===i?0===r?n<16384?n<128?1:2:n<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10,a=g(e,o),s=e.bytes;switch(o){case 10:s[a+9]=i>>>7&1;case 9:s[a+8]=9!==o?128|i:127&i;case 8:s[a+7]=8!==o?r>>>21|128:r>>>21&127;case 7:s[a+6]=7!==o?r>>>14|128:r>>>14&127;case 6:s[a+5]=6!==o?r>>>7|128:r>>>7&127;case 5:s[a+4]=5!==o?128|r:127&r;case 4:s[a+3]=4!==o?n>>>21|128:n>>>21&127;case 3:s[a+2]=3!==o?n>>>14|128:n>>>14&127;case 2:s[a+1]=2!==o?n>>>7|128:n>>>7&127;case 1:s[a]=1!==o?128|n:127&n}}function k(e){return function(e){let t={};e:for(;!v(e);){let n=w(e);switch(n>>>3){case 0:break e;case 1:t.SeqID=O(e,!0);break;case 2:t.LogID=O(e,!0);break;case 3:t.service=w(e);break;case 4:t.method=w(e);break;case 5:{let n=function(e){let t=w(e),n=e.limit;return e.limit=e.offset+t,n}(e);(t.headers||(t.headers=[])).push(function(e){let t={};e:for(;!v(e);){let n=w(e);switch(n>>>3){case 0:break e;case 1:t.key=m(e,w(e));break;case 2:t.value=m(e,w(e));break;default:l(e,7&n)}}if(void 0===t.key)throw Error("Missing required field: key");if(void 0===t.value)throw Error("Missing required field: value");return t}(e)),e.limit=n;break}case 6:t.payloadEncoding=m(e,w(e));break;case 7:t.payloadType=m(e,w(e));break;case 8:t.payload=function(e,t){let n=_(e,t);return e.bytes.subarray(n,n+t)}(e,w(e));break;case 9:t.LogIDNew=m(e,w(e));break;default:l(e,7&n)}}if(void 0===t.SeqID)throw Error("Missing required field: SeqID");if(void 0===t.LogID)throw Error("Missing required field: LogID");if(void 0===t.service)throw Error("Missing required field: service");if(void 0===t.method)throw Error("Missing required field: method");return t}(function(e){return{bytes:e,offset:0,limit:e.length}}(e))}function I(e){return function(e){let t=p();return function(e,t){let n=e.SeqID;void 0!==n&&(S(t,8),T(t,n));let r=e.LogID;void 0!==r&&(S(t,16),T(t,r));let i=e.service;void 0!==i&&(S(t,24),T(t,f(i)));let o=e.method;void 0!==o&&(S(t,32),T(t,f(o)));let a=e.headers;if(void 0!==a)for(let e of a){S(t,42);let n=p();!function(e,t){let n=e.key;void 0!==n&&(S(t,10),y(t,n));let r=e.value;void 0!==r&&(S(t,18),y(t,r))}(e,n),S(t,n.limit),function(e,t){let n=g(e,t.limit),r=e.bytes,i=t.bytes;for(let e=0,o=t.limit;e<o;e++)r[e+n]=i[e]}(t,n),function(e){d.push(e)}(n)}let s=e.payloadEncoding;void 0!==s&&(S(t,50),y(t,s));let c=e.payloadType;void 0!==c&&(S(t,58),y(t,c));let u=e.payload;void 0!==u&&(S(t,66),S(t,u.length),function(e,t){let n=g(e,t.length);e.bytes.set(t,n)}(t,u));let l=e.LogIDNew;void 0!==l&&(S(t,74),y(t,l))}(e,t),function(e){let t=e.bytes,n=e.limit;return t.length===n?t:t.subarray(0,n)}(t)}(e)}let A=0x100000000,R=0xffffffffffffffff,C=0x8000000000000000,L=String.prototype.charCodeAt;class P{constructor(e,t,n){this.isLong=!0,this.low=0|e,this.high=0|t,this.unsigned=!!n}static isLong(e){return e&&!0===e.isLong}static fromBits(e,t,n){return new P(e,t,n)}static fromBytes(e,t,n){return n?P.fromBytesLE(e,t):P.fromBytesBE(e,t)}static fromBytesLE(e,t){return new P(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)}static fromBytesBE(e,t){return new P(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}static fromHash(e){return"\0\0\0\0\0\0\0\0"===e?D:new P((L.call(e,0)|L.call(e,1)<<8|L.call(e,2)<<16|L.call(e,3)<<24)>>>0,(L.call(e,4)|L.call(e,5)<<8|L.call(e,6)<<16|L.call(e,7)<<24)>>>0,!0)}toHash(){return String.fromCharCode(255&this.low,this.low>>>8&255,this.low>>>16&255,this.low>>>24,255&this.high,this.high>>>8&255,this.high>>>16&255,this.high>>>24)}static fromNumber(e,t=!0){if(isNaN(e))return t?x:D;if(t){if(e>=R)return j}else{if(e<=-C)return N;if(e+1>=C)return M}return P.fromBits(e%A|0,e/A|0,t)}toNumber(){return this.unsigned?(this.high>>>0)*A+(this.low>>>0):this.high*A+(this.low>>>0)}isZero(){return 0===this.high&&0===this.low}add(e){!P.isLong(e)&&(e=P.fromNumber(e));let t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,a=65535&e.high,s=e.low>>>16,c=65535&e.low,u=0,l=0,f,d;return f=0+((d=0+(i+c))>>>16),d&=65535,f+=r+s,l+=f>>>16,f&=65535,l+=n+a,u+=l>>>16,l&=65535,u+=t+o,u&=65535,P.fromBits(f<<16|d,u<<16|l,this.unsigned)}equals(e){return!P.isLong(e)&&(e=P.fromNumber(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low}addOne(){return -1===this.low&&-1===this.high?P.fromBits(0,0,this.unsigned):-1===this.low?P.fromBits(0,this.high+1,this.unsigned):P.fromBits(this.low+1,this.high,this.unsigned)}toBytes(e){return e?this.toBytesLE():this.toBytesBE()}toBytesLE(){let e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]}toBytesBE(){let e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]}}let D=new P(0,0,!1),x=new P(0,0,!0),M=P.fromBits(-1,0x7fffffff,!1),j=P.fromBits(-1,-1,!0),N=P.fromBits(0,-0x80000000,!1);e.ErrorCode=void 0,(t=e.ErrorCode||(e.ErrorCode={}))[t.NATIVE_ERROR=5001]="NATIVE_ERROR",t[t.CONNECTING_ERROR=5002]="CONNECTING_ERROR",t[t.MAX_RETRIES_ERROR=5003]="MAX_RETRIES_ERROR",t[t.MESSAGE_ERROR=5004]="MESSAGE_ERROR",t[t.OPEN_ERROR=5005]="OPEN_ERROR";class B{constructor(e){this.type=e,this.target=null}}class G extends B{constructor(e,t){super(e),this.message=t&&t.message||null}}class U extends B{constructor(t,n){super(t),this.error=n&&n.error||null,this.colno=n&&n.colno||0,this.filename=n&&n.filename||"",this.lineno=n&&n.lineno||0,this.message=n&&n.message||"",this.code=n&&n.code||e.ErrorCode.NATIVE_ERROR}}class z extends B{constructor(e,t){super(e),this.code=t&&t.code||0,this.reason=t&&t.reason||"",this.wasClean=t&&t.wasClean||!1,this.willReconnect=t&&t.willReconnect||!1}}class q extends B{constructor(e,t){super(e),this.data=t&&t.data||null}}class W extends q{constructor(e,t){super(e),this.data=t&&t.data||null,this.message=t&&t.message||null}}class F extends B{constructor(e,t){super(e),this.data=t&&t.data||null}}function K(e,{message:t,code:n}){return new U(e,{message:t,code:n})}function V(e,{code:t,reason:n,wasClean:r,willReconnect:i}){return new z(e,{code:t,reason:n,wasClean:r,willReconnect:i})}function H(e,{data:t,message:n}){return new W(e,{data:t,message:n})}function J(e,{data:t}){return new F(e,{data:t})}function Y(e,{message:t}){return new G(e,{message:t})}class X{constructor(e,t){this.endpoints=e,this.maxRetries=t,this.currentIndex=0,this.currentEndpointTriesCount=0}resetEndpointConfig(){this.currentIndex=0,this.currentEndpointTriesCount=0}resetTries(){this.currentEndpointTriesCount=0}getCurrentEndpoint(){return this.endpoints[this.currentIndex]}getCurrentEndpointTriesCount(){return this.currentEndpointTriesCount}checkReachMaxTries(){return!!(this.currentIndex>=this.endpoints.length)||this.currentIndex===this.endpoints.length-1&&this.currentEndpointTriesCount===this.maxRetries||!1}checkCurrentEndpointReachedMaxRetries(){return this.currentIndex==this.endpoints.length||this.currentEndpointTriesCount>this.maxRetries}replaceBackupEndpointAndUpdateCount(){return this.currentEndpointTriesCount=1,this.currentIndex++,this.endpoints[this.currentIndex]}getCurrentEndpointAndUpdateCount(){return this.currentEndpointTriesCount++,this.getCurrentEndpoint()}}let $=("undefined"!=typeof globalThis&&"Window"===globalThis.constructor.name||"undefined"!=typeof window&&"Window"===window.constructor.name)&&"undefined"!=typeof document,Q="undefined"!=typeof globalThis&&("Object"===globalThis.constructor.name||"DedicatedWorkerGlobalScope"===globalThis.constructor.name)&&"undefined"!=typeof tt,Z=("undefined"!=typeof globalThis&&"Object"===globalThis.constructor.name||"undefined"==typeof globalThis||"undefined"!=typeof globalThis&&!!globalThis.WeixinJSBridge)&&"undefined"!=typeof wx,ee="undefined"!=typeof globalThis&&("DedicatedWorkerGlobalScope"===globalThis.constructor.name||"SharedWorkerGlobalScope"===globalThis.constructor.name||"ServiceWorkerGlobalScope"===globalThis.constructor.name)&&"undefined"!=typeof self,et="undefined"!=typeof globalThis&&"Object"===globalThis.constructor.name&&void 0!==n.g&&"Object"===n.g.constructor.name&&void 0!==i&&i.version;class en{constructor(){this._listeners={}}emit(e,...t){let n=this._listeners[e];if(n)n.slice().forEach(e=>e.fn.apply(e.ctx,t));else if("error"===e&&!this.onerror){let e=t.length&&t[0];if(e instanceof Error)throw e;throw Error("Unhandled error."+(e?" ("+e.message+")":"")).context=e,e}return this}off(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=null;else{let n=this._listeners[e];if(n)for(let e=0;e<n.length;)n[e].fn===t?n.splice(e,1):++e}return this}on(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this}}class er extends en{constructor(e,t,n){super(),this._socket=null,Z&&wx.connectSocket&&(this._socket=wx.connectSocket({url:e,protocols:t,header:n,fail:this._createSocketFailHandler.bind(this),success:this._createSocketSuccessHandler.bind(this)})),Q&&tt.connectSocket&&(this._socket=tt.connectSocket({url:e,protocols:t,header:n,fail:this._createSocketFailHandler.bind(this),success:this._createSocketSuccessHandler.bind(this)}))}_createSocketSuccessHandler(){Promise.resolve().then(()=>{this._addWsListeners()})}_createSocketFailHandler(e){Promise.resolve().then(()=>{let t=K("error",{message:e.errMsg||e.errNo?`message: ${e.errMsg}`||`code: ${e.errNo}`||"":JSON.stringify(e)});this.emit("error",t);let n=V("close",{reason:e.errMsg||e.errNo?`message: ${e.errMsg}`||`code: ${e.errNo}`||"":JSON.stringify(e)});this.emit("close",n)})}_addWsListeners(){this._socket.onOpen(e=>{this.emit("open",J("open",Object.assign(Object.assign({},e),{data:e.errMsg||""})))}),this._socket.onClose(e=>{this.emit("close",V("close",Object.assign({},e)))}),this._socket.onMessage(e=>{this.emit("message",H("message",Object.assign({},e)))}),this._socket.onError(e=>{this.emit("error",K("error",Object.assign(Object.assign({},e),{message:e.errMsg||""})))})}send(e){if(e instanceof Uint8Array){let t=e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset);this._socket&&this._socket.send({data:t,fail:e=>{this.emit("error",K("error",{message:e.errMsg||e.errNo?`message: ${e.errMsg}`||`code: ${e.errNo}`||"":JSON.stringify(e)}))}})}else this._socket&&this._socket.send({data:e,fail:e=>{this.emit("error",K("error",{message:e.errMsg||e.errNo?`message: ${e.errMsg}`||`code: ${e.errNo}`||"":JSON.stringify(e)}))}})}close(e,t){this._socket&&this._socket.close({code:e,reason:t})}addEventListener(e,t){this.on(e,t)}removeEventListener(e,t){this.off(e,t)}get readyState(){return this._socket.readyState}get binaryType(){return this._socket.binaryType}set binaryType(e){}get url(){return this._socket.url}get protocol(){return this._socket.protocol}get extensions(){return this._socket.extensions}get bufferedAmount(){return 0}}function ei(e,t,n){return!!(null==e?void 0:e.find(e=>e.key===t&&e.value===n))}function eo(e,t){var n;return null===(n=null==e?void 0:e.find(e=>e.key===t))||void 0===n?void 0:n.value}function ea(e){return a(this,void 0,void 0,function*(){let{enableAutoAck:t}=this._options,n=ei(e.message.headers,"need_ack","1"),r=ei(e.message.headers,"is_ack","1"),i=ei(e.message.headers,"x_frontier_qos_ack","1");if(t&&n){let{SeqID:t,LogID:n,service:r,LogIDNew:i,method:o}=e.message;this._sendAck({SeqID:t,LogID:n,LogIDNew:i,service:r,method:o,headers:[{key:"is_ack",value:"1"},{key:"ack_id",value:i||""},{key:"ack_code",value:"0"}]})}r&&!i&&this._dispatchAckMessageEvent(e)})}function es(e){return a(this,void 0,void 0,function*(){if("string"==typeof e){let t=new Uint8Array(function(e){let t=0,n=0;for(let r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:(64512&n)==55296&&(64512&e.charCodeAt(r+1))==56320?(++r,t+=4):t+=3;return t}(e));return!function(e,t,n){let r,i;let o=n;for(let o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:((64512&r)==55296&&(64512&(i=e.charCodeAt(o+1)))==56320?(r=65536+((1023&r)<<10)+(1023&i),++o,t[n++]=r>>18|240,t[n++]=r>>12&63|128):t[n++]=r>>12|224,t[n++]=r>>6&63|128),t[n++]=63&r|128);}(e,t,0),t}if(e instanceof ArrayBuffer)return new Uint8Array(e);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)})}function ec(e){return a(this,void 0,void 0,function*(){let t=k((yield es(e.data)));try{if(t.payload instanceof Uint8Array){let e=this._options.payloadEncoding instanceof Object?{force:!!this._options.payloadEncoding.force,encoding:this._options.payloadEncoding.encoding?this._options.payloadEncoding.encoding.replace(/\s/g,"").toLowerCase():""}:{force:!1,encoding:this._options.payloadEncoding?this._options.payloadEncoding.replace(/\s/g,"").toLowerCase():""},n=t.payloadEncoding?t.payloadEncoding.replace(/\s/g,"").toLowerCase():"",r=this._options.payloadType instanceof Object?{force:!!this._options.payloadType.force,type:this._options.payloadType.type?this._options.payloadType.type.replace(/\s/g,"").toLowerCase():""}:{force:!1,type:this._options.payloadType?this._options.payloadType.replace(/\s/g,"").toLowerCase():""},i=t.payloadType?t.payloadType.replace(/\s/g,"").toLowerCase():"",o=r.force?r.type:i||r.type,a=e.force?e.encoding:n||e.encoding;this._options.enableTransformTextPayload&&["text/plain;charset=utf-8","application/json","application/json;charset=utf-8","string"].includes(o)&&(!a||["none_none","binary"].includes(a))?t.textPayload=function(e,t,n){if(n-0<1)return"";let r="";for(let i=t;i<n;){let t=e[i++];if(t<=127)r+=String.fromCharCode(t);else if(t>=192&&t<224)r+=String.fromCharCode((31&t)<<6|63&e[i++]);else if(t>=224&&t<240)r+=String.fromCharCode((15&t)<<12|(63&e[i++])<<6|63&e[i++]);else if(t>=240){let n=((7&t)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536;r+=String.fromCharCode(55296+(n>>10)),r+=String.fromCharCode(56320+(1023&n))}}return r}(t.payload,0,t.payload.byteLength):t.textPayload=""}else t.textPayload=""}catch(e){t.textPayload="",console.log(e)}e.message=t})}function eu(e,t,n){let r=-1;return function t(i){return++r<n.length?n[r].bind(e)(i).then(()=>t(i)):Promise.resolve()}(t)}let el=(e,t)=>t.some(t=>e instanceof t),ef=new WeakMap,ed=new WeakMap,ep=new WeakMap,eh=new WeakMap,ev=new WeakMap,eg={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ed.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ep.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return e_(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function e_(e){if(e instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(e_(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&ef.set(t,e)}).catch(()=>{}),ev.set(t,e),t}(e);if(eh.has(e))return eh.get(e);let t=function(e){if("function"==typeof e){var t;return(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(em(this),e),e_(ef.get(this))}:function(...e){return e_(t.apply(em(this),e))}:function(e,...n){let r=t.call(em(this),e,...n);return ep.set(r,e.sort?e.sort():[e]),e_(r)}}return(e instanceof IDBTransaction&&!function(e){if(ed.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});ed.set(e,t)}(e),el(e,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(e,eg):e}(e);return t!==e&&(eh.set(e,t),ev.set(t,e)),t}let em=e=>ev.get(e),ey=["get","getKey","getAll","getAllKeys","count"],eb=["put","add","delete","clear"],eE=new Map;function ew(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(eE.get(t))return eE.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=eb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ey.includes(n)))return;let o=async function(e,...t){let o=this.transaction(e,i?"readwrite":"readonly"),a=o.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&o.done]))[0]};return eE.set(t,o),o}eg=(e=>({...e,get:(t,n,r)=>ew(t,n)||e.get(t,n,r),has:(t,n)=>!!ew(t,n)||e.has(t,n)}))(eg);class eS extends en{constructor(){super(),this._qosDB=void 0,this._intervalTimeoutId=null,this._interval=36e5,this._init()}openDB(){return a(this,void 0,void 0,function*(){yield this._init()})}_init(){return a(this,void 0,void 0,function*(){return new Promise(e=>{this._qosDB?e(this):((function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let a=indexedDB.open(e,1),s=e_(a);return r&&a.addEventListener("upgradeneeded",e=>{r(e_(a.result),e.oldVersion,e.newVersion,e_(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",()=>i())}).catch(()=>{}),s})("frontier",1,{upgrade(e,t,n,r){e.createObjectStore("qos",{keyPath:"message_id"})}}).then(e=>{this._qosDB=e,this._intervalFlush(),this.emit("ready")}),this.on("ready",()=>{e(this),this.off()}))})})}_intervalFlush(){return a(this,void 0,void 0,function*(){clearInterval(this._intervalTimeoutId),this._intervalTimeoutId=setInterval(()=>{this.flushExpired()},this._interval)})}get(e){var t;return a(this,void 0,void 0,function*(){return yield null===(t=this._qosDB)||void 0===t?void 0:t.get("qos",e)})}set(e,t){var n;return a(this,void 0,void 0,function*(){return yield null===(n=this._qosDB)||void 0===n?void 0:n.put("qos",{message_id:e,timestamp:t})})}del(e){var t;return a(this,void 0,void 0,function*(){return yield null===(t=this._qosDB)||void 0===t?void 0:t.delete("qos",e)})}clear(){var e;return a(this,void 0,void 0,function*(){return yield null===(e=this._qosDB)||void 0===e?void 0:e.clear("qos")})}keys(){var e;return a(this,void 0,void 0,function*(){return yield null===(e=this._qosDB)||void 0===e?void 0:e.getAllKeys("qos")})}getAll(){var e;return a(this,void 0,void 0,function*(){return yield null===(e=this._qosDB)||void 0===e?void 0:e.getAll("qos")})}flushExpired(){var e;return a(this,void 0,void 0,function*(){((yield null===(e=this._qosDB)||void 0===e?void 0:e.getAll("qos"))||[]).filter(({timestamp:e})=>e<Date.now()).forEach(e=>{var t;null===(t=this._qosDB)||void 0===t||t.delete("qos",e.message_id)})})}closeDB(){var e;return a(this,void 0,void 0,function*(){clearInterval(this._intervalTimeoutId),null===(e=this._qosDB)||void 0===e||e.close(),this._qosDB=void 0})}get isReady(){return this._qosDB}}class eO{constructor(){this._qosDB=localStorage,this._intervalTimeoutId=null,this._interval=36e5,this._intervalFlush()}openDB(){return a(this,void 0,void 0,function*(){if(!this._intervalTimeoutId)return this._intervalFlush(),this})}_intervalFlush(){return a(this,void 0,void 0,function*(){clearInterval(this._intervalTimeoutId),this._intervalTimeoutId=setInterval(()=>{this.flushExpired()},this._interval)})}_add_prefix(e){return`${this._prefix}${e}`}get _prefix(){return"frontier_qos_msg_id_"}get(e){return a(this,void 0,void 0,function*(){return JSON.parse(this._qosDB.getItem(this._add_prefix(e))||"{}")})}set(e,t){return a(this,void 0,void 0,function*(){return this._qosDB.setItem(this._add_prefix(e),JSON.stringify({message_id:e,timestamp:t}))})}del(e){return a(this,void 0,void 0,function*(){return this._qosDB.removeItem(this._add_prefix(e))})}clear(){return a(this,void 0,void 0,function*(){return this._qosDB.clear()})}keys(){return a(this,void 0,void 0,function*(){let e=[];for(let t=0;t<this._qosDB.length;t++)e.push(this._qosDB.key(t));return e.filter(e=>null==e?void 0:e.startsWith(this._prefix))})}getAll(){return a(this,void 0,void 0,function*(){let e=[],t=yield this.keys();for(let n in t){let t=this._qosDB.getItem(n);e.push(JSON.parse(t||"{}"))}return e})}flushExpired(){return a(this,void 0,void 0,function*(){((yield this.getAll())||[]).filter(({timestamp:e})=>e<Date.now()).forEach(e=>{this.del(e.message_id)})})}closeDB(){clearInterval(this._intervalTimeoutId)}get isReady(){return this._qosDB}}class eT{constructor(){this._qosDB=Q?tt:Z?wx:null,this._intervalTimeoutId=null,this._interval=36e5,this._intervalFlush()}openDB(){return a(this,void 0,void 0,function*(){if(!this._intervalTimeoutId)return this._intervalFlush(),this})}_intervalFlush(){return a(this,void 0,void 0,function*(){clearInterval(this._intervalTimeoutId),this._intervalTimeoutId=setInterval(()=>{this.flushExpired()},this._interval)})}_add_prefix(e){return`${this._prefix}${e}`}get _prefix(){return"frontier_qos_msg_id_"}get(e){return a(this,void 0,void 0,function*(){return JSON.parse(this._qosDB.getStorageSync(this._add_prefix(e))||"{}")})}set(e,t){return a(this,void 0,void 0,function*(){return this._qosDB.setStorageSync(this._add_prefix(e),JSON.stringify({message_id:e,timestamp:t}))})}del(e){return a(this,void 0,void 0,function*(){return this._qosDB.removeStorageSync(this._add_prefix(e))})}clear(){return a(this,void 0,void 0,function*(){return this._qosDB.clearStorageSync()})}keys(){return a(this,void 0,void 0,function*(){let{keys:e}=this._qosDB.getStorageInfoSync();return e.filter(e=>null==e?void 0:e.startsWith(this._prefix))})}getAll(){return a(this,void 0,void 0,function*(){let e=[];for(let t of yield this.keys()){let n=yield this.get(t);e.push(n)}return e})}flushExpired(){return a(this,void 0,void 0,function*(){((yield this.getAll())||[]).filter(({timestamp:e})=>e<Date.now()).forEach(e=>{this.del(e.message_id)})})}closeDB(){clearInterval(this._intervalTimeoutId)}get isReady(){return this._qosDB}}function ek(){return Q||Q?new eT:$||ee?new eS:$||ee?new eO:null}function eI(e){var t,n,r,i;return a(this,void 0,void 0,function*(){let o=ei(e.message.headers,"code","-1"),a=ei(e.message.headers,"is_ack","1"),s=eo(e.message.headers,"x_frontier_msgid"),c=Number(eo(e.message.headers,"x_frontier_ttl"))||0,u=ei(e.message.headers,"x_frontier_qos","2");if(!ei(e.message.headers,"x_frontier_qos_ack","1")||!u){if(u&&!this._qosDB&&(this._qosDB=ek(),this._qosDB&&(yield this._qosDB.openDB())),u&&!this._qosDB.isReady&&(yield this._qosDB.openDB()),e.message.service>0&&a&&!o){s&&u?!(yield null===(t=this._qosDB)||void 0===t?void 0:t.get(s))&&(this._dispatchMessageEvent(e),yield null===(n=this._qosDB)||void 0===n?void 0:n.set(s,Date.now()+c)):this._dispatchMessageEvent(e);return}if(e.message.service>0){s&&u?!(yield null===(r=this._qosDB)||void 0===r?void 0:r.get(s))&&(this._dispatchMessageEvent(e),yield null===(i=this._qosDB)||void 0===i?void 0:i.set(s,Date.now()+c)):this._dispatchMessageEvent(e);return}}})}function eA(e){return a(this,void 0,void 0,function*(){this._uptimeTimeoutId=setTimeout((()=>eR.bind(this)(e)).bind(this),this._options.uptimeInterval)})}function eR(e){var t,n;return a(this,void 0,void 0,function*(){if(!this._ws||this._ws.readyState!==this.OPEN)return;let{pingInterval:r}=this._options;null===(t=this._endpointManager)||void 0===t||t.resetEndpointConfig();for(let e=0;e<this._messageQueue.length;e++){let t=this._messageQueue[e];if(this._ws.readyState===this.OPEN&&null!==t)this._ws&&this._ws.send(t),this._messageQueue[e]=null;else break}this._messageQueue=this._messageQueue.filter(e=>!!e),this._pingPongTimeoutId=setTimeout(()=>this._ping(),r),this._dispatchOpenEvent(e),this._isBrowser&&this._ws&&(this._ws.binaryType=this._binaryType);let i=null===(n=this._endpointManager)||void 0===n?void 0:n.getCurrentEndpoint();this._debug(`open ${i} success`)})}function eC(){return a(this,void 0,void 0,function*(){this._isInit=!1,clearTimeout(this._connectionTimeoutId)})}function eL(e){var t,n;return a(this,void 0,void 0,function*(){let r=ei(e.message.headers,"x_frontier_qos","2"),i=ei(e.message.headers,"x_frontier_is_ack","1"),o=null===(t=eo(e.message.headers,"x_frontier_ack_msgid"))||void 0===t?void 0:t.split(",");if(r&&!this._qosDB&&(this._qosDB=ek(),this._qosDB&&(yield this._qosDB.openDB())),r&&!this._qosDB.isReady&&(yield this._qosDB.openDB()),r&&i&&o&&o.length)for(let e of o)yield null===(n=this._qosDB)||void 0===n?void 0:n.del(e)})}let eP=(e,t)=>{switch(e){case"boe":case"ppe":return{[`x-use-${e}`]:1,"x-tt-env":t};default:return{}}};class eD{constructor(e){this.maxLossCount=e,this.count=0}addCount(){this.count++}checkReachMaxCount(){return this.count>=this.maxLossCount}resetCounter(e=0){this.maxLossCount=e,this.count=0}}e.CustomCloseEvent=z,e.CustomErrorEvent=U,e.Event=B,e.FWS=class t extends en{constructor(t){super(),this._miniNavigatorOnline=!0,this._isBrowser=$,this._isNode=et,this._isMiniTT=Q,this._isMiniWX=Z,this._isWorker=ee,this._messageQueue=[],this._endpointManager=null,this._readyClosed=!1,this._binaryType="arraybuffer",this._connectLock=!1,this._connectionTimeoutId=null,this._uptimeTimeoutId=null,this._reconnectTimeoutId=null,this._pingPongTimeoutId=null,this._seqId=0,this._isInit=!1,this._url="",this._qosDB=null,this._pingLossCounter=null,this._protocols="pbbp2",this.CLOSED=3,this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this._onOpen=t=>{eu(this,t,[eC,eA]).then(()=>{var e;let t=null===(e=this._endpointManager)||void 0===e?void 0:e.getCurrentEndpoint();this._debug(`open ${t}`)}).catch(t=>{let n=K("error",{message:t.message,code:e.ErrorCode.OPEN_ERROR});this._dispatchErrorEvent(n)})},this._onMessage=t=>a(this,void 0,void 0,function*(){let{pingInterval:n,pingFrequency:r}=this._options;if(("hi"===t.data&&"always"===r||"auto"===r)&&(this._clearPingTimer(),this.emit("ping_once_success","success"),this._pingPongTimeoutId=setTimeout(()=>this._ping(),n)),"hi"!==t.data)eu(this,t,[ec,ea,eL,eI]).then(()=>{this._debug("received",t.message)}).catch(t=>{let n=K("error",{message:t.message,code:e.ErrorCode.MESSAGE_ERROR});this._dispatchErrorEvent(n)})}),this._onError=t=>{var n,r;let i=null===(n=this._endpointManager)||void 0===n?void 0:n.checkReachMaxTries(),o=null===(r=this._endpointManager)||void 0===r?void 0:r.getCurrentEndpoint();if(i&&!t.message){let t=`connect ${o} fail, max retries reached`;this._dispatchErrorEvent(K("error",{message:t,code:e.ErrorCode.MAX_RETRIES_ERROR}));return}this._ws&&this._ws.readyState===this.OPEN&&this._disconnect(),this._dispatchErrorEvent(K("error",{message:t.message,code:e.ErrorCode.NATIVE_ERROR}))},this._onClose=t=>a(this,void 0,void 0,function*(){var n,r,i,o,s,c,u,l,f,d,p,h;this._clearTimer(),this._clearPingTimer(),this._removeWsListeners(),this._ws=null,this._connectLock=!1;let v=null===(n=this._endpointManager)||void 0===n?void 0:n.checkReachMaxTries();if(!v&&this._navigatorOnline()&&!this._readyClosed){let e=null===(r=this._endpointManager)||void 0===r?void 0:r.getCurrentEndpoint(),n=this._options.reconnectInterceptor(t.code,t.reason);this._dispatchCloseEvent(V("close",{code:1006,reason:t.reason||`connecting failed, unknown reason, hostname: ${e}`,willReconnect:n})),n&&this._connect();return}if(1e3!==t.code&&this._readyClosed){this._dispatchCloseEvent(V("close",{code:1e3,reason:"bye"})),null===(i=this._endpointManager)||void 0===i||i.resetEndpointConfig(),null===(o=this._pingLossCounter)||void 0===o||o.resetCounter();return}if(1e3!==t.code&&v){let n=null===(s=this._endpointManager)||void 0===s?void 0:s.getCurrentEndpoint(),r=t.reason;!r&&(r=yield function(e){return a(this,void 0,void 0,function*(){return new Promise(t=>{if(!$)return t("unknown reason");try{let n=document.createElement("script");window.frontierJSONP=e=>{document.body.removeChild(n),window.frontierJSONP=void 0,t(e&&e.msg||"unknown reason")},n.type="text/javascript",n.src=e.replace(/^ws/,"http")+"&jscallback=frontierJSONP";try{document.body.appendChild(n)}catch(e){document.body.removeChild(n)}}catch(e){window.frontierJSONP=void 0,t("unknown reason")}})})}(this._url)),r=`connecting failed, ${r}, hostname: ${n}, max retries reached`,this._dispatchCloseEvent(V("close",{code:t.code,reason:r}));let i=`connect ${n} fail, max retries reached`;this._dispatchErrorEvent(K("error",{message:i,code:e.ErrorCode.MAX_RETRIES_ERROR})),null===(c=this._endpointManager)||void 0===c||c.resetEndpointConfig(),null===(u=this._pingLossCounter)||void 0===u||u.resetCounter();return}if(1e3!==t.code&&!t.reason){let e=null===(l=this._endpointManager)||void 0===l?void 0:l.getCurrentEndpoint();this._dispatchCloseEvent(V("close",{code:t.code,reason:`connecting failed, unknown reason, hostname: ${e}`})),null===(f=this._endpointManager)||void 0===f||f.resetEndpointConfig(),null===(d=this._pingLossCounter)||void 0===d||d.resetCounter();return}this._dispatchCloseEvent(t),null===(p=this._endpointManager)||void 0===p||p.resetEndpointConfig(),null===(h=this._pingLossCounter)||void 0===h||h.resetCounter()}),this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this.onStartReconnect=null,this.onReceiveAck=null,this.onStopImmediatelyReconnect=null,this._options={url:"",automaticOpen:!0,initReconnectInterval:1e3,maxReconnectInterval:1e4,reconnectIntervalGrowFactor:2,timeoutInterval:5e3,uptimeInterval:1e3,maxRetries:5,debug:!1,maxMessageQueueLength:1/0,service:0,logIDGenerator:c,headers:void 0,payloadEncoding:"",payloadType:"",fpID:"",deviceID:"",accessKey:"",ttwID:"",bddID:"",aID:"",disableAutoReconnect:!1,customParams:{},pingInterval:15e3,pingTimeoutInterval:4e3,pingFrequency:"auto",pingLossCount:2,enableTransformTextPayload:!1,logIDNewConfig:{enableAutoGenerateLogIDNew:!1,userIp:""},miniProgramParams:{customHttpHeader:{}},enableAutoAck:!1,reconnectInterceptor:()=>!0,enableQoS:!1,env:{xTTEnv:"",xUseEnv:""},listenNetworkChanged:!0};let{url:n,ws:r}=t,i=Array.isArray(n)?n:"string"==typeof n?[n]:[];if(!i||0===i.length)throw Error("please provide valid url");if(!(r||Z&&wx.connectSocket||Q&&tt.connectSocket||($||ee)&&"undefined"!=typeof WebSocket&&WebSocket))throw Error("please provide ws params, WebSocket constructor is undefined");Object.assign(this._options,t),this._endpointManager=new X(i,this._options.maxRetries),this._pingLossCounter=new eD(this._options.pingLossCount),this._options.automaticOpen&&(this._isInit=!0,this._connect()),this._options.listenNetworkChanged&&(this._isMiniTT||this._isMiniWX?this._onPageNetWorkChange():this._isBrowser&&this._initGlobalEventListener())}_handleOnLine(){if(!this._options.disableAutoReconnect&&!this._readyClosed)this._handleReconnect()}_handleOffLine(){this._destroyWebSocket();let e=Y("reconnect",{message:"stop immediately reconnect"});this.onStopImmediatelyReconnect&&this.onStopImmediatelyReconnect(e)}_initGlobalEventListener(){this._isBrowser&&window.addEventListener("online",this._handleOnLine.bind(this)),this._isBrowser&&window.addEventListener("offline",this._handleOffLine.bind(this)),this._isBrowser&&window.addEventListener("pagehide",this._handlePageHide.bind(this)),this._isBrowser&&window.addEventListener("pageshow",this._handlePageShow.bind(this))}_dropGlobalEventListener(){this._isBrowser&&window.removeEventListener("online",this._handleOnLine),this._isBrowser&&window.removeEventListener("offline",this._handleOffLine),this._isBrowser&&window.removeEventListener("pagehide",this._handlePageHide),this._isBrowser&&window.removeEventListener("pageshow",this._handlePageShow)}_handlePageHide(e){!e.persisted&&(this._isBrowser&&window.removeEventListener("pagehide",this._handlePageHide),this._isBrowser&&window.removeEventListener("pageshow",this._handlePageShow),this.close()),this._isBrowser&&window.removeEventListener("online",this._handleOnLine),this._isBrowser&&window.removeEventListener("offline",this._handleOffLine)}_handlePageShow(e){e.persisted&&(this._navigatorOnline()&&(!this._ws||this._ws.readyState!==this.OPEN||this._ws.readyState!==this.CONNECTING)&&this._handleOnLine(),this._isBrowser&&window.addEventListener("online",this._handleOnLine.bind(this)),this._isBrowser&&window.addEventListener("offline",this._handleOffLine.bind(this)))}_generateUrl(e){return a(this,void 0,void 0,function*(){let t,n,r;let{fpID:i,deviceID:o,bddID:a,ttwID:s,accessKey:c,aID:u,customParams:l={},enableAutoAck:f,enableQoS:d,env:p}=this._options;this._isBrowser||this._isMiniWX||this._isMiniTT?(t=location&&"https:"==location.protocol?"wss://":"ws://",n=e.replace(/((^ws)|(^http))((?:[s]*:\/\/))/,""),r=/^wss(.*:\/\/)/.test(e)?e:`${t}${n}`):(t="wss://",n=e.replace(/(^http)((?:[s]*:\/\/))/,""),r=/(^ws)((?:[s]*:\/\/))/.test(n)?n:`${t}${n}`);let h=a?"bd_did":s?"ttwid":"device_id",v=a||s||o;if(!v||!h)throw Error("please provide bddID, deviceID or ttwID");let g="function"==typeof l?yield l():l,_=Object.assign(Object.assign({device_platform:"web",version_code:"fws_1.0.0",access_key:c,fpid:i,aid:u,[h]:v,xsack:f?1:0,xaack:f?1:0,xsqos:d?1:0},p?eP(p.xUseEnv,p.xTTEnv):{}),g),m=Object.keys(_).reduce((e,t)=>`${e}${e?"&":"?"}${t}=${_[t]}`,"");return`${r}/ws/v2${m}`})}_connect(){var t,n,r,i,o,s,c;return a(this,void 0,void 0,function*(){if(!this._connectLock&&!this._readyClosed){this._connectLock=!0;try{var a,u;let l=null===(t=this._endpointManager)||void 0===t?void 0:t.checkCurrentEndpointReachedMaxRetries(),{timeoutInterval:f}=this._options;if(l){let t=null===(n=this._endpointManager)||void 0===n?void 0:n.getCurrentEndpoint(),o=null===(r=this._endpointManager)||void 0===r?void 0:r.replaceBackupEndpointAndUpdateCount(),a=null===(i=this._endpointManager)||void 0===i?void 0:i.getCurrentEndpointTriesCount();if(o){let n=`connect ${t} timeout, max retries reached, will use backup endpoint ${o} to retry`,r=K("error",{message:n,code:e.ErrorCode.MAX_RETRIES_ERROR});this._debug(n),this._dispatchErrorEvent(r),this._url=yield this._generateUrl(o),this._debug(`connect ${o} ${a} times`),this._removeWsListeners()}else{let n=`connect ${t} timeout, max retries reached`;this._debug(n),this._dispatchErrorEvent(K("error",{message:n,code:e.ErrorCode.MAX_RETRIES_ERROR}));return}}else{let e=null===(o=this._endpointManager)||void 0===o?void 0:o.getCurrentEndpointAndUpdateCount(),t=null===(s=this._endpointManager)||void 0===s?void 0:s.getCurrentEndpointTriesCount();this._url=yield this._generateUrl(e||""),this._debug(`connect ${e} ${t} times`),this._removeWsListeners()}if(this._isInit)this._isInit=!1;else{let e=Y("reconnect",{message:"start"});this.onStartReconnect&&this.onStartReconnect(e)}let d=(null===(c=this._endpointManager)||void 0===c?void 0:c.getCurrentEndpointTriesCount())||0;d>1&&(yield this._wait(d-1)),this._debug(`connecting url: ${this._url} protocols: ${this._protocols}`),this._ws=(a={url:this._url,protocols:[this._protocols],headers:this._options.miniProgramParams.customHttpHeader},(u=this._options.ws)?new u(a.url,a.protocol):Z||Q?new er(a.url,a.protocol,a.headers):($||ee)&&"undefined"!=typeof WebSocket&&WebSocket?new WebSocket(a.url,a.protocols):void 0),(this._isBrowser||this._isWorker)&&this._ws&&(this._ws.binaryType=this._binaryType),this._addWsListeners(),this._connectionTimeoutId=setTimeout(()=>this._onTimeout(),f)}catch(e){throw this._connectLock=!1,e}}})}_clearTimer(){clearTimeout(this._connectionTimeoutId),clearTimeout(this._uptimeTimeoutId),this._connectionTimeoutId=null,this._uptimeTimeoutId=null}_clearPingTimer(){clearTimeout(this._pingPongTimeoutId),clearTimeout(this._reconnectTimeoutId),this._pingPongTimeoutId=null,this._reconnectTimeoutId=null}_debug(...e){this._options.debug&&console.log.apply(console,["FRONTIER>",...e])}_getIntervalValue(e){let{initReconnectInterval:t,maxReconnectInterval:n,reconnectIntervalGrowFactor:r}=this._options,i=t*Math.pow(r,e-1);return i>n?n:i}_ping(){if(this._ws&&this._ws.readyState===this.CONNECTING){this._pingPongTimeoutId=setTimeout(()=>this._ping(),this._options.pingInterval);return}if(!this._ws||this._ws.readyState!==this.OPEN){this._handleReconnect();return}this._ws&&this._ws.send("hi"),this._reconnectTimeoutId=setTimeout(()=>{var e,t;null===(e=this._pingLossCounter)||void 0===e||e.addCount(),this.emit("ping_once_timeout","timeout"),(null===(t=this._pingLossCounter)||void 0===t?void 0:t.checkReachMaxCount())?this._handleReconnect():this._ping()},this._options.pingTimeoutInterval)}_navigatorOnline(){return this._isMiniTT||this._isMiniWX?this._miniNavigatorOnline:!this._isBrowser&&!this._isWorker||!this._options.listenNetworkChanged||navigator.onLine}_handleReconnect(){var e,t;if(!!this._navigatorOnline()&&!this._readyClosed)null===(e=this._endpointManager)||void 0===e||e.resetEndpointConfig(),null===(t=this._pingLossCounter)||void 0===t||t.resetCounter(),this._ws?this._disconnect(1001,"going away, try reconnecting server",!0):this._connect()}_onPageNetWorkChange(){this._isMiniTT?tt.onNetworkStatusChange(({isConnected:e})=>{this._miniNavigatorOnline=e,e?this._handleOnLine():this._handleOffLine()}):this._isMiniWX&&wx.onNetworkStatusChange(({isConnected:e})=>{this._miniNavigatorOnline=e,e?this._handleOnLine():this._handleOffLine()})}_wait(e){return new Promise(t=>{setTimeout(t,this._getIntervalValue(e))})}_disconnect(e=1e3,t="",n=!1){if(!!this._ws)this._destroyWebSocket(e,t,n)}_onTimeout(){var e;let t=null===(e=this._endpointManager)||void 0===e?void 0:e.getCurrentEndpoint();this._debug(`connect ${t} timeout`),this._disconnect(1001,"timeout, try reconnecting",!0)}_sendAck(e){let t=I(e);this._ws&&this._ws.readyState===this.OPEN&&(this._ws&&this._ws.send(t),this._debug("send_ack",e))}_removeWsListeners(){if(!!this._ws)this._ws.removeEventListener("open",this._onOpen),this._ws.removeEventListener("close",this._onClose),this._ws.removeEventListener("message",this._onMessage),this._ws.removeEventListener("error",this._onError)}_addWsListeners(){if(!!this._ws)this._ws.addEventListener("open",this._onOpen),this._ws.addEventListener("close",this._onClose),this._ws.addEventListener("message",this._onMessage),this._ws.addEventListener("error",this._onError)}_wsInstanceClose(e=1e3,t=""){try{this._ws&&this._ws.close(e,t)}catch(e){}}_destroyWebSocket(e=1e3,t="",n=!1){var r,i,o,a;if(this._clearPingTimer(),this._clearTimer(),this._removeWsListeners(),this._wsInstanceClose(1e3,t),this._connectLock=!1,n&&this._navigatorOnline()&&!this._readyClosed){if(null===(r=this._endpointManager)||void 0===r?void 0:r.checkReachMaxTries()){let e=null===(i=this._endpointManager)||void 0===i?void 0:i.getCurrentEndpoint();this._dispatchCloseEvent(V("close",{code:1006,reason:`connect ${e} timeout, max retries reached`,wasClean:!0}))}else{let n=this._options.reconnectInterceptor(e,t);this._dispatchCloseEvent(V("close",{code:e,reason:t,wasClean:!0,willReconnect:n})),n&&this._connect()}return}this._navigatorOnline()||this._readyClosed?this._dispatchCloseEvent(V("close",{code:e,reason:"bye"})):this._dispatchCloseEvent(V("close",{code:1006,reason:"going away, network offline"})),this._ws=null,null===(o=this._endpointManager)||void 0===o||o.resetEndpointConfig(),null===(a=this._pingLossCounter)||void 0===a||a.resetCounter()}_dispatchOpenEvent(e){this.emit("open",e),this.onopen&&this.onopen(e)}_dispatchMessageEvent(e){this.emit("message",e),this.onmessage&&this.onmessage(e)}_dispatchAckMessageEvent(e){this.emit("ack",e),this.onReceiveAck&&this.onReceiveAck(e)}_dispatchErrorEvent(e){this.emit("error",e),this.onerror&&this.onerror(e)}_dispatchCloseEvent(e){this.emit("close",e),this.onclose&&this.onclose(e)}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)}get retryCount(){var e;return(null===(e=this._endpointManager)||void 0===e?void 0:e.getCurrentEndpointTriesCount())||0}get bufferedAmount(){return this._messageQueue.reduce((e,t)=>e+=t&&t.byteLength||0,0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.automaticOpen?this.CONNECTING:this.CLOSED}get url(){return this._ws?this._ws.url:this._url}close(e=1e3,t){var n;if(this._readyClosed=!0,this._clearTimer(),this._clearPingTimer(),null===(n=this._qosDB)||void 0===n||n.closeDB(),this._dropGlobalEventListener(),!this._ws){this._debug("close, ws instance not initialized");return}if(this._ws.readyState===this.CLOSED||this._ws.readyState===this.CLOSING){this._debug("close, ws already closed");return}this._destroyWebSocket(e,t)}send(e,t){return a(this,void 0,void 0,function*(){if(null==e)throw Error("please provide a valid data, data must be a string or an arraybuffer");"number"==typeof e&&(e=JSON.stringify(e)),"string"!=typeof e&&!(e instanceof ArrayBuffer)&&!(e.buffer&&e.buffer instanceof ArrayBuffer)&&(e=JSON.stringify(e));let n=yield es(e),r=function(e){try{if("string"!=typeof e&&(e instanceof ArrayBuffer||e.buffer&&e.buffer instanceof ArrayBuffer))return"";if("string"==typeof e)return JSON.parse(e),"application/json";else return""}catch(t){if("string"==typeof e)return"text/plain;charset=utf-8";return""}}(e),{method:i=0,service:o=this._options.service,logID:a=this._options.logIDGenerator(),headers:c=this._options.headers,payloadEncoding:l=this._options.payloadEncoding,payloadType:f=this._options.payloadType,logIDNew:d=this._options.logIDNewConfig.enableAutoGenerateLogIDNew?function(e=""){let t=`${Date.now()}`,n=s||(s=function(e){let t=/(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/.test(e),n=/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/.test(e);return t?function(e){let t=e.split(/\./).map(e=>{var t;return t=e,(Array(8).join("0")+parseInt(t,10).toString(2)).slice(-8)}),n=[];return n[0]=u(t[0]+t[1]),n[1]=u(t[2]+t[3]),["0000","0000","0000","0000","0000","ffff",n[0],n[1]].join("")}(e):n?function(e){let t="",n=[],r=0,i=0,o=!0,a="0000";if(e.indexOf("::")>-1){let s=e.split("::");for(let e=0;e<s.length;e++){let t=s[e];if(t.indexOf(":")>0){let e=t.split(":");o&&(r=e.length),i+=e.length;for(let t=0;t<e.length;t++)if(4!==e[t].length){let r=a.substring(0,4-e[t].length).concat(e[t]);n.push(r)}else n.push(e[t]);o=!1}else{if(4!==t.length){let e=a.substring(0,4-t.length).concat(t);n.push(e)}else n.push(t);o&&(r+=1),i+=1,o=!1}}let c="";for(let e=0;e<8-i;e++)c=c.concat(a);for(let e=0;e<n.length;e++)t=e===r?(t=t.concat(c)).concat(n[e]):t.concat(n[e]);return t}{let n=e.split(":");for(let e=0;e<n.length;e++){let r=n[e];if(4!==n[e].length){let i=a.substring(0,4-n[e].length).concat(r);t=t.concat(i)}else t=t.concat(r)}return t}}(e):"00000000000000000000000000000000"}(e));return"02"+t+n+Math.random().toString(16).slice(-6)}(this._options.logIDNewConfig.userIp):""}=t||{};if(!o)throw Error("please provide a valid service");let p={SeqID:P.fromNumber(this._seqId++),LogID:P.fromNumber(a),service:o,method:i,headers:c,payloadEncoding:l instanceof Object?l.encoding?l.encoding:"":l,payloadType:f instanceof Object?f.type?f.type:r:f||r,payload:n,LogIDNew:d},h=I(p);return this._ws&&this._ws.readyState===this.OPEN?(this._ws&&this._ws.send(h),this._debug("sent",p)):this._messageQueue.length<this._options.maxMessageQueueLength?(this._messageQueue.push(h),this._debug("enqueue",p)):(this._messageQueue.shift(),this._messageQueue.push(h)),{seqID:this._seqId,logID:a,logIDNew:d}})}reconnect(e){var t,n;return a(this,void 0,void 0,function*(){let{url:r}=e||{},i=Array.isArray(r)?r:"string"==typeof r?[r]:[];e&&Object.assign(this._options,e),i&&i.length?this._endpointManager=new X(i,this._options.maxRetries):null===(t=this._endpointManager)||void 0===t||t.resetEndpointConfig(),null===(n=this._pingLossCounter)||void 0===n||n.resetCounter(this._options.pingLossCount),this._readyClosed=!1,this._ws&&this._ws.readyState!==this.CLOSED?this._disconnect(1e3,"manual reconnecting",!0):(this._isInit=!0,this._connect())})}connect(){var e,t;return a(this,void 0,void 0,function*(){!this._connectLock&&(null===(e=this._endpointManager)||void 0===e||e.resetEndpointConfig(),null===(t=this._pingLossCounter)||void 0===t||t.resetCounter(),this._readyClosed=!1,this._isInit=!0,this._connect())})}addEventListener(e,t){this.on(e,t)}dispatchEvent(e){let{type:t}=e;this.emit(t,e)}removeEventListener(e,t){this.off(e,t)}pingOnce(){return new Promise((e,t)=>{this._clearPingTimer(),this._pingPongTimeoutId=setTimeout(()=>this._ping(),this._options.pingInterval);let n=()=>{e("success"),this.off("ping_once_success",n),this.off("ping_once_timeout",r)},r=()=>{t("timeout"),this.off("ping_once_success",n),this.off("ping_once_timeout",r)};this.on("ping_once_success",n),this.on("ping_once_timeout",r),this._ping()})}},e.FrontierMessageEvent=W,e.MessageEvent=q,e.OpenEvent=F,e.ReconnectEvent=G,e.createCloseEvent=V,e.createErrorEvent=K,e.createMessageEvent=H,e.createOpenEvent=J,e.createReconnectEvent=Y,e.decodedFrame=k,e.encodeFrame=I,Object.defineProperty(e,"__esModule",{value:!0})}(t)},638432:function(e,t,n){"use strict";t.default=void 0;var r=n(218571);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t,n,a=(n=2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!!e))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&null!=s.return&&s.return()}finally{if(i)throw o}}return n}}(t,2)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(t,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],c=a[1];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({state:s},(0,r.useMemo)(function(){return{setTrue:function(){return c(!0)},setFalse:function(){return c(!1)},toggle:function(e){return c("boolean"==typeof e?e:function(e){return!e})}}},[]))}},835628:function(e,t,n){"use strict";t.default=void 0;var r=n(218571);function i(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],u=s.onEnter,l=s.onLeave,f=(0,r.useRef)();var d=(n=2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&null!=s.return&&s.return()}finally{if(i)throw o}}return n}}(t,2)||i(t,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=d[0],h=d[1],v=(0,r.useCallback)(function(){u&&u(),h(!0)},["function"==typeof u]),g=(0,r.useCallback)(function(){l&&l(),h(!1)},["function"==typeof l]);return(0,r.useLayoutEffect)(function(){var t=f.current;if(e&&(t="function"==typeof e?e():e),t)return t.addEventListener("mouseenter",v),t.addEventListener("mouseleave",g),function(){var e,n;null===(e=t)||void 0===e||e.removeEventListener("mouseenter",v),null===(n=t)||void 0===n||n.removeEventListener("mouseleave",g)}},[f.current,"function"==typeof e?void 0:e].concat(function(e){if(Array.isArray(e))return o(e)}(a=c)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(a)||i(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),[f,p]}},804929:function(e,t,n){"use strict";t.default=void 0;var r=n(218571);n(906505);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&null!=s.return&&s.return()}finally{if(i)throw o}}return n}}(e,t)||o(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e,t){var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=arguments.length>3?arguments[3]:void 0,u=(0,r.useRef)(),l=i((0,r.useState)(!1),2),f=l[0],d=l[1],p=i((0,r.useState)(0),2),h=p[0],v=p[1],g=(0,r.useCallback)(function(e){d(e[0].isIntersecting),v(e[0].intersectionRatio),e[0].isIntersecting&&void 0!==c&&"function"==typeof c&&c()},[c]);return(0,r.useEffect)(function(){var n=u.current;e&&(n="function"==typeof e?e():e);var r=new IntersectionObserver(g,t);return n&&r.observe(n),function(){return r.disconnect()}},[u.current,e].concat(function(e){if(Array.isArray(e))return a(e)}(n=s)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||o(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[c])),[u,f,h]}},47525:function(e,t,n){"use strict";t.default=void 0;var r=n(218571);t.default=function(e){(0,r.useEffect)(function(){e()},[])}},737159:function(e,t,n){"use strict";t.default=void 0;var r=n(218571),i=function(e){return e&&e.__esModule?e:{default:e}}(n(195265));function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e,t){var n,a,s=(a=2,function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(e))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&null!=s.return&&s.return()}finally{if(i)throw o}}return n}}(n,2)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(n,a)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1];return(0,i.default)(function(){u(e)},t,[e]),c}},195265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(218571),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1297));function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.immediately,c=void 0!==s&&s,u=a.trailing,l=void 0===u||u,f=a.leading,d=void 0!==f&&f,p=(0,r.useRef)(),h=(0,r.useRef)(!1),v=(0,r.useRef)(!1),g=(0,r.useRef)(e);g.current=e;var _=(0,r.useRef)([]),m=(0,r.useCallback)(function(){p.current&&clearTimeout(p.current)},[]),y=(0,r.useCallback)(function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];if(_.current=r,c&&!h.current){g.current.apply(g,o(_.current)),h.current=!0;return}m(),d&&!1==v.current&&(g.current.apply(g,o(_.current)),v.current=!0),p.current=(e=l,window.setTimeout(function(){e&&g.current.apply(g,o(_.current)),v.current=!1},t))},[t,m]);return(0,i.default)(function(){return y(),m},[].concat(o(n),[y])),(0,r.useEffect)(function(){return m},[]),{run:y,cancel:m}}},514536:function(e,t,n){"use strict";t.default=function(e,t,n){var i,o,a,s,c,u=(0,r.useRef)();return i=(null==n?void 0:n.target)||function(){return u.current||window},o=e,a=t,s=n,c=(0,r.useRef)(a),(0,r.useEffect)(function(){c.current=a},[a]),(0,r.useLayoutEffect)(function(){var e="function"==typeof i?i():i;if(e){var t=function(e){return c.current(e)};return e.addEventListener(o,t,{capture:null==s?void 0:s.capture,once:null==s?void 0:s.once,passive:null==s?void 0:s.passive}),function(){e.removeEventListener(o,t,{capture:null==s?void 0:s.capture})}}},[i,o,s]),u};var r=n(218571)},324160:function(e,t,n){"use strict";t.default=void 0;var r=n(218571);n(906505);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&null!=s.return&&s.return()}finally{if(i)throw o}}return n}}(e,t)||o(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e,t){var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=arguments.length>3?arguments[3]:void 0,u=(0,r.useRef)(),l=i((0,r.useState)(!1),2),f=l[0],d=l[1],p=i((0,r.useState)(0),2),h=p[0],v=p[1],g=(0,r.useCallback)(function(e){d(e[0].isIntersecting),v(e[0].intersectionRatio),e[0].isIntersecting&&void 0!==c&&"function"==typeof c&&c()},[c]);return(0,r.useEffect)(function(){var n=u.current;e&&(n="function"==typeof e?e():e);var r=new IntersectionObserver(g,t);return n&&r.observe(n),function(){return r.disconnect()}},[u.current,e].concat(function(e){if(Array.isArray(e))return a(e)}(n=s)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||o(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[c])),[u,f,h]}},845163:function(e,t,n){"use strict";t.default=void 0;var r=n(218571);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e,t){var n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=o.deps,s=void 0===a?[]:a,c=(0,r.useRef)(),u=(0,r.useRef)(e),l=(0,r.useCallback)(function(){f();c.current=window.setInterval(function(){u.current()},t)},[t].concat(i(s))),f=(0,r.useCallback)(function(){clearInterval(c.current)},[]);return(0,r.useEffect)(function(){return u.current=e,n&&l(),function(){return f()}},[u,t,n].concat(i(s))),{run:l,cancel:f}}},498780:function(e,t,n){"use strict";t.default=void 0;var r=n(218571);t.default=function(e){(0,r.useEffect)(function(){e()},[])}},544633:function(e,t,n){"use strict";t.default=void 0;var r=n(218571);t.default=function(e){var t=(0,r.useRef)();return t.current=(0,r.useMemo)(function(){return e},[e]),(0,r.useCallback)(function(){var e=t.current;return e&&e.apply(void 0,arguments)},[t])}},593946:function(e,t,n){"use strict";t.default=void 0;var r=n(218571);t.default=function(e){var t=(0,r.useRef)();return(0,r.useEffect)(function(){t.current=e}),t.current}},395551:function(e,t,n){"use strict";t.default=void 0;var r=n(218571),i=a(n(375107)),o=a(n(953032));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t,n,a,u,l,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],p=50;"string"==typeof f?u=f:(f.dimension&&(u=f.dimension),f.throttle&&(p=f.throttle),f.throttleOption&&(l=f.throttleOption));var h=(0,r.useRef)();var v=(n=2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(function(){var t="function"==typeof e?e():e;return{width:(t||{}).clientWidth||0,height:(t||{}).clientHeight||0}}))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&null!=s.return&&s.return()}finally{if(i)throw o}}return n}}(t,2)||s(t,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=v[0],_=v[1],m=(0,r.useCallback)(function(e){if(null!=e&&e.length){var t=e[0].contentRect,n=t.width,r=t.height;_(function(e){if(e)return"width"===u?e.width!==n?{width:n,height:r}:e:"height"===u?e.height!==r?{width:n,height:r}:e:e.width!==n||e.height!==r?{width:n,height:r}:e;return{width:n,height:r}})}},[u]),y=(0,o.default)(m,p,[m],l).run;return(0,r.useLayoutEffect)(function(){var t=h.current;e&&(t="function"==typeof e?e():e);var n=new i.default(y);return t&&n.observe(t),function(){return n.disconnect()}},[h.current,"function"==typeof e?void 0:e,m].concat(function(e){if(Array.isArray(e))return c(e)}(a=d)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(a)||s(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),[h,g]}},691400:function(e,t,n){"use strict";t.default=void 0;var r=n(218571);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var o={getItem:function(){},setItem:function(){},removeItem:function(){}};t.default=function(e,t,n,a){!n&&(n="undefined"==typeof window?o:localStorage);var s,c,u=function(){try{var r=n.getItem(e);if("string"!=typeof r)return n.setItem(e,a?String(t):JSON.stringify(t)),t;return a?r:JSON.parse(r)}catch(e){return console.warn("@byted/hooks: ".concat(e)),t}};var l=(c=2,function(e){if(Array.isArray(e))return e}(s=(0,r.useState)(function(){return"undefined"==typeof window?t:u()}))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&null!=s.return&&s.return()}finally{if(i)throw o}}return n}}(s,2)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(s,c)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=l[0],d=l[1],p=(0,r.useCallback)(function(t){if(void 0===t)n.removeItem(e);else if("function"==typeof t)t=t(u()),n.setItem(e,a?String(t):JSON.stringify(t));else n.setItem(e,a?String(t):JSON.stringify(t));return d(t)},[d,a]);return(0,r.useEffect)(function(){var r=function(r){var i=r.key,o=r.newValue,s=r.storageArea;if(i===e&&s===n)try{"string"==typeof o?d(a?o:JSON.parse(o)):d(t)}catch(e){console.warn("@byted/hooks: ".concat(e)),d(t)}};return window.addEventListener("storage",r,!1),function(){window.removeEventListener("storage",r,!1)}},[e,t,n,a]),[f,p]}},953032:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(218571),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1297));function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.immediately,c=void 0!==s&&s,u=a.trailing,l=void 0===u||u,f=a.leading,d=void 0!==f&&f,p=(0,r.useRef)(),h=(0,r.useRef)(!1),v=(0,r.useRef)(e);v.current=e;var g=(0,r.useRef)([]),_=(0,r.useCallback)(function(){p.current&&clearTimeout(p.current),p.current=void 0},[]),m=(0,r.useCallback)(function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];if(g.current=r,!p.current){;if(c&&!h.current){v.current.apply(v,o(g.current)),h.current=!0;return}d&&v.current.apply(v,o(g.current)),p.current=(e=l,window.setTimeout(function(){e&&v.current.apply(v,o(g.current)),p.current=void 0,h.current=!1},t))}},[t,_]);return(0,i.default)(function(){m()},[].concat(o(n),[m])),(0,r.useEffect)(function(){return _},[]),{run:m,cancel:_}}},221625:function(e,t,n){"use strict";t.default=void 0;var r=n(218571);t.default=function(e){var t=(0,r.useRef)(e);t.current=e,(0,r.useEffect)(function(){return function(){return t.current()}},[])}},1297:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(218571);t.default=function(e,t){var n=(0,r.useRef)(!1);(0,r.useEffect)(function(){return n.current?e():(n.current=!0,function(){})},t)}},838255:function(e,t,n){"use strict";n.d(t,{P:function(){return eL},Z:function(){return eP}});var r,i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(arguments[t]));return e}var a,s=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var n=this;e&&t&&"function"==typeof t&&this.on(e,function r(i){t(i),n.off(e,r)})},e.prototype.off=function(e,t){if(e&&this._hooks[e]&&this._hooks[e].length){if(t){var n=this._hooks[e].indexOf(t);-1!==n&&this._hooks[e].splice(n,1)}else this._hooks[e]=[]}},e.prototype.emit=function(e,t,n){n?!!e&&(-1!==this._cache.indexOf(n)?this._emit(e,t):(this._hooksCache.hasOwnProperty(n)||(this._hooksCache[n]={}),this._hooksCache[n].hasOwnProperty(e)||(this._hooksCache[n][e]=[]),this._hooksCache[n][e].push(t))):this._emit(e,t)},e.prototype._emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&o(this._hooks[e]).forEach(function(e){try{e(t)}catch(e){}})},e.prototype.set=function(e){e&&-1===this._cache.indexOf(e)&&this._cache.push(e)},e}(),c=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},u=function(e){return Array.isArray(e)},l=(a=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return a+=1}),f=function(e){return function(e,t,n){if("string"==typeof e&&"number"==typeof n){var r,i=[],o=String.fromCharCode((n=n<=25?n:n%25)+97);r=e.split(o);for(var a=0;a<r.length;a++){var s=parseInt(r[a],n),c=String.fromCharCode(s=1*s^t);i.push(c)}return i.join("")}}(e,64,25)},d=function(e){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)},p=function(){var e=0;return["hidden","msHidden","webkitHidden"].forEach(function(t){void 0!==document[t]&&(e=1)}),e},h=function(e){var t=document.createElement("a");return t.href=e,t},v=function(e){var t={};try{var n=h(e).search;(n=n.slice(1)).split("&").forEach(function(e){var n,r,i=e.split("=");i.length&&(n=i[0],r=i[1]);try{t[n]=decodeURIComponent(void 0===r?"":r)}catch(e){t[n]=r}})}catch(e){}return t};var g=(function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(i[u]=c,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})},e.exports=n()}(b={exports:{}},b.exports),b.exports),_=function(e,t){try{return g.get(e)}catch(e){return""}},m=function(e,t,n,r){try{var i=r||document.domain,o=+new Date+(n||6048e5);g.set(e,t,{expires:new Date(o),path:"/",domain:i})}catch(e){}},y=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e,t){return _(e)},e.prototype.setCookie=function(e,t,n,r){m(e,t,n,r)},e}(),b,E,w,S={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return _(e)},setCookie:function(e,t,n,r){m(e,t,n,r)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},O={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return _(e)},setCookie:function(e,t,n,r){m(e,t,n,r)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},T=function(){function e(e,t){this._storage=t&&"session"===t?O:!e&&S.isSupportLS?S:new y}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,n,r){this._storage.setCookie(e,t,n,r)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),k=function(){function e(e,t,n){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=n}return e.prototype.init=function(){var e=window.navigator.userAgent,t=window.navigator.language,n=document.referrer,r=n?h(n).hostname:"",i=v(window.location.href),o=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web";this.utm=function(e,t,n,r){var i=new T(!1,"session"),o=e?"_$utm_from_url_"+e:"_$utm_from_url",a={},s=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],c={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var u=!1;for(var l in c)c[l]&&(-1!==s.indexOf(l)?(a.hasOwnProperty("tracer_data")||(a.tracer_data={}),a.tracer_data[l]=c[l]):a[l]=c[l],u=!0);u&&i.setItem(o,"1"),i.getItem(o)&&(a.hasOwnProperty("tracer_data")||(a.tracer_data={}),a.tracer_data.$utm_from_url=1)}catch(e){return c}return a}(this.appid,i,this.domain,this.cookie_expire);var a=this.browser(),s=this.os();return{browser:a.browser,browser_version:a.browser_version,platform:o,os_name:s.os_name,os_version:s.os_version,userAgent:e,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(s.os_name),language:t,referrer:n,referrer_host:r,utm:this.utm,latest_data:this.last(n,r)}},e.prototype.last=function(e,t){var n="",r="",i="",o=location.hostname,a=!1;if(e&&t&&o!==t){n=e,r=t,a=!0;var s=v(e);s.keyword&&(i=s.keyword)}return{$latest_referrer:n,$latest_referrer_host:r,$latest_search_keyword:i,isLast:a}},e.prototype.browser=function(){var e,t,n="",r=""+parseFloat(this.appVersion),i=this.userAgent;return -1!==i.indexOf("Edge")||-1!==i.indexOf("Edg")?(n="Microsoft Edge",-1!==i.indexOf("Edge")?(e=i.indexOf("Edge"),r=i.substring(e+5)):(e=i.indexOf("Edg"),r=i.substring(e+4))):-1!==(e=i.indexOf("MSIE"))?(n="Microsoft Internet Explorer",r=i.substring(e+5)):-1!==(e=i.indexOf("Lark"))?(n="Lark",r=i.substring(e+5,e+11)):-1!==i.indexOf("Chrome")?-1!==(e=i.indexOf("TTWebView"))?(n="TTWebView",r=i.substring(e+10,e+23)):(-1!==(e=i.indexOf("Chrome"))||-1!==(e=i.indexOf("Chrome")))&&(n="Chrome",r=i.substring(e+7)):-1!==i.indexOf("Safari")?-1!==(e=i.indexOf("Safari"))&&(n="Safari",r=i.substring(e+7),-1!==(e=i.indexOf("Version"))&&(r=i.substring(e+8))):-1!==(e=i.indexOf("Firefox"))&&(n="Firefox",r=i.substring(e+8)),-1!==(t=r.indexOf(";"))&&(r=r.substring(0,t)),-1!==(t=r.indexOf(" "))&&(r=r.substring(0,t)),-1!==(t=r.indexOf(")"))&&(r=r.substring(0,t)),{browser:n,browser_version:r}},e.prototype.os=function(){for(var e,t,n="",r="",i=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"ChromeOS",r:/CrOS/},{s:"Linux",r:/(Linux|X11)/},{s:"Sun OS",r:/SunOS/}],o=0;o<i.length;o++){var a=i[o];if(a.r.test(this.userAgent)){"Mac OS X"===(n=a.s)&&this.isNewIpad()&&(n="iOS");break}}var s=function(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""},c=function(e,t){var n=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t);return n?n.slice(1)[0]:""};switch(/Windows/.test(n)&&(r=s(/Windows (.*)/,n),n="windows"),n){case"Mac OS X":r=c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),n="mac";break;case"Android":(t=s(/Android ([\.\_\d]+)/,e=this.userAgent))||(t=s(/Android\/([\.\_\d]+)/,e)),r=t,n="android";break;case"iOS":r=this.isNewIpad()?c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(r=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?r[1]+"."+r[2]+"."+(0|r[3]):"",n="ios";break;case"chromeOS":var u=this.userAgent.indexOf("x86_64");r=this.userAgent.substring(u+7,u+16)}return{os_name:n,os_version:r}},e.prototype.getDeviceModel=function(e){var t="";try{if("android"===e)navigator.userAgent.split(";").forEach(function(e){e.indexOf("Build/")>-1&&(t=e.slice(0,e.indexOf("Build/")))});else if("ios"===e||"mac"===e||"windows"===e){if(this.isNewIpad())t="iPad";else{var n=navigator.userAgent.replace("Mozilla/5.0 (",""),r=n.indexOf(";");t=n.slice(0,r)}}}catch(e){}return t.trim()},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1},e}(),I={sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},A={va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},R={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z21z1ez4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z49z23z21z1cz18z21z22z4ez18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",ie2:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4ez4az22z1gz1iz22z1mz1iz25z4az1cz23"},C={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az22z1gz1iz22z1mz1iz25z4az23z21",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az22z1gz1iz22z1mz1iz24z4az23z21",ie:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4az22z1gz1iz22z1mz1iz25z4az1cz23",ie2:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4ez4az22z1gz1iz22z1mz1iz25z4az1cz23"};(L=E||(E={})).Init="init",L.Config="config",L.Start="start",L.Ready="ready",L.TokenComplete="token-complete",L.TokenStorage="token-storage",L.TokenFetch="token-fetch",L.TokenError="token-error",L.ConfigUuid="config-uuid",L.ConfigWebId="config-webid",L.ConfigDomain="config-domain",L.CustomWebId="custom-webid",L.TokenChange="token-change",L.TokenReset="token-reset",L.ConfigTransform="config-transform",L.EnvTransform="env-transform",L.SessionReset="session-reset",L.SessionResetTime="session-reset-time",L.Event="event",L.Events="events",L.EventNow="event-now",L.CleanEvents="clean-events",L.BeconEvent="becon-event",L.SubmitBefore="submit-before",L.SubmitScuess="submit-scuess",L.SubmitAfter="submit-after",L.SubmitError="submit-error",L.SubmitVerify="submit-verify",L.DestoryInstance="destory-instance",L.Stay="stay",L.ResetStay="reset-stay",L.StayReady="stay-ready",L.SetStay="set-stay",L.RouteChange="route-change",L.RouteReady="route-ready",L.Ab="ab",L.AbVar="ab-var",L.AbAllVars="ab-all-vars",L.AbConfig="ab-config",L.AbExternalVersion="ab-external-version",L.AbVersionChangeOn="ab-version-change-on",L.AbVersionChangeOff="ab-version-change-off",L.AbOpenLayer="ab-open-layer",L.AbCloseLayer="ab-close-layer",L.AbReady="ab-ready",L.AbComplete="ab-complete",L.AbTimeout="ab-timeout",L.Profile="profile",L.ProfileSet="profile-set",L.ProfileSetOnce="profile-set-once",L.ProfileUnset="profile-unset",L.ProfileIncrement="profile-increment",L.ProfileAppend="profile-append",L.ProfileClear="profile-clear",L.Autotrack="autotrack",L.AutotrackReady="autotrack-ready",L.CepReady="cep-ready",L.TracerReady="tracer-ready",L.sessionRecord="session-record",L.SessionRecordStart="session-record-start",L.SessionRecordPause="session-record-pause",L.SessionRecordEnd="session-record-end",L.SessionRecordReport="session-record-report",L.VisualCollectReady="visual-collect-ready",L.VisualApiReady="visual-api-ready",L.VisualApiUpdate="visual-api-update",(P=w||(w={})).DEBUGGER_MESSAGE="debugger-message",P.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",P.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",P.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",P.DEBUGGER_MESSAGE_EVENT="debugger-message-event",P.DEVTOOL_WEB_READY="devtool-web-ready";var L,P,D,x=E,M=void 0,j=(new Date).getTimezoneOffset(),N=parseInt(""+-j/60,10),B=60*j,G=function(){function e(e,t){this.is_first_time=!0,this.configPersist=!1,this.initConfig=t,this.collect=e;var n=new k(t.app_id,t.cookie_domain||"",t.cookie_expire||6048e5).init(),r="__tea_cache_first_"+t.app_id;this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new T(!1,"session"),this.localStorage=new T(!1,"local"),this.channelUrl="tcpy"===t.channel_type||"ttp"===t.channel_type?{WEBID_URL:"/v1/user/webid",TOB_URL:"",REPORT_URL:"/v1/list"}:{WEBID_URL:"/webid",TOB_URL:"/tobid",REPORT_URL:"/list"},t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage);var i=this.localStorage.getItem(r);i&&1==i?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(r,"1")),this.envInfo={user:{user_unique_id:M,user_type:M,user_id:M,user_is_auth:M,user_is_login:M,device_id:M,web_id:M,ip_addr_id:M,user_unique_id_type:M},header:{app_id:M,app_name:M,app_install_id:M,install_id:M,app_package:M,app_channel:M,app_version:M,ab_version:M,os_name:n.os_name,os_version:n.os_version,device_model:n.device_model,ab_client:M,traffic_type:M,client_ip:M,device_brand:M,os_api:M,access:M,language:n.language,region:M,app_language:M,app_region:M,creative_id:n.utm.creative_id,ad_id:n.utm.ad_id,campaign_id:n.utm.campaign_id,log_type:M,rnd:M,platform:n.platform,sdk_version:"5.2.4_oversea",sdk_lib:"js",province:M,city:M,timezone:N,tz_offset:B,tz_name:M,sim_region:M,carrier:M,resolution:n.screen_width+"x"+n.screen_height,browser:n.browser,browser_version:n.browser_version,referrer:n.referrer,referrer_host:n.referrer_host,width:n.screen_width,height:n.screen_height,screen_width:n.screen_width,screen_height:n.screen_height,utm_term:n.utm.utm_term,utm_content:n.utm.utm_content,utm_source:n.utm.utm_source,utm_medium:n.utm.utm_medium,utm_campaign:n.utm.utm_campaign,tracer_data:JSON.stringify(n.utm.tracer_data),custom:{}}},this.ab_version="",this.ab_uuid_cache={},this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(n),this.initDomain(),this.initABData()}return e.prototype.initDomain=function(e){var t=this.initConfig.channel_domain;if(t)this.domain=t;else{var n=e||this.initConfig.channel,r=this.initConfig&&this.initConfig.channel_type?"tcpy"===this.initConfig.channel_type?R[n]:C[n]:I[n];r||(console.warn("current channel: "+n+" is not exist, use va instead, please check!!!!"),r=I.sg),this.domain=f(r)}},e.prototype.setDomain=function(e){this.customDomain=!0,this.domain=e},e.prototype.getDomain=function(e){return this.customDomain||e&&this.initDomain(e),this.domain},e.prototype.initABData=function(){var e,t="__tea_sdk_ab_version_"+this.initConfig.app_id;e=this.localStorage.getItem(t),this.setAbCache(e)},e.prototype.setAbCache=function(e){this.ab_cache=e},e.prototype.getAbCache=function(){return this.ab_cache},e.prototype.clearAbCache=function(){this.ab_cache={},this.ab_version=""},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.setAbUuidCache=function(e,t){var n=t||this.envInfo.user.user_unique_id;this.ab_uuid_cache[""+n]||(this.ab_uuid_cache[""+n]=[]),-1===this.ab_uuid_cache[""+n].indexOf(e)&&this.ab_uuid_cache[""+n].push(e)},e.prototype.getAbUuidCache=function(e){return this.ab_uuid_cache[""+e]},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t=this.channelUrl.REPORT_URL;break;case"webid":t=this.channelUrl.WEBID_URL;break;case"tobid":t=this.channelUrl.TOB_URL}var n="";return this.initConfig.caller&&(n="?sdk_version=5.2.4_oversea&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+t+n},e.prototype.setCustom=function(e){if(e&&e.latest_data&&e.latest_data.isLast)for(var t in delete e.latest_data.isLast,this.isLast=!0,e.latest_data)this.envInfo.header.custom[t]=e.latest_data[t]},e.prototype.setAppid=function(e){this.envInfo.header.app_id=e},e.prototype.set=function(e){var t=this;Object.keys(e).forEach(function(n){if(void 0!==e[n]&&null!==e[n]||t.delete(n),"traffic_type"===n&&t.isLast&&(t.envInfo.header.custom.$latest_traffic_source_type=e[n]),"evtParams"===n)t.evtParams=i(i({},t.evtParams||{}),e.evtParams||{});else if("_staging_flag"===n)t.evtParams=i(i({},t.evtParams||{}),{_staging_flag:e._staging_flag});else if("reportErrorCallback"===n&&"function"==typeof e[n])t.reportErrorCallback=e[n];else{var r="",o="";if(n.indexOf(".")>-1){var a=n.split(".");r=a[0],o=a[1]}r?"user"===r||"header"===r?t.envInfo[r][o]=e[n]:t.envInfo.header.custom[o]=e[n]:Object.hasOwnProperty.call(t.envInfo.user,n)?["user_type","ip_addr_id"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?Number(e[n]):e[n]:["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?String(e[n]):e[n]:["user_is_auth","user_is_login"].indexOf(n)>-1?t.envInfo.user[n]=!!e[n]:"device_id"===n&&(t.envInfo.user[n]=e[n]):Object.hasOwnProperty.call(t.envInfo.header,n)?t.envInfo.header[n]=e[n]:t.envInfo.header.custom[n]=e[n]}})},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:Object.hasOwnProperty.call(this.envInfo.user,e)?this.envInfo.user[e]:Object.hasOwnProperty.call(this.envInfo.header,e)?this.envInfo.header[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){console.log("get config stringify error "),this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.setStore=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};if(t&&Object.keys(e).length){var n=Object.assign(e,t);this.storage.setItem(this.configKey,n)}}catch(e){console.log("setStore error"),this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.getStore=function(){try{if(!this.configPersist)return null;var e=this.storage.getItem(this.configKey)||{};return e&&Object.keys(e).length?e:null}catch(e){return this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),null}},e.prototype.delete=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};t&&Object.hasOwnProperty.call(t,e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),console.log("delete error")}},e}(),U=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog&&console.log("%c %s","color: yellow; background-color: black;","[Tea instance: "+this.name+"] "+e)},e.prototype.warn=function(e){this.isLog&&console.warn("%c %s","color: #4D1B00; background-color: #FF7D00;","[Tea instance: "+this.name+"] "+e)},e.prototype.error=function(e){this.isLog&&console.error("%c %s","color: #FFF; background-color: #F53F3F;","[Tea instance: "+this.name+"] "+e)},e.prototype.throw=function(e){throw this.error(this.name),Error(e)},e}(),z=function(){function e(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return e.prototype.checkSpider=function(e){if(!e.enable_spider)return!1;var t=window.navigator.userAgent;if(!t)return!0;var n=!1;return this.spiderBot.forEach(function(e){-1!==t.indexOf(e)&&(n=!0)}),n},e}(),q=function(){function e(e,t){this.collect=e,this.native=t}var t=e.prototype;return t.bridgeInject=function(){try{return!!this.native&&(AppLogBridge?(console.log("AppLogBridge is injected"),!0):(console.log("AppLogBridge is not inject"),!1))}catch(e){return console.log("AppLogBridge is not inject"),!1}},t.bridgeReady=function(){var e=this;return new Promise(function(t,n){try{e.bridgeInject()?AppLogBridge.hasStarted(function(e){console.log("AppLogBridge is started? : "+e),e?t(!0):n(!1)}):n(!1)}catch(e){console.log("AppLogBridge, error:"+JSON.stringify(e.stack)),n(!1)}})},t.setNativeAppId=function(e){try{AppLogBridge.setNativeAppId(JSON.stringify(e)),console.log("change bridge appid, event report with appid: "+e)}catch(e){console.error("setNativeAppId error")}},t.setConfig=function(e){var t=this;try{Object.keys(e).forEach(function(n){"user_unique_id"===n?t.setUserUniqueId(e[n]):e[n]?t.addHeaderInfo(n,e[n]):t.removeHeaderInfo(n)})}catch(e){console.error("setConfig error")}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){console.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){console.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){console.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){console.error("removeHeaderInfo error")}},t.reportPv=function(e){this.onEventV3("predefine_pageview",e)},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge\u57CB\u70B9\u4E0A\u62A5",time:Date.now(),data:[{events:[{event:e,params:t}]}],code:200,status:"success"})}catch(e){console.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){console.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){console.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){console.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){console.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){console.error("profileAppend error")}},e}(),W=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.cacheStorgae=new T(!0),this.localStorage=new T(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=t.report_url||this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.collect.on(x.Ready,function(){n.reportAll(!1)}),this.collect.on(x.ConfigDomain,function(){n.reportUrl=n.configManager.getUrl("event")}),this.collect.on(x.Event,function(e){n.event(e)}),this.collect.on(x.BeconEvent,function(e){n.beconEvent(e)}),this.collect.on(x.CleanEvents,function(){n.reportAll(!1)}),this.linster()},e.prototype.linster=function(){var e=this;window.addEventListener("unload",function(){e.reportAll(!0)},!1),d(function(){e.reportAll(!0)}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e.reportAll(!0)},!1)},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;try{var n=o(e,this.cacheStorgae.getItem(this.eventKey)||[]);if(this.cacheStorgae.setItem(this.eventKey,n),this.reportTimeout&&clearTimeout(this.reportTimeout),n.length>=this.maxReport)this.report(!1);else{var r=this.reportTime;this.reportTimeout=setTimeout(function(){t.report(!1),t.reportTimeout=null},r)}}catch(e){this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e){var t=o(e,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,t),this.collect.destroy||this.collect.sdkStop||this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(t)),!0))},e.prototype.reportBecon=function(){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var e=this.cacheStorgae.getItem(this.beconKey)||[];e&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))}},e.prototype.report=function(e){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var t=this.cacheStorgae.getItem(this.eventKey)||[];t.length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(t,e))}},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var n=0;n<e.length;n+=this.eventLimit){r=e.slice(n,n+this.eventLimit);var r,i=this.split(this.merge(r));this.send(i,t)}else i=this.split(this.merge(e)),this.send(i,t)},e.prototype.handleRefer=function(){var e="";try{if(this.config.spa||this.config.autotrack){var t=this.localStorage.getItem(this.refer_key)||{};e=t.routeChange?t.refer_key:this.configManager.get("referrer")}else e=this.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.merge=function(e,t){var n=this,r=this.configManager.get(),o=r.header,a=r.user;o.custom=JSON.stringify(o.custom),o.referrer=this.handleRefer();var s=this.configManager.get("evtParams"),c=this.configManager.get("user_unique_id_type"),u=JSON.parse(JSON.stringify({events:e.map(function(e){try{Object.keys(s).length&&!t&&(e.params=i(i({},s),e.params)),c&&(e.params.$user_unique_id_type=c);var r=n.configManager.getAbCache(),o=a[n.config.ab_user_mode]||a.user_unique_id,u=n.configManager.getAbUuidCache(o);if(r&&r.uuid&&r.uuid===o){var l=n.configManager.getAbVersion();if(n.config.enable_ab_uuid){if(u&&u.length){var f=u.join(",");l&&l.includes(f)&&(e.ab_sdk_version=l)}}else l&&(e.ab_sdk_version=l)}return e.session_id=n.collect.sessionManager.getSessionId(),e.params=JSON.stringify(e.params),e}catch(t){return n.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:t.message}),e}}),user:a,header:o}));u.local_time=Math.floor(Date.now()/1e3),u.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,u.verbose=1;var l=[];return l.push(u),l},e.prototype.split=function(e){return e=e.map(function(e){var t=[];return t.push(e),t})},e.prototype.send=function(e,t){var n=this;e.length&&(this.config.disable_track_event||e.forEach(function(e){try{var r=JSON.parse(JSON.stringify(e));n.config.filter&&((r=n.config.filter(r))||console.warn("filter must return data !!")),n.collect.eventFilter&&r&&((r=n.collect.eventFilter(r))||console.warn("filterEvent api must return data !!"));var i=r||e,o=JSON.parse(JSON.stringify(i));if(!i.length)return;var a=!0;if(i.forEach(function(e){e.events.length||(a=!1)}),!a)return;n.collect.emit(x.SubmitBefore,i),n.collect.emit(x.SubmitVerify,i),n.collect.requestManager.useRequest({url:n.reportUrl,data:i,success:function(e,t){e&&0!==e.e?(n.collect.emit(x.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}),n.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_EVENT,info:"\u57CB\u70B9\u4E0A\u62A5\u5931\u8D25",time:Date.now(),data:o,code:e.e,failType:"\u6570\u636E\u5F02\u5E38\u5931\u8D25",status:"fail"})):(n.collect.emit(x.SubmitScuess,{eventData:t,res:e}),n.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_EVENT,info:"\u57CB\u70B9\u4E0A\u62A5\u6210\u529F",time:Date.now(),data:o,code:200,status:"success"}))},fail:function(e,t){n.configManager.get("reportErrorCallback")(e,t),n.collect.emit(x.SubmitError,{type:"f_net",eventData:e,errorCode:t}),n.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_EVENT,info:"\u57CB\u70B9\u4E0A\u62A5\u7F51\u7EDC\u5F02\u5E38",time:Date.now(),data:o,code:t,failType:"\u7F51\u7EDC\u5F02\u5E38\u5931\u8D25",status:"fail"})},timeout:n.timeout,useBeacon:!n.config.disable_sendbeacon&&t,withCredentials:n.enable_ttwebid}),n.collect.emit(x.SubmitAfter,i)}catch(e){console.warn("something error, "+JSON.stringify(e.stack)),n.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}}))},e}(),F=function(){return(function e(t){return t?(t^16*Math.random()>>t/4).toString(10):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e)})().replace(/-/g,"").slice(0,19)},K=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new T(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(x.ConfigUuid,function(e){n.setUuid(e)}),this.collect.on(x.ConfigWebId,function(e){n.setWebId(e)}),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e=this;this.cacheToken=this.storage.getItem(this.tokenKey)||{},this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(x.CustomWebId,function(){e.tokenReady=!0,e.collect.emit(x.TokenComplete)}):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:F(),user_unique_id:this.configManager.get("user_unique_id")||F()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e=window.navigator.userAgent;if(-1!==e.indexOf("miniProgram")||-1!==e.indexOf("MiniProgram")){var t=v(window.location.href);return!(!t||!t.Web_ID)&&(this.complete({web_id:""+t.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+t.Web_ID}),!0)}return!1},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),n={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"SDK \u53D1\u8D77WEBID\u8BF7\u6C42",logType:"fetch",level:"info",time:Date.now(),data:n});var r=F();this.collect.requestManager.useRequest({url:t,data:n,success:function(t){var n;t&&0===t.e?(n=t.web_id,e.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8BF7\u6C42\u6210\u529F",logType:"fetch",level:"info",time:Date.now(),data:t})):(n=r,e.collect.configManager.set({localWebId:r}),e.collect.emit(x.TokenError),e.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8BF7\u6C42\u8FD4\u56DE\u503C\u5F02\u5E38",logType:"fetch",level:"warn",time:Date.now(),data:t}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")),e.complete({web_id:e.configManager.get("web_id")||n,user_unique_id:e.configManager.get("user_unique_id")||n})},fail:function(){e.complete({web_id:e.configManager.get("web_id")||r,user_unique_id:e.configManager.get("user_unique_id")||r}),e.collect.configManager.set({localWebId:r}),e.collect.emit(x.TokenError),e.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8BF7\u6C42\u7F51\u7EDC\u5F02\u5E38",logType:"fetch",level:"error",time:Date.now(),data:null}),e.collect.logger.warn("appid: "+e.config.app_id+", get webid error, use local webid~")},timeout:3e5})},e.prototype.complete=function(e){var t=e.web_id,n=e.user_unique_id;e.timestamp=Date.now(),this.collect.configManager.set({web_id:t,user_unique_id:n}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(x.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",n=this.configManager.get("user_unique_id");(n||t)&&this.configManager.set({user_unique_id:n||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(x.TokenComplete)},e.prototype.setUuid=function(e){if(e&&-1===["null","undefined","Null","None"].indexOf(e)){var t=String(e),n=this.configManager.get("user_unique_id"),r=this.cacheToken&&this.cacheToken.user_unique_id;(t!==n||t!==r)&&(this.configManager.set({user_unique_id:t}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=t,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(x.TokenChange,"uuid"),this.collect.emit(x.SessionReset))}else this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(x.TokenReset))},e.prototype.setWebId=function(e){if(e&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=Date.now();var t=this.configManager.get("web_id"),n=this.configManager.get("user_unique_id");n&&n!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(x.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(x.TokenChange,"webid")),this.setStorage(this.cacheToken)}},e.prototype.setStorage=function(e){e._type_=this.enableCustomWebid?"custom":"default",delete e["diss".split("").reverse().join("")],this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this;return new Promise(function(t){"tcpy"!==e.config.channel_type&&"ttp"!==e.config.channel_type?e.collect.requestManager.useRequest({url:e.configManager.getUrl("tobid"),data:{app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id"),user_unique_id_type:e.configManager.get("user_unique_id_type")},success:function(e){e&&0===e.e?t(e.tobid):t("")},fail:function(){t("")},time:3e4,withCredentials:e.enable_ttwebid}):t("")})},e}(),V=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},H=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.storage=new T(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSessionTimeCheck=t.disable_session_check,this.disableSession||(this.setSessionId(),this.collect.on(x.SessionReset,function(e){n.resetSessionId(e)}),this.collect.on(x.SessionResetTime,function(){n.updateSessionIdTime()}))},e.prototype.updateSessionIdTime=function(){var e=this.storage.getItem(this.sessionKey);if(e&&e.sessionId){var t=e.timestamp;Date.now()-t>this.expireTime?e={sessionId:V(),timestamp:Date.now()}:e.timestamp=Date.now(),this.storage.setItem(this.sessionKey,e),this.resetExpTime()}},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:V(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.disableSessionTimeCheck||(this.sessionExp=setInterval(function(){e.checkEXp()},this.expireTime))},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return this.disableSession?"":e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval(function(){e.checkEXp()},this.expireTime))},e.prototype.resetSessionId=function(e){var t={sessionId:e||V(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,t)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:V(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),J=function(){function e(e,t){this.collector=e,this.config=t,this.requestType=t.request_type||"xhr",this.supportBeacon=!(!window.navigator||!window.navigator.sendBeacon),this.errorCode={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ON:500,RESPONSE:5001,TIMEOUT:5005},this.customHeader=t.custom_request_header||{}}return e.prototype.useFetch=function(e){var t=e.url,n=e.data,r=e.method,i=e.success,o=e.fail,a={"Content-Type":"application/json; charset=utf-8"};if(Object.keys(this.customHeader).length)for(var s in this.customHeader)a[s]=this.customHeader[s];window.fetch?fetch(t,{method:r||"POST",headers:a,body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){i&&i(e)}).catch(function(e){o&&o(n,e)}):(this.requestType="xhr",console.log("your brwoser not support fetch, use xhr"),this.useRequest({url:t,data:n,method:r,success:i,fail:o}))},e.prototype.useBeacon=function(e){var t=e.url,n=e.data,r=e.success,i=e.fail;window.navigator.sendBeacon(t,JSON.stringify(n))?r&&r():i&&i(n,this.errorCode.BEACON_FALSE)},e.prototype.useRequest=function(e){var t=this,n=e.url,r=e.data,i=e.method,o=e.success,a=e.fail,s=e.timeout,c=e.useBeacon,u=e.withCredentials,l=e.app_key,f=e.forceXhr;if(c&&this.supportBeacon)this.useBeacon({url:n,data:r,method:i,success:o,fail:a});else if("fetch"!==this.requestType||f)try{var d=new XMLHttpRequest,p=i||"POST";if(d.open(p,""+n,!0),d.setRequestHeader("Content-Type","application/json; charset=utf-8"),l&&d.setRequestHeader("X-MCS-AppKey",""+l),Object.keys(this.customHeader).length)for(var h in this.customHeader)d.setRequestHeader(h,this.customHeader[h]);u&&(d.withCredentials=!0),s&&(d.timeout=s,d.ontimeout=function(){a&&a(r,t.errorCode.TIMEOUT)}),d.onload=function(){if(o){var e=null;if(d.responseText){try{e=JSON.parse(d.responseText)}catch(t){e={}}o(e,r)}}},d.onerror=function(){d.abort(),a&&a(r,t.errorCode.XHR_ON)},d.send(JSON.stringify(r))}catch(e){}else this.useFetch({url:n,data:r,method:i,success:o,fail:a})},e}(),Y=function(){function e(e,t){if(this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,t.enable_debug){this.collect=e,this.config=t,this.app_id=t.app_id;var n=e.adapters.storage;this.cacheStorgae=new n(!1,"session"),this.filterEvent=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"],this.load()}}return e.prototype.loadScript=function(e){try{var t=document.createElement("script");t.src=e,t.onerror=function(){console.log("load DevTool render fail")},t.onload=function(){console.log("load DevTool render success")},document.getElementsByTagName("body")[0].appendChild(t)}catch(e){console.log("devTool load fail, "+e.message)}},e.prototype.parseUrl=function(){var e={};try{var t=window.location.href.split("?")[1].split("&");t.length&&t.forEach(function(t){var n=t.split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])})}catch(e){}return e},e.prototype.load=function(){try{var e=this.parseUrl();if(e.open_devtool_web&&e.app_id){if(parseInt(e.app_id)!==this.app_id)return}else if(!this.getStorage())return;this.loadBaseInfo(),this.loadHook(),this.setStorage(),this.addLintener(),this.loadDebuggerModule(),this.loadDevTool()}catch(e){console.log("debug fail, "+e.message)}},e.prototype.getStorage=function(){var e=this.cacheStorgae.getItem("__applog_devtool_web");return e&&parseInt(e)===this.app_id},e.prototype.setStorage=function(){this.cacheStorgae.setItem("__applog_devtool_web",this.app_id)},e.prototype.loadDevTool=function(){this.loadScript("https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/devtool/debug-web.js")},e.prototype.loadBaseInfo=function(){var e=this;this.info=[{title:"\u57FA\u672C\u4FE1\u606F",type:1,infoName:{app_id:this.config.app_id,channel:this.config.channel,\u4E0A\u62A5\u57DF\u540D:this.collect.configManager.getDomain(),SDK\u7248\u672C:"5.2.4_oversea",SDK\u5F15\u5165\u65B9\u5F0F:"npm"}},{title:"\u7528\u6237\u4FE1\u606F",type:2,infoName:{uuid:this.collect.configManager.get("user").user_unique_id||"",web_id:this.collect.configManager.get("user").web_id||"",ssid:"\u70B9\u51FB\u83B7\u53D6SSID"}},{title:"\u516C\u5171\u53C2\u6570\u4FE1\u606F",type:2,infoName:{\u6D4F\u89C8\u5668:this.collect.configManager.get("browser"),\u6D4F\u89C8\u5668\u7248\u672C:this.collect.configManager.get("browser_version"),\u5E73\u53F0:this.collect.configManager.get("platform"),\u8BBE\u5907\u578B\u53F7:this.collect.configManager.get("device_model"),\u64CD\u4F5C\u7CFB\u7EDF:this.collect.configManager.get("os_name"),\u64CD\u4F5C\u7CFB\u7EDF\u7248\u672C:this.collect.configManager.get("os_version"),\u5C4F\u5E55\u5206\u8FA8\u7387:this.collect.configManager.get("os_version"),\u6765\u6E90:this.collect.configManager.get("referrer"),\u81EA\u5B9A\u4E49\u4FE1\u606F:""}},{title:"\u914D\u7F6E\u4FE1\u606F",type:3,infoName:{\u5168\u57CB\u70B9:!!this.config.autotrack,\u505C\u7559\u65F6\u957F:!!this.config.enable_stay_duration}},{title:"A/B\u914D\u7F6E\u4FE1\u606F",type:4,infoName:{"A/B\u5B9E\u9A8C":!!this.config.enable_ab_test}},{title:"\u5BA2\u6237\u7AEF\u4FE1\u606F",type:3,infoName:{\u6253\u901A\u5F00\u5173:!!this.config.Native}}],this.log=[],this.event=[],this.collect.on(x.Ready,function(){e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id,e.info[2].infoName["\u81EA\u5B9A\u4E49\u4FE1\u606F"]=JSON.stringify(e.collect.configManager.get("custom")),e.config.enable_ab_test&&(e.info[4].infoName["\u5DF2\u66DD\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["A/B\u57DF\u540D"]=e.config.ab_channel_domain||f(A[e.config.channel]),e.info[4].infoName["\u5168\u90E8\u914D\u7F6E"]=e.collect.configManager.getAbData()),e.config.Native&&(e.info[5].infoName["\u662F\u5426\u6253\u901A"]=!!e.collect.bridgeReport)})},e.prototype.loadHook=function(){var e=this;this.collect.on(w.DEBUGGER_MESSAGE,function(t){switch(t.type){case w.DEBUGGER_MESSAGE_SDK:var n={time:t.time,type:t.logType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};return t.data&&(n.desc={content:JSON.stringify(t.data)}),e.updateLog(n),t.secType&&"AB"===t.secType?(e.info[4].infoName["\u5DF2\u66DD\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["\u5168\u90E8\u914D\u7F6E"]=e.collect.configManager.getAbData()):"USER"===t.secType&&(e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id),void e.updateInfo();case w.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var r=t.data[0],i=r.events;if(!i.length)return;i.forEach(function(n){n.checkShow=!0,n.searchShow=!0,n.success=t.status,n.type=-1!==e.filterEvent.indexOf(n.event)?"sdk":"cus",n.type=e.collect.bridgeReport?"bridge":n.type,n.info="","fail"===t.status&&(n.info={message:"code: "+t.code+"\uFF0C msg: "+t.failType})}),e.updateEvent(r)}return}})},e.prototype.addLintener=function(){var e=this;window.addEventListener("message",function(t){if(t.origin===location.origin){if(t&&t.data&&"devtool:web:ready"===t.data.type){if(e.devToolOrigin=t.origin,e.devToolReady=!0,e.sendAlready)return;console.log("inittttt"),e.sendData("devtool:web:init",{info:e.info,log:e.log,event:e.event}),e.sendAlready=!0}t&&t.data&&"devtool:web:ssid"===t.data.type&&e.collect.getToken(function(t){e.info[1].infoName.ssid=t.tobid,e.updateInfo()})}})},e.prototype.sendData=function(e,t){try{(window.opener||window.parent).postMessage({type:e,payload:t},this.devToolOrigin)}catch(e){}},e.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},e.prototype.updateLog=function(e){this.devToolReady?this.sendData("devtool:web:log",e):this.log.push(e)},e.prototype.updateEvent=function(e){this.devToolReady?this.sendData("devtool:web:event",e):this.event.push(e)},e.prototype.loadDebuggerModule=function(){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.appendChild(document.createTextNode("#debugger-applog-web {\n      position: absolute;\n      width: 90px;\n      height: 30px;\n      background: #23c243;\n      border-radius: 6px;\n      color: #fff;\n      font-size: 12px;\n      bottom: 5%;\n      right: 10%;\n      text-align: center;\n      line-height: 30px;\n      cursor: pointer;\n      z-index:100;\n    }")),e.appendChild(t);var n=document.createElement("div");n.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web">AppLog\u8C03\u8BD5</div>';var r=document.createElement("div");r.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(n),document.getElementsByTagName("body")[0].appendChild(r),document.getElementById("debugger-applog-web").addEventListener("click",function(){(window.opener||window.parent).postMessage({type:"devtool:web:open-draw"},location.origin)})},e}(),X={autotrack:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},tracer:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},retry:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/retry.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/retry.js"},object:"LogRetry"},visual:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/visual.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/visual.js"},object:"LogVisual"}},$=["ab","autotrack","Stay","store","et","profile","cep","heartbeat","monitor","route","tracer"],Q=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroy=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.sdkStop=!1,this.name=e,this.hook=new s,this.remotePlugin=new Map,this.Types=x,this.adapters.storage=T,this.loadType="full"}return e.usePlugin=function(t,n,r){if(n){for(var i=!1,o=0,a=e.plugins.length;o<a;o++)if(e.plugins[o].name===n){e.plugins[o].plugin=t,e.plugins[o].options=r||{},i=!0;break}i||e.plugins.push({name:n,plugin:t,options:r})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,n){e&&("full"===this.loadType&&$.includes(e)?console.info("your sdk version has "+e+" already ~"):t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:n}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},e.prototype.init=function(t){var n,r,i=this;try{n=JSON.parse(JSON.stringify(t))}catch(e){n=t}if(this.logger=new U(this.name,n.log),this.inited)this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!");else if(n&&c(n)){if(n.app_id&&"number"==typeof(r=n.app_id)&&!isNaN(r)){if(n.app_key&&"string"!=typeof n.app_key)this.logger.warn("app_key param is error, must be string, please check!");else{var o=["sg","va","in","ie","ie2"];n.channel_domain||-1!==o.indexOf(n.channel)||(this.logger.warn("your channel: "+n.channel+" is not exist. channel must be one of "+o.join(",")+", use sg instead, please check!!!"),n.channel="sg"),this.spider=new z,this.spider.checkSpider(n)?this.logger.warn("The current environment may be a spider, can not report!"):(this.appBridge=new q(this,n.enable_native),this.requestManager=new J(this,n),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new G(this,n),this.debugger=new Y(this,n),this.initConfig=n,this.emit(x.Init),this.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CINIT",data:n,level:"info",time:Date.now()}),n.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.setAppid(n.app_id),this.eventManager=new W,this.tokenManager=new K,this.sessionManager=new H,Promise.all([new Promise(function(e){i.once(x.TokenComplete,function(){e(!0)})}),new Promise(function(e){i.once(x.Start,function(){e(!0)})})]).then(function(){try{e.plugins.reduce(function(e,t){var n=t.plugin,r=t.options,o=Object.assign(i.initConfig,r),a=new n;return a.apply(i,o),e.push(a),e},i.pluginInstances)}catch(e){console.warn("load plugin error, "+e.message),i.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}i.sdkReady=!0,i.emit(x.Ready),i.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"SDK \u521D\u59CB\u5316\u5B8C\u6210",time:Date.now(),level:"info",data:i.configManager.get("user")}),i.logger.info("appid: "+n.app_id+", userInfo:"+JSON.stringify(i.configManager.get("user"))),i.logger.info("appid: "+n.app_id+", sdk is ready, version is 5.2.4_oversea, you can report now !!!"),n.disable_auto_pv&&(i.disableAutoPageView=!0);try{("full"===i.loadType&&n.enable_ab_test||n.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(e){i.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}i.pageView(),i.on(x.TokenChange,function(e){"webid"===e&&i.pageView(),i.logger.info("appid: "+n.app_id+" token change, new userInfo:"+JSON.stringify(i.configManager.get("user"))),i.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"SDK \u8BBE\u7F6E\u4E86\u7528\u6237\u4FE1\u606F",time:Date.now(),secType:"USER",level:"info",data:i.configManager.get("user")})}),i.on(x.TokenReset,function(){i.logger.info("appid: "+n.app_id+" token reset, new userInfo:"+JSON.stringify(i.configManager.get("user"))),i.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"SDK \u91CD\u7F6E\u4E86\u7528\u6237\u4FE1\u606F",time:Date.now(),secType:"USER",level:"info",data:i.configManager.get("user")})}),i.on(x.RouteChange,function(e){e.init||n.disable_route_report||i.pageView()})}),this.tokenManager.apply(this,n),this.eventManager.apply(this,n),this.sessionManager.apply(this,n)),this.inited=!0)}}else this.logger.warn("app_id param is error, must be number, please check!")}else this.logger.warn("init params error,please check")},e.prototype.config=function(e){if(this.inited){if(e&&c(e)){var t;try{t=JSON.parse(JSON.stringify(t))}catch(n){t=e}if(this.bridgeReport)this.appBridge.setConfig(t);else{t._staging_flag&&1===t._staging_flag&&(this.staging=!0),t.disable_auto_pv&&(this.disableAutoPageView=!0,delete t.disable_auto_pv);var n=i({},t);if(this.initConfig&&this.initConfig.configPersist){var r=this.configManager.getStore();r&&(n=Object.assign(r,t)),this.configManager.setStore(t)}n.web_id,n.user_unique_id;var o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&(n[r[i]]=e[r[i]])}return n}(n,["web_id","user_unique_id"]);n.hasOwnProperty("web_id")&&this.emit(x.ConfigWebId,n.web_id),n.hasOwnProperty("user_unique_id")&&this.emit(x.ConfigUuid,n.user_unique_id),this.configManager.set(o),this.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CCONFIG",level:"info",time:Date.now(),data:n})}}else console.warn("config params is error, please check")}else console.warn("config must be use after function init")},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(x.ConfigDomain)},e.prototype.getConfig=function(e){return this.configManager.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(x.Start),this.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CSTART",level:"info",time:Date.now()}),this.bridgeReport&&(this.pageView(),this.emit(x.Ready)))},e.prototype.event=function(e,t){var n=this;try{var r=[];if(Array.isArray(e))e.forEach(function(e){var t=n.processEvent(e[0],e[1]||{});t&&r.push(t)});else{var i=this.processEvent(e,t);if(!i)return;r.push(i)}this.bridgeReport?r.forEach(function(e){var t=e.event,r=e.params;n.appBridge.onEventV3(t,JSON.stringify(r))}):r.length&&(this.emit(x.Event,r),this.emit(x.SessionResetTime))}catch(e){this.logger.warn("something error, please check"),this.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e,t){if(Array.isArray(e))this.logger.warn("beconEvent not support batch report, please check");else{var n=[],r=this.processEvent(e,t||{});r&&(n.push(r),n.length&&(this.emit(x.BeconEvent,n),this.emit(x.SessionResetTime)))}},e.prototype.beaconEvent=function(e,t){this.beconEvent(e,t)},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{if(!e)return console.warn("eventName is null\uFF0C please check"),null;var n=e;/^event\./.test(e)&&(n=e.slice(6));var r=t;"object"!=typeof r&&(r={}),r.profile?delete r.profile:r.event_index=l();var i=void 0;return r.local_ms?(i=r.local_ms,delete r.local_ms):i=+new Date,{event:n,params:r,local_time_ms:i,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(n){return this.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:n.message}),{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,n){this.hook.emit(e,t,n)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.stop=function(){this.sdkStop=!0},e.prototype.reStart=function(){this.sdkStop=!1},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.predefinePageView=function(e){if(void 0===e&&(e={}),this.inited){var t={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},n=i(i({},t),e);this.event("predefine_pageview",n)}else console.warn("predefinePageView should call after init")},e.prototype.clearEventCache=function(){this.emit(x.CleanEvents)},e.prototype.setWebId=function(e){this.config({web_id:""+e})},e.prototype.setNativeAppId=function(e){this.bridgeReport&&this.appBridge.setNativeAppId(e)},e.prototype.getSessionId=function(){return V()},e.prototype.setSessionId=function(e){this.emit(x.SessionReset,e)},e.prototype.resetStayDuration=function(e,t,n){this.emit(x.ResetStay,{url_path:e,title:t,url:n},x.Stay)},e.prototype.resetStayParams=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.emit(x.SetStay,{url_path:e,title:t,url:n},x.Stay)},e.prototype.getToken=function(e,t){var n=this;if(this.inited){var r=!1,o=function(t){if(!r){r=!0;var o=n.configManager.get().user;return t&&(o.tobid=t,o["diss".split("").reverse().join("")]=t),e(i({},o))}},a=function(){n.tokenManager.getTobId().then(function(e){o(e)})};this.sdkReady?a():(t&&setTimeout(function(){o()},t),this.on(x.Ready,function(){a()}))}else console.warn("predefinePageView should call after init")},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(x.ProfileSet,e,x.Profile),this.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileSet",level:"info",time:Date.now(),data:e})},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(e)):this.emit(x.ProfileSetOnce,e,x.Profile),this.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileSetOnce",level:"info",time:Date.now(),data:e})},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(e)):this.emit(x.ProfileIncrement,e,x.Profile),this.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileIncrement",level:"info",time:Date.now(),data:e})},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(x.ProfileUnset,e,x.Profile),this.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileUnset",level:"info",time:Date.now(),data:e})},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(e)):this.emit(x.ProfileAppend,e,x.Profile),this.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileAppend",level:"info",time:Date.now(),data:e})},e.prototype.setExternalAbVersion=function(e){this.emit(x.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,x.Ab)},e.prototype.getVar=function(e,t,n,r){this.emit(x.AbVar,{name:e,defaultValue:t,callback:n,uuid:r},x.Ab)},e.prototype.getABconfig=function(e,t){this.emit(x.AbConfig,{params:e,callback:t},x.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(x.AbVersionChangeOn,e,x.Ab),function(){t.emit(x.AbVersionChangeOff,e,x.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(x.AbVersionChangeOff,e,x.Ab)},e.prototype.openOverlayer=function(){this.emit(x.AbOpenLayer,"",x.Ab)},e.prototype.closeOverlayer=function(){this.emit(x.AbCloseLayer,"",x.Ab)},e.prototype.getAllVars=function(e){this.emit(x.AbAllVars,e,x.Ab)},e.prototype.destoryInstace=function(){this.destroy||(this.destroy=!0,this.off(x.TokenComplete),this.emit(x.DestoryInstance))},e.prototype.destroyInstance=function(){this.destroy||(this.destroy=!0,this.off(x.TokenComplete),this.emit(x.DestoryInstance))},e.plugins=[],e}(),Z="__rangers_ab_style__";(ev=D||(D={}))[ev.Var=0]="Var",ev[ev.All=1]="All";var ee=function(){function e(){this.fetchStatus="no",this.refreshFetchStatus="no",this.versions=[],this.extVersions=[],this.mulilinkVersions=[],this.enable_multilink=!1,this.enable_ab_visual=!1,this.editMode=!1,this.callbacks=[],this.data={},this.changeListener=new Map,this.readyStatus=!1,this.exposureCache=[]}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,this.config.enable_ab_test){var r=t.enable_multilink,i=t.ab_channel_domain,o=t.enable_ab_visual,a=t.ab_cross,s=t.ab_cookie_domain,c=t.ab_timeout,u=A[t.channel||"sg"]||A.sg,l=i||f(u),d=e.adapters.storage;this.cacheStorgae=new d(!1),this.timeout=c||3e3,this.enable_multilink=r,this.enable_ab_visual=o,this.abKey="__tea_sdk_ab_version_"+t.app_id,this.ab_cross=a,this.ab_cookie_domain=s||"",this.fetchUrl=l+"/service/2/abtest_config/",this.reportUrl=this.collect.configManager.getUrl("event"),this.exposureLimit=t.exposure_limit||20,this.ab_batch_time=t.ab_batch_time||500,this.ab_user_mode=t.ab_user_mode||"user_unique_id";var p=this.collect.Types;this.types=p,this.collect.on(p.TokenChange,function(e){"uuid"===e&&n.readyStatus&&(n.clearCache(),n.fetchAB())}),this.collect.on(p.AbVar,function(e){var t=e.name,r=e.defaultValue,i=e.callback;n.getVar(t,r,i)}),this.collect.on(p.AbAllVars,function(e){n.getAllVars(e)}),this.collect.on(p.AbConfig,function(e){var t=e.params,r=e.callback;n.getABconfig(t,r)}),this.collect.on(p.AbExternalVersion,function(e){n.setExternalAbVersion(e)}),this.collect.on(p.AbOpenLayer,function(){n.openOverlayer()}),this.collect.on(p.AbCloseLayer,function(){n.closeOverlayer()}),this.collect.on(p.AbVersionChangeOn,function(e){n.changeListener.set(e,e)}),this.collect.on(p.AbVersionChangeOff,function(e){n.changeListener.get(e)&&n.changeListener.delete(e)}),this.loadMode(),(this.enable_ab_visual||this.enable_multilink)&&this.openOverlayer(this.config.multilink_timeout_ms||500),this.checkLocal(),this.ready("ab"),this.readyStatus||(this.fetchAB(),this.readyStatus=!0),this.collect.emit(p.AbReady)}},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var r=function(e){n[e].length&&n[e].forEach(function(n){t.collect.hook.emit(e,n)})};for(var i in n)r(i)}},e.prototype.loadMode=function(){var e=function(){try{return JSON.parse(atob(window.name))||void 0}catch(e){return}}(),t="";if(e){var n=e.scenario,r=e.href;n?(this.editMode=!0,t=n):r&&(-1!==r.indexOf("datatester")||-1!==r.indexOf("visual-editor"))&&(this.editMode=!0,t="visual-editor")}this.enable_ab_visual&&"visual-editor"===t&&this.collect.destoryInstace()},e.prototype.checkLocal=function(){var e=this.getABCache(),t=e.ab_version,n=e.ab_ext_version,r=e.ab_version_multilink,i=(e.data,this.checkFromUrl());i?this.mulilinkVersions.push(i):this.mulilinkVersions=r||[],this.extVersions=n||[],this.versions=t||[];var o=this.versions.concat(this.extVersions);this.enable_multilink&&(o=o.concat(this.mulilinkVersions))},e.prototype.checkFromUrl=function(){var e=v(window.location.href);return e&&e.vid?e.vid:""},e.prototype.updateVersions=function(){var e=this.extVersions.length?this.versions.concat(this.extVersions):this.versions;this.enable_multilink&&(e=e.concat(this.mulilinkVersions)),this.configVersions(e.join(",")),this.updateABCache(),this.changeListener.size>0&&this.changeListener.forEach(function(t){"function"==typeof t&&t(e)})},e.prototype.configVersions=function(e){this.collect.configManager.setAbVersion(e)},e.prototype.getVar=function(e,t,n,r){if(!e)throw Error("variable must not be empty");if(void 0===t)throw Error("variable no default value");if("function"!=typeof n)throw Error("callback must be a function");var i={name:e,defaultValue:t,callback:n,type:D.Var};"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealVar(i,e,r):this.callbacks.push(i)},e.prototype.setAbUuid=function(e,t){this.collect.configManager.setAbUuidCache(e,t)},e.prototype.getRealVar=function(e,t,n){var r=e.name,i=e.defaultValue,o=e.callback,a=this.data;if(a){if(c(a[r])){var s=a[r].vid;return"$ab_url"===t?this.mulilinkVersions.includes(s)||this.mulilinkVersions.push(s):this.versions.includes(s)||this.versions.push(s),this.setAbUuid(s,n),this.updateVersions(),this.fechEvent(s,t,i),o(a[r].val),void this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK \u66DD\u5149\u4E86\u5B9E\u9A8C"+r,level:"info",time:Date.now(),data:a[r]})}this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK \u8C03\u7528getVar",level:"info",time:Date.now(),data:i}),o(i)}else o(i)},e.prototype.getAllVars=function(e){if("function"!=typeof e)throw Error("callback must be a function");var t={callback:e,type:D.All};"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealAllVars(t):this.callbacks.push(t)},e.prototype.getRealAllVars=function(e){(0,e.callback)(this.data?JSON.parse(JSON.stringify(this.data)):{}),this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK \u8C03\u7528getAllVars",level:"info",time:Date.now(),data:this.data})},e.prototype.fechEvent=function(e,t,n){try{if(this.config.disable_track_event||!e)return;var r=this.collect.configManager.get(),i=r.header,o=r.user,a=this.getABCache(),s=o[this.ab_user_mode]||o.user_unique_id;if(a&&a.uuid&&a.uuid!==s)return;var c={event:"abtest_exposure",ab_sdk_version:""+e,params:JSON.stringify({app_id:this.config.appId,ab_url:"$ab_url"===t?n:window.location.href,data:this.data}),local_time_ms:Date.now()};i.custom=JSON.stringify(i.custom);this.reportExposure({events:[c],user:o,header:i},t)}catch(e){this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.reportExposure=function(e,t){var n=this;this.exposureCache.push(e),this.reportTimeout&&clearTimeout(this.reportTimeout),this.exposureCache.length>=this.exposureLimit?this.report(t):this.reportTimeout=setTimeout(function(){n.report(t),clearTimeout(n.reportTimeout)},this.ab_batch_time)},e.prototype.report=function(e){var t=this;this.collect.requestManager.useRequest({url:this.reportUrl,data:this.exposureCache,timeout:2e4,useBeacon:"$ab_url"===e}),this.exposureCache.forEach(function(e){t.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_EVENT,info:"\u57CB\u70B9\u4E0A\u62A5\u6210\u529F",time:Date.now(),data:[e],code:200,status:"success"})}),this.exposureCache=[]},e.prototype.setExternalAbVersion=function(e){this.extVersions=[e],this.updateVersions()},e.prototype.getABconfig=function(e,t){var n=Object.keys(e);n&&n.length&&this.collect.configManager.set(e),this.fetchAB(t)},e.prototype.get=function(e){return this.cacheStorgae.getItem(e)},e.prototype.set=function(e,t){this.cacheStorgae.setItem(e,t),this.collect.configManager.setAbCache(t),this.collect.event("abtest_cache",{env_uuid:this.collect.configManager.get("user").user_unique_id||"",cache:JSON.stringify(t)})},e.prototype.getABCache=function(e){var t={ab_version:[],ab_ext_version:[],ab_version_multilink:[],data:null,timestamp:+new Date,uuid:""};return t=this.get(this.abKey)||t,e?t[e]:t},e.prototype.updateABCache=function(){var e=this.getABCache();e.ab_version_multilink=this.mulilinkVersions,e.ab_ext_version=this.extVersions,e.ab_version=this.versions,e.timestamp=Date.now(),this.set(this.abKey,e)},e.prototype.setAbCache=function(e){var t=this.getABCache();t.data=this.data,t.uuid=e,t.timestamp=Date.now(),this.set(this.abKey,t)},e.prototype.clearCache=function(){this.refreshFetchStatus="ing",this.data={},this.extVersions=[],this.mulilinkVersions=[],this.versions=[],this.collect.configManager.clearAbCache()},e.prototype.openOverlayer=function(e){var t=this;if(function(){if(!document.getElementById(Z)){var e="body { opacity: 0 !important; }",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id=Z,n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}}(),e)var n=setTimeout(function(){t.closeOverlayer(),clearTimeout(n)},e)},e.prototype.closeOverlayer=function(){var e;(e=document.getElementById(Z))&&e.parentElement.removeChild(e)},e.prototype.fetchComplete=function(e,t){var n=this;try{if(e&&"[object Object]"==Object.prototype.toString.call(e)){this.data=e,this.setAbCache(t);var r=[];Object.keys(e).forEach(function(t){var n=e[t].vid;n&&r.push(n)}),this.versions=this.versions.filter(function(e){return r.includes(e)});var i=e.$ab_url,o=e.$ab_modification;if(o&&o.val&&this.enable_ab_visual){if(this.collect.destroy)return}else if(i&&this.enable_multilink){this.mulilinkVersions=this.mulilinkVersions.filter(function(e){return r.includes(e)});var a=i.val,s=i.vid;a&&s&&this.getVar("$ab_url",a,function(){n.editMode||(a!==window.location.href?setTimeout(function(){if(!n.collect.destroy){var e=""+a;e=-1===e.indexOf("http")?"https://"+e:e,h(e).host!==location.host?e=e+"&vid="+s:window.history.replaceState("","",e),window.location.href=e}},100):n.closeOverlayer())})}this.updateVersions()}else this.closeOverlayer();this.callbacks.forEach(function(e){return n[e.type===D.Var?"getRealVar":"getRealAllVars"](e,"")}),this.callbacks=[]}catch(e){}},e.prototype.fetchAB=function(e){var t=this,n=this.collect.configManager.get(),r={header:i(i(i({aid:this.config.app_id},n.user||{}),n.header||{}),{ab_sdk_version:this.collect.configManager.getAbVersion(),ab_url:window.location.href})},o=n.user[this.ab_user_mode]||n.user.user_unique_id;this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"SDK \u53D1\u8D77AB\u5B9E\u9A8C\u8BF7\u6C42",level:"info",logType:"fetch",time:Date.now(),data:r}),this.collect.requestManager.useRequest({url:this.fetchUrl,data:r,success:function(n){t.fetchStatus="complete",t.refreshFetchStatus="complete";var r=n.data;"success"===n.message?(t.fetchComplete(r,o),e&&e(r)):(t.fetchComplete(null,o),e&&e(null)),t.collect.emit(t.types.AbComplete,r),t.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"AB\u5B9E\u9A8C\u8BF7\u6C42\u6210\u529F",level:"info",logType:"fetch",time:Date.now(),data:r})},fail:function(){t.fetchStatus="complete",t.refreshFetchStatus="complete",t.fetchComplete(null,o),t.collect.emit(t.types.AbTimeout),e&&e(null),t.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"AB\u5B9E\u9A8C\u8BF7\u6C42\u7F51\u7EDC\u5F02\u5E38",level:"error",logType:"fetch",time:Date.now()})},timeout:this.timeout})},e.prototype.filterUrl=function(e){try{var t="";-1!==e.indexOf("&multilink=true")?t="&multilink=true[\0-\xff]*":-1!==e.indexOf("?multilink=true")&&(t="\\?multilink=true[\0-\xff]*");var n=RegExp(t,"g");e=e.replace(n,"")}catch(e){}return e},e}(),et=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(t.event_verify_url){if("string"==typeof t.event_verify_url){if(this.url=t.event_verify_url+"/v1/list_test",this.url){var r=e.Types;e.on(r.SubmitBefore,function(t){e.requestManager.useBeacon({url:n.url,data:t})})}}else console.log("please use correct et_test url")}},e}(),en=function(){function e(e,t){this.maxDuration=432e5,this.aliveDTime=6e4,this.options={aliveName:"predefine_page_alive",params:{}},this.focusState=!0,this.collect=e,this.config=t,this.pageStartTime=Date.now(),this.sessionStartTime=this.pageStartTime,this.timerHandler=null,c(t.enable_stay_duration)&&(this.options=Object.assign(this.options,t.enable_stay_duration)),this.hard=this.options.mode&&"hard"===this.options.mode,this.focusState=document.hasFocus()}return e.prototype.setParams=function(e,t,n){this.set_path=e,this.set_url=n,this.set_title=t},e.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this.enablePageAlive(),this.hard&&(this.removeMode=this.hardMode())},e.prototype.disable=function(){this.disableCallback(),this.pageStartTime=Date.now()},e.prototype.sendEvent=function(e,t){void 0===t&&(t=!1);var n=t?this.aliveDTime:Date.now()-this.sessionStartTime;n<0||n>this.aliveDTime||Date.now()-this.pageStartTime>this.maxDuration||t&&"hidden"===document.visibilityState||this.hard&&!this.focusState||(this.collect.beconEvent(this.options.aliveName,i({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),duration:n,is_support_visibility_change:p(),startTime:this.sessionStartTime,hidden:document.visibilityState,leave:e,mode:this.hard?"hard":"normal",focusState:this.focusState},this.options.params)),this.sessionStartTime=Date.now())},e.prototype.getParams=function(e){switch(e){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},e.prototype.setUpTimer=function(){var e=this;return this.timerHandler&&clearInterval(this.timerHandler),setInterval(function(){Date.now()-e.sessionStartTime>e.aliveDTime&&e.sendEvent(!1,!0)},1e3)},e.prototype.visibilitychange=function(){"hidden"===document.visibilityState?this.timerHandler&&(clearInterval(this.timerHandler),this.sendEvent(!1)):"visible"===document.visibilityState&&(this.sessionStartTime=Date.now(),this.timerHandler=this.setUpTimer())},e.prototype.beforeunload=function(){document.hidden||this.sendEvent(!0)},e.prototype.enablePageAlive=function(){var e=this;this.timerHandler=this.setUpTimer();var t=this.visibilitychange.bind(this),n=this.beforeunload.bind(this);return document.addEventListener("visibilitychange",t),d(n),function(){e.beforeunload(),document.removeEventListener("visibilitychange",t),window.removeEventListener("beforeunload",n),window.removeEventListener("pagehide",n)}},e.prototype.hardMode=function(){var e=this,t=function(){e.timerHandler&&(clearInterval(e.timerHandler),e.sendEvent(!1)),e.focusState=!1},n=function(){e.focusState=!0,e.sessionStartTime=Date.now(),e.timerHandler=e.setUpTimer()};return window.addEventListener("blur",t),window.addEventListener("focus",n),function(){window.removeEventListener("blur",t),window.removeEventListener("focus",n)}},e}(),er=function(){function e(e,t){var n=this;this.maxDuration=432e5,this.aliveDTime=6e4,this.options={closeName:"predefine_page_close",params:{}},this.focusState=!0,this.visibilitychange=function(){"hidden"===document.visibilityState?n.activeEndTime=Date.now():"visible"===document.visibilityState&&(n.activeEndTime&&(n.totalTime+=n.activeEndTime-n.activeStartTime,n.activeTimes+=1),n.activeEndTime=void 0,n.activeStartTime=Date.now())},this.beforeunload=function(){if(n.totalTime+=(n.activeEndTime||Date.now())-n.activeStartTime,n.config.autotrack)try{window.sessionStorage.setItem("_tea_cache_duration",JSON.stringify({duration:n.totalTime,page_title:document.title||location.pathname}))}catch(e){}n.sendEventPageClose()},this.collect=e,this.config=t,this.maxDuration=t.maxDuration||864e5,this.pageStartTime=Date.now(),c(t.enable_stay_duration)&&(this.options=Object.assign(this.options,t.enable_stay_duration)),this.hard=this.options.mode&&"hard"===this.options.mode,this.focusState=document.hasFocus(),this.resetData()}return e.prototype.setParams=function(e,t,n){this.set_path=e,this.set_url=n,this.set_title=t},e.prototype.resetParams=function(e,t,n){this.url_path=e,this.url=n,this.title=t},e.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this.enablePageClose(),this.hard&&(this.removeMode=this.hardMode())},e.prototype.disable=function(){this.disableCallback()},e.prototype.resetData=function(){this.activeStartTime=void 0===this.activeStartTime?this.pageStartTime:Date.now(),this.activeEndTime=void 0,this.activeTimes=1,this.totalTime=0,this.resetParams(location.pathname,document.title,location.href)},e.prototype.sendEventPageClose=function(){var e=Date.now()-this.pageStartTime;this.totalTime<0||e<0||this.totalTime>=this.maxDuration||this.hard&&!this.focusState||(this.collect.beconEvent(this.options.closeName,i({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),active_times:this.activeTimes,duration:this.totalTime,total_duration:e,is_support_visibility_change:p(),mode:this.hard?"hard":"normal",focusState:this.focusState},this.options.params)),this.pageStartTime=Date.now(),this.resetData())},e.prototype.getParams=function(e){switch(e){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},e.prototype.enablePageClose=function(){var e=this,t=this.visibilitychange.bind(this),n=this.beforeunload.bind(this);return document.addEventListener("visibilitychange",t),d(n),function(){e.beforeunload(),document.removeEventListener("visibilitychange",t),window.removeEventListener("beforeunload",n),window.removeEventListener("pagehide",n)}},e.prototype.hardMode=function(){var e=this,t=function(){e.focusState=!1},n=function(){e.focusState=!0};return window.addEventListener("blur",t),window.addEventListener("focus",n),function(){window.removeEventListener("blur",t),window.removeEventListener("focus",n)}},e}(),ei=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,this.config.enable_stay_duration){this.title=document.title||location.pathname,this.url=location.href,this.url_path=location.pathname,this.pageAlive=new en(e,t),this.pageClose=new er(e,t);var r=this.collect.Types;this.collect.on(r.ResetStay,function(e){var t=e.url_path,r=e.title,i=e.url;n.resetStayDuration(t,r,i)}),this.collect.on(r.RouteChange,function(e){e.init||t.disable_route_report||n.resetStayDuration()}),this.collect.on(r.SetStay,function(e){var t=e.url_path,r=e.title,i=e.url;n.setStayParmas(t,r,i)}),this.enable(this.url_path,this.title,this.url),this.ready(r.Stay),this.collect.emit(r.StayReady)}},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var r=function(e){n[e].length&&n[e].forEach(function(n){t.collect.hook.emit(e,n)})};for(var i in n)r(i)}},e.prototype.enable=function(e,t,n){this.pageAlive.enable(e,t,n),this.pageClose.enable(e,t,n)},e.prototype.disable=function(){this.pageAlive.disable(),this.pageClose.disable()},e.prototype.setStayParmas=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.pageAlive.setParams(e,t,n),this.pageClose.setParams(e,t,n),this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884C resetStayParams",level:"info",time:Date.now(),data:{url_path:e,title:t,url:n}})},e.prototype.reset=function(e,t,n){this.disable(),this.enable(e,t,n)},e.prototype.resetStayDuration=function(e,t,n){this.reset(e,t,n),this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884C resetStayDuration",level:"info",time:Date.now(),data:{url_path:e,title:t,url:n}})},e}(),eo=function(){function e(){var e=this;this.setInterval=function(){var t,n,r,i;e.clearIntervalFunc=(t=function(){e.isSessionhasEvent&&e.endCurrentSession()},n=e.sessionInterval,void 0===t&&(t=function(){}),void 0===n&&(n=1e3),i=Date.now()+n,r=window.setTimeout(function e(){var o=Date.now()-i;t(),i+=n,r=window.setTimeout(e,Math.max(0,n-o))},n),function(){window.clearTimeout(r)})},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,!t.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var r=this.collect.Types;this.collect.on(r.SessionReset,function(){n.process()})}},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),ea=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,!this.config.channel_domain&&!t.disable_track_event&&!t.disable_sdk_monitor){this.url=e.configManager.getUrl("event");var r=this.collect.Types;this.collect.on(r.Ready,function(){n.sdkOnload()}),this.collect.on(r.SubmitError,function(e){var t=e.type,r=e.eventData,i=e.errorCode;"f_data"===t&&n.sdkError(r,i)})}},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),n=t.header,r=t.user,i=n.app_id,o=n.app_name,a=n.sdk_version,s=r.web_id,c={events:[{event:"onload",params:JSON.stringify({app_id:i,app_name:o||"",sdk_version:a,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC_OVERSEA"}),local_time_ms:Date.now()}],user:{user_unique_id:s},header:{}};setTimeout(function(){e.collect.requestManager.useRequest({url:e.url,data:[c],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})},16)}catch(e){}},e.prototype.sdkError=function(e,t){var n=this;try{var r=e[0],i=r.user,o=r.header,a=[];e.forEach(function(e){e.events.forEach(function(e){a.push(e)})});var s={events:a.map(function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:o.app_id,app_name:o.app_name||"",error_event:e.event,sdk_version:o.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(o),user:JSON.stringify(i)}),local_time_ms:Date.now()}}),user:{user_unique_id:i.user_unique_id},header:{}};setTimeout(function(){n.collect.requestManager.useRequest({url:n.url,data:[s],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})},16)}catch(e){}},e}();function es(e,t){if(void 0===t&&(t="list"),!e)return!1;if(t&&"list"===t){if(["LI","TR","DL"].includes(e.nodeName)||e.dataset&&e.dataset.hasOwnProperty("teaIdx")||e.hasAttribute&&e.hasAttribute("data-tea-idx"))return!0}else if(["A","BUTTON"].includes(e.nodeName)||e.dataset&&e.dataset.hasOwnProperty("teaContainer")||e.hasAttribute&&e.hasAttribute("data-tea-container"))return!0;return!1}function ec(e){for(var t=e;t&&!es(t,"container");){if("HTML"===t.nodeName||"BODY"===t.nodeName)return e;t=t.parentElement}return t||e}function eu(e){var t="";return 3===e.nodeType?t=e.textContent.trim():e.dataset&&e.dataset.hasOwnProperty("teaTitle")||e.hasAttribute("ata-tea-title")?t=e.getAttribute("data-tea-title"):e.hasAttribute("title")?t=e.getAttribute("title"):"INPUT"===e.nodeName&&["button","submit"].includes(e.getAttribute("type"))?t=e.getAttribute("value"):"IMG"===e.nodeName&&e.getAttribute("alt")&&(t=e.getAttribute("alt")),t.slice(0,200)}var el=function(e,t){return e.hasAttribute?e.hasAttribute(t):e.attributes?!(!e.attributes[t]||!e.attributes[t].specified):void 0},ef=function(e,t){if("string"==typeof t)return el(e,t);if(u(t)){for(var n=!1,r=0;r<t.length;r++)if(el(e,t[r])){n=!0;break}return n}},ed=function(){function e(e,t,n){var r=this;this.statistics=!1,this.pageView=!1,this.clickEvent=function(e){var t,n;t=e.target,n=r.options,(1!==t.nodeType||!n.svg&&function(e){if("svg"===e.tagName.toLowerCase())return!0;for(var t=e.parentElement,n=!1;t;)"svg"===t.tagName.toLowerCase()?(t=null,n=!0):t=t.parentElement;return n}(t)||["HTML","BODY"].includes(t.tagName.toUpperCase())?1:"none"===t.style.display||!es(t,"container")&&!function(e){if(e.children.length){var t=e.children;return![].slice.call(t).some(function(e){return e.children.length>0})}return!0}(t)&&!n.svg)||r.eventHandel({eventType:"dom",eventName:"click"},e)},this.changeEvent=function(e){r.eventHandel({eventType:"dom",eventName:"change"},e)},this.submitEvent=function(e){r.eventHandel({eventType:"dom",eventName:"submit"},e)},this.getPageViewEvent=function(e,t){t&&"pushState"===t&&r.eventHandel({eventType:"dom",eventName:"beat"},i({beat_type:0},e)),r.eventHandel({eventType:"dom",eventName:"page_view"},e)},this.getPageLoadEvent=function(e){r.eventHandel({eventType:"dom",eventName:"page_statistics"},{lcp:e})},this.config=n.getConfig().eventConfig,this.collect=t,this.options=e,this.beatTime=e.beat}return e.prototype.init=function(e){this.eventHandel=e;var t=this.config.mode;this.addListener(t)},e.prototype.addListener=function(e){var t=this;if("proxy-capturing"===e){if(this.config.click&&window.document.addEventListener("click",this.clickEvent,!0),this.config.change&&window.document.addEventListener("change",this.changeEvent,!0),this.config.submit&&window.document.addEventListener("submit",this.submitEvent,!0),this.config.pv){this.collect.on("route-change",function(e){var n=e.config,r=e.name;t.getPageViewEvent(n,r),t.pageView=!0});var n=setTimeout(function(){t.pageView||(t.getPageViewEvent(t.getDefaultConfig()),t.pageView=!0,clearTimeout(n))},2e3)}if(this.config.beat){try{"complete"===document.readyState?this.beatEvent(this.beatTime):window.addEventListener("load",function(){t.beatEvent(t.beatTime)});var r=0,i=null;window.addEventListener("scroll",function(){clearTimeout(i),i=setTimeout(o,500),r=document.documentElement.scrollTop||document.body.scrollTop});var o=function(){(document.documentElement.scrollTop||document.body.scrollTop)==r&&t.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:1})}}catch(e){}try{var a=window.performance&&window.performance.getEntriesByType("paint");a&&a.length?(new PerformanceObserver(function(e){var n=e.getEntries(),r=n[n.length-1],i=r.renderTime||r.loadTime;t.statistics||(t.getPageLoadEvent(i),t.statistics=!0)}).observe({entryTypes:["largest-contentful-paint"]}),setTimeout(function(){t.statistics||(t.getPageLoadEvent(a[0].startTime||0),t.statistics=!0)},2e3)):this.getPageLoadEvent(0)}catch(e){this.getPageLoadEvent(0)}}}},e.prototype.removeListener=function(){window.document.removeEventListener("click",this.clickEvent,!0),window.document.removeEventListener("change",this.changeEvent,!0),window.document.removeEventListener("submit",this.submitEvent,!0)},e.prototype.beatEvent=function(e){var t,n=this;try{this.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:3}),this.beatTime&&(t=setInterval(function(){n.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:2})},e)),d(function(){n.eventHandel({eventType:"dom",eventName:"beat",eventSend:"becon"},{beat_type:0}),n.beatTime&&clearInterval(t)})}catch(e){}},e.prototype.getDefaultConfig=function(){return{is_html:1,url:location.href,referrer:document.referrer,page_key:location.href,refer_page_key:document.referrer,page_title:document.title||location.pathname,page_manual_key:"",refer_page_manual_key:"",refer_page_title:"",page_path:location.pathname,page_host:location.host}},e}(),ep={eventConfig:{mode:"proxy-capturing",submit:!1,click:!0,change:!1,pv:!0,beat:!0,hashTag:!1,impr:!1},scoutConfig:{mode:"xpath"}},eh=function(){function e(e,t){this.config=e,this.config.eventConfig=Object.assign(this.config.eventConfig,t)}return e.prototype.getConfig=function(){return this.config},e.prototype.setConfig=function(e){return this.config=e},e}(),ev,eg,e_=function(e,t,n,r,o){return i(i({event:e},function(e,t,n,r){var i,o,a,s,c,l,f,d,p,h,v={},g=function(e){if(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return{left:t.left,top:t.top,element_width:n,element_height:r}}}(t),_=(void 0===(i=e)&&(i={}),void 0===(o=g)&&(o={}),a=i.clientX,s=i.clientY,c=o.left,{touch_x:Math.floor(a-c>=0?a-c:0),touch_y:Math.floor(s-(l=o.top)>=0?s-l:0)}),m=g.element_width,y=g.element_height,b=_.touch_x,E=_.touch_y,w=function(e){for(var t=[];null!==e.parentElement;)t.push(e),e=e.parentElement;var n=[],r=[];return t.forEach(function(e){var t=function(e){if(null===e)return{str:"",index:0};var t=0,n=e.parentElement;if(n)for(var r=n.children,i=0;i<r.length&&r[i]!==e;i++)r[i].nodeName===e.nodeName&&t++;return{str:[e.nodeName.toLowerCase(),es(e,"list")?"[]":""].join(""),index:t}}(e),i=t.str,o=t.index;n.unshift(i),r.unshift(o)}),{element_path:"/"+n.join("/"),positions:r}}(t),S=w.element_path,O=w.positions,T=(f=ec(t),d=[],function e(t){var n=eu(t);if(n&&-1===d.indexOf(n)&&d.push(n),t.childNodes.length>0)for(var r=t.childNodes,i=0;i<r.length;i++)8!==r[i].nodeType&&e(r[i])}(f),d),k=window.performance.timing.navigationStart,I=Date.now()-k,A=O.map(function(e){return""+e}),R=null;if(window.TEAVisualEditor&&window.TEAVisualEditor.getOriginXpath&&(R=window.TEAVisualEditor.getOriginXpath({xpath:S,positions:A})),v.element_path=R&&R.xpath||S,v.positions=R&&R.positions||A,r&&!r.text&&(v.texts=T,v.element_title=(p=ec(t),h="",function e(t){var n=eu(t);if(n&&(h+=n),t.childNodes.length>0)for(var r=t.childNodes,i=0;i<r.length;i++)3===r[i].nodeType&&e(r[i])}(p),h)),v.element_id=t.getAttribute("id")||"",v.element_class_name=t.getAttribute("class")||"",v.element_type=t.nodeType,v.element_width=Math.floor(m),v.element_height=Math.floor(y),v.touch_x=b,v.touch_y=E,v.page_manual_key="",v.elememt_manual_key="",v.since_page_start_ms=I,v.page_start_ms=k,v.page_path=location.pathname,v.page_host=location.host,n.track_attr&&ef(t,n.track_attr)){var C=function(e,t){var n={};if("string"==typeof t)el(e,t)&&(n.attrs=e.getAttribute(t));else if(u(t))for(var r=0;r<t.length;r++)el(e,t[r])&&(n[t[r]]=e.getAttribute(t[r]));return n}(t,n.track_attr);for(var L in C)v[L]=C[L]}var P=ec(t);return"A"===P.tagName&&(v.href=P.getAttribute("href")),"IMG"===t.tagName&&(v.src=t.getAttribute("src")),v}(t,n,r,o)),{is_html:1,page_key:window.location.href,page_title:document.title})},em=function(){function e(e,t){this.ignore={text:!0},this.initConfig=e,this.options=t,this.eventName=t&&"tea"===t.custom?{click:"__bav_click",page:"__bav_page",beat:"__bav_beat",static:"__bav_page_statistics",exposure:"__bav_page_exposure"}:{click:"bav2b_click",page:"bav2b_page",beat:"bav2b_beat",static:"bav2b_page_statistics",exposure:"bav2b_exposure"},t&&!0===t.text&&(this.ignore.text=!1),t&&t.exposure&&t.exposure.eventName&&(this.eventName.exposure=t.exposure.eventName)}return e.prototype.handleEvent=function(e,t){try{if(function(e){for(var t=e;t&&t.parentNode;){if(t.hasAttribute("data-tea-ignore"))return!0;if("HTML"===t.nodeName||"body"===t.nodeName)break;t=t.parentNode}return!1}(e.target))return null;var n="bav2b_click";switch(t){case"click":return n=this.eventName.click,e_(n,e,e.target,this.options,this.ignore);case"exposure":return n=this.eventName.exposure,e_(n,e,e.target,this.options,this.ignore);case"change":return i(i({},e_(n="bav2b_change",e,e.target,this.options)),function(e,t){try{if("bav2b_change"===e)return t.hasAttribute("data-tea-track")?{value:t.value}:{}}catch(e){return{}}}(n,e.target));case"submit":return e_(n="bav2b_submit",e,e.target,this.options)}}catch(e){return console.error(e),null}},e.prototype.handleViewEvent=function(e){e.event=this.eventName.page,e.page_title=document.title,e.page_total_width=window.innerWidth,e.page_total_height=window.innerHeight;try{var t=window.sessionStorage.getItem("_tea_cache_duration");if(t){var n=JSON.parse(t);e.refer_page_duration_ms=n?n.duration:""}e.scroll_width=document.documentElement.scrollLeft?document.documentElement.scrollLeft+window.innerWidth:window.innerWidth,e.scroll_height=document.documentElement.scrollTop?document.documentElement.scrollTop+window.innerHeight:window.innerHeight,e.page_start_ms=window.performance.timing.navigationStart}catch(e){console.log("page event error "+JSON.stringify(e))}return e},e.prototype.handleStatisticsEvent=function(e){var t={};t.event=this.eventName.static,t.is_html=1,t.page_key=location.href,t.refer_page_key=document.referrer||"",t.page_title=document.title,t.page_manual_key=this.initConfig.autotrack.page_manual_key||"",t.refer_page_manual_key="";try{var n=e.lcp,r=window.performance.timing,i=r.loadEventEnd-r.navigationStart;t.page_init_cost_ms=parseInt(n||(i>0?i:0)),t.page_start_ms=r.navigationStart}catch(e){console.log("page_statistics event error "+JSON.stringify(e))}return t},e.prototype.handleBeadtEvent=function(e){e.event=this.eventName.beat,e.page_key=window.location.href,e.is_html=1,e.page_title=document.title,e.page_manual_key=this.initConfig.autotrack.page_manual_key||"";try{e.page_viewport_width=window.innerWidth,e.page_viewport_height=window.innerHeight,e.page_total_width=document.documentElement.scrollWidth,e.page_total_height=document.documentElement.scrollHeight,e.scroll_width=document.documentElement.scrollLeft+window.innerWidth,e.scroll_height=document.documentElement.scrollTop+window.innerHeight,e.since_page_start_ms=Date.now()-window.performance.timing.navigationStart,e.page_start_ms=window.performance.timing.navigationStart}catch(e){console.log("beat event error "+JSON.stringify(e))}return e},e}(),ey=function(){function e(e){this.collect=e,this.eventNameList=["report_click_event","report_change_event","report_submit_event","report_exposure_event","report_page_view_event","report_page_statistics_event","report_beat_event"]}return e.prototype.send=function(e,t){var n=e.eventSend,r=t.event;delete t.event,n&&"becon"===n?this.collect.beconEvent(r,t):this.collect.event(r,t)},e.prototype.get=function(e,t){fetch(e,Object.assign({headers:{"content-type":"application/json"},method:"GET"},t))},e.prototype.post=function(e,t){fetch(e,Object.assign({headers:{"content-type":"application/json"},method:"POST"},t))},e}(),eb=function(){function e(e){this._instance=null,this._intersection=e,this.init()}return e.prototype.init=function(){var e=this;this._instance=new MutationObserver(function(t){t.forEach(function(t){"attributes"===t.type&&e.attributeChangeObserve(t),"childList"===t.type&&e.modifyNodeObserve(t)})}),this._instance.observe(document.body,{childList:!0,attributes:!0,subtree:!0,attributeOldValue:!1})},e.prototype.attributeChangeObserve=function(e){e.target.hasAttribute("data-exposure")?this.exposureAdd(e,"mutation"):this.exposureRemove(e)},e.prototype.modifyNodeObserve=function(e){var t=this;Array.prototype.forEach.call(e.addedNodes,function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t.exposureAdd(e,"intersect"),t.mapChild(e,t.exposureAdd)}),Array.prototype.forEach.call(e.removedNodes,function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t.exposureRemove(e),t.mapChild(e,t.exposureRemove)})},e.prototype.mapChild=function(e,t){var n=this;1===e.nodeType&&e.children.length&&Array.prototype.forEach.call(e.children,function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t(e),n.mapChild(e,t)})},e.prototype.exposureAdd=function(e,t){this._intersection.exposureAdd(e,t)},e.prototype.exposureRemove=function(e){this._intersection.exposureRemove(e)},e._exposure_observer=null,e}(),eE=function(){function e(t,n){this.count=1,this.instance=this.buildObserver(),this.observeMap=e._observer_map,t.autotrack.exposure.ratio?this.Ratio=t.autotrack.exposure.ratio:0===t.autotrack.exposure.ratio?this.Ratio=0:this.Ratio=.5,this.EventHandle=n}return e.prototype.buildObserver=function(){var t=this;if(!e._observer_instance)return IntersectionObserver&&(e._observer_instance=new IntersectionObserver(function(e){e.forEach(function(e){t.observeMap.get(e.target._observeId)&&t.exposureEvent(e)})},{threshold:[.01,.25,.5,.75,1]})),e._observer_instance},e.prototype.exposureAdd=function(e,t){var n=e;"mutation"===t&&(n=e.target);var r=n._observeId;if(r||this.observeMap.has(r)){if(!1===n.visible){var i=n.getBoundingClientRect(),o=i.top,a=i.left,s=i.right,c=i.bottom;o>=0&&c<=window.innerHeight&&a>=0&&s<=window.innerWidth&&(n.visible=!0,this.EventHandle({eventType:"dom",eventName:"exposure"},e))}}else n._observeId=this.count,n.visible=!1,this.observeMap.set(this.count,n),this.observe(n),this.count++},e.prototype.exposureRemove=function(e){this.observeMap.has(e._observeId)&&(this.observeMap.delete(e._observeId),this.unobserve(e))},e.prototype.exposureEvent=function(e){if(e.intersectionRatio>=this.Ratio&&e.isIntersecting){if("0"!==e.target.style.opacity&&"hidden"!==e.target.style.visibility)!0!==e.target.visible&&(e.target.visible=!0,this.EventHandle({eventType:"dom",eventName:"exposure"},e))}else e.target.visible=!1},e.prototype.observe=function(e){this.instance.observe(e)},e.prototype.unobserve=function(e){this.instance.unobserve(e)},e._observer_instance=null,e._observer_map=new Map,e}(),ew=function(){function e(e,t){e.autotrack&&e.autotrack.exposure&&(this._intersection=new eE(e,t),this._observer=new eb(this._intersection),this.initObserver())}return e.prototype.initObserver=function(){var e=this;Array.prototype.forEach.call(document.querySelectorAll("[data-exposure]"),function(t){e._intersection.exposureAdd(t,"intersect")})},e}(),eS={hashTag:!1,impr:!1},eO=function(){function e(){}return e.prototype.apply=function(e,t){if(this.autoTrackStart=!1,this.collect=e,this.config=t,t.autotrack){var n=e.Types;t.autotrack&&t.autotrack.collect_url&&!t.autotrack.collect_url()||(this.ready(n.Autotrack),this.collect.emit(n.AutotrackReady))}},e.prototype.ready=function(e){this.collect.set(e);var t=this.config.autotrack;t=Object.assign(eS,t="object"==typeof t?t:{}),this.destroyed=!1,this.options=t,this.Config=new eh(ep,this.options),this.Exposure=new ew(this.config,this.handle.bind(this)),this.Listener=new ed(t,this.collect,this.Config),this.EventHandle=new em(this.config,t),this.Request=new ey(this.collect),this.autoTrackStart=!0,this.init()},e.prototype.init=function(){this.Listener.init(this.handle.bind(this)),"base"===this.collect.loadType&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")},e.prototype.handle=function(e,t){"dom"===e.eventType&&this.handleDom(e,t)},e.prototype.handleDom=function(e,t){try{var n=e.eventName;if("click"===n||"exposure"===n||"change"===n||"submit"===n){var r=this.EventHandle.handleEvent(t,n);null!==r&&this.Request.send({eventType:"custom",eventName:"report_"+n+"_event",extra:{methods:"GET"}},r)}else if("page_view"===n||"page_statistics"===n){var i=void 0;i="page_view"===n?this.EventHandle.handleViewEvent(t):this.EventHandle.handleStatisticsEvent(t),this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"}},i)}else if("beat"===n){var o=this.EventHandle.handleBeadtEvent(t),a=e.eventSend;this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"},eventSend:a},o)}}catch(e){console.log("handel dom event error "+JSON.stringify(e))}},e.prototype.destroy=function(){if(!this.autoTrackStart)return console.warn("engine is undefined, make sure you have called autoTrack.start()");this.autoTrackStart=!1,this.Listener.removeListener()},e}();(r=eg||(eg={})).Net="net",r.FailNet="f_net",r.FailData="f_data";var eT={pv:["predefine_pageview"],sdk:["_be_active","predefine_page_alive","predefine_page_close","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append"],autotrack:["bav2b_click","bav2b_page","bav2b_beat","bav2b_page_statistics","__bav_click","__bav_page","__bav_beat","__bav_page_statistics"]},ek=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.ready=t.app_id&&t.enable_tracer&&!t.disable_track_event,this.ready){this.limit={pv:1,sdk:3,autotrack:3,log:3},this.errorCode={f_net:0,f_data:0},this.tracerCache=new Map,this.collect=e,this.appid=t.app_id,this.reportUrl=e.configManager.getUrl("event");var r=this.collect.Types;e.adapters.fetch,this.collect.on(r.Event,function(e){u(e)?e.forEach(function(e){n.addCount("log")}):n.addCount("log")}),this.collect.on(r.SubmitError,function(e){var t=e.type,r=e.eventDate,i=e.errorCode,o=e.response;n.addErrorCount(r,t,i,o)}),this.listener(),this.collect.emit(r.TracerReady)}},e.prototype.addCount=function(e,t,n){void 0===t&&(t="net"),void 0===n&&(n=1);try{this.tracerCache||(this.tracerCache=new Map);var r=void 0;if(this.tracerCache.has(e))(i=this.tracerCache.get(e)).has(t)?(r=i.get(t).params.count,r++,i.set(t,this.processTracer(r,e,t))):(r=n,i.set(t,this.processTracer(n,e,t)));else{var i=new Map;r=n,i.set(t,this.processTracer(n,e,t)),this.tracerCache.set(e,i)}"net"===t&&r>=this.limit[e]&&this.report(!1)}catch(e){console.log(e)}},e.prototype.addErrorCount=function(e,t,n,r){var i=this;try{if(e&&e.length){var o=e[0].events;o&&o.length&&("f_data"===t?(r&&r.hasOwnProperty("sc")?this.addCount("log",t,o.length-r.sc):this.addCount("log",t,o.length),this.errorCode[t]=n):o.forEach(function(e){var r="log";for(var o in eT)if(-1!==eT[o].indexOf(e.event)){r=o;break}i.addCount(r,t,1),i.errorCode[t]=n}))}}catch(e){}},e.prototype.report=function(e){if(this.tracerCache){var t=[];this.tracerCache.forEach(function(e){console.log(e),e.forEach(function(e){t.push(e)})}),t&&t.length&&this.sendTracer(t,e)}},e.prototype.sendTracer=function(e,t){try{var n=this.collect.eventManager.merge(e);this.collect.requestManager.useRequest({url:this.reportUrl,data:n,useBeacon:t}),this.tracerCache=null}catch(e){}},e.prototype.processTracer=function(e,t,n){try{var r={count:e,state:n,key:t,params_for_special:"applog_trace",aid:this.appid,platform:"web",_staging_flag:1,sdk_version:"5.2.4_oversea"};"f_net"!==n&&"f_data"!==n||(r.errorCode=this.errorCode[n]);var i=this.collect.processEvent("applog_trace",r);if(i&&i.event)return delete i.is_bav,i}catch(e){console.warn("something error")}},e.prototype.listener=function(){var e=this;document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e.leavePage()}),d(function(){e.leavePage()})},e.prototype.leavePage=function(){this.report(!0)},e}(),eI="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,eA=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e=this;try{this.collect.remotePlugin.forEach(function(t,n){if("sdk"===t){if(X.hasOwnProperty(n)){var r=X[n].object,i=""+X[n].src[e.channel];e.exist(n,r,i)}else console.warn("your "+n+" is not exist\uFF0Cplease check plugin name")}else"object"==typeof t&&(t.src?e.exist(n,t.call,t.src):e.process(n,t.instance,"INSTANCE"))})}catch(e){this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),console.log("load extend error")}},e.prototype.exist=function(e,t,n){var r=this;eI[t]?(this.process(e,eI[t]),console.log("\u5DF2\u6709"+e+"\u63D2\u4EF6\uFF0C\u907F\u514D\u91CD\u590D\u52A0\u8F7D~")):this.loadPlugin(e,n,function(){r.process(e,eI[t]),console.log(" %c %s %s %s","color: yellow; background-color: black;","\u2013","load plugin:"+e+" success","-")},function(){console.log(" %c %s %s %s","color: red; background-color: yellow;","\u2013","load plugin:"+e+" error","-")})},e.prototype.process=function(e,t,n){try{if(n){var r=new t;r.apply&&r.apply(this.collect,this.config),console.log("excude "+e+" success")}else t&&t(this.collect,this.config)}catch(t){this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:t.message}),console.log("excude "+e+" error, message:"+t.message)}},e.prototype.loadPlugin=function(e,t,n,r){var i=this;try{var o=document.createElement("script");o.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(n),o.onerror=function(){r(t)},o.onload=function(){i._plugin[e].forEach(function(e){e()})},document.getElementsByTagName("head")[0].appendChild(o)}catch(e){this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e}(),eR=function(){function e(){this.autotrack=!1,this.spa=!1,this.cache={},this.allowHash=!1}return e.prototype.apply=function(e,t){if(t.spa||t.autotrack){var n=e.Types;this.collect=e,this.config=t,this.appid=t.app_id,this.allowHash=t.allow_hash,this.fncArray=new Map,this.setKey(),this.setLocation(),this.hack(),this.init(),this.listener(),e.emit(n.RouteReady)}},e.prototype.setKey=function(){var e=this.collect.adapters.storage;this.storage=new e(!1),this.cache_key="__tea_cache_refer_"+this.appid,this.cache={refer_key:"",refer_title:document.title||location.pathname,refer_manual_key:"",routeChange:!1},this.config.autotrack&&"object"==typeof this.config.autotrack&&this.config.autotrack.page_manual_key&&(this.cache.refer_manual_key=this.config.autotrack.page_manual_key),this.storage.setItem(this.cache_key,this.cache)},e.prototype.hack=function(){var e=this,t=window.history.pushState;history.pushState=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];"function"==typeof history.onpushstate&&history.onpushstate({state:n});var a=t.call.apply(t,o([history,n],r));if(e.collect.sdkStop||e.collect.destroy)return a;if(!(e.lastLocation===location.href||e.config.disable_spa_query&&e.pathEquel())){var s=e.getPopStateChangeEventData();return e.setReferCache(e.lastLocation),e.lastLocation=location.href,e.sendPv(s,"pushState"),a}};var n=history.replaceState;history.replaceState=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];"function"==typeof history.onreplacestate&&history.onreplacestate({state:t});var a=n.call.apply(n,o([history,t],r));if(e.collect.sdkStop||e.collect.destroy)return a;if(!(e.lastLocation===location.href||e.config.disable_spa_query&&e.pathEquel())){var s=e.getPopStateChangeEventData();return e.setReferCache(e.lastLocation),e.lastLocation=location.href,e.sendPv(s),a}}},e.prototype.setLocation=function(){"undefined"!=typeof window&&(this.lastLocation=window.location.href)},e.prototype.getLocation=function(){return this.lastLocation},e.prototype.pathEquel=function(){try{return new URL(this.lastLocation).origin+new URL(this.lastLocation).pathname===new URL(location.href).origin+new URL(location.href).pathname}catch(e){return!1}},e.prototype.init=function(){var e=this.getPopStateChangeEventData();this.collect.emit("route-change",{config:e,init:!0})},e.prototype.listener=function(){var e=this;window.addEventListener("hashchange",function(t){if(!e.collect.sdkStop&&!e.collect.destroy&&e.lastLocation!==window.location.href&&(!e.config.disable_spa_query||!e.pathEquel())&&e.allowHash){e.setReferCache(e.lastLocation),e.lastLocation=window.location.href;var n=e.getPopStateChangeEventData();e.sendPv(n)}}),window.addEventListener("popstate",function(t){if(!e.collect.sdkStop&&!e.collect.destroy&&!(e.lastLocation===window.location.href||e.config.disable_spa_query&&e.pathEquel())){e.setReferCache(e.lastLocation),e.lastLocation=window.location.href;var n=e.getPopStateChangeEventData();e.sendPv(n)}})},e.prototype.getPopStateChangeEventData=function(){var e=this.pageConfig();return e.is_back=0,e},e.prototype.pageConfig=function(){try{var e=this.storage.getItem(this.cache_key)||{},t=!1,n=this.storage.getItem("__tea_cache_first_"+this.appid);return t=!n||1!=n,{is_html:1,url:location.href,referrer:this.handleRefer(),page_key:location.href,refer_page_key:this.handleRefer(),page_title:document.title||location.pathname,page_manual_key:this.config.autotrack&&this.config.autotrack.page_manual_key||"",refer_page_manual_key:e&&e.refer_manual_key||"",refer_page_title:e&&e.refer_title||"",page_path:location.pathname,page_host:location.host,is_first_time:""+t}}catch(e){return this.collect.emit(w.DEBUGGER_MESSAGE,{type:w.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),{}}},e.prototype.sendPv=function(e,t){this.collect.emit("route-change",{config:e,init:!1})},e.prototype.handleRefer=function(){var e="";try{var t=this.storage.getItem()||{};e=t.routeChange?t.refer_key:this.collect.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.setReferCache=function(e){var t=this.storage.getItem(this.cache_key)||{};t.refer_key=e,t.routeChange=!0,this.storage.setItem(this.cache_key,t)},e}();Q.usePlugin(eA,"extend"),Q.usePlugin(ek,"tracer"),Q.usePlugin(ee,"ab"),Q.usePlugin(ei,"stay"),Q.usePlugin(eO,"autotrack"),Q.usePlugin(et,"et"),Q.usePlugin(eo,"heartbeat"),Q.usePlugin(ea,"monitor"),Q.usePlugin(eR,"route"),Q.usePlugin(ek,"tracer");var eC=new Q("default"),eL=Q;let eP=eC},827322:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{C:function(){return H},J:function(){return V}});var s,c,u=/[^a-zA-Z0-9\\_:.-]/gim,l=/</g,f=/>/g,d=/&#([a-zA-Z0-9]*);?/gim,p=/&quot;/g,h=/&colon;?/gim,v=/&newline;?/gim,g=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,_=/u\s*r\s*l\s*\(.*/gi,m=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,y=/"/g,b=function(e){return e.replace(l,"&lt;").replace(f,"&gt;")},E={indexOf:function(e,t){var n,r;for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return -1},forEach:function(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},some:function(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return!0;return!1},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},includes:function(e,t){if("string"==typeof e)return -1!==e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},uniq:function(e){for(var t={},n=[],r=0;r<e.length;r++)!t[e[r]]&&(n.push(e[r]),t[e[r]]=!0);return n},from:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},keys:function(e){var t=[];for(var n in e)t.push(n);return t}};function w(e){return null==e}function S(e){var t;return'"'===(t=e)[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]?e.substr(1,e.length-2):e}function O(e){var t,n,r,i,o,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",l=0;for(e=function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):(r>127&&r<2048?t+=String.fromCharCode(r>>6|192):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128)),t+=String.fromCharCode(63&r|128))}return t}(e);l<e.length;)t=e.charCodeAt(l++),n=e.charCodeAt(l++),r=e.charCodeAt(l++),i=t>>2,o=(3&t)<<4|n>>4,a=(15&n)<<2|r>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),u=u+c.charAt(i)+c.charAt(o)+c.charAt(a)+c.charAt(s);return u}function T(e){var t,n,r,i,o,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",l=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");l<e.length;)i=c.indexOf(e.charAt(l++)),o=c.indexOf(e.charAt(l++)),a=c.indexOf(e.charAt(l++)),s=c.indexOf(e.charAt(l++)),t=i<<2|o>>4,n=(15&o)<<4|a>>2,r=(3&a)<<6|s,u+=String.fromCharCode(t),64!==a&&(u+=String.fromCharCode(n)),64!==s&&(u+=String.fromCharCode(r));return u=function(e){for(var t="",n=0,r=0,i=0,o=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(t+=String.fromCharCode((31&r)<<6|63&(o=e.charCodeAt(n+1))),n+=2):(o=e.charCodeAt(n+1),t+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&(i=e.charCodeAt(n+2))),n+=3);return t}(u)}function k(e,t,n){var r="",i=0,o=!1,a=!1,s=0,c=e.length,u="",l="";t:for(s=0;s<c;s++){var f=e.charAt(s);if(!1===o){if("<"===f){o=s;continue}}else if(!1===a){if("<"===f){r+=n(e.slice(i,s)),o=s,i=s;continue}if(">"===f||s===c-1){r+=n(e.slice(i,o)),u=function(e){var t,n=E.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=E.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}(l=e.slice(o,s+1)),r+=t(o,r.length,u,l,"</"===l.slice(0,2)),i=s+1,o=!1;continue}if('"'===f||"'"===f){for(var d=1,p=e.charAt(s-d);""===p.trim()||"="===p;){if("="===p){a=f;continue t}p=e.charAt(s-++d)}}}else if(f===a){a=!1;continue}}return i<c&&(r+=n(e.substr(i))),r}function I(e,t){var n=0,r=0,i=[],o=!1,a=e.length;function s(e,n){if(!((e=(e=E.trim(e)).replace(u,"").toLowerCase()).length<1)){var r=t(e,n||"");r&&i.push(r)}}for(var c=0;c<a;c++){var l=e.charAt(c),f=void 0,d=void 0;if(!1===o&&"="===l){o=e.slice(n,c),n=c+1,r='"'===e.charAt(n)||"'"===e.charAt(n)?n:function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n){if("'"===n||'"'===n)return t;break}}return -1}(e,c+1);continue}if(!1!==o&&c===r){if(-1===(d=e.indexOf(l,c+1)))break;s(o,f=E.trim(e.slice(r+1,d))),o=!1,n=(c=d)+1;continue}if(/\s|\n|\t/.test(l)){if(e=e.replace(/\s|\n|\t/g," "),!1===o){if(-1===(d=function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n){if("="===n)return t;break}}return -1}(e,c))){s(f=E.trim(e.slice(n,c))),o=!1,n=c+1;continue}c=d-1;continue}if(-1!==(d=function(e,t){for(;t>0;t--){var n=e[t];if(" "!==n){if("="===n)return t;break}}return -1}(e,c-1)))continue;s(o,f=S(f=E.trim(e.slice(n,c)))),o=!1,n=c+1;continue}}return n<e.length&&(!1===o?s(e.slice(n)):s(o,S(E.trim(e.slice(n))))),E.trim(i.join(" "))}function A(e,t,n){if(n=function(e){return e=function(e){for(var t="",n=0,r=e.length;n<r;n++)t+=32>e.charCodeAt(n)?" ":e.charAt(n);return E.trim(t)}(e=(e=(e=e.replace(p,'"')).replace(d,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})).replace(h,":").replace(v," "))}(n),"href"===t||"src"===t){if("#"===(n=E.trim(n)))return"#";if(!("http://"===n.substr(0,7)||"https://"===n.substr(0,8)||"mailto:"===n.substr(0,7)||"tel:"===n.substr(0,4)||"data:image/"===n.substr(0,11)||"ftp://"===n.substr(0,6)||"./"===n.substr(0,2)||"../"===n.substr(0,3)||"#"===n[0]||"/"===n[0]))return""}else if("background"===t){if(g.lastIndex=0,g.test(n))return""}else if("style"===t){if(m.lastIndex=0,m.test(n))return"";if(_.lastIndex=0,_.test(n)&&(g.lastIndex=0,g.test(n)))return""}return n=function(e){return e=b(e=e.replace(y,"&quot;"))}(n)}var R=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},C=function(){function e(t){r(this,e),a(this,"options",void 0);var n=function(e){var t={};for(var n in e)t[n]=e[n];return t}(t||{});n.stripIgnoreTag&&(n.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),n.onIgnoreTag=function(){return""}),n.whiteList={},n.onTag=function(){},n.onTagAttr=function(){},n.onIgnoreTag=function(){},n.onIgnoreTagAttr=function(){},n.safeAttrValue=A,n.escapeHtml=b,this.options=Object.assign(n,t)}return o(e,[{key:"process",value:function(e){if(!(e=(e=e||"").toString()))return"";var t,n,r,i,o,a,s=this.options,c=s.whiteList,u=s.onTag,l=s.onIgnoreTag,f=s.onTagAttr,d=s.onIgnoreTagAttr,p=s.safeAttrValue,h=s.escapeHtml;if(s.stripBlankChar){;e=(t=(t=e.split("")).filter(function(e){var t=e.charCodeAt(0);if(127===t)return!1;if(t<=31)return 10===t||13===t||!1;return!0})).join("")}!s.allowCommentTag&&(e=function(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("\x3c!--",n);if(-1===r){t+=e.slice(n);break}t+=e.slice(n,r);var i=e.indexOf("--\x3e",r);if(-1===i)break;n=i+3}return t}(e));var v=!1;if(s.stripIgnoreTagBody){;n=s.stripIgnoreTagBody,"function"!=typeof(r=l)&&(r=function(){}),i=!Array.isArray(n),o=[],a=!1,l=(v={onIgnoreTag:function(e,t,s){if(c=e,i?0:-1===E.indexOf(n,c))return r(e,t,s);if(!s.isClosing)return!a&&(a=s.position),"[removed]";var c,u="[/removed]",l=s.position+u.length;return o.push([!1!==a?a:s.position,l]),a=!1,u},remove:function(e){var t="",n=0;return E.forEach(o,function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n)}}).onIgnoreTag}var g=k(e,function(e,t,n,r,i){var o,a,s={sourcePosition:e,position:t,isClosing:i,isWhite:Object.prototype.hasOwnProperty.call(c,n)},v=u(n,r,s);if(null!=(o=v))return v;if(s.isWhite){if(s.isClosing)return"</".concat(n,">");var g=function(e){var t=E.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=E.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=E.trim(e.slice(0,-1))),{html:e,closing:n}}(r),_=c[n],m=I(g.html,function(e,t){var r,i,o=-1!==E.indexOf(_,e),a=f(n,e,t,o);if(null!=(r=a))return a;if(o)return(t=p(n,e,t,null))?"".concat(e,'="').concat(t,'"'):e;return null!=(i=a=d(n,e,t,o))?a:void 0});return r="<".concat(n),m&&(r+=" ".concat(m)),g.closing&&(r+=" /"),r+=">"}return null!=(a=v=l(n,r,s))?v:h(r)},h);return v&&(g=v.remove(g)),g}}]),e}(),L="<%= isUseNewFunction =>",P=function(e){return e&&e.Math==Math&&e},D=P("object"==typeof globalThis&&globalThis)||P("object"==typeof window&&window)||P("object"==typeof self&&self)||P("object"==typeof n.g&&n.g)||Function("return this")();try{L=!!(L=String(L)).startsWith("<%=")||JSON.parse(L),(!0===L||"true"===L)&&(D=Function("\nvar _checkXSS = function (it) {\n  return it && it.Math == Math && it;\n};\nreturn _checkXSS(typeof globalThis === 'object' && globalThis) ||\n_checkXSS(typeof window === 'object' && window) ||\n_checkXSS(typeof self === 'object' && self) ||\n_checkXSS(typeof global === 'object' && global) ||\nFunction('return this')();\n")())}catch(e){console.log(e)}var x=new(function(){function e(){var t=this;r(this,e),a(this,"batchData",[]),a(this,"uniqKeys",new Set),a(this,"config",void 0),a(this,"timeout",2e3),a(this,"lock",!1),a(this,"isSetedConfig",!1),a(this,"getSlardarBid",function(){var e,n,r="<%= bid =>";if(!E.includes(r,"bid"))return r;if(t.config&&t.config.bid)return t.config.bid;var i=D;if(i&&i._xssBid)return i._xssBid;if(i&&i.slardar&&"function"==typeof i.slardar.config){var o=(i.slardar.config()||{}).bid;if(o)return o}if(i&&i.Slardar&&"function"==typeof i.Slardar.config){var a=(i.Slardar.config()||{}).bid;if(a)return a}return(null==i?void 0:null===(n=i.Slardar)||void 0===n?void 0:null===(e=n._baseParams)||void 0===e?void 0:e.bid)||"argus"}),a(this,"getConfigRegion",function(){var e,n="<%= region =>";return E.includes(n,"region")?t.config&&t.config.region?t.config.region:((null==D?void 0:null===(e=D.gfdatav1)||void 0===e?void 0:e.region)||"cn").toLowerCase():n}),a(this,"gerReportUrl",function(){var e={cn:T("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:T("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:T("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:T("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:T("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:T("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:T("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[t.getConfigRegion()];if(!!e)return e+t.getSlardarBid()})}return o(e,[{key:"setConfig",value:function(e){if(!this.isSetedConfig)this.config=e}},{key:"upload",value:function(){var e=this;if(this.config&&this.config.isCloseSSRReport&&!(null==D?void 0:D.document))return;var t="<%= isCloseSSRReport =>";t=String(t);try{if(t=!t.startsWith("<%=")&&JSON.parse(t),(!0===t||"true"===t)&&!(null==D?void 0:D.document))return}catch(e){console.log(e)}var n=this.gerReportUrl();if(!this.lock&&!!n&&0!==this.batchData.length)this.lock=!0,setTimeout(function(){var t=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),D.fetch(n,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).catch(function(e){console.warn("xss defense report error",e)}),e.lock=!1,e.upload()},this.timeout)}},{key:"generateKey",value:function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""}},{key:"push",value:function(e){this.batchData.push(e),this.upload()}},{key:"report",value:function(e){var t=this.generateKey(e);if(!!D.fetch&&!!e.collectKey){var n="SSR";void 0!==D&&void 0!==D.location&&void 0!==D.location.href&&(n=D.location.href),e.documentUrl=n;var r={age:Math.floor(Date.now()),type:"xss",url:n,body:e,"user-agent":""};r.url="".concat(t,"___").concat(e.documentUrl),"SSR"===n&&(r.url="SSR___".concat(r.url),r.body.ssr=!0),this.push(r)}}}]),e}()),M=function(e){var t=0,n=!0,r=!1,i=void 0;try{for(var o,a=E.keys(e)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)!function(){var n=o.value;Array.isArray(e[n])?0===e[n].length?delete e[n]:(e[n]=E.from(E.uniq(e[n])),t+=e[n].length):0===E.keys(e[n]).length?delete e[n]:E.keys(e[n]).forEach(function(r){e[n][r]=E.from(E.uniq(e[n][r])),t+=e[n][r].length})}()}catch(e){r=!0,i=e}finally{try{!n&&null!=a.return&&a.return()}finally{if(r)throw i}}return{count:t,ret:e}},j=function(e,t){var n=Number("<%= htmlLimit =>");return void 0!==t&&(n=t),"NaN"!==n.toString()&&-1!==n&&!!(e.length>=n)||!1};function N(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;if("string"!=typeof t)return!0;if("currentscript"===(t=-1===(e=(e=(e=(e=(e=t).replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,function(e,t,n,r){return String.fromCharCode(t?parseInt(n,16):parseInt(r))}).replace(/(\t|\n|\r)/g,"").toLowerCase()))return n&&n("currentScript"),!1;if(E.includes(t,"base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!E.includes(e,"data:text/html;base64")}catch(e){return!0}}(t))return n&&n("data:text/html;base64"),!1;var r=["expression(","behavior:","view-source:"];if(E.some(r,function(e){return -1!==t.indexOf(e)}))return E.forEach(r,function(e){-1!==t.indexOf(e)&&n&&n(e)}),!1;var i=["data:application","data:javascript","data:text/html","data:texthtml"];if(E.some(i,function(e){return -1!==t.indexOf(e)}))return E.forEach(i,function(e){-1!==t.indexOf(e)&&n&&n(e)}),!1;if(t.indexOf("javascript:")>0)return n&&n("javascript:"),!1;if(/^javascript:/i.test(t)){var o=t.slice(11).replace(/\s/g,"").trim();return!!E.some(["void","void(0)","void0","false","undefined",";"],function(e){return e===o})||(n&&n("javascript:"),!1)}return!0}var B=function(e,t){var n=Number("<%= urlLimit =>");return void 0!==t&&(n=t),"NaN"!==n.toString()&&-1!==n&&!!(e.length>=n)||!1},G=function(e,t){var n="<%= isSaveValidUrl =>";if(n=String(n),"string"!=typeof e||B(e)||N(e,t))return e;try{if(n=!n.startsWith("<%=")&&JSON.parse(n),!0===n||"true"===n){console.log("========");var r=new URL(e);return r.origin+r.pathname}}catch(e){console.log(e)}return"#"},U=function(e,t){var n={},r=E.keys(e),i=!0,o=!1,a=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;Array.isArray(e[u])?n[u]=E.from(e[u]):n[u]=U({},e[u])}}catch(e){o=!0,a=e}finally{try{!i&&null!=c.return&&c.return()}finally{if(o)throw a}}var l=E.keys(t),f=!0,d=!1,p=void 0;try{for(var h,v=l[Symbol.iterator]();!(f=(h=v.next()).done);f=!0){var g=h.value;g in e?Array.isArray(e[g])?n[g]=e[g].concat(t[g]):n[g]=U(e[g],t[g]):Array.isArray(t[g])?n[g]=E.from(t[g]):n[g]=U({},t[g])}}catch(e){d=!0,p=e}finally{try{!f&&null!=v.return&&v.return()}finally{if(d)throw p}}return n},z={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content","name"]};try{var q="<%= blackConfig =>";q.blackAttrRegExps&&(q.blackAttrRegExps=q.blackAttrRegExps.map(function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))}));var W="<%= configMode =>";E.includes(W,"override")&&(z=q),E.includes(W,"merge")&&(z=U(z,q))}catch(e){console.log(e)}var F={mode:"black",whiteList:{},blackConfig:z,collect:null,isSetedConfigForModule:!1,initCollect:function(){F.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=M(F.collect),t=e.count,n=e.ret;return F.collect=null,{collectKey:0===t?null:JSON.stringify(n),collectMode:"black"}},setConfigForModule:function(e){if(!F.isSetedConfigForModule)try{F.bid=e.bid,F.region=e.region,F.enabled=!0,F.isCloseSSRReport=e.isCloseSSRReport;var t=JSON.parse(e.blackConfig||"{}");t.blackAttrRegExps&&(t.blackAttrRegExps=t.blackAttrRegExps.map(function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))}));var n=e.configMode,r=void 0===n?"":n;E.includes(r,"override")&&(z=t),E.includes(r,"merge")&&(z=U(z,t)),F.isSetedConfigForModule=!0}catch(e){console.log(e)}},onIgnoreTag:function(e,t){if(E.includes(z.blackTags,e)){var n;null===(n=F.collect)||void 0===n||n.blackTags.push(e);return}return k(t,function(e,t,n,r,i){if(-1!==n.indexOf("/"))return b(r);if(i)return"</".concat(n,">");var o=function(e){var t,n,r=(t=e,(n=/\s|\n|\t/.exec(t))?n.index:-1);if(-1===r)return{html:"",closing:"/"===e[e.length-2]};var i="/"===(e=e.slice(r+1,-1).trim())[e.length-1];return i&&(e=e.slice(0,-1).trim()),{html:e,closing:i}}(r),a=I(o.html,function(e,t){var r=0;if(z.blackList[n]&&E.includes(z.blackList[n],e)&&(F.collect.blackList[n]=F.collect.blackList[n]||[],F.collect.blackList[n].push(e),r++),z.blackAttrRegExps.length&&z.blackAttrRegExps.some(function(t){return t.test(e)})&&E.forEach(z.blackAttrRegExps,function(t){t.test(e)&&(F.collect.blackAttrRegExps.push("".concat(t.toString(),"->").concat(e)),r++)}),z.blackAttrs.length&&E.includes(z.blackAttrs,e)&&(z.blackAttrs.push(e),r++),!r){if(z.filterList&&z.filterList[n]&&E.includes(z.filterList[n],e)){var i=G(t,function(e){var t;null===(t=F.collect)||void 0===t||t.filterProtocol.push(e)});return i!==t&&(F.collect.filterList[n]=F.collect.filterList[n]||[],F.collect.filterList[n].push(e)),t?"".concat(e,"='").concat(i,"'"):e}if(z.filterAttrs&&E.includes(z.filterAttrs,e)){var o,a=G(t,function(e){var t;null===(t=F.collect)||void 0===t||t.filterProtocol.push(e)});return a!==t&&(null===(o=F.collect)||void 0===o||o.filterAttrs.push(e)),t?"".concat(e,"='").concat(a,"'"):e}return t?"".concat(e,"='").concat(t,"'"):e}});return r="<".concat(n),a&&(r+=" ".concat(a)),o.closing&&(r+=" /"),r+=">"},b)}},K=function(e){var t=e.reportOnly,n=void 0===t||t,r=e.block;return n&&"all"===n?"report":("string"==typeof n&&("true"===n&&(n=!0),"false"===n&&(n=!1)),r)?"enforce":n?"report":"enforce"};var V=(s=function(e,t){return x.setConfig(t),new C(t).process(e)},function(e,t,n){if(!e||"string"!=typeof e||j(e,Number(n.htmlLimit)))return e;try{if("function"==typeof DOMParser&&n.isDOMParser){var r,i,o=new DOMParser;"function"==typeof o.parseFromString&&(e=new DOMParser().parseFromString(e,"text/html").body.innerHTML)}}catch(e){}F.setConfigForModule(t||n);F.initCollect();var c=s(e,F);if(R(c)===R(e))return e;if(!n)return c;var u=n.logType,l=K(n),f=F.removeCollect();return(!f||!f.collectKey)&&(f={collectKey:"default",collectMode:"black"}),x.report((r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}({type:u,disposition:l},f),i=(i={sourceText:O(e.replace(/'/g,'"')),filterText:O(c.replace(/'/g,'"'))},i),Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}),r)),n.isRuntimeLog&&"enforce"===l&&console.warn("\u5F53\u524D\u9875\u9762\u90E8\u5206\u6570\u636E\u88AB\u300CArgus XSS\u300D\u8FC7\u6EE4"),"enforce"===l?c:e});var H=(c=function(e){var t=e.sourceText,n=e.saveValidUrl,r=e.limit,i=e.callback;if("string"!=typeof t||B(t,Number(void 0===r?-1:r))||N(t,i))return t;try{if(!0===(void 0!==n&&n)){var o=new URL(t);return o.origin+o.pathname}}catch(e){console.log(e)}return"#"},function(e,t,n){x.setConfig(n);var r=[],i=c({sourceText:e,callback:function(e){r.push(e)},saveValidUrl:n?n.isSaveValidUrl:void 0,limit:n?n.urlLimit:void 0});if(i===e)return e;r=E.from(E.uniq(r));var o=t||n||{};if(!o)return i;var a=o.logType,s=K(n);return x.report({type:a,disposition:s,collectKey:r.join("___"),collectData:JSON.stringify(r),collectMode:"black",sourceText:O(e),filterText:O(i)}),n.isRuntimeLog&&"enforce"===s&&console.warn("\u5F53\u524D\u9875\u9762\u90E8\u5206\u6570\u636E\u88AB\u300CArgus XSS\u300D\u8FC7\u6EE4"),"enforce"===s?i:e})},269307:function(e,t,n){"use strict";n.d(t,{p6:()=>l,OO:()=>u,JP:()=>d,nI:()=>c});var r=n("218571"),i=n("96204"),o=n("372971"),a=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)(r||!(i in t))&&(!r&&(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},s=null;function c(){return s}var u=r.createContext({i18n:void 0,locale:void 0}),l={type:"intl3rdParty",init:function(e){var t,n;s=e,n=(t=e).t.bind(t),t.t=function(e,s,c){var u;if(!Object.entries(s||{}).map(function(e){var t=e[0],n=e[1];return(0,r.isValidElement)(n)?t:null}).filter(function(e){return!!e}).length)return n(e,s,c);try{var l=t.i18nInstance.instance.options||{},f=(s||{}).ns||l.ns||"translation";f=Array.isArray(f)?f[0]:"translation";var d=function(n){return t.i18nInstance.instance.getResource(n,f,e)},p=l.fallbackLng,h=d(t.language)||function(){var n;switch(p?Array.isArray(p)&&p.length?"array":typeof p:"null"){case"array":p.find(function(e){return n=d(e)});break;case"function":var r=p(t.language);if(!Array.isArray(r))return console.error("fallbackLng must be return array"),c||e;r.find(function(e){return n=d(e)})}return void 0===n&&(n=c||e),n}();Array.isArray(h)&&(h=h[0]);var v=new i.C(h,t.language,{},{ignoreTag:!!(null===(u=l.formatOptions)||void 0===u?void 0:u.ignoreTag)});try{var g=v.formatToParts(s);if(1===g.length)return g[0].value;var _=g.reduce(function(e,t){return e.length&&t.type===o.du.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e},[]);return r.createElement.apply(void 0,a([r.Fragment,{}],_,!1))}catch(t){console.warn("[intl-react-plugin] Key ".concat(JSON.stringify(e)," has missing some interpolation, use fallback target text ").concat(JSON.stringify(h)," fallback. More: ").concat(t));var m=n(e,s,c);return(0,r.createElement)(r.Fragment,{},m)}}catch(t){return console.error("[intl-react-plugin] Some error occurred",t),n(e,s,c)}}}},f={bindI18n:"languageChanged loaded initialized",bindI18nStore:"added",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0};function d(){return f}},537783:function(e,t,n){"use strict";n.d(t,{$:()=>s});var r=n("218571"),i=n("269307");function o(e,t,n){e.loadNamespaces(t,function(){if(e.isInitialized)n();else{var t=function(){setTimeout(function(){e.off("initialized",t)},0),n()};e.on("initialized",t)}})}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){void 0===t&&(t={});var n=t.i18n,s=(r.useContext(i.OO)||{}).i18n,c=n||s||(0,i.nI)()||void 0;if(!c){console.warn("You will need to pass in an @ies/starling_intl instance by using registerReactInstance");var u=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[u,{},!1];return l.t=u,l.i18n={},l.ready=!1,l}var f=c.i18nInstance.instance;f.options.react&&void 0!==f.options.react.wait&&console.warn("It seems you are still using the old wait option, you may migrate to the new useSuspense behavior.");var d=a(a(a({},(0,i.JP)()),f.options.react),t),p=d.useSuspense,h=e||f.options&&f.options.defaultNS||[];h="string"==typeof h?[h]:h||["translation"];var v=(f.isInitialized||f.initializedStoreOnce)&&h.every(function(e){return function(e,t,n){if(void 0===n&&(n={}),!t.languages||!t.languages.length)return console.warn("i18n.languages were undefined or empty",t.languages),!0;var r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return -1===r||2===r};return(!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1)||!t.services.backendConnector.backend||!t.isLanguageChangingTo||!!a(t.isLanguageChangingTo,e))&&(!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||a(r,e)&&(!i||a(o,e)))||!1)}(e,f,d)});function g(){return{t:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!Array.isArray(e))return"";var n=e[0],r=e[1],i=void 0===r?{}:r,o=e[2];return Array.isArray(h)&&h.filter(function(e){return!!e}).length&&(i.ns=h),c.t(n,i,o)}}}var _=r.useState(g()),m=_[0],y=_[1],b=r.useRef(!0);r.useEffect(function(){var e=d.bindI18n,t=d.bindI18nStore;function n(){b.current&&y(g())}b.current=!0,!v&&!p&&o(f,h,function(){b.current&&y(g())});var r=e?e.split(" ").filter(function(e){return!!e}):"",i=t?t.split(" ").filter(function(e){return!!e}):"";return r&&f&&r.forEach(function(e){return f.on(e,n)}),i&&f&&i.forEach(function(e){return f.store.on(e,n)}),function(){b.current=!1,r&&f&&r.forEach(function(e){return f.off(e,n)}),i&&f&&i.forEach(function(e){return f.store.off(e,n)})}},[f,h.join()]);var E=r.useRef(!0);r.useEffect(function(){b.current&&!E.current&&y(g()),E.current=!1},[f]);var w=[m.t,c,v];if(w.t=m.t,w.i18n=c,w.ready=v,v||!v&&!p)return w;throw new Promise(function(e){o(f,h,function(){e()})})}},184568:function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o{constructor(e){i(this,"type","backend"),i(this,"name","@ies/intl-backend-plugin"),i(this,"_services",void 0),i(this,"_options",void 0),i(this,"_allOptions",void 0),i(this,"_configLng",void 0),this._options=e}_emit(e,t,n,r){let i=(this._options.on||{})[e];"function"==typeof i&&i(t,n),r(null,n)}_getStorageKey(e){let{apiKey:t,namespace:n}=this._options.loadOptions||{};if(t&&n)return`text.${t}.${n}.${e}`}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._options=Object.assign({},t,this._options),this._allOptions=n,this._services=e,this._services.resourceStore.options.initImmediate=t.initImmediate||!1}read(e,t,r){if(this._configLng||(this._configLng=this._services.resourceStore.options.lng),"string"!=typeof this._configLng){if(this._services.languageDetector&&"function"==typeof this._services.languageDetector.detect)try{this._configLng=this._services.languageDetector.detect()}catch(e){this._configLng="zh-CN"}else this._configLng="zh-CN"}if(this._options.simpleLoad&&e!==this._configLng)return this._emit("simpleBlocked",e,{},r);let{initialTexts:i,fallbackTexts:o={}}=this._options,a={};if("function"==typeof i?a=i(e,this._getStorageKey(e),t):i&&"object"==typeof i&&(a=i[e]||{}),"object"!=typeof a)try{a=JSON.parse(a)}catch(e){a={}}let s=o[e]||{},c=Object.assign({locale:e,namespace:"",apiKey:"",fallbackLang:this._allOptions.fallbackLng||[this._allOptions.lng]},this._options.loadOptions||{});this._emit("receiveInit",e,a,r),(async()=>{let t=this._options.client||null;if(!t)try{let e=n(56889);if("function"==typeof e.default)t=e.default;else{if("function"!=typeof e)throw Error('Error: can not get any client instance, intl backend plugin will emit "fallback" events');t=e}}catch(t){return this._emit("fallback",e,s,r)}try{t=new t(c)}catch(e){}try{if(!t||"function"!=typeof t.load)throw Error();let n=await t.load(t=>this._emit("chunk",e,t,r),{options:c,callback:t=>this._emit("chunk",e,t,r)});this._emit("done",e,n,r)}catch(t){this._emit("fallback",e,s,r)}})()}save(){}create(e,t,n,r){}}i(o,"type","backend"),t.registerBackendPlugin=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new o(e)}},56889:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eL}});var r,i,o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(e,t){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function u(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var f=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.code=t,i.message=n,i.originError=r,i.name="StarlingError",i.code=t,i.message=n,i.originError=r,Error.captureStackTrace&&Error.captureStackTrace(i,i.constructor),i}return!function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),d={API_PARAMS_ERROR:{ERROR_CODE:103,ERROR_MESSAGE:"Request failed, confirm your apiKey and namespace is correct"},PARAMS_ERROR:{ERROR_CODE:110,ERROR_MESSAGE:"Check your params, parameter apiKey, namespace and zoneHost is required!"},PARAMS_ERROR_2:{ERROR_CODE:111,ERROR_MESSAGE:"Check your params, parameter request and store is required!"},CACHE_ERROR:{ERROR_CODE:112,ERROR_MESSAGE:"Cache error!"},VERSION_NOT_FOUND:{ERROR_CODE:120,ERROR_MESSAGE:"Version is not found, please check your param [version]!"}},p={zone:"CN",locale:"zh",timeout:15e3,test:!1,mode:"normal",format:"merged",lazyUpdate:!1,fallbackLang:["zh"],tracker:function(){},cache:!0},h=function(){function e(e){this.options=e,this.options=e}return e.prototype.getText=function(e,t){return u(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return[4,this._request(e,t)];case 1:return[2,n.sent()]}})})},e.prototype.getTexts=function(e){var t=this;return Promise.all(e.map(function(e){var n=e[0],r=e[1];return t.getText(n,r)}))},e.prototype._request=function(e,t){return u(this,void 0,void 0,function(){var n,r,i,o,a,s,c,u,p,h,v;return l(this,function(l){switch(l.label){case 0:if(n=(0,this.options.getReleaseVersion)(e),e&&n&&t)return[2,{}];return r=this.getUrl(e,t),o=(i=this.options).request,[4,o(r,{timeout:i.timeout})];case 1:if(s=(a=l.sent().data).status,c=a.message,200==+s)return[2,this._mapResponse(c)];if(1001==+s)throw p=(u=d.VERSION_NOT_FOUND).ERROR_CODE,new f(p,u.ERROR_MESSAGE);throw v=(h=d.API_PARAMS_ERROR).ERROR_CODE,new f(v,h.ERROR_MESSAGE)}})})},e.prototype.getUrl=function(e,t){var n=this.options,r=n.apiKey,i=n.locale,o=n.fallbackLang,a=n.zoneHost,s=n.mode,c=n.getReleaseVersion,u=[i].concat(o),l=a+"/check_and_get_text/"+r+"/"+s+"/"+e+"?lang="+u,f=c(e);return f&&(l=a+"/text_by_release_version/"+r+"/"+s+"/"+e+"/"+f+"?lang="+u),"string"==typeof t&&(l+="&version="+t),l},e.prototype._mapResponse=function(e){return e?Object.keys(e).reduce(function(t,n){return t[n.toLowerCase()]=e[n],t},{}):{}},e}(),v=function(){function e(e){this.options=e,this.options=e}return e.prototype._setCache=function(e,t){try{return this.options.store.set(e,t)}catch(e){var n=d.CACHE_ERROR.ERROR_CODE;this.options.tracker("cache_error",{code:n,message:e.message,stack:e.stack});return}},e.prototype._getCache=function(e){var t=this.options,n=t.store,r=t.cache;try{return r&&n.get(e)}catch(e){var i=d.CACHE_ERROR.ERROR_CODE;this.options.tracker("cache_error",{code:i,message:e.message,stack:e.stack});return}},e.prototype.getVersion=function(e){var t=this.options,n=t.apiKey,r=t.locale,i=t.getReleaseVersion,o="version."+n+"."+e+"."+r,a=i(e);return(a&&(o+="."+a),this.getText(e))?this._getCache(o):null},e.prototype.getVersions=function(e){var t=this;return Promise.all(e.map(function(e){return t.getVersion(e)}))},e.prototype.getText=function(e){var t=this.options,n=t.apiKey,r=t.locale,i=t.getReleaseVersion,o="text."+n+"."+e+"."+r,a=i(e);return a&&(o+="."+a),this._getCache(o)},e.prototype.getTexts=function(e){var t=this;return Promise.all(e.map(function(e){return t.getText(e)}))},e.prototype.refresh=function(e,t,n,r){return u(this,void 0,void 0,function(){var i,o,a,s,c,u=this;return l(this,function(l){switch(l.label){case 0:return o=(i=this.options).apiKey,a=i.getReleaseVersion,s=i.cache,c=[],t.forEach(function(i,l){var f="text."+o+"."+e[l]+"."+r[l],d="version."+o+"."+e[l]+"."+r[l],p=a(e[l]);p&&(f+="."+p,d+="."+p),s&&(c.push(u._setCache(f,t[l])),c.push(u._setCache(d,n[l])))}),[4,Promise.all(c)];case 1:return l.sent(),[2,t.reduce(function(e,t){return Object.assign(e,t)},{})]}})})},e}(),g=function(){function e(e){void 0===e&&(e=[]),this._list=[],this._list=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),e.prototype.getList=function(){return this._list},e.prototype.getNamespaces=function(){return this._list.map(function(e){return e.namespace})},e.prototype.addNamespace=function(e){this._list.push(e)},e.prototype.insertTexts=function(e){this._list.forEach(function(t,n){t.texts=e[n]})},e.prototype.sortByPrior=function(){return this._list.sort(function(e,t){return e.prior-t.prior}),this._list},e.prototype.concat=function(t){return new e(this._list.concat(t.getList()))},e}(),_=function(){function e(e,t,n){this._promiseRefresh=Promise.resolve(null),this.remote=e,this.local=t,this.options=n}return e.prototype._checkVersions=function(e){return u(this,void 0,void 0,function(){var t,n,r,i,o,a;return l(this,function(s){switch(s.label){case 0:return t=this.options.locale,[4,this.local.getVersions(e)];case 1:return n=s.sent(),r=e.map(function(e,t){return[e,n[t]]}),[4,this.remote.getTexts(r)];case 2:return i=s.sent(),o=new g,a=new g,e.forEach(function(e,r){var s=i[r],c=s.updated,u=s.version,l=s.data,f=s.lang;c?a.addNamespace({namespace:e,prior:r,version:u,texts:l,lang:f}):o.addNamespace({namespace:e,prior:r,version:n[r],lang:t})}),[2,{equalNs:o,diffNs:a}]}})})},e.prototype.waitForRefresh=function(){return this._promiseRefresh},e.prototype._refresh=function(e){var t=e.getList(),n=[],r=[],i=[],o=[];return t.forEach(function(e){n.push(e.namespace),r.push(e.version),i.push(e.texts),o.push(e.lang)}),this.local.refresh(n,i,r,o)},e.prototype._getLocalTexts=function(e){return u(this,void 0,void 0,function(){var t;return l(this,function(n){switch(n.label){case 0:return[4,this.local.getTexts(e.getNamespaces())];case 1:return t=n.sent(),e.insertTexts(t),[2,t]}})})},e.prototype.load=function(e){return u(this,void 0,void 0,function(){var t,n,r,i,o,a;return l(this,function(s){switch(s.label){case 0:return t=this.options.format,[4,this._checkVersions(e)];case 1:if(r=(n=s.sent()).equalNs,i=n.diffNs,!r.length)return[3,3];return[4,this._getLocalTexts(r)];case 2:return s.sent(),[3,4];case 3:s.label=4;case 4:if(o=this._formatTexts(t,i.concat(r)),!(a=i.length))return[3,6];return[4,this._refresh(i)];case 5:a=s.sent(),s.label=6;case 6:return[2,{texts:o,diffNs:i.getNamespaces(),equalNs:r.getNamespaces()}]}})})},e.prototype._getCacheText=function(e){return u(this,void 0,void 0,function(){var t,n,r,i,o,a;return l(this,function(s){switch(s.label){case 0:return n=(t=this.options).locale,r=t.format,[4,this.local.getTexts(e)];case 1:return i=s.sent(),[4,this.local.getVersions(e)];case 2:return o=s.sent(),a=new g(i.map(function(t,r){if(t)return{namespace:e[r],version:o[r],lang:n,texts:t}}).filter(function(e){return!!e})),[2,this._formatTexts(r,a)]}})})},e.prototype.lazyLoad=function(e){return u(this,void 0,void 0,function(){var t,n,r;return l(this,function(i){switch(i.label){case 0:return[4,this._getCacheText(e)];case 1:if(n=0===Object.keys(t=i.sent()).length,this._promiseRefresh=this.load(e),!n)return[3,3];return[4,this._promiseRefresh];case 2:t=(r=i.sent()).texts,i.label=3;case 3:return[2,{texts:t,diffNs:n?r&&r.diffNs:[],equalNs:n?r&&r.equalNs:e}]}})})},e.prototype._formatTexts=function(e,t){var n,r;if("splitted"===e)return t.getList().reduce(function(e,t){var n=t.namespace,r=t.lang,i=t.texts,o=t.version;return e[n]={lang:r,texts:i,version:o},e},{});return n=t.sortByPrior().map(function(e){return e.texts}),n.reduce(function(e,t){return Object.assign(e,t)},{})},e}();"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},writable:!0,configurable:!0});var m={EVENT_EXCEPTION:"client_exception",EVENT_LOAD:"client_load",EVENT_CACHE:"client_cache",EVENT_LOAD_TIME:"client_load_time"};(k||(k={})).AfterLoad="afterLoad";var y=function(){function e(e){this.afterLoadPlugins=[],this.setConfig(e)}return e.prototype._init=function(e){var t=this;this.options=function(e){var t=(e=Object.assign({},p,e)).namespace,n=e.apiKey,r=e.request,i=e.store,o=e.zoneHost;if(e.test&&(e.mode="test"),e.namespace=t=t?Array.isArray(t)?t:[t]:[],e.apiKey=n=n||e.api_key,!r||!i){var a=d.PARAMS_ERROR_2,s=a.ERROR_CODE,c=a.ERROR_MESSAGE;throw new f(s,c,null)}if(!n||!t.length||!o){var u=d.PARAMS_ERROR,s=u.ERROR_CODE,c=u.ERROR_MESSAGE;throw new f(s,c,null)}return e}(e);var n=this.options,r=n.apiKey,i=n.locale,o=n.zoneHost,a=n.request,s=n.timeout,u=n.fallbackLang,l=n.store,g=n.lazyUpdate,m=n.test,y=n.mode,b=n.format,E=n.cache,w={mode:g?"lazy":m?"test":"prod",zone:o,locale:i,apiKey:r};this._tracker=function(e,n){try{t.options.tracker(e,c(c({},w),n))}catch(e){console.log(e)}};var S=this._getReleaseVersionByNamespace.bind(this),O=new h({request:a,timeout:s,apiKey:r,locale:i,zoneHost:o,fallbackLang:u,mode:y,getReleaseVersion:S}),T=new v({apiKey:r,locale:i,store:l,tracker:this._tracker,getReleaseVersion:S,cache:E});this._textManager=new _(O,T,{locale:i,format:b}),this.initPlugin()},e.prototype.initPlugin=function(){var e=this,t=this.options.plugins||[];Array.isArray(t)&&t.every(function(e){return"object"==typeof e})&&t.forEach(function(t){t.type===k.AfterLoad&&e.afterLoadPlugins.push(t)})},e.prototype._getReleaseVersionByNamespace=function(e){var t=this.options.namespace,n=this.options.version,r=null;return Array.isArray(n)?r=n[t.findIndex(function(t){return t===e})]:n&&"object"==typeof n?r=n[e]:"string"==typeof n&&(r=n),r},e.prototype.setConfig=function(e){var t=Object.assign({},this.options,e);this._init(t)},e.prototype.waitForRefresh=function(){return u(this,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return[4,this._textManager.waitForRefresh()];case 1:return[2,(e=t.sent())?e.texts:null]}})})},e.prototype._load=function(){return u(this,void 0,void 0,function(){var e,t,n,r,i;return l(this,function(o){switch(o.label){case 0:if(t=(e=this.options).namespace,n=e.lazyUpdate,r=t,!n)return[3,2];return[4,this._textManager.lazyLoad(r)];case 1:return i=o.sent(),[3,4];case 2:return[4,this._textManager.load(r)];case 3:i=o.sent(),o.label=4;case 4:return[2,i]}})})},e.prototype.load=function(e,t){return u(this,void 0,void 0,function(){var n,r,i,o,a,s,c,u,f,d,p,h,v,g=this;return l(this,function(l){switch(l.label){case 0:n=Date.now(),r=this.options.namespace,l.label=1;case 1:return l.trys.push([1,5,,10]),this._tracker(m.EVENT_LOAD,{state:"start",version:"0.5.9"}),[4,this._load()];case 2:if(o=(i=l.sent()).diffNs,a=i.equalNs,s=i.texts,!(Array.isArray(c=this.afterLoadPlugins)&&c.length))return[3,4];return[4,c.reduce(function(e,t){return e.then(function(e){return"function"==typeof t.process?t.process(e||s,g.options):e})},Promise.resolve(s))];case 3:s=l.sent()||s,l.label=4;case 4:return e&&e(s),this._tracker(m.EVENT_LOAD_TIME,{time:Date.now()-n}),this._tracker(m.EVENT_LOAD,{state:"success",version:"0.5.9"}),u=o.length,f=a.length,p=(f/(d=r.length)).toFixed(2),this._tracker(m.EVENT_CACHE,{diffLen:u,diff:o.join(","),equalLen:f,equal:a.join(","),namespaces:a.join(","),namespacesLen:d,ratio:p}),[2,s];case 5:if(h=l.sent(),this._tracker(m.EVENT_LOAD,{state:"fail"}),this._tracker(m.EVENT_EXCEPTION,{code:h.code,message:h.message,stack:h.stack}),!(h||{}).useWebCache)return[3,9];l.label=6;case 6:return l.trys.push([6,8,,9]),[4,this._textManager._getCacheText(r)];case 7:return(v=l.sent())&&"object"==typeof v?h.response.data=v:h.response.data={},[3,9];case 8:return l.sent(),[3,9];case 9:if(!t)return[2,Promise.reject(h)];t(h);return[3,10];case 10:return[2]}})})},e}(),b=new(function(){function e(){}return e.prototype.get=function(e){if(localStorage&&localStorage.getItem)return function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}}(localStorage.getItem(e))},e.prototype.set=function(e,t){if(localStorage&&localStorage.setItem)localStorage.setItem(e,JSON.stringify(t))},e}()),E=function(e){function t(t,n,r,i,o,a){var s=e.call(this,t)||this;return s.url=n,s.code=r,s.request=i,s.response=o,s.useWebCache=a,s.url=n,s.code=r,s.request=i,s.response=o,s.useWebCache=!!a,s}return a(t,e),t}(Error);function w(e,t){var n=t.timeout;return new Promise(function(t,r){var i=new XMLHttpRequest;i.open("GET",e),i.overrideMimeType("application/json; charset=utf-8"),i.withCredentials=!1,i.onreadystatechange=function(){if(!!i&&4===i.readyState&&(0!==i.status||!!(i.responseURL&&0===i.responseURL.indexOf("file:")))){var n,o,a,s,c,u=function(e){try{return JSON.parse(e)}catch(e){return{}}}(i.responseText);var l=(n=u).message&&"object"==typeof n.message?n:null;if(i.status<200||i.status>=300||!l){;o=i,a=r,s=e,c=(c=(u||{}).message||"")?", reason is: ".concat(c):"",a(new E("Request failed with status code "+o.status+c,s,null,o,{data:{}},!0)),i=null;return}t({data:l,status:i.status,statusText:i.statusText,request:i}),i=null}},i.onerror=function(){r(new E("Network Error",e,null,i,{data:{}},!0)),i=null},i.timeout=n,i.ontimeout=function(){r(new E("timeout of "+n+"ms exceeded",e,"ECONNABORTED",i,{data:{}},!0)),i=null},i.send()})}var S=function(e){function t(t){var n=this;return!t.store&&(t.store=b),!t.request&&(t.request=w),n=e.call(this,t)||this}return a(t,e),t}(y),O=function(){return(O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function T(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(arguments[t]));return e}var k,I,A=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var n=this;e&&t&&"function"==typeof t&&this.on(e,function r(i){t(i),n.off(e,r)})},e.prototype.off=function(e,t){if(e&&this._hooks[e]&&this._hooks[e].length){if(t){var n=this._hooks[e].indexOf(t);-1!==n&&this._hooks[e].splice(n,1)}else this._hooks[e]=[]}},e.prototype.emit=function(e,t,n){n?!!e&&(-1!==this._cache.indexOf(n)?this._emit(e,t):(this._hooksCache.hasOwnProperty(n)||(this._hooksCache[n]={}),this._hooksCache[n].hasOwnProperty(e)||(this._hooksCache[n][e]=[]),this._hooksCache[n][e].push(t))):this._emit(e,t)},e.prototype._emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&T(this._hooks[e]).forEach(function(e){try{e(t)}catch(e){}})},e.prototype.set=function(e){e&&-1===this._cache.indexOf(e)&&this._cache.push(e)},e}(),R=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},C=(I=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return I+=1}),L=function(e){return function(e,t,n){if("string"==typeof e&&"number"==typeof n){var r,i=[],o=String.fromCharCode((n=n<=25?n:n%25)+97);r=e.split(o);for(var a=0;a<r.length;a++){var s=parseInt(r[a],n),c=String.fromCharCode(s=1*s^t);i.push(c)}return i.join("")}}(e,64,25)},P=function(e,t){void 0===e&&(e=function(){}),void 0===t&&(t=1e3);var n,r=Date.now()+t;return n=window.setTimeout(function i(){var o=Date.now()-r;e(),r+=t,n=window.setTimeout(i,Math.max(0,t-o))},t),function(){window.clearTimeout(n)}},D=function(e){var t=document.createElement("a");return t.href=e,t},x=function(e){var t={};try{var n=D(e).search;(n=n.slice(1)).split("&").forEach(function(e){var n,r,i=e.split("=");i.length&&(n=i[0],r=i[1]);try{t[n]=decodeURIComponent(void 0===r?"":r)}catch(e){t[n]=r}})}catch(e){}return t},M=function(e){for(var t=0,n=0,r=(e+="").length,i=0;i<r;i++)((t=31*t+e.charCodeAt(n++))>0x7fffffffffff||t<-0x800000000000)&&(t&=0xffffffffffff);return t<0&&(t+=0x7ffffffffffff),t};var j,N,B,G,U=(j=G={exports:{}},N=G.exports,B=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(i[u]=c,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})},j.exports=B(),G.exports),z=function(e,t){try{return U.get(e,{domain:t||document.domain})}catch(e){return""}},q=function(e,t,n,r){try{var i=r||document.domain,o=+new Date+(n||6048e5);U.set(e,t,{expires:new Date(o),path:"/",domain:i})}catch(e){}},W=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e,t){return z(e,t)},e.prototype.setCookie=function(e,t,n,r){q(e,t,n,r)},e}(),F,K,V={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return z(e,t)},setCookie:function(e,t,n,r){q(e,t,n,r)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},H={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return z(e,t)},setCookie:function(e,t,n,r){q(e,t,n,r)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},J=function(){function e(e,t){this._storage=t&&"session"===t?H:!e&&V.isSupportLS?V:new W}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,n,r){this._storage.setCookie(e,t,n,r)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),Y=function(){function e(e,t,n){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=n}return e.prototype.init=function(){var e=window.navigator.userAgent,t=window.navigator.language,n=document.referrer,r=n?D(n).hostname:"",i=x(window.location.href),o=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web";this.utm=function(e,t,n,r){var i=new J(!1),o=new J(!1,"session"),a=e?"_tea_utm_cache_"+e:"_tea_utm_cache",s=e?"_$utm_from_url_"+e:"_$utm_from_url",c={},u=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],l={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var f=!1;for(var d in l)l[d]&&(-1!==u.indexOf(d)?(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data[d]=l[d]):c[d]=l[d],f=!0);if(f)o.setItem(s,"1"),i.setCookie(a,JSON.stringify(c),r,n);else{var p=i.getCookie(a,n);p&&(c=JSON.parse(p))}o.getItem(s)&&(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data.$utm_from_url=1)}catch(e){return l}return c}(this.appid,i,this.domain,this.cookie_expire);var a=this.browser(),s=this.os();return{browser:a.browser,browser_version:a.browser_version,platform:o,os_name:s.os_name,os_version:s.os_version,userAgent:e,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(s.os_name),language:t,referrer:n,referrer_host:r,utm:this.utm,latest_data:this.last(n,r)}},e.prototype.last=function(e,t){var n="",r="",i="",o=location.hostname,a=!1;if(e&&t&&o!==t){n=e,r=t,a=!0;var s=x(e);s.keyword&&(i=s.keyword)}return{$latest_referrer:n,$latest_referrer_host:r,$latest_search_keyword:i,isLast:a}},e.prototype.browser=function(){var e,t,n="",r=""+parseFloat(this.appVersion),i=this.userAgent;return -1!==i.indexOf("Edge")||-1!==i.indexOf("Edg")?(n="Microsoft Edge",-1!==i.indexOf("Edge")?(e=i.indexOf("Edge"),r=i.substring(e+5)):(e=i.indexOf("Edg"),r=i.substring(e+4))):-1!==(e=i.indexOf("MSIE"))?(n="Microsoft Internet Explorer",r=i.substring(e+5)):-1!==(e=i.indexOf("Lark"))?(n="Lark",r=i.substring(e+5,e+11)):-1!==i.indexOf("Chrome")?-1!==(e=i.indexOf("TTWebView"))?(n="TTWebView",r=i.substring(e+10,e+23)):-1!==(e=i.indexOf("Chrome"))?(n="Chrome",r=i.substring(e+7)):-1!==(e=i.indexOf("Chrome"))&&(n="Chrome",r=i.substring(e+7)):-1!==i.indexOf("Safari")?-1!==(e=i.indexOf("Safari"))&&(n="Safari",r=i.substring(e+7),-1!==(e=i.indexOf("Version"))&&(r=i.substring(e+8))):-1!==(e=i.indexOf("Firefox"))&&(n="Firefox",r=i.substring(e+8)),-1!==(t=r.indexOf(";"))&&(r=r.substring(0,t)),-1!==(t=r.indexOf(" "))&&(r=r.substring(0,t)),-1!==(t=r.indexOf(")"))&&(r=r.substring(0,t)),{browser:n,browser_version:r}},e.prototype.os=function(){for(var e,t,n="",r="",i=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],o=0;o<i.length;o++){var a=i[o];if(a.r.test(this.userAgent)){"Mac OS X"===(n=a.s)&&this.isNewIpad()&&(n="iOS");break}}var s=function(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""},c=function(e,t){var n=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t);return n?n.slice(1)[0]:""};switch(/Windows/.test(n)&&(r=s(/Windows (.*)/,n),n="windows"),n){case"Mac OS X":r=c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),n="mac";break;case"Android":(t=s(/Android ([\.\_\d]+)/,e=this.userAgent))||(t=s(/Android\/([\.\_\d]+)/,e)),r=t,n="android";break;case"iOS":r=this.isNewIpad()?c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(r=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?r[1]+"."+r[2]+"."+(0|r[3]):"",n="ios"}return{os_name:n,os_version:r}},e.prototype.getDeviceModel=function(e){var t="";try{if("android"===e)navigator.userAgent.split(";").forEach(function(e){e.indexOf("Build/")>-1&&(t=e.slice(0,e.indexOf("Build/")))});else if("ios"===e||"mac"===e||"windows"===e){if(this.isNewIpad())t="iPad";else{var n=navigator.userAgent.replace("Mozilla/5.0 (",""),r=n.indexOf(";");t=n.slice(0,r)}}}catch(e){}return t.trim()},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1},e}(),X={sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},$={va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},Q={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z21z1ez4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z49z23z21z1cz18z21z22z4ez18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k"},Z={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az23z21z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az23z21z4az22z1gz1iz22z1mz1iz4az1az1mz1k"},ee="5.0.39_oversea",et=function(){function e(e,t){this.collector=e,this.config=t,this.eventNameWhiteList=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure"],this.paramsNameWhiteList=["$inactive","$inline","$target_uuid_list","$source_uuid","$is_spider","$source_id","$is_first_time","_staging_flag"],this.regStr=RegExp("^[a-zA-Z0-9][a-z0-9A-Z_.-]{1,255}$")}return e.prototype.checkVerify=function(e){var t=this;if(!e||!e.length)return!1;var n=e[0];if(!n)return!1;var r=n.events,i=n.header;if(!r||!r.length)return!1;var o=!0;return r.forEach(function(e){if(!e)return o=!1,void(e.checkEvent="\u4E8B\u4EF6\u5F02\u5E38");t.checkEventName(e.event)||(o=!1,e.checkEvent="\u4E8B\u4EF6\u540D\u4E0D\u80FD\u4EE5 $ or __\u5F00\u5934"),t.checkEventParams(e.params)||(o=!1,e.checkParams="\u5C5E\u6027\u540D\u4E0D\u80FD\u4EE5 $ or __\u5F00\u5934")}),this.checkEventParams(i)||(o=!1),o},e.prototype.checkEventName=function(e){return!!e&&this.calculate(e,"event")},e.prototype.checkEventParams=function(e){var t=e;if("string"==typeof e&&(t=JSON.parse(t)),!Object.keys(t).length)return!0;for(var n in t)return!!this.calculate(n,"params")&&(!("string"==typeof t[n]&&t[n].length>1024)||(console.warn("params: "+n+" can not over 1024 byte, please check;"),!1));return!0},e.prototype.calculate=function(e,t){return -1!==("event"===t?this.eventNameWhiteList:this.paramsNameWhiteList).indexOf(e)||!RegExp("^\\$").test(e)&&!RegExp("^__").test(e)||(console.warn(("event"===t?"event":"params")+" name: "+e+" can not start with $ or __, pleace check;"),!1)},e}();(r=F||(F={})).Init="init",r.Config="config",r.Start="start",r.Ready="ready",r.TokenComplete="token-complete",r.TokenStorage="token-storage",r.TokenFetch="token-fetch",r.TokenError="token-error",r.ConfigUuid="config-uuid",r.ConfigWebId="config-webid",r.ConfigDomain="config-domain",r.CustomWebId="custom-webid",r.TokenChange="token-change",r.TokenReset="token-reset",r.ConfigTransform="config-transform",r.EnvTransform="env-transform",r.SessionReset="session-reset",r.SessionResetTime="session-reset-time",r.Event="event",r.Events="events",r.EventNow="event-now",r.CleanEvents="clean-events",r.BeconEvent="becon-event",r.SubmitBefore="submit-before",r.SubmitScuess="submit-scuess",r.SubmitAfter="submit-after",r.SubmitError="submit-error",r.SubmitVerify="submit-verify",r.Stay="stay",r.ResetStay="reset-stay",r.StayReady="stay-ready",r.SetStay="set-stay",r.RouteChange="route-change",r.RouteReady="route-ready",r.Ab="ab",r.AbVar="ab-var",r.AbAllVars="ab-all-vars",r.AbConfig="ab-config",r.AbExternalVersion="ab-external-version",r.AbVersionChangeOn="ab-version-change-on",r.AbVersionChangeOff="ab-version-change-off",r.AbOpenLayer="ab-open-layer",r.AbCloseLayer="ab-close-layer",r.AbReady="ab-ready",r.AbComplete="ab-complete",r.AbTimeout="ab-timeout",r.Profile="profile",r.ProfileSet="profile-set",r.ProfileSetOnce="profile-set-once",r.ProfileUnset="profile-unset",r.ProfileIncrement="profile-increment",r.ProfileAppend="profile-append",r.ProfileClear="profile-clear",r.Autotrack="autotrack",r.AutotrackReady="autotrack-ready",r.CepReady="cep-ready",r.TracerReady="tracer-ready",r.sessionRecord="session-record",r.SessionRecordStart="session-record-start",r.SessionRecordPause="session-record-pause",r.SessionRecordEnd="session-record-end",r.SessionRecordReport="session-record-report",(i=K||(K={})).DEBUGGER_MESSAGE="debugger-message",i.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",i.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",i.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",i.DEBUGGER_MESSAGE_EVENT="debugger-message-event",i.DEVTOOL_WEB_READY="devtool-web-ready";var en=F,er=void 0,ei=(new Date).getTimezoneOffset(),eo=parseInt(""+-ei/60,10),ea=60*ei,es=function(){function e(e,t){this.is_first_time=!0,this.configPersist=!1,this.initConfig=t,this.collect=e;var n=new Y(t.app_id,t.cookie_domain||"",t.cookie_expire||6048e5).init();this.eventCheck=new et(e,t);var r="__tea_cache_first_"+t.app_id;this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new J(!1,"session"),this.localStorage=new J(!1,"local"),this.channelUrl="tcpy"===t.channel_type||"ttp"===t.channel_type?{WEBID_URL:"/v1/user/webid",TOB_URL:"",REPORT_URL:"/v1/list"}:{WEBID_URL:"/webid",TOB_URL:"/tobid",REPORT_URL:"/list"},t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage);var i=this.localStorage.getItem(r);i&&1==i?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(r,"1")),this.envInfo={user:{user_unique_id:er,user_type:er,user_id:er,user_is_auth:er,user_is_login:er,device_id:er,web_id:er,ip_addr_id:er,user_unique_id_type:er},header:{app_id:er,app_name:er,app_install_id:er,install_id:er,app_package:er,app_channel:er,app_version:er,ab_version:er,os_name:n.os_name,os_version:n.os_version,device_model:n.device_model,ab_client:er,traffic_type:er,client_ip:er,device_brand:er,os_api:er,access:er,language:n.language,region:er,app_language:er,app_region:er,creative_id:n.utm.creative_id,ad_id:n.utm.ad_id,campaign_id:n.utm.campaign_id,log_type:er,rnd:er,platform:n.platform,sdk_version:ee,sdk_lib:"js",province:er,city:er,timezone:eo,tz_offset:ea,tz_name:er,sim_region:er,carrier:er,resolution:n.screen_width+"x"+n.screen_height,browser:n.browser,browser_version:n.browser_version,referrer:n.referrer,referrer_host:n.referrer_host,width:n.screen_width,height:n.screen_height,screen_width:n.screen_width,screen_height:n.screen_height,utm_term:n.utm.utm_term,utm_content:n.utm.utm_content,utm_source:n.utm.utm_source,utm_medium:n.utm.utm_medium,utm_campaign:n.utm.utm_campaign,tracer_data:JSON.stringify(n.utm.tracer_data),custom:{},wechat_unionid:er,wechat_openid:er}},this.ab_version="",this.ab_uuid_cache={},this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(n),this.initDomain(),this.initABData()}return e.prototype.initDomain=function(e){var t=this.initConfig.channel_domain;if(t)this.domain=t;else{var n=e||this.initConfig.channel,r=this.initConfig&&this.initConfig.channel_type?"tcpy"===this.initConfig.channel_type?Q[n]:Z[n]:X[n];this.domain=L(r)}},e.prototype.setDomain=function(e){this.customDomain=!0,this.domain=e},e.prototype.getDomain=function(e){return this.customDomain||e&&this.initDomain(e),this.domain},e.prototype.initABData=function(){var e="__tea_sdk_ab_version_"+this.initConfig.app_id,t=null;if(this.initConfig.ab_cross){var n=this.localStorage.getCookie(e,this.initConfig.ab_cookie_domain);t=n?JSON.parse(n):null}else t=this.localStorage.getItem(e);this.setAbCache(t)},e.prototype.setAbCache=function(e){this.ab_cache=e},e.prototype.getAbCache=function(){return this.ab_cache},e.prototype.clearAbCache=function(){this.ab_cache={},this.ab_version=""},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.setAbUuidCache=function(e,t){var n=t||this.envInfo.user.user_unique_id;this.ab_uuid_cache[""+n]||(this.ab_uuid_cache[""+n]=[]),-1===this.ab_uuid_cache[""+n].indexOf(e)&&this.ab_uuid_cache[""+n].push(e)},e.prototype.getAbUuidCache=function(e){return this.ab_uuid_cache[""+e]},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t=this.initConfig.report_url||this.channelUrl.REPORT_URL;break;case"webid":t=this.channelUrl.WEBID_URL;break;case"tobid":t=this.channelUrl.TOB_URL}var n="";return this.initConfig.caller&&(n="?sdk_version="+ee+"&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+t+n},e.prototype.setCustom=function(e){if(e&&e.latest_data&&e.latest_data.isLast)for(var t in delete e.latest_data.isLast,this.isLast=!0,e.latest_data)this.envInfo.header.custom[t]=e.latest_data[t]},e.prototype.setAppid=function(e){this.envInfo.header.app_id=e},e.prototype.set=function(e){var t=this;Object.keys(e).forEach(function(n){void 0!==e[n]&&null!==e[n]||t.delete(n);try{t.eventCheck.calculate(n,"config")}catch(e){}if("traffic_type"===n&&t.isLast&&(t.envInfo.header.custom.$latest_traffic_source_type=e[n]),"evtParams"===n)t.evtParams=O({},t.evtParams||{},e.evtParams||{});else if("_staging_flag"===n)t.evtParams=O({},t.evtParams||{},{_staging_flag:e._staging_flag});else if("reportErrorCallback"===n&&"function"==typeof e[n])t.reportErrorCallback=e[n];else{var r="",i="";if(n.indexOf(".")>-1){var o=n.split(".");r=o[0],i=o[1]}r?"user"===r||"header"===r?t.envInfo[r][i]=e[n]:t.envInfo.header.custom[i]=e[n]:Object.hasOwnProperty.call(t.envInfo.user,n)?["user_type","ip_addr_id"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?Number(e[n]):e[n]:["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?String(e[n]):e[n]:["user_is_auth","user_is_login"].indexOf(n)>-1?t.envInfo.user[n]=!!e[n]:"device_id"===n&&(t.envInfo.user[n]=e[n]):Object.hasOwnProperty.call(t.envInfo.header,n)?t.envInfo.header[n]=e[n]:t.envInfo.header.custom[n]=e[n]}})},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:Object.hasOwnProperty.call(this.envInfo.user,e)?this.envInfo.user[e]:Object.hasOwnProperty.call(this.envInfo.header,e)?this.envInfo.header[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){console.log("get config stringify error "),this.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.setStore=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};if(t&&Object.keys(e).length){var n=Object.assign(e,t);this.storage.setItem(this.configKey,n)}}catch(e){console.log("setStore error"),this.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.getStore=function(){try{if(!this.configPersist)return null;var e=this.storage.getItem(this.configKey)||{};return e&&Object.keys(e).length?e:null}catch(e){return this.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),null}},e.prototype.delete=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};t&&Object.hasOwnProperty.call(t,e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){this.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),console.log("delete error")}},e}(),ec=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog&&console.log("%c %s","color: yellow; background-color: black;","[instance: "+this.name+"] "+e)},e.prototype.warn=function(e){this.isLog&&console.warn("[instance: "+this.name+"] "+e)},e.prototype.error=function(e){this.isLog&&console.error("[instance: "+this.name+"] "+e)},e.prototype.throw=function(e){throw this.error(this.name),Error(e)},e}(),eu=function(){function e(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Sogou News Spider","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return e.prototype.checkSpider=function(e){if(!e.enable_spider)return!1;var t=window.navigator.userAgent;if(!t)return!0;var n=!1;return this.spiderBot.forEach(function(e){-1!==t.indexOf(e)&&(n=!0)}),n},e}(),el=function(){function e(e,t){this.collect=e,this.native=t}var t=e.prototype;return t.bridgeInject=function(){try{return!!this.native&&(AppLogBridge?(console.log("AppLogBridge is injected"),!0):(console.log("AppLogBridge is not inject"),!1))}catch(e){return console.log("AppLogBridge is not inject"),!1}},t.bridgeReady=function(){var e=this;return new Promise(function(t,n){try{e.bridgeInject()?AppLogBridge.hasStarted(function(e){console.log("AppLogBridge is started? : "+e),e?t(!0):n(!1)}):n(!1)}catch(e){console.log("AppLogBridge, error:"+JSON.stringify(e.stack)),n(!1)}})},t.setNativeAppId=function(e){try{AppLogBridge.setNativeAppId(JSON.stringify(e)),console.log("change bridge appid, event report with appid: "+e)}catch(e){console.error("setNativeAppId error")}},t.setConfig=function(e){var t=this;try{Object.keys(e).forEach(function(n){"user_unique_id"===n?t.setUserUniqueId(e[n]):e[n]?t.addHeaderInfo(n,e[n]):t.removeHeaderInfo(n)})}catch(e){console.error("setConfig error")}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){console.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){console.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){console.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){console.error("removeHeaderInfo error")}},t.reportPv=function(e){this.onEventV3("predefine_pageview",e)},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge\u57CB\u70B9\u4E0A\u62A5",time:Date.now(),data:[{events:[{event:e,params:t}]}],code:200,status:"success"})}catch(e){console.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){console.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){console.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){console.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){console.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){console.error("profileAppend error")}},e}(),ef={XHR_ON:500,TIMEOUT:5005};function ed(e,t,n,r,i,o,a,s,c){try{var u=new XMLHttpRequest;u.open(s||"POST",""+e,!0),u.setRequestHeader("Content-Type","application/json; charset=utf-8"),a&&u.setRequestHeader("X-MCS-AppKey",""+a),r&&(u.withCredentials=!0),u.onload=function(){if(i){var e=null;if(u.responseText){try{e=JSON.parse(u.responseText)}catch(t){e={}}i(e,t)}}},n&&(u.timeout=n,u.ontimeout=function(){o&&o(t,ef.TIMEOUT)}),u.onerror=function(){u.abort(),o&&o(t,ef.XHR_ON)},c?u.send(t):u.send(JSON.stringify(t))}catch(e){}}var ep=function(e,t,n,r){try{var i=e.match(/\/v\d\//),o="";o=i?i[0]:-1!==e.indexOf("/v1/")?"/v1/":"/v2/";var a=e.split(o)[0];if(!a)return void r(e,t,4001);t.forEach(function(i){var o=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t+="&"+n+"="+encodeURIComponent(JSON.stringify(e[n])));return t="&"===t[0]?t.slice(1):t}(i),s=new Image(1,1);s.onload=function(){s=null,n&&n()},s.onerror=function(){s=null,r&&r(e,t,4e3)},s.src=a+"/gif?"+o})}catch(n){r&&r(e,t,4002,n.message)}},eh=function(e,t,n,r,i,o,a,s){var c=window.navigator.userAgent;if(-1===window.navigator.appName.indexOf("Microsoft Internet Explorer")||-1===c.indexOf("MSIE 8.0")&&-1===c.indexOf("MSIE 9.0")){if(a)return window.navigator&&window.navigator.sendBeacon?void(window.navigator.sendBeacon(e,JSON.stringify(t))?i():o(e,t,4003)):void ep(e,t,i,o)}else ep(e,t,i,o);ed(e,t,n,r,i,o,"","",s)},ev=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.eventCheck=new et(e,t),this.cacheStorgae=new J(!0),this.localStorage=new J(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.collect.on(en.Ready,function(){n.reportAll(!1)}),this.collect.on(en.ConfigDomain,function(){n.reportUrl=n.configManager.getUrl("event")}),this.collect.on(en.Event,function(e){n.event(e)}),this.collect.on(en.BeconEvent,function(e){n.beconEvent(e)}),this.collect.on(en.CleanEvents,function(){n.reportAll(!1)}),this.linster()},e.prototype.linster=function(){var e,t=this;window.addEventListener("unload",function(){t.reportAll(!0)},!1),e=function(){t.reportAll(!0)},navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&t.reportAll(!0)},!1)},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;try{var n=T(e,this.cacheStorgae.getItem(this.eventKey)||[]);if(this.cacheStorgae.setItem(this.eventKey,n),this.reportTimeout&&clearTimeout(this.reportTimeout),n.length>=this.maxReport)this.report(!1);else{var r=this.reportTime;this.reportTimeout=setTimeout(function(){t.report(!1),t.reportTimeout=null},r)}}catch(e){this.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e){var t=T(e,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,t),this.collect.destroyInstance||this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(t)),!0))},e.prototype.reportBecon=function(){if(!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var e=this.cacheStorgae.getItem(this.beconKey)||[];e&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))}},e.prototype.report=function(e){if(!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var t=this.cacheStorgae.getItem(this.eventKey)||[];t.length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(t,e))}},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var n=0;n<e.length;n+=this.eventLimit){r=e.slice(n,n+this.eventLimit);var r,i=this.split(this.merge(r));this.send(i,t)}else i=this.split(this.merge(e)),this.send(i,t)},e.prototype.handleRefer=function(){var e="";try{if(this.config.spa||this.config.autotrack){var t=this.localStorage.getItem(this.refer_key)||{};e=t.routeChange?t.refer_key:this.configManager.get("referrer")}else e=this.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.merge=function(e,t){var n=this,r=this.configManager.get(),i=r.header,o=r.user;i.custom=JSON.stringify(i.custom),i.referrer=this.handleRefer();var a=this.configManager.get("evtParams"),s=this.configManager.get("user_unique_id_type"),c=JSON.parse(JSON.stringify({events:e.map(function(e){try{Object.keys(a).length&&!t&&(e.params=O({},a,e.params)),s&&(e.params.$user_unique_id_type=s);var r=n.configManager.getAbCache(),i=n.configManager.getAbUuidCache(o.user_unique_id);if(r&&r.uuid&&r.uuid===o.user_unique_id){var c=n.configManager.getAbVersion();if(n.config.enable_ab_uuid){if(i&&i.length){var u=i.join(",");c&&c.includes(u)&&(e.ab_sdk_version=c)}}else c&&(e.ab_sdk_version=c)}return e.session_id=n.collect.sessionManager.getSessionId(),e.params=JSON.stringify(e.params),e}catch(t){return n.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:t.message}),e}}),user:o,header:i}));c.local_time=Math.floor(Date.now()/1e3),c.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,c.verbose=1;var u=[];return u.push(c),u},e.prototype.split=function(e){return e=e.map(function(e){var t=[];return t.push(e),t})},e.prototype.send=function(e,t){var n=this;e.length&&(this.config.disable_track_event||e.forEach(function(e){try{var r=JSON.parse(JSON.stringify(e));n.config.filter&&((r=n.config.filter(r))||console.warn("filter must return data !!")),n.collect.eventFilter&&r&&((r=n.collect.eventFilter(r))||console.warn("filterEvent api must return data !!"));var i=r||e,o=JSON.parse(JSON.stringify(i));if(n.eventCheck.checkVerify(o),!i.length)return;n.collect.emit(en.SubmitBefore,i),n.collect.emit(en.SubmitVerify,i),eh(n.reportUrl,i,n.timeout,n.enable_ttwebid,function(e,t){e&&0!==e.e?(n.collect.emit(en.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}),n.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_EVENT,info:"\u57CB\u70B9\u4E0A\u62A5\u5931\u8D25",time:Date.now(),data:o,code:e.e,failType:"\u6570\u636E\u5F02\u5E38",status:"fail"})):(n.collect.emit(en.SubmitScuess,{eventData:t,res:e}),n.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_EVENT,info:"\u57CB\u70B9\u4E0A\u62A5\u6210\u529F",time:Date.now(),data:o,code:200,status:"success"}))},function(e,t){n.configManager.get("reportErrorCallback")(e,t),n.collect.emit(en.SubmitError,{type:"f_net",eventData:e,errorCode:t}),n.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_EVENT,info:"\u57CB\u70B9\u4E0A\u62A5\u7F51\u7EDC\u5F02\u5E38",time:Date.now(),data:o,code:t,failType:"\u7F51\u7EDC\u5F02\u5E38",status:"fail"})},t,!1),n.collect.emit(en.SubmitAfter,i)}catch(e){console.warn("something error, "+JSON.stringify(e.stack)),n.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}}))},e}(),eg=function(){return(function e(t){return t?(t^16*Math.random()>>t/4).toString(10):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e)})().replace(/-/g,"").slice(0,19)},e_=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new J(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(en.ConfigUuid,function(e){n.setUuid(e)}),this.collect.on(en.ConfigWebId,function(e){n.setWebId(e)}),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e=this;if(this.enableCookie){var t=this.storage.getCookie(this.tokenKey,this.cookieDomain);this.cacheToken=t&&"string"==typeof t?JSON.parse(t):{}}else this.cacheToken=this.storage.getItem(this.tokenKey)||{};this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(en.CustomWebId,function(){e.tokenReady=!0,e.collect.emit(en.TokenComplete)}):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:eg(),user_unique_id:this.configManager.get("user_unique_id")||eg()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e=window.navigator.userAgent;if(-1!==e.indexOf("miniProgram")||-1!==e.indexOf("MiniProgram")){var t=x(window.location.href);return!(!t||!t.Web_ID)&&(this.complete({web_id:""+t.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+t.Web_ID}),!0)}return!1},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),n={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"SDK \u53D1\u8D77WEBID\u8BF7\u6C42",logType:"fetch",level:"info",time:Date.now(),data:n});var r=eg();ed(t,n,3e5,!1,function(t){var n;t&&0===t.e?(n=t.web_id,e.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8BF7\u6C42\u6210\u529F",logType:"fetch",level:"info",time:Date.now(),data:t})):(n=r,e.collect.configManager.set({localWebId:r}),e.collect.emit(en.TokenError),e.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8BF7\u6C42\u8FD4\u56DE\u503C\u5F02\u5E38",logType:"fetch",level:"warn",time:Date.now(),data:t}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")),e.complete({web_id:e.configManager.get("web_id")||n,user_unique_id:e.configManager.get("user_unique_id")||n})},function(){e.complete({web_id:e.configManager.get("web_id")||r,user_unique_id:e.configManager.get("user_unique_id")||r}),e.collect.configManager.set({localWebId:r}),e.collect.emit(en.TokenError),e.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8BF7\u6C42\u7F51\u7EDC\u5F02\u5E38",logType:"fetch",level:"error",time:Date.now(),data:null}),e.collect.logger.warn("appid: "+e.config.app_id+", get webid error, use local webid~")})},e.prototype.complete=function(e){var t=e.web_id,n=e.user_unique_id;e.timestamp=Date.now(),this.collect.configManager.set({web_id:t,user_unique_id:n}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(en.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",n=this.configManager.get("user_unique_id");(n||t)&&this.configManager.set({user_unique_id:n||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(en.TokenComplete)},e.prototype.setUuid=function(e){if(e&&-1===["null","undefined","Null","None"].indexOf(e)){var t=String(e),n=this.configManager.get("user_unique_id"),r=this.cacheToken&&this.cacheToken.user_unique_id;(t!==n||t!==r)&&(this.configManager.set({user_unique_id:t}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=t,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(en.TokenChange,"uuid"),this.collect.emit(en.SessionReset))}else this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(en.TokenReset))},e.prototype.setWebId=function(e){if(e&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=Date.now();var t=this.configManager.get("web_id"),n=this.configManager.get("user_unique_id");n&&n!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(en.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(en.TokenChange,"webid")),this.setStorage(this.cacheToken)}},e.prototype.setStorage=function(e){e._type_=this.enableCustomWebid?"custom":"default",delete e["diss".split("").reverse().join("")],this.enableCookie||this.enable_ttwebid?(this.storage.setCookie(this.tokenKey,e,this.expiresTime,this.cookieDomain),this.enable_ttwebid&&(delete e.web_id,this.storage.setItem(this.tokenKey,e))):this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this,t=this.configManager.getUrl("tobid");return new Promise(function(n){ed(t,{app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id"),user_unique_id_type:e.configManager.get("user_unique_id_type")},3e4,e.enable_ttwebid,function(e){e&&0===e.e?n(e.tobid):n("")},function(){n("")})})},e}(),em=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},ey=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.storage=new J(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSession||(this.setSessionId(),this.collect.on(en.SessionReset,function(){n.resetSessionId()}),this.collect.on(en.SessionResetTime,function(){n.updateSessionIdTime()}))},e.prototype.updateSessionIdTime=function(){var e=this.storage.getItem(this.sessionKey);if(e&&e.sessionId){var t=e.timestamp;Date.now()-t>this.expireTime?e={sessionId:em(),timestamp:Date.now()}:e.timestamp=Date.now(),this.storage.setItem(this.sessionKey,e),this.resetExpTime()}},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:em(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.sessionExp=setInterval(function(){e.checkEXp()},this.expireTime)},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return this.disableSession?"":e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval(function(){e.checkEXp()},this.expireTime))},e.prototype.resetSessionId=function(){var e={sessionId:em(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,e)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:em(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),eb=function(){function e(e,t){this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,this.collect=e,this.config=t,this.app_id=t.app_id,this.filterEvent=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"],t.enable_debug&&this.load()}return e.prototype.loadScript=function(e){try{var t=document.createElement("script");t.src=e,t.onerror=function(){console.log("load DevTool render fail")},t.onload=function(){console.log("load DevTool render success")},document.getElementsByTagName("body")[0].appendChild(t)}catch(e){console.log("devTool load fail, "+e.message)}},e.prototype.load=function(){try{this.loadBaseInfo(),this.loadHook();var e=x(window.location.href);if(!e.open_devtool_web||parseInt(e.app_id)!==this.app_id)return;this.addLintener(),this.loadDebuggerModule(),this.loadDevTool()}catch(e){console.log("debug fail, "+e.message)}},e.prototype.loadDevTool=function(){this.loadScript("https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/devtool/debug-web.js")},e.prototype.loadBaseInfo=function(){var e=this;this.info=[{title:"\u57FA\u672C\u4FE1\u606F",type:1,infoName:{app_id:this.config.app_id,channel:this.config.channel,\u4E0A\u62A5\u57DF\u540D:this.collect.configManager.getDomain(),SDK\u7248\u672C:ee,SDK\u5F15\u5165\u65B9\u5F0F:"npm"}},{title:"\u7528\u6237\u4FE1\u606F",type:2,infoName:{uuid:this.collect.configManager.get("user").user_unique_id||"",web_id:this.collect.configManager.get("user").web_id||"",ssid:"\u70B9\u51FB\u83B7\u53D6SSID"}},{title:"\u516C\u5171\u53C2\u6570\u4FE1\u606F",type:2,infoName:{\u6D4F\u89C8\u5668:this.collect.configManager.get("browser"),\u6D4F\u89C8\u5668\u7248\u672C:this.collect.configManager.get("browser_version"),\u5E73\u53F0:this.collect.configManager.get("platform"),\u8BBE\u5907\u578B\u53F7:this.collect.configManager.get("device_model"),\u64CD\u4F5C\u7CFB\u7EDF:this.collect.configManager.get("os_name"),\u64CD\u4F5C\u7CFB\u7EDF\u7248\u672C:this.collect.configManager.get("os_version"),\u5C4F\u5E55\u5206\u8FA8\u7387:this.collect.configManager.get("os_version"),\u6765\u6E90:this.collect.configManager.get("referrer"),\u81EA\u5B9A\u4E49\u4FE1\u606F:""}},{title:"\u914D\u7F6E\u4FE1\u606F",type:3,infoName:{\u5168\u57CB\u70B9:!!this.config.autotrack,\u505C\u7559\u65F6\u957F:!!this.config.enable_stay_duration}},{title:"A/B\u914D\u7F6E\u4FE1\u606F",type:4,infoName:{"A/B\u5B9E\u9A8C":!!this.config.enable_ab_test}},{title:"\u5BA2\u6237\u7AEF\u4FE1\u606F",type:3,infoName:{\u6253\u901A\u5F00\u5173:!!this.config.Native}}],this.log=[],this.event=[],this.collect.on(en.Ready,function(){e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id,e.info[2].infoName["\u81EA\u5B9A\u4E49\u4FE1\u606F"]=JSON.stringify(e.collect.configManager.get("custom")),e.config.enable_ab_test&&(e.info[4].infoName["\u5DF2\u66DD\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["A/B\u57DF\u540D"]=e.config.ab_channel_domain||L($[e.config.channel]),e.info[4].infoName["\u5168\u90E8\u914D\u7F6E"]=e.collect.configManager.getAbData()),e.config.Native&&(e.info[5].infoName["\u662F\u5426\u6253\u901A"]=!!e.collect.bridgeReport)})},e.prototype.loadHook=function(){var e=this;this.collect.on(K.DEBUGGER_MESSAGE,function(t){switch(t.type){case K.DEBUGGER_MESSAGE_SDK:var n={time:t.time,type:t.logType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};return t.data&&(n.desc={content:JSON.stringify(t.data)}),e.updateLog(n),t.secType&&"AB"===t.secType?(e.info[4].infoName["\u5DF2\u66DD\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["\u5168\u90E8\u914D\u7F6E"]=e.collect.configManager.getAbData()):"USER"===t.secType&&(e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id),void e.updateInfo();case K.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var r=t.data[0],i=r.events;if(!i.length)return;i.forEach(function(n){n.checkShow=!0,n.searchShow=!0,n.success=t.status,n.type=-1!==e.filterEvent.indexOf(n.event)?"sdk":"cus",n.type=e.collect.bridgeReport?"bridge":n.type,n.info="","fail"===t.status&&(n.info={message:"code: "+t.code+"\uFF0C msg: "+t.failType})}),e.updateEvent(r)}return}})},e.prototype.addLintener=function(){var e=this;window.addEventListener("message",function(t){if(t.origin===location.origin){if(t&&t.data&&"devtool:web:ready"===t.data.type){if(e.devToolOrigin=t.origin,e.devToolReady=!0,e.sendAlready)return;console.log("inittttt"),e.sendData("devtool:web:init",{info:e.info,log:e.log,event:e.event}),e.sendAlready=!0}t&&t.data&&"devtool:web:ssid"===t.data.type&&e.collect.getToken(function(t){e.info[1].infoName.ssid=t.tobid,e.updateInfo()})}})},e.prototype.sendData=function(e,t){try{(window.opener||window.parent).postMessage({type:e,payload:t},this.devToolOrigin)}catch(e){}},e.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},e.prototype.updateLog=function(e){this.devToolReady?this.sendData("devtool:web:log",e):this.log.push(e)},e.prototype.updateEvent=function(e){this.devToolReady?this.sendData("devtool:web:event",e):this.event.push(e)},e.prototype.loadDebuggerModule=function(){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.appendChild(document.createTextNode("#debugger-applog-web {\n      position: absolute;\n      width: 90px;\n      height: 30px;\n      background: #23c243;\n      border-radius: 6px;\n      color: #fff;\n      font-size: 12px;\n      bottom: 5%;\n      right: 10%;\n      text-align: center;\n      line-height: 30px;\n      cursor: pointer;\n      z-index:100;\n    }")),e.appendChild(t);var n=document.createElement("div");n.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web">AppLog\u8C03\u8BD5</div>';var r=document.createElement("div");r.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(n),document.getElementsByTagName("body")[0].appendChild(r),document.getElementById("debugger-applog-web").addEventListener("click",function(){(window.opener||window.parent).postMessage({type:"devtool:web:open-draw"},location.origin)})},e}(),eE=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroyInstance=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.name=e,this.hook=new A,this.remotePlugin=new Map,this.Types=en,this.adapters.fetch=ed,this.adapters.storage=J}return e.usePlugin=function(t,n,r){if(n){for(var i=!1,o=0,a=e.plugins.length;o<a;o++)if(e.plugins[o].name===n){e.plugins[o].plugin=t,e.plugins[o].options=r||{},i=!0;break}i||e.plugins.push({name:n,plugin:t,options:r})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,n){e&&("full"===this.loadType&&this.remotePlugin.get(e)?console.info("your sdk version has "+e+" already ~"):t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:n}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},e.prototype.init=function(t){var n,r,i=this;try{n=JSON.parse(JSON.stringify(t))}catch(e){n=t}if(this.logger=new ec(this.name,n.log),this.inited)this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!");else if(n&&R(n)){if(n.app_id&&"number"==typeof(r=n.app_id)&&!isNaN(r)){if(n.app_key&&"string"!=typeof n.app_key)this.logger.warn("app_key param is error, must be string, please check!");else{var o=n.channel_type&&"tcpy"===n.channel_type?["sg","va","in"]:["sg","va"];n.channel_domain||-1!==o.indexOf(n.channel)||(this.logger.warn("channel must "+o.join(" ,")+"!!!"),n.channel="sg"),this.spider=new eu,this.spider.checkSpider(n)?this.logger.warn("The current environment may be a spider, can not report!"):(this.logger=new ec(this.name,n.log),this.appBridge=new el(this,n.enable_native),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new es(this,n),this.debugger=new eb(this,n),this.initConfig=n,this.emit(en.Init),this.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CINIT",data:n,level:"info",time:Date.now()}),n.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.setAppid(n.app_id),this.eventManager=new ev,this.tokenManager=new e_,this.sessionManager=new ey,Promise.all([new Promise(function(e){i.once(en.TokenComplete,function(){e(!0)})}),new Promise(function(e){i.once(en.Start,function(){e(!0)})})]).then(function(){try{e.plugins.reduce(function(e,t){var n=t.plugin,r=t.options,o=Object.assign(i.initConfig,r),a=new n;return a.apply(i,o),e.push(a),e},i.pluginInstances)}catch(e){console.warn("load plugin error, "+e.message),i.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}i.sdkReady=!0,i.emit(en.Ready),i.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"SDK \u521D\u59CB\u5316\u5B8C\u6210",time:Date.now(),level:"info",data:i.configManager.get("user")}),i.logger.info("appid: "+n.app_id+", userInfo:"+JSON.stringify(i.configManager.get("user"))),i.logger.info("appid: "+n.app_id+", sdk is ready, version is "+ee+", you can report now !!!"),n.disable_auto_pv&&(i.disableAutoPageView=!0);try{("full"===i.loadType&&n.enable_ab_test||n.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(e){i.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}i.pageView(),i.on(en.TokenChange,function(e){"webid"===e&&i.pageView(),i.logger.info("appid: "+n.app_id+" token change, new userInfo:"+JSON.stringify(i.configManager.get("user"))),i.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"SDK \u8BBE\u7F6E\u4E86\u7528\u6237\u4FE1\u606F",time:Date.now(),secType:"USER",level:"info",data:i.configManager.get("user")})}),i.on(en.TokenReset,function(){i.logger.info("appid: "+n.app_id+" token reset, new userInfo:"+JSON.stringify(i.configManager.get("user"))),i.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"SDK \u91CD\u7F6E\u4E86\u7528\u6237\u4FE1\u606F",time:Date.now(),secType:"USER",level:"info",data:i.configManager.get("user")})}),i.on(en.RouteChange,function(e){e.init||n.disable_route_report||i.pageView()})}),this.tokenManager.apply(this,n),this.eventManager.apply(this,n),this.sessionManager.apply(this,n)),this.inited=!0)}}else this.logger.warn("app_id param is error, must be number, please check!")}else this.logger.warn("init params error,please check")},e.prototype.config=function(e){if(this.inited){if(e&&R(e)){var t;try{t=JSON.parse(JSON.stringify(t))}catch(n){t=e}if(this.bridgeReport)this.appBridge.setConfig(t);else{t._staging_flag&&1===t._staging_flag&&(this.staging=!0),t.disable_auto_pv&&(this.disableAutoPageView=!0,delete t.disable_auto_pv);var n=O({},t);if(this.initConfig&&this.initConfig.configPersist){var r=this.configManager.getStore();r&&(n=Object.assign(r,t)),this.configManager.setStore(t)}n.web_id,n.user_unique_id;var i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&(n[r[i]]=e[r[i]])}return n}(n,["web_id","user_unique_id"]);n.hasOwnProperty("web_id")&&this.emit(en.ConfigWebId,n.web_id),n.hasOwnProperty("user_unique_id")&&this.emit(en.ConfigUuid,n.user_unique_id),this.configManager.set(i),this.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CCONFIG",level:"info",time:Date.now(),data:n})}}else this.logger.warn("config params is error, please check")}else this.logger.warn("config must be use after function init")},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(en.ConfigDomain)},e.prototype.getConfig=function(e){return this.configManager.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(en.Start),this.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CSTART",level:"info",time:Date.now()}),this.bridgeReport&&(this.pageView(),this.emit(en.Ready)))},e.prototype.event=function(e,t){var n=this;try{var r=[];if(Array.isArray(e))e.forEach(function(e){var t=n.processEvent(e[0],e[1]||{});t&&r.push(t)});else{var i=this.processEvent(e,t);if(!i)return;r.push(i)}this.bridgeReport?r.forEach(function(e){var t=e.event,r=e.params;n.appBridge.onEventV3(t,JSON.stringify(r))}):r.length&&(this.emit(en.Event,r),this.emit(en.SessionResetTime))}catch(e){this.logger.warn("something error, please check"),this.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e,t){if(Array.isArray(e))this.logger.warn("beconEvent not support batch report, please check");else{var n=[],r=this.processEvent(e,t||{});r&&(n.push(r),n.length&&(this.emit(en.BeconEvent,n),this.emit(en.SessionResetTime)))}},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{if(!e)return this.logger.warn("eventName is null\uFF0C please check"),null;var n=e;/^event\./.test(e)&&(n=e.slice(6));var r=t;"object"!=typeof r&&(r={}),r.profile?delete r.profile:r.event_index=C();var i=void 0;return r.local_ms?(i=r.local_ms,delete r.local_ms):i=+new Date,{event:n,params:r,local_time_ms:i,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(n){return this.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:n.message}),{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,n){this.hook.emit(e,t,n)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.predefinePageView=function(e){if(void 0===e&&(e={}),this.inited){var t={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},n=O({},t,e);this.event("predefine_pageview",n)}else this.logger.warn("predefinePageView should call after init")},e.prototype.clearEventCache=function(){this.emit(en.CleanEvents)},e.prototype.setWebIDviaUnionID=function(e){if(e){var t=M(e);this.config({web_id:""+t,wechat_unionid:e}),this.emit(en.CustomWebId)}},e.prototype.setWebId=function(e){this.config({web_id:""+e})},e.prototype.setWebIDviaOpenID=function(e){if(e){var t=M(e);this.config({web_id:""+t,wechat_openid:e}),this.emit(en.CustomWebId)}},e.prototype.setNativeAppId=function(e){this.bridgeReport&&this.appBridge.setNativeAppId(e)},e.prototype.resetStayDuration=function(e,t,n){this.emit(en.ResetStay,{url_path:e,title:t,url:n},en.Stay)},e.prototype.resetStayParams=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.emit(en.SetStay,{url_path:e,title:t,url:n},en.Stay)},e.prototype.getToken=function(e,t){var n=this;if(this.inited){var r=!1,i=function(t){if(!r){r=!0;var i=n.configManager.get().user;return t&&(i.tobid=t,i["diss".split("").reverse().join("")]=t),e(O({},i))}},o=function(){n.tokenManager.getTobId().then(function(e){i(e)})};this.sdkReady?o():(t&&setTimeout(function(){i()},t),this.on(en.Ready,function(){o()}))}else this.logger.warn("predefinePageView should call after init")},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(en.ProfileSet,e,en.Profile),this.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileSet",level:"info",time:Date.now(),data:e})},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(e)):this.emit(en.ProfileSetOnce,e,en.Profile),this.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileSetOnce",level:"info",time:Date.now(),data:e})},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(e)):this.emit(en.ProfileIncrement,e,en.Profile),this.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileIncrement",level:"info",time:Date.now(),data:e})},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(en.ProfileUnset,e,en.Profile),this.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileUnset",level:"info",time:Date.now(),data:e})},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(e)):this.emit(en.ProfileAppend,e,en.Profile),this.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileAppend",level:"info",time:Date.now(),data:e})},e.prototype.setExternalAbVersion=function(e){this.emit(en.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,en.Ab)},e.prototype.getVar=function(e,t,n,r){this.emit(en.AbVar,{name:e,defaultValue:t,callback:n,uuid:r},en.Ab)},e.prototype.getABconfig=function(e,t){this.emit(en.AbConfig,{params:e,callback:t},en.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(en.AbVersionChangeOn,e,en.Ab),function(){t.emit(en.AbVersionChangeOff,e,en.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(en.AbVersionChangeOff,e,en.Ab)},e.prototype.openOverlayer=function(){this.emit(en.AbOpenLayer,"",en.Ab)},e.prototype.closeOverlayer=function(){this.emit(en.AbCloseLayer,"",en.Ab)},e.prototype.getAllVars=function(e){this.emit(en.AbAllVars,e,en.Ab)},e.prototype.autoInitializationRangers=function(e){var t,n,r,i,o,a,s;t=e.app_id,n=e.channel,r=e.onTokenReady,i=X[n]+"/webid",o=new J(!1),a="__tea_cache_tokens_"+t,(s=o.getItem(a))&&s.web_id?r(s.web_id):eh(i,{app_key:"",app_id:t,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer},3e3,!1,function(e){if(e&&0===e.e){r(e.web_id);var t={web_id:e.web_id,user_unique_id:e.web_id,timestamp:Date.now()};o.setItem(a,t)}else r("")},function(){r("")},!0)},e.prototype.destoryInstace=function(){this.destroyInstance||(this.destroyInstance=!0,this.off(en.TokenComplete))},e.plugins=[],e}(),ew=function(){function e(){}return e.prototype.apply=function(e,t){var n=this,r=e.adapters.fetch;if(t.event_verify_url){if("string"==typeof t.event_verify_url){if(this.url=t.event_verify_url+"/v1/list_test",this.url){var i=e.Types;e.on(i.SubmitBefore,function(e){r(n.url,e,3e4)})}}else console.log("please use correct et_test url")}},e}(),eS=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.duration=6e4,this.reportUrl=e.configManager.getDomain()+"/profile/list";var r=e.Types,i=e.adapters.fetch;this.eventCheck=new et(e,t),this.fetch=i,this.cache={},this.collect.on(r.ProfileSet,function(e){n.setProfile(e)}),this.collect.on(r.ProfileSetOnce,function(e){n.setOnceProfile(e)}),this.collect.on(r.ProfileUnset,function(e){n.unsetProfile(e)}),this.collect.on(r.ProfileIncrement,function(e){n.incrementProfile(e)}),this.collect.on(r.ProfileAppend,function(e){n.appendProfile(e)}),this.collect.on(r.ProfileClear,function(){n.cache={}}),this.ready(r.Profile)},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var r=function(e){n[e].length&&n[e].forEach(function(n){t.collect.hook.emit(e,n)})};for(var i in n)r(i)}},e.prototype.report=function(e,t){void 0===t&&(t={});try{if(this.config.disable_track_event)return;var n=[];n.push(this.collect.processEvent(e,t));var r=this.collect.eventManager.merge(n);this.fetch(this.reportUrl,r),this.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_EVENT,info:"\u57CB\u70B9\u4E0A\u62A5\u6210\u529F",time:Date.now(),data:r,code:200,status:"success"})}catch(e){this.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.setProfile=function(e){var t=this.formatParams(e);t&&Object.keys(t).length&&(this.pushCache(t),this.report("__profile_set",O({},t,{profile:!0})))},e.prototype.setOnceProfile=function(e){var t=this.formatParams(e,!0);t&&Object.keys(t).length&&(this.pushCache(t),this.report("__profile_set_once",O({},t,{profile:!0})))},e.prototype.incrementProfile=function(e){e?this.report("__profile_increment",O({},e,{profile:!0})):console.warn("please check the params, must be object!!!")},e.prototype.unsetProfile=function(e){if(e){var t={};t[e]="1",this.report("__profile_unset",O({},t,{profile:!0}))}else console.warn("please check the key, must be string!!!")},e.prototype.appendProfile=function(e){if(e){var t={};for(var n in e)"string"==typeof e[n]||"Array"===Object.prototype.toString.call(e[n]).slice(8,-1)?t[n]=e[n]:console.warn("please check the value of param: "+n+", must be string or array !!!");Object.keys(t).length&&this.report("__profile_append",O({},t,{profile:!0}))}else console.warn("please check the params, must be object!!!")},e.prototype.pushCache=function(e){var t=this;Object.keys(e).forEach(function(n){t.cache[n]={val:t.clone(e[n]),timestamp:Date.now()}})},e.prototype.formatParams=function(e,t){var n=this;void 0===t&&(t=!1);try{if(!e||"[object Object]"!==Object.prototype.toString.call(e))return void console.warn("please check the params type, must be object !!!");var r={};for(var i in e)"string"==typeof e[i]||"number"==typeof e[i]||"Array"===Object.prototype.toString.call(e[i]).slice(8,-1)?r[i]=e[i]:console.warn("please check the value of params:"+i+", must be string,number,Array !!!");var o=Object.keys(r);if(!o.length||!this.eventCheck.checkEventParams(r))return;var a=Date.now();return o.filter(function(r){var i=n.cache[r];return t?!i:!(i&&n.compare(i.val,e[r])&&a-i.timestamp<n.duration)}).reduce(function(e,t){return e[t]=r[t],e},{})}catch(e){this.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),console.log("error")}},e.prototype.compare=function(e,t){try{return JSON.stringify(e)===JSON.stringify(t)}catch(e){return this.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),!1}},e.prototype.clone=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return this.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:t.message}),e}},e.prototype.unReady=function(){console.warn("sdk is not ready, please use this api after start")},e}(),eO=function(){function e(){var e=this;this.setInterval=function(){e.clearIntervalFunc=P(function(){e.isSessionhasEvent&&e.endCurrentSession()},e.sessionInterval)},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,!t.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var r=this.collect.Types;this.collect.on(r.SessionReset,function(){n.process()})}},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),eT=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,!this.config.channel_domain&&!t.disable_track_event&&!t.disable_sdk_monitor){var r=e.adapters.fetch;this.fetch=r,this.url=e.configManager.getUrl("event");var i=this.collect.Types;this.collect.on(i.Ready,function(){n.sdkOnload()}),this.collect.on(i.SubmitError,function(e){var t=e.type,r=e.eventData,i=e.errorCode;"f_data"===t&&n.sdkError(r,i)})}},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),n=t.header,r=t.user,i=n.app_id,o=n.app_name,a=n.sdk_version,s=r.web_id,c={events:[{event:"onload",params:JSON.stringify({app_id:i,app_name:o||"",sdk_version:a,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC_OVERSEA"}),local_time_ms:Date.now()}],user:{user_unique_id:s},header:{}};setTimeout(function(){e.fetch(e.url,[c],3e4,!1,function(){},function(){},"566f58151b0ed37e")},16)}catch(e){}},e.prototype.sdkError=function(e,t){var n=this;try{var r=e[0],i=r.user,o=r.header,a=[];e.forEach(function(e){e.events.forEach(function(e){a.push(e)})});var s={events:a.map(function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:o.app_id,app_name:o.app_name||"",error_event:e.event,sdk_version:o.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(o),user:JSON.stringify(i)}),local_time_ms:Date.now()}}),user:{user_unique_id:i.user_unique_id},header:{}};setTimeout(function(){n.fetch(n.url,[s],3e4,!1,function(){},function(){},"566f58151b0ed37e")},16)}catch(e){}},e}(),ek={autotrack:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},cep:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/cep.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/cep.js"},object:"LogCep"},tracer:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},visual:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/visual.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/visual.js"},object:"LogVisual"}},eI="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,eA=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e=this;try{this.collect.remotePlugin.forEach(function(t,n){if("sdk"===t){if(ek.hasOwnProperty(n)){var r=ek[n].object,i=""+ek[n].src[e.channel];e.exist(n,r,i)}else console.warn("your "+n+" is not exist\uFF0Cplease check plugin name")}else"object"==typeof t&&(t.src?e.exist(n,t.call,t.src):e.process(n,t.instance,"INSTANCE"))})}catch(e){this.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),console.log("load extend error")}},e.prototype.exist=function(e,t,n){var r=this;eI[t]?(this.process(e,eI[t]),console.log("\u5DF2\u6709"+e+"\u63D2\u4EF6\uFF0C\u907F\u514D\u91CD\u590D\u52A0\u8F7D~")):this.loadPlugin(e,n,function(){r.process(e,eI[t]),console.log(" %c %s %s %s","color: yellow; background-color: black;","\u2013","load plugin:"+e+" success","-")},function(){console.log(" %c %s %s %s","color: red; background-color: yellow;","\u2013","load plugin:"+e+" error","-")})},e.prototype.process=function(e,t,n){try{if(n){var r=new t;r.apply&&r.apply(this.collect,this.config),console.log("excude "+e+" success")}else t&&t(this.collect,this.config)}catch(t){this.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:t.message}),console.log("excude "+e+" error, message:"+t.message)}},e.prototype.loadPlugin=function(e,t,n,r){var i=this;try{var o=document.createElement("script");o.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(n),o.onerror=function(){r(t)},o.onload=function(){i._plugin[e].forEach(function(e){e()})},document.getElementsByTagName("head")[0].appendChild(o)}catch(e){this.collect.emit(K.DEBUGGER_MESSAGE,{type:K.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e}();eE.usePlugin(eA,"extend"),eE.usePlugin(ew,"et"),eE.usePlugin(eS,"profile"),eE.usePlugin(eO,"heartbeat"),eE.usePlugin(eT,"monitor");var eR=new eE("default"),eC={CN:3053,OVERSEA:3297},eL=function(e){function t(t){var n,r,i,o,a,s,c=this,u=t.test,l=t.TEAChannelDomain,f=void 0===l?"":l,d=t.mode,p=t.TEAChannel,h=t.TEAChannelType;return t.tracker=f||h||p?(r=(n={isTest:u||"test"===d,channel_domain:f,channel_type:h,channel:p}).isTest,i=n.channel_domain,o=n.channel_type,a=n.channel,s=/snssdk|zijieapi/g.test(i)&&/ttp|tcpy/g.test(o)&&/va|sg|in/g.test(a)?eC.CN:eC.OVERSEA,eR.init({app_id:s,channel_type:o,channel:a,channel_domain:i}),eR.config({_staging_flag:r?1:0,enable_et_test:r}),eR.start(),eR.event.bind(eR)):function(){},c=e.call(this,t)||this}return a(t,e),t}(S)},801497:function(e,t,n){"use strict";n.d(t,{oc:()=>j,ZP:()=>N});var r,i,o,a,s=n("374788"),c=n("92233"),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function l(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}void 0===n&&(n=null);for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=e[a]}return i()?{}:{obj:e,k:r(o.shift())}}(r=o||(o={})).keepRaw="keepRaw",r.replaceAnyway="replaceAnyway",o.replaceAnyway;var f={memoize:!1,memoizeFallback:!1,bindI18n:!1,bindI18nStore:!1,onParseError:o.replaceAnyway},d=function(){function e(){this.mem={}}return e.staticInit=function(t){e._i18nextInstance=t},e.prototype.init=function(t,n){var r=this;void 0===t&&(t=e._i18nextInstance);var i={};if((null==t?void 0:t.options)&&(t.options.i18nFormat&&(i=t.options.i18nFormat),i.onParseError=t.options.onParseError,i.missingInterpolationHandler=t.options.missingInterpolationHandler,i.icuConfig=t.options.icuConfig,i.ignoreWarning=!!t.options.ignoreWarning),this.options=Object.assign(f,n,i),this.formats=this.options.formats,t){var o=this.options,a=o.bindI18n,s=o.bindI18nStore,u=o.memoize;t.IntlMessageFormat=c.ZP,this.IntlMessageFormat=c.ZP,t.ICU=this,u&&(a&&t.on(a,function(){return r.clearCache()}),s&&t.store.on(s,function(){return r.clearCache()}))}this.options.localeData&&("[object Array]"===Object.prototype.toString.apply(this.options.localeData)?this.options.localeData.forEach(function(e){return r.addLocaleData(e)}):this.addLocaleData(this.options.localeData))},e.prototype.addLocaleData=function(e){("[object Array]"===Object.prototype.toString.apply(e)?e:[e]).forEach(function(e){e&&e.locale&&c.ZP.__addLocaleData(e)})},e.prototype.addUserDefinedFormats=function(e){this.formats=this.formats?u(u({},this.formats),e):e},e.prototype.checkMissingInterpolation=function(e,t,n,r,i){if(!1===(this.options.icuConfig||{}).strict)return n;for(var a={},s=0;s<e.length;s++){var c=e[s];if(1!==c.type)continue;var u=c.value;if(null===n[u]||void 0===n[u]){if("function"==typeof this.options.missingInterpolationHandler){var l=this.options.missingInterpolationHandler({key:i,text:t,locale:r,interpolation:{key:u,val:n[u]}});if("string"==typeof l){a[u]=l;continue}}switch(this.options.onParseError){case o.keepRaw:throw Error();case o.replaceAnyway:a[u]="{"+u+"}";continue}if("function"==typeof this.options.onParseError){console.warn("[DEPRECATED] onParseError is deprecated, please use 'missingInterpolationHandler' instead of");var f=this.options.onParseError(t,u,r,this.IntlMessageFormat);if(!0===f)throw Error();a[u]="string"==typeof f?f:"{"+u+"}"}else!this.options.ignoreWarning&&console.warn('[Starling ICU Warning] The interpolation parameter "{'+u+'}" is missing in the translation text "'+t+'" for the key "'+i+"\"\nSuggestions: check whether the value is null or undefined. Try using empty string '' as fallback! e.g I18n.t('key', { apple: count || '' })"),a[u]="{"+u+"}"}}return Object.assign({},n,a)},e.prototype.parse=function(e,t,n,r,i,o){var a,s,c,u,f,d=o&&o.resolved&&o.resolved.res,p=this.options.memoize&&n+"."+r+"."+i.replace(/\./g,"###");!d&&t.thirdParamFallback&&t.fallbackText&&(e=t.fallbackText),this.options.memoize&&(f=function(e,t){var n=l(e,t),r=n.obj,i=n.k;if(r)return r[i]}(this.mem,p));try{if(!f&&(f=new this.IntlMessageFormat(e,n,this.formats,(this.options.icuConfig||{}).formatOptions),this.options.memoize&&(this.options.memoizeFallback||!o||d))){;a=this.mem,s=p,c=f,(u=l(a,s,Object)).obj[u.k]=c}return f.format(this.checkMissingInterpolation(f.getAst(),e,t||{},n,i))}catch(t){return e}},e.prototype.addLookupKeys=function(e,t,n,r,i){return e},e.prototype.clearCache=function(){this.mem={}},e.type="i18nFormat",e._i18nextInstance=null,e}();d.name;var p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},h=/^\s*\[\[__starling_(\d+)_(.*)__\]\]\s*$/;"undefined"!=typeof window&&(window.__STARLING_INCONTEXT_GLOBAL__HOOK__=p({},window.__STARLING_INCONTEXT_GLOBAL__HOOK__||{payload:{}}));function v(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}for(var E=["AFN","EUR","ALL","DZD","USD","AOA","XCD","ARS","AMD","AWG","AUD","AZN","BSD","BHD","BDT","BBD","BYN","BZD","XOF","BMD","INR","BTN","BOB","BOV","BAM","BWP","NOK","BRL","BND","BGN","BIF","CVE","KHR","XAF","CAD","KYD","CLP","CLF","CNY","COP","COU","KMF","CDF","NZD","CRC","HRK","CUP","CUC","ANG","CZK","DKK","DJF","DOP","EGP","SVC","ERN","ETB","FKP","FJD","XPF","GMD","GEL","GHS","GIP","GTQ","GBP","GNF","GYD","HTG","HNL","HKD","HUF","ISK","IDR","XDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KPW","KRW","KWD","KGS","LAK","LBP","LSL","ZAR","LRD","LYD","CHF","MOP","MKD","MGA","MWK","MYR","MVR","MRO","MUR","XUA","MXN","MXV","MDL","MNT","MAD","MZN","MMK","NAD","NPR","NIO","NGN","OMR","PKR","PAB","PGK","PYG","PEN","PHP","PLN","QAR","RON","RUB","RWF","SHP","WST","STD","SAR","RSD","SCR","SLL","SGD","XSU","SBD","SOS","SSP","LKR","SDG","SRD","SZL","SEK","CHE","CHW","SYP","TWD","TJS","TZS","THB","TOP","TTD","TND","TRY","TMT","UGX","UAH","AED","USN","UYU","UYI","UZS","VUV","VEF","VND","YER","ZMW","ZWL","XBA","XBB","XBC","XBD","XTS","XXX","XAU","XPD","XPT","XAG"],w={},S=0;S<E.length;S++)w[E[S]]={style:"currency",currency:E[S]};var O={number:w},T="languageTransformer";function k(e){return function(t){return t.type===e}}function I(e,t){var n=e;return(t||[]).map(function(t){n=t.process(e)||n}),n}var A={lng:"zh-CN",fallbackLng:["en-US"],inContext:!0},R=[d,{name:"inContext",type:"postProcessor",process:function(e,t,n,r){if(!(window&&document.getElementById("INCONTEXT-KEY-MATCH"))||n.__STARLING_INCONTEXT_FLAG__)return e;!window.__STARLING_INCONTEXT_GLOBAL_I18N__&&(window.__STARLING_INCONTEXT_GLOBAL_I18N__=r),delete n.keySeparator,delete n.lngs;var i=0;if(t=t.toString(),h.test(t)){var o=t.match(h);o[0];var a=o[1],s=o[2];i=a,t=s}if(h.test(e)){var o=e.match(h);o[0];var a=o[1],s=o[2];e=s}if(window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t]){var c=window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t].findIndex(function(e){return JSON.stringify(e.options)===JSON.stringify(n)});c>-1?(window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t][c].default=e,i=c):i=window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t].push({options:n,default:e})-1}else window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t]=[{options:n,default:e}],i=0;return"[[__starling_"+i+"_"+t+"__]]"}}],C=function(){function e(t,n){if(v(this,e),this._waitingToAddResourceBundle=[],null!=t&&t.copiedI18nextInstance){this.instance=t.copiedI18nextInstance;return}this._handlePlugins(n),this._handleConfigs(t),this.instance=s.Z.createInstance(),this.instance.isInitialized=!1}return _(e,[{key:"_handlePlugins",value:function(e){var t,n;(null===(t=this.config)||void 0===t?void 0:null===(n=t.icuConfig)||void 0===n?void 0:n.open)===!1&&R.shift(),this.plugins=Array.isArray(e)?e.concat(R):R}},{key:"_handleConfigs",value:function(e){this.userLng=(null==e?void 0:e.lng)||null,this.config=Object.assign({},A,e||{})}},{key:"language",get:function(){return(this.instance||{}).language}},{key:"createInstance",value:function(){var e=this;return new Promise(function(t,n){"undefined"!=typeof window&&!window.CocosEngine&&e.config.inContext&&(e.config.postProcess=[].concat(["inContext"],e.config.postProcess||[]),window.__STARLING_DEVTOOLS_I18N=e.instance),e.plugins.map(function(t){"IES_INTL_ICU_PLUGIN"===t.name&&t.staticInit(e.instance),e.instance.use(t)});var r=e.config;e.config.formats=Object.assign({},e.config.formats,O);var i=I(r.lng,e.plugins.filter(k(T)));e.instance.init(Object.assign({},r,{lng:i,i18nFormat:{formats:e.config.formats}}),function(r,i){try{var o,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=y(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{!a&&null!=n.return&&n.return()}finally{if(s)throw o}}}}(e._waitingToAddResourceBundle);try{for(a.s();!(o=a.n()).done;){var s,c=o.value;(s=e.instance).addResourceBundle.apply(s,m(c))}}catch(e){a.e(e)}finally{a.f()}e._waitingToAddResourceBundle=[]}catch(e){}!r&&(e._updateLanguages(),t({t:i,err:r})),e.init=!0,n({t:i,err:r})})})}},{key:"_updateLanguages",value:function(){this.languages=this.instance?Array.from(new Set([this.instance.language].concat(m(this.instance.languages)))):null}},{key:"getLanguages",value:function(){return this.languages}},{key:"changeLanguage",value:function(e,t){var n=this;this.config.lng=e,this.instance.changeLanguage(e,function(e,r){!e&&n._updateLanguages(),t&&t(e,r)})}},{key:"changeLanguageWithPromise",value:function(e){var t=this;return new Promise(function(n,r){t.config.lng=e,t.instance.changeLanguage(e,function(e,i){e&&r({err:e,t:i}),t._updateLanguages(),n({err:e,t:i})})})}},{key:"getDir",value:function(e){return this.instance.dir(e)}},{key:"t",value:function(e,t,n){var r=Array.isArray(e)?Array.from(e).map(function(){return" "}).join(""):Array(e.length).fill(" "),i=Object.assign({keySeparator:r,nsSeparator:r},t);return"thirdParamFallback"in this.config&&this.config.thirdParamFallback&&(i.thirdParamFallback=!0),this.instance.t(e,n,i)}},{key:"addResourceBundle",value:function(e,t,n,r,i){return this.instance.isInitialized?this.instance.addResourceBundle(e,t,n,r,i):(this._waitingToAddResourceBundle.push([e,t,n,!!r,!!i]),this.instance)}},{key:"cloneInstance",value:function(t,n){var r=this.instance.cloneInstance(t,n),i=new e({copiedI18nextInstance:r});return i.t=this.t.bind(i),i.config=this.config,i.plugins=this.plugins,i.languages=this.languages,i.init=r.isInitialized||!!this.init,i.userLng=this.userLng,r.on("initialized",function(){i.init=!0}),i}}]),e}(),L="Starling_intl:",P={warn:function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).warn.apply(e,["".concat(L," [WARNING]")].concat(n))},error:function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,["".concat(L," [ERROR]")].concat(n))}};function D(e,t,n){return n?t?t(e):e:((!e||!e.then)&&(e=Promise.resolve(e)),t?e.then(t):e)}function x(){}function M(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}(i=a||(a={})).intl3rdParty="intl3rdParty",i.backend="backend",i.logger="logger",i.languageDetector="languageDetector",i.postProcessor="postProcessor",i.i18nFormat="i18nFormat",i["3rdParty"]="3rdParty";var j=new(function(){function e(t){var n;v(this,e),this.plugins=[],this.i18nInstance=null!==(n=null==t?void 0:t.i18nInstance)&&void 0!==n?n:new C}return _(e,[{key:"use",value:function(e){return this.plugins.includes(e)?(P.warn("Plugin: ".concat(e.name," has beeninit installed.")),this):(this.plugins.push(e),this)}},{key:"init",value:function(e,t){try{var n=this;return n.ignoreWarning=e.ignoreWarning,n.i18nInstance._handleConfigs(e),n.i18nInstance._handlePlugins(n.plugins),D(function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}(function(){return D(n.i18nInstance.createInstance(),function(e){var r,i=e.err,o=e.t,s=n.plugins.filter(function(e){return e.type===a.intl3rdParty});return D((r=s.map(M(function(e){if(!!e&&"function"==typeof e.init){var t=e.init instanceof Promise?e.init:M(function(t){return Promise.resolve(e.init(t))});return function(e,t){return e&&e.then?e.then(x):Promise.resolve()}(t(n))}})),new Promise(function(e,t){if(!Array.isArray(r)&&(r=Array.from(r)),r.length<=0)return e([]);var n=[];(r=r.map(function(i,o){return function(){("function"==typeof i?new Promise(i):Promise.resolve(i)).then(function(t){n[o]=t,o===r.length-1?e(n):r[o+1]()},t)}}))[0]()})),function(){return"function"==typeof t&&t(i,o),{err:i,t:o}})})},function(e){return P.error("The instance init error: ".concat(e)),{err:e,t:function(e){return e}}}))}catch(e){return Promise.reject(e)}}},{key:"language",get:function(){return(this.i18nInstance||{}).language}},{key:"setLang",value:function(e,t){var n=I(e,this.plugins.filter(k(T)));this.i18nInstance.changeLanguage(n,t)}},{key:"getLanguages",value:function(){return this.i18nInstance.getLanguages()}},{key:"setLangWithPromise",value:function(e){var t=I(e,this.plugins.filter(k(T)));return this.i18nInstance.changeLanguageWithPromise(t)}},{key:"dir",value:function(e){return this.i18nInstance.getDir(e)}},{key:"t",value:function(e,t,n){return this.ignoreWarning||this.i18nInstance&&this.i18nInstance.init?e&&("string"!=typeof e||e.trim())?this.i18nInstance.t(e,t,n):"":(P.error("The instance has not been initialized: i18n.t('".concat(e,"'").concat(t?","+JSON.stringify(t):"",");")),null!=n?n:Array.isArray(e)?e[0]:e)}},{key:"addResourceBundle",value:function(e,t,n,r,i){return this.i18nInstance.addResourceBundle(e,t,n,r,i)}},{key:"cloneInstance",value:function(t){var n=new e({i18nInstance:this.i18nInstance.cloneInstance(t)});return n.t=this.t.bind(n),n.plugins=this.plugins,n.ignoreWarning=this.ignoreWarning,n}}]),e}());let N=j},327478:function(e,t,n){"use strict";n.d(t,{B:function(){return f}});var r=Object.defineProperty,i=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o=(e,t,n)=>(i(e,"symbol"!=typeof t?t+"":t,n),n);class a extends EventTarget{isWASMSupport(){return"u">typeof window.WebAssembly}isWegGLSupport(){try{let e=document.createElement("canvas");return!!(e.getContext("webgl")||e.getContext("experimental-webgl")&&window.WebGLRenderingContext)}catch{return!1}}isWebGL2Support(){try{let e=document.createElement("canvas");return!!(e.getContext("webgl2")||e.getContext("experimental-webgl2")&&window.WebGL2RenderingContext)}catch{return!1}}isWasmSIMDSupport(){return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))}addEventListener(e,t,n){return super.addEventListener(e,t,n)}removeEventListener(e,t,n){return super.removeEventListener(e,t,n)}constructor(){super()}doRequest(e){let t=this;return fetch(e).then(function(e){if(e.ok)return e;{let n=e.status+" "+e.statusText+" "+e.url;return t.dispatchEvent(new ErrorEvent("request_error",{error:n})),console.warn(n),Promise.reject(n)}})}requestText(e){return this.doRequest(e).then(function(e){return e.text()})}compileWithResponse(e){let t=this;return e.arrayBuffer().then(function(e){return t.dispatchEvent(new Event("compiling")),WebAssembly.compile(e)})}requestAndCompile(e){let t=this;return t.doRequest(e).then(function(e){return"u">typeof WebAssembly.compileStreaming?(t.dispatchEvent(new Event("compile_streaming")),WebAssembly.compileStreaming(e).then(function(e){return t.dispatchEvent(new Event("compiled")),e}).catch(function(n){return t.dispatchEvent(new ErrorEvent("compile_streaming_error",{error:n})),console.warn(n),t.compileWithResponse(e)})):t.compileWithResponse(e)})}async addScriptToDom(e,t){let{default:n}=await import(e);if(!n)throw Error("can not import module from jsUrl, make sure -s MODULARIZE = 1 -s EXPORT_ES6 = 1");return n(t)}async loadModule(e,t){let n=this;try{n.dispatchEvent(new Event("load_start"));let r=this.requestText(e.source),i=this.requestText(e.worker),o=this.requestAndCompile(e.wasm),[a,s,c]=await Promise.all([r,i,o]),u=URL.createObjectURL(new Blob([s],{type:"application/javascript"})),l=URL.createObjectURL(new Blob([a],{type:"application/javascript"}));t.instantiateWasm=function(e,t){return WebAssembly.instantiate(c,e).then(function(e){t(e,c),n.dispatchEvent(new Event("instantiate_success"))},function(e){n.dispatchEvent(new ErrorEvent("instantiate_error")),console.warn(e)}),{}};let f=t.locateFile;t.locateFile=function(t){return t.endsWith(".worker.js")?u:t.endsWith(".wasm")?e.wasm:f?f(t):t},t.mainScriptUrlOrBlob=l;let d=new Promise(e=>{t.onRuntimeInitialized=e}),p=this.addScriptToDom(l,t);return Promise.all([d,p])}catch(e){throw n.dispatchEvent(new ErrorEvent("load_failed")),e}}}class s{constructor(e,t,n){o(this,"wasm"),o(this,"file"),o(this,"decryption_key"),o(this,"onProgress"),this.wasm=e,this.file=t,this.decryption_key=n}async run(e){this.onProgress=e;let t="",n=0,r=0,i=0,o=new this.wasm.AudioExtractor;return t=URL.createObjectURL(this.file),this.wasm.insertBlob(t,this.file),new Promise((e,a)=>{o.init(t,this.decryption_key),n=this.wasm.registerUserCallback(t=>{e({data:this.wasm.getBufferInWasmMemory(t.ptr,t.size)})}),r=this.wasm.registerUserCallback(e=>{a(Error(e.message))}),i=this.wasm.registerUserCallback(e=>{var t;null==(t=this.onProgress)||t.call(this,e.progress)}),o.run(n,r,i)}).finally(()=>{URL.revokeObjectURL(t),this.wasm.removeBlob(t),this.wasm.deleteUserCallback(n),this.wasm.deleteUserCallback(r),this.wasm.deleteUserCallback(i),o.delete()})}}let c=e=>{e.userCallbackMap={},e.userCallbackCounter=0,e.registerUserCallback=function(t){let n=e.userCallbackCounter++;return e.userCallbackMap[n]=t,n},e.deleteUserCallback=function(t){delete e.userCallbackMap[t]},e.vesdk_info_callback_hub=function(t,n,r,i){var o,a;null==(a=(o=e.userCallbackMap)[r])||a.call(o,i)}},u={};async function l(e,t){let n=new a;n.addEventListener("load_start",console.log),n.addEventListener("request_error",console.log),n.addEventListener("compiling",console.log),n.addEventListener("compile_streaming",console.log),n.addEventListener("compiled",console.log),n.addEventListener("compile_streaming_error",console.log),n.addEventListener("instantiate_success",console.log),n.addEventListener("instantiate_error",console.log),n.addEventListener("load_failed",console.log);let r={};await n.loadModule(t,r);c(r),await r.initBlobIO(),u[e]=r}class f{static async createInstance(e){let t=[];for(let n in e)t.push(l(n,e[n]));return await Promise.all(t),new f}async loadAsset(e,t){return l(e,t)}unloadAsset(e){delete u[e]}unloadAllAsset(){u={}}createAudioExtractorTask(e,t){let n=u.audioExtractor;if(!n)throw Error("wasm module not loaded yet.");return new s(n,e,t)}setLogLevel(e){var t;let n=32;for(let r in"AV_LOG_ERROR"===e?n=16:"AV_LOG_WARNING"===e?n=24:"AV_LOG_INFO"===e?n=32:"AV_LOG_QUIET"===e&&(n=-8),u)null==(t=u[r])||t._setFFMpegLogLevel(n)}}},298069:function(e,t,n){"use strict";n.d(t,{B:function(){return l},Q:function(){return a}});var r=Object.defineProperty,i=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o=(e,t,n)=>(i(e,"symbol"!=typeof t?t+"":t,n),n);let a="/__opfs_system_root";class s{constructor(e){o(this,"_module"),this._module=e}mkdirAdvanced(e,t){let n=l.ensureRootPath(e),{skipExist:r=!0,recursive:i=!1}=null!=t?t:{};this.isExist(n)&&r||(i?n.split("/").reduce((e,t)=>{let n=e+"/"+t;return"/"!==n[0]&&(n="/"+n),this.isExist(n)||this.mkdir(n),n}):this.mkdir(n))}readDir(e){return this._module.FS.readdir(e)}getPathType(e){let t=this._module.FS.findObject(e);return null===t?"not_found":!0===t.isFolder?"directory":"file"}isDir(e){return"directory"===this.getPathType(e)}isFile(e){return"file"===this.getPathType(e)}isExist(e){return"not_found"!==this.getPathType(e)}}class c extends s{constructor(e){super(e),o(this,"idb",null),o(this,"promiseQueue",[])}async init(){}async flushFs(){await Promise.all(this.promiseQueue),this.promiseQueue=[]}async mkdir(e){this._module.FS.mkdir(e)}async rmdir(e){this._module.FS.rmdir(e)}async unlink(e){this._module.FS.unlink(e)}writeFileSyncInternal(e,t){return this._module.veFS_JS_HUB.writeFile(e,t,!0)}readFileSyncInternal(e){return this._module.veFS_JS_HUB.readFile(e)}async writeFileInternal(e,t){return this.writeFileSyncInternal(e,t)}async readFileInternal(e){return this.readFileSyncInternal(e)}}class u extends s{constructor(e){super(e),o(this,"promiseQueue",[]),o(this,"root",null)}removeSystemRoot(e){return e.startsWith(a)?e.substring(a.length):e}splitPath(e){return e.split("/").filter(e=>e.length>0)}async getPathHandle(e,t=!1){let n=this.root;for(let r of e)n=await n.getDirectoryHandle(r,{create:t});return n}async flushFs(){await Promise.all(this.promiseQueue),this.promiseQueue=[]}async init(){return this.root=await navigator.storage.getDirectory(),new Promise(e=>{let t=this._module;t.WASMFS_INIT_DONE?e():t.WASMFS_INIT_DONE_CALLBACK=e})}async mkdir(e){e=this.removeSystemRoot(e);let t=this.splitPath(e);await this.getPathHandle(t,!0)}async rmdir(e){e=this.removeSystemRoot(e);let t=this.splitPath(e),n=t.pop();await (await this.getPathHandle(t)).removeEntry(n,{recursive:!0})}async unlink(e){e=this.removeSystemRoot(e);let t=this.splitPath(e),n=t.pop();await (await this.getPathHandle(t)).removeEntry(n)}async writeFileInternal(e,t){e=this.removeSystemRoot(e);let n=this.splitPath(e),r=n.pop(),i=(await (await (await this.getPathHandle(n)).getFileHandle(r,{create:!0})).createWritable()).getWriter();return await i.write({type:"truncate",size:t.length}),await i.write({type:"seek",position:0}),await i.write(t),await i.close(),t.length}async readFileInternal(e){e=this.removeSystemRoot(e);let t=this.splitPath(e),n=t.pop(),r=await (await (await this.getPathHandle(t)).getFileHandle(n)).getFile(),i=r.stream().getReader(),o=new Uint8Array(r.size),a=0;for(;;){let e=await i.read();if(e.done)break;e.value&&(o.set(e.value,a),a+=e.value.length)}return await i.releaseLock(),o}writeFileSyncInternal(e,t){throw Error("OPFS does not support sync IO.")}readFileSyncInternal(e){throw Error("OPFS does not support sync IO.")}}class l{constructor(e){o(this,"_module"),o(this,"_fs"),this._module=e;let t=!1;void 0===e.wasmFS_type?e.use_vefs_force=!0:t="opfs"===e.wasmFS_type,t?this._fs=new u(this._module):this._fs=new c(this._module)}async init(){await this._fs.init()}static ensureRootPath(e){return e.startsWith(a)||(e=a+e),"/"==(e=e.replace(/\/\//g,"/"))[e.length-1]&&(e=e.substring(0,e.length-1)),e}mkdir(e,t){e=l.ensureRootPath(e),this._fs.mkdirAdvanced(e,t)}async flushFs(){await this._fs.flushFs()}rmdir(e){e=l.ensureRootPath(e),this._fs.rmdir(e)}unlink(e){e=l.ensureRootPath(e),this._fs.unlink(e)}stat(e){return e=l.ensureRootPath(e),this._module.FS.stat(e)}async writeFile(e,t,n=!1){if(e=l.ensureRootPath(e),n&&this.unlink(e),"string"==typeof t){var r=new Uint8Array(this._module.lengthBytesUTF8(t)+1),i=this._module.stringToUTF8Array(t,r,0,r.length);t=r.subarray(0,i)}return await this._fs.writeFileInternal(e,t)}writeFileSync(e,t,n=!1){if(e=l.ensureRootPath(e),n&&this.unlink(e),"string"==typeof t){var r=new Uint8Array(this._module.lengthBytesUTF8(t)+1),i=this._module.stringToUTF8Array(t,r,0,r.length);t=r.subarray(0,i)}return this._fs.writeFileSyncInternal(e,t)}async readFile(e,t="binary"){e=l.ensureRootPath(e);let n=await this._fs.readFileInternal(e);if("number"==typeof n)throw Error("file not found");return("utf8"===t||"utf-8"===t)&&(n=this._module.UTF8ArrayToString(n,0)),n}readFileSync(e,t="binary"){e=l.ensureRootPath(e);let n=this._fs.readFileSyncInternal(e);if("number"==typeof n)throw Error("file not found");return("utf8"===t||"utf-8"===t)&&(n=this._module.UTF8ArrayToString(n,0)),n}getPathType(e){return e=l.ensureRootPath(e),this._fs.getPathType(e)}readDir(e){return e=l.ensureRootPath(e),this._fs.readDir(e)}isDir(e){return e=l.ensureRootPath(e),"directory"===this.getPathType(e)}isFile(e){return e=l.ensureRootPath(e),"file"===this.getPathType(e)}isExist(e){return e=l.ensureRootPath(e),"not_found"!==this.getPathType(e)}}},267057:function(e,t,n){"use strict";e.exports=n.p+"static/assets/audioExtractor.6b0b3cf6.js"},428275:function(e,t,n){"use strict";e.exports=n.p+"static/wasm/82771b7c89a12d1e.module.wasm"},610062:function(e,t,n){"use strict";e.exports=n.p+"static/assets/audioExtractor.worker.10cd8dca.js"},811382:function(e){"use strict";e.exports=JSON.parse('{"version":"1.1110.2-cc","wasm_url":"https://lf16-web-buz.capcut.com/obj/unpkg-va/byted/ever_cloud_sdk/1.1110.2-cc/dist/18ec9916b98e57a41625_wasm.gz"}')}}]);