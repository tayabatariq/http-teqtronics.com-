"use strict";(globalThis.__LOADABLE_LOADED_CHUNKS__=globalThis.__LOADABLE_LOADED_CHUNKS__||[]).push([["6485"],{662498:function(e,t,r){e.exports=r.p+"static/assets/vesdk-lvapi.worker.4ae37715.mjs"},926010:function(e,t,r){e.exports=r.p+"static/assets/lvve.3ffa58c0.node"},381071:function(e,t,r){r.d(t,{r:function(){return y}});var i=r(211561),n=r(150002),a=r(853277),s=r(879388),o=r(593642),l=r(475028),u=r(690613),c=r(653322),d=r(217201),h=r(912224),m=r(711999),p=r(399815);let g=(0,l.i)(c.H.AddTargetIndexNotValid,""),f=(0,l.i)(c.H.AddAdjustmentOptionsNotValid,"");class y extends n.a{get type(){return a.U.ADJUSTMENT_ADD}check(e){let t=e.getFirstTrackIndexByTrackType(i.pNd.TrackTypeAudio);return t&&this.options.trackIndex>t?g(`targetIndex > minAudioTrack:${t}`):this.options.timeRange.start<0||this.options.timeRange.duration<=0?f(`options: ${this.options.timeRange}`):(0,u.ly)()}do(e,t,r){var n;let a={targetStartTime:this.options.timeRange.start,targetDuration:this.options.timeRange.duration,targetTrackIndex:this.options.trackIndex,type:i.pNd.TrackTypeAdjust,targetSegmentId:""};new s.W().moveConflictSegment(t,a,t.getAllTracks(),e,r),(0,m.F)([0,0],i.rxY.CanvasRatio16To9,!1,t,e);let l=new h.eK().nextFilterRenderIndex(t),u=new i.MM7({id:null!==(n=this.options.segmentId)&&void 0!==n?n:(0,o.Rl)(),targetTimerange:new i.tnv(this.options.timeRange),renderIndex:l,name:this.options.name}),c=new d.vp(i.pNd.TrackTypeAdjust,this.options.trackIndex,i.w9k.FlagNone);d.c8.insertSegmentHelper(t,u,c,e),(0,p.L)({segId:u.id,materials:this.options.materials,isKeyframe:!0},t,t.getAllTracks()[this.options.trackIndex].id,u,e)}}y.type=a.U.ADJUSTMENT_ADD},718874:function(e,t,r){r.d(t,{S:function(){return d}});var i=r(150002),n=r(853277),a=r(475028),s=r(690613),o=r(653322),l=r(381119),u=r(331509);let c=(0,a.i)(o.H.AttachmentInsertAiWriterInfoDuplication,"");class d extends i.a{get type(){return n.U.ATTACHMENT_INSERT_AI_WRITER_INFOS}check(e){for(let t of this.options.aiWriterInfos)if(e.getAiWriterInfoMap().has(t.segmentId))return c("insert ai writer info duplicate");return(0,s.ly)()}do(e,t,r){for(let t of this.options.aiWriterInfos)e(new l.Q({attachmentKey:u.d3.AiWriter,key:t.segmentId,value:t}))}}},572044:function(e,t,r){r.d(t,{B:function(){return h}});var i=r(150002),n=r(853277),a=r(475028),s=r(690613),o=r(653322),l=r(558515),u=r(419537),c=r(331509);let d=(0,a.i)(o.H.AttachmentUpdateAsyncTaskEntityNotExist,"");class h extends i.a{get type(){return n.U.ATTACHMENT_UPDATE_ASYNC_TASK_ENTITIES_STATUS}check(e){for(let t of this.options.localTaskIds)if(!e.getAsyncTaskMap().has(t))return d(`update async task entity not exist: ${t}`);return(0,s.ly)()}do(e,t,r){for(let t of this.options.localTaskIds)e(new u.K({attachmentKey:c.d3.AsyncTask,key:t,delta:new l.vY({status:this.options.status})}))}}},198702:function(e,t,r){r.d(t,{P:function(){return g}});var i=r(475028),n=r(690613),a=r(211561),s=r(481631),o=r(129862),l=r(150002),u=r(853277),c=r(653322),d=r(81649),h=r(283751);let m=(0,i.i)(c.H.SetAudioMaterialSegmentNotExist,""),p=(0,i.i)(c.H.SetAudioMaterialSegmentTypeNotValid,"");class g extends l.a{get type(){return u.U.SET_AUDIO_MATERIAL}check(e){let{segmentId:t}=this.options,r=e.getSegmentById(t);return r?(0,s.Y9)(r)||(0,s.he)(r)?(0,n.ly)():p(`segmentType not valid: ${r.__segment_struct_type}`):m(`segment not exist: ${t}`)}do(e,t,r){let{segmentId:i,materialPath:n,materialDuration:l}=this.options,u=t.getTrackBySegmentId(i,[]),c=t.getSegmentById(i),d=(0,s.Y9)(c)?new a.CCx:new a.NOn,m=new a.yB$;d.material=m,m.path=n,m.duration=l;let p=(0,s.xX)({__segment_struct_type:c.__segment_struct_type});h.T.pick(c,d,p),e(new o.F({trackId:u.id,trackIndex:t.getTrackIndexBySegmentId(i),segmentId:i,segmentDelta:d,sourceSegmentDelta:p}))}constructor(e,t){super({...e,materialDuration:new d.O1(t.getDraftProperty().fps).gen(e.materialDuration).tail})}}},457491:function(e,t,r){r.d(t,{q:function(){return g}});var i=r(211561),n=r(150002),a=r(853277),s=r(475028),o=r(690613),l=r(653322),u=r(417273),c=r(481631),d=r(129862),h=r(283751),m=r(268468);let p=(0,s.i)(l.H.UpdateCombinationSubDraftDeltaError,"");class g extends n.a{get type(){return g.type}check(e){let{segmentId:t}=this.options,r=e.getSegmentById(t);return r?(0,c.du)(r)?(0,o.ly)():p(`segment ${t} isn't VideoCombination`):p(`segment ${t} set size error`)}do(e,t,r){let n,a,s,o,{segmentId:l,size:p,canvasRatio:g,draftWidth:f,draftHeight:y}=this.options,{segment:_,trackIndex:v}=t.getSegmentAtPositionById(this.options.segmentId),T=new u.Tl,I=new m.ry,k=new i.Fq$({color:"#000000",type:i.cVg.MetaTypeCanvasColor}),w=new i.jhR({ratio:g,width:f,height:y,domWidth:null==p?void 0:p[0],domHeight:null==p?void 0:p[1]});w.background=k,I.canvasConfig=w;let x=new i.rdD;I.name=(0,c.du)(_)?_.materialDraft.draft.property.name:"",T.property=I,x.draft=T;let b=new i.K2q;b.width=f||720,b.height=y||1280;b.width=(n=b.width,(n+(a=2)-1)/a*a);b.height=(s=b.height,(s+(o=2)-1)/o*o);let M=new i.NOn({});M.material=b,M.materialDraft=x;let A=(0,c.xX)({__segment_struct_type:_.__segment_struct_type});h.T.pick(_,M,A),e(new d.F({trackIndex:v,trackId:t.getTrackBySegmentId(l,[]).id,segmentId:l,segmentDelta:M,sourceSegmentDelta:A}))}}g.type=a.U.SET_TEMPLATE_COMBINATION_SIZE_ACTION},345573:function(e,t,r){r.d(t,{B:function(){return p}});var i=r(475028),n=r(690613),a=r(211561),s=r(150002),o=r(853277),l=r(653322),u=r(129862),c=r(481631),d=r(283751);let h=(0,i.i)(l.H.ResetEffectAdjustParamsSegmentNotExist,""),m=(0,i.i)(l.H.ResetEffectAdjustParamsSegmentTypeNotValid,"");class p extends s.a{get type(){return o.U.RESET_EFFECT_ADJUST_PARAMS}check(e){let{segmentId:t}=this.options,r=e.getSegmentAtPositionById(t);return r?(0,c.w5)(r.segment)?(0,n.ly)():m(`segment type not valid: ${r.segment.__segment_struct_type}`):h(`segment not exist: ${t}`)}do(e,t){let{segmentId:r}=this.options,i=t.getSegmentAtPositionById(r),{trackId:n}=i,s=i.segment,o=s.material.adjustParams,l=[];for(let e of o){let t=e.clone();t.value=e.defaultValue,l.push(t)}let h=new a.UJq;h.adjustParams=l;let m=new a.LtW;m.material=h;let p=(0,c.xX)({__segment_struct_type:s.__segment_struct_type});d.T.pick(s,m,p),e(new u.F({trackId:n,trackIndex:t.getTrackIndexBySegmentId(r),segmentId:r,segmentDelta:m,sourceSegmentDelta:p}))}}},395117:function(e,t,r){r.d(t,{O:function(){return y}});var i=r(150002),n=r(853277),a=r(280700),s=r(129862),o=r(475028),l=r(690613),u=r(653322),c=r(127926),d=r(13242),h=r(481631),m=r(283751);let p=(0,o.i)(u.H.KeyframeSegmentNotExist,""),g=(0,o.i)(u.H.KeyframeSegmentParamsError,""),f=(0,o.i)(u.H.KeyframeDraftNotExist,"");class y extends i.a{get type(){return y.type}check(e){let{segmentId:t,keyframeTypeList:r,draftId:i}=this.options,n=e.getDraftById(i);return n?(0,a.Cm)(n.getAllTracks(),t)?0===r.length?g("keyframeTypeList length is valid: 0"):(0,l.ly)():p(`segment is not exist id:${t}`):f(`subDraft is not exist id:${i}`)}do(e,t){let{draftId:r,segmentId:i,keyframeId:n,keyframeTypeList:o}=this.options,l=t.getDraftById(r),{segmentIndex:u,trackIndex:p,trackId:g}=(0,a.Cm)(l.getAllTracks(),i),f=l.getAllTracks()[p].segments[u],y=f.clone();if(void 0===n)for(let t of o){let n=c.OL.takeKeyframes(y,t);if(!n)continue;let a=n.keyframeList;if(a.length){let t=d.U.setPropertyValues(y,n.propertyType,a[0].values);if(t){let n=(0,h.xX)({__segment_struct_type:f.__segment_struct_type});m.T.pick(f,t,n),e(new s.F({trackId:g,trackIndex:p,segmentId:i,segmentDelta:t,draftId:r,sourceSegmentDelta:n}))}}}else{let t,a;for(let e of o){let r=c.OL.findKeyframes(y,e);if(!!r){if(a=c.OL.takeKeyframe(r,n)){t=r;break}}}if(!a){let e=c.OL.takeKeyframeFromSegment(y,n);e&&(a=e.keyframe,t=e.parent)}if(a&&t&&0===t.keyframeList.length){let n=d.U.setPropertyValues(y,t.propertyType,a.values);if(n){let t=(0,h.xX)({__segment_struct_type:f.__segment_struct_type});m.T.pick(f,n,t),e(new s.F({segmentId:i,trackIndex:p,trackId:g,segmentDelta:n,draftId:r,sourceSegmentDelta:t}))}}}let _=(0,h.xX)({__segment_struct_type:f.__segment_struct_type});_.commonKeyframes=y.commonKeyframes;let v=(0,h.xX)({__segment_struct_type:f.__segment_struct_type});m.T.pick(f,_,v),e(new s.F({segmentId:i,trackId:g,trackIndex:p,segmentDelta:_,draftId:r,sourceSegmentDelta:v}))}}y.type=n.U.REMOVE_KEYFRAME},737889:function(e,t,r){r.d(t,{v:function(){return c}});var i=r(475028),n=r(690613),a=r(150002),s=r(853277),o=r(653322),l=r(16708);let u=(0,i.i)(o.H.DeleteSegmentNotExist,"");class c extends a.a{get type(){return c.type}check(e){return this.options.segIds.every(t=>e.getSegmentById(t))&&this.options.segIds.length?(0,n.ly)():u(`segment is not exist, ids: ${this.options.segIds}`)}do(e,t,r){let{segIds:i,draftId:n}=this.options,a=t.getDraftById(n),s=a.getSegmentAtPositionById(this.options.segIds[0]);(0,l.xb)(a,{segIds:i,trackType:a.getAllTracks()[null==s?void 0:s.trackIndex].type},e,r)}}c.type=s.U.REMOVE_SEGMENTS},542023:function(e,t,r){r.d(t,{V:function(){return p}});var i=r(150002),n=r(853277),a=r(211561),s=r(475028),o=r(690613),l=r(653322),u=r(129862),c=r(481631),d=r(283751);let h=(0,s.i)(l.H.ApplyVideoAllChromaSegmentNotExist,""),m=(0,s.i)(l.H.ApplyVideoAllChromaSegmentTypeNotValid,"");class p extends i.a{get type(){return p.type}check(e){let{segId:t}=this.options,r=e.getSegmentById(t);return r?(0,c.P2)(r)||(0,c.Ft)(r)||(0,c.Q2)(r)?this.options.segId?(0,o.ly)():h(`params is not valid: ${JSON.stringify(this.options)}`):m(`segment type not valid: ${t}`):h(`segment not exist: ${t}`)}do(e,t,r){let{config:i,enableScale:n,enableRelativeDistance:s,trackers:o,trackerType:l,trackingTimeRange:h,version:m,enableVideoTracking:p}=this.options,{segId:g}=this.options,f=t.getSegmentById(g),y=t.getTrackBySegmentId(f.id),_=(0,c.zg)(f),v=new a.MwE;if(i){let e=new a.hdn;e.centerX=i.centerX,e.centerY=i.centerY,e.width=i.width,e.height=i.height,e.rotation=i.rotation,v.config=e}l&&(v.trackerType=l),n&&(v.enableScale=n),s&&(v.enableRelativeDistance=s),h&&(v.trackingTimeRange=h),o&&(v.trackers=o.map(e=>new a.ess(e))),m&&(v.version=m),p&&(v.enableVideoTracking=p),_.videoTracking=v;let T=(0,c.xX)({__segment_struct_type:f.__segment_struct_type});d.T.pick(f,_,T),e(new u.F({trackId:y.id,trackIndex:t.getTrackIndexBySegmentId(f.id),segmentId:f.id,segmentDelta:_,sourceSegmentDelta:T}))}}p.type=n.U.VIDEO_TRACKER_UPDATE},784392:function(e,t,r){r.d(t,{c:function(){return u}});var i=r(150002),n=r(853277),a=r(129862),s=r(481631),o=r(690613),l=r(283751);class u extends i.a{get type(){return u.type}check(e){return(0,o.ly)()}do(e,t,r){let i=t.getDraftById(this.options.draftId);if(!!i)for(let t of this.options.segmentIds){let r=i.getSegmentAtPositionById(t);if(!r)continue;let{trackId:n,trackIndex:o,segmentIndex:u}=r,c=i.getAllTracks()[o].segments[u];if(!c||!(0,s.he)(c))continue;let d=(0,s.xX)({__segment_struct_type:c.__segment_struct_type});d.volume=this.options.volume;let h=(0,s.xX)({__segment_struct_type:c.__segment_struct_type});l.T.pick(c,d,h),e(new a.F({draftId:this.options.draftId,trackId:n,trackIndex:o,segmentId:t,segmentDelta:d,sourceSegmentDelta:h}))}}}u.type=n.U.TEMPLATE_SET_VIDEO_VOLUME_ACTION},376048:function(e,t,r){r.d(t,{J:function(){return g}});var i=r(150002),n=r(853277),a=r(690613),s=r(211561),o=r(268468),l=r(700857),u=r(635434),c=r(698159),d=r(481631),h=r(441021),m=r(879566),p=r(929576);class g extends i.a{get type(){return g.type}check(e){return(0,a.ly)()}do(e,t,r){let{segId:i,segIds:n,syncToAll:a,templateResource:g,applyKeywordsStyle:f=!0,applyFontSize:y=!1}=this.options,_=t.getSegmentById(i);if(!_||!(0,d.Ft)(_))return;let v=y?0:this._parseOriginalFontSize(_),T=new u.X(g,v),I=!1;if(f){let t=T.parseKeywordsConfig();if(t){let r=new o.ry;r.subtitleKeywordsConfig=t,e(new l.W({propertyDelta:r}))}else I=!0}let{material:k,effects:w,animations:x}=T.parseAssets();if(I){let{fonts:e,effects:r}=p.O.getRichTextResourcesFromKeywordsConfig(t,_);e.length>0&&k.fonts.push(...e),r.length>0&&w.push(...r)}let b=(0,h.o)(t,i,a,n).map(e=>{let r=new s.xKN({effects:w});r.material=new s.edz(k),r.material.type=_.material.type,r.material.subType=_.material.subType;let{id:i,text:n,lineMaxWidth:a}=e.material;r.material.id=i,r.material.content=m.hM.replaceRichTextContent(k.content,n),r.material.text=void 0,!y&&(r.material.fontSize=void 0),r.material.words=void 0,r.material.subtitleKeywords=void 0,r.material.richTextCommand=null,r.material.lineMaxWidth=k.lineMaxWidth>0?k.lineMaxWidth:a,r.material.richTextCommand=null;let o=new s.PA((0,u.q)(x,e.targetTimerange.duration));return r.animations=o,(0,c.l)(t,e.id,r)});(0,c.W)(b,e)}_parseOriginalFontSize(e){let t=m.hM.getMixedStyles(e.material.content,{begin:0,end:e.material.text.length});return t.fontSizes.length>0?t.fontSizes[0]:e.material.fontSize}}g.type=n.U.UPDATE_SUBTITLE_TEMPLATE},215051:function(e,t,r){r.d(t,{g:function(){return m}});var i=r(150002),n=r(853277),a=r(475028),s=r(690613),o=r(653322),l=r(333217),u=r(602777);let c=(0,a.i)(o.H.AddTargetIndexNotValid,""),d=(0,a.i)(o.H.NotAudioTrackInsertAfterAudioTrack,""),h=(0,a.i)(o.H.AudioTrackInsertBeforeNotAudioTrack,"");class m extends i.a{get type(){return m.type}check(e){if(this.options.trackIndex<0)return c(`trackIndex is not valid:${this.options.trackIndex}`);if(this.options.track.type!==u.pN.TrackTypeAudio){let t=e.getFirstTrackIndexByTrackType(u.pN.TrackTypeAudio);if(void 0!==t&&this.options.trackIndex>t)return d(`not audio track insert after audio track, audio track index: ${t}, target track index: ${this.options.trackIndex}`)}else for(let t=e.getAllTracks().length-1;t>=this.options.trackIndex;t--)if(e.getAllTracks()[t].type!==u.pN.TrackTypeAudio)return h(`audio track insert before not audio track, not audio track index: ${t}, target track index: ${this.options.trackIndex}`);return(0,s.ly)()}do(e,t,r){e(new l.c({trackProperty:this.options.track,trackIndex:this.options.trackIndex}))}}m.type=n.U.ADD_TRACK},314409:function(e,t,r){r.d(t,{$:function(){return m}});var i=r(150002),n=r(853277),a=r(176791),s=r(211561),o=r(448218),l=r(392742),u=r(690613),c=r(481631),d=r(268468),h=r(49667);class m extends i.a{get type(){return m.type}check(e){return(0,u.ly)()}do(e,t){let r=new d.ry;r.videoMute=this.options.muted;let i=t.getDraftById(this.options.draftId);if(!i)return;(0,o.W)({type:l.x.SetDocumentProperty,params:{propertyDelta:r,draftId:this.options.draftId}},e);let n=i.getMainTrack();if(!!n)for(let t of n.segments){if(!(0,c.he)(t))continue;let{volume:r}=t,n=t.lastNonzeroVolume,l=new s.NOn;if(!this.options.muted&&r<=0){let e=n>0?n:a.bf;h.vc.FEATURE_SEPARATE_TRACE_MUTED_AND_SEGMENT_VOLUME&&(e=n),l.volume=e,l.lastNonzeroVolume=e}else this.options.muted&&r>0&&(l.volume=0,l.lastNonzeroVolume=r);let u=new a.wK().muteAllKeyframes(t,this.options.muted);l.commonKeyframes=u,(0,o.W)((0,o.l)(i,t.id,l),e)}}}m.type=n.U.TRACK_MUTE},342954:function(e,t,r){r.d(t,{D:function(){return p}});var i=r(150002),n=r(853277),a=r(129862),s=r(211561),o=r(475028),l=r(690613),u=r(481631),c=r(653322),d=r(283751);let h=(0,o.i)(c.H.RemoveVideoMaskSegmentNotExist,""),m=(0,o.i)(c.H.RemoveVideoMaskTypeNotValid,"");class p extends i.a{get type(){return p.type}check(e){let t=e.getSegmentById(this.options.segId);return t?(!(0,u.he)(t)&&m(`segment type is not valid. type is ${t.__segment_struct_type}`),(0,l.ly)()):h("segment is not exist")}do(e,t,r){let i=t.getSegmentById(this.options.segId);if(!i||!(0,u.he)(i))return;let n=new s.NOn;n.videoMask=null;let o=(0,u.xX)({__segment_struct_type:i.__segment_struct_type});d.T.pick(i,n,o),e(new a.F({segmentDelta:n,segmentId:this.options.segId,trackId:t.getTrackBySegmentId(this.options.segId).id,trackIndex:t.getTrackIndexBySegmentId(this.options.segId),sourceSegmentDelta:o}))}}p.type=n.U.VIDEO_REMOVE_MASK},257675:function(e,t,r){r.d(t,{j:function(){return m}});var i=r(211561),n=r(150002),a=r(853277),s=r(475028),o=r(690613),l=r(653322),u=r(481631),c=r(129862);let d=(0,s.i)(l.H.SetVideoObjectLockedNotExist,""),h=(0,s.i)(l.H.SetVideoObjectLockedTypeNotValid,"");class m extends n.a{get type(){return a.U.VIDEO_REMOVE_OBJECT_LOCKED}check(e){let{segmentId:t}=this.options,r=e.getSegmentById(t);return r?(0,u.he)(r)?r.material.type!==i.cVg.MetaTypeVideo?h(`segment material type not valid: ${r.material.type}`):(0,o.ly)():h(`segment type not valid: ${r.__segment_struct_type}`):d(`segment not exist: ${t}`)}do(e,t,r){let{segment:n,trackIndex:a}=t.getSegmentAtPositionById(this.options.segmentId);if((0,u.he)(n)){let r=new i.NOn;r.material=new i.K2q,r.material.objectLocked=null;let s=(0,u.xX)({__segment_struct_type:n.__segment_struct_type});e(new c.F({trackId:t.getTrackByIndex(a).id,trackIndex:t.getTrackIndexBySegmentId(n.id),segmentId:n.id,segmentDelta:r,sourceSegmentDelta:s}))}}}},818712:function(e,t,r){r.d(t,{s:function(){return p}});var i=r(211561),n=r(129862),a=r(150002),s=r(853277),o=r(475028),l=r(690613),u=r(481631),c=r(653322),d=r(283751);let h=(0,o.i)(c.H.SetVideoChromaColorSegmentNotExist,""),m=(0,o.i)(c.H.SetVideoChromaColorSegmentTypeNotValid,"");class p extends a.a{get type(){return p.type}check(e){let{segId:t}=this.options,r=e.getSegmentById(t);return r?(0,u.he)(r)?(0,l.ly)():m(`segment type not valid: ${t}`):h(`segment not exist: ${t}`)}do(e,t,r){var a;let{segId:s,path:o,color:l,version:c}=this.options,h=t.getSegmentNodeById(s,[]),m=null==h?void 0:h.segment,p=null!==(a=null==h?void 0:h.trackNode.track.id)&&void 0!==a?a:"",g=new i.NOn,f=m.chroma?new i.VJQ(m.chroma).clone():new i.VJQ;f.color=l,f.path=o,void 0!==c&&(f.version=c);let y=new i.Xkj(f);g.chroma=y;let _=(0,u.xX)({__segment_struct_type:m.__segment_struct_type});d.T.pick(m,g,_),e(new n.F({trackId:p,trackIndex:t.getTrackIndexBySegmentId(m.id),segmentId:m.id,segmentDelta:g,sourceSegmentDelta:_}))}}p.type=s.U.VIDEO_SET_CHROMA_COLOR},57089:function(e,t,r){r.d(t,{Q:function(){return p}});var i=r(150002),n=r(853277),a=r(211561),s=r(129862),o=r(475028),l=r(690613),u=r(653322),c=r(481631),d=r(283751);let h=(0,o.i)(u.H.ApplyVideoAllChromaSegmentNotExist,""),m=(0,o.i)(u.H.ApplyVideoAllChromaSegmentTypeNotValid,"");class p extends i.a{get type(){return p.type}check(e){let{segmentId:t}=this.options,r=e.getSegmentById(t);return r?(0,c.he)(r)?(0,l.ly)():m(`segment type not valid: ${t}`):h(`segment not exist: ${t}`)}do(e,t,r){let{segmentId:i,path:n,stableLevel:o,matrixPath:l}=this.options,u=t.getTrackBySegmentId(i),h=t.getSegmentById(i);if(!h||!(0,c.he)(h))return;let m=new a.NOn,p=new a.K2q,g=0===o?null:new a.unS({stableLevel:o,matrixPath:l});!p.videoAlgorithm&&(p.videoAlgorithm=new a.OHm),p.videoAlgorithm.path=n,p.stable=g,m.material=p;let f=(0,c.xX)({__segment_struct_type:h.__segment_struct_type});d.T.pick(h,m,f),e(new s.F({trackId:u.id,trackIndex:t.getTrackIndexBySegmentId(i),segmentId:i,segmentDelta:m,sourceSegmentDelta:f}))}}p.type=n.U.VIDEO_SET_STABLE},321965:function(e,t,r){r.d(t,{a:function(){return g}});var i=r(150002),n=r(853277),a=r(211561),s=r(676177),o=r(475028),l=r(690613),u=r(481631),c=r(653322);let d=(0,o.i)(c.H.UpdateVideoMaterialSegmentNotExist,""),h=(0,o.i)(c.H.UpdateVideoMaterialTypeNotValid,""),m=(0,o.i)(c.H.UpdateVideoMaterialDurationNotValid,""),p=(0,o.i)(c.H.UpdateVideoMaterialMaterialDraftError,"");class g extends i.a{get type(){return n.U.VIDEO_UPDATE_MATERIAL}check(e){let{segIds:t=[],video:r}=this.options;for(let r of t){let t=e.getSegmentById(r);if(!t)return d("segment is not exist");if(!(0,u.he)(t))return h(`segment type is not video, type is ${t.__segment_struct_type}`);if(t.materialDraft)return p("composition segment material can not be update")}return r.type===a.cVg.MetaTypeVideo&&(r.duration<=0n||r.sourceDuration<=0n)?m("duration can not be < 0"):(0,l.ly)()}do(e,t,r){let i=[];t.enumSegmentsRecursion((r,n,a)=>{if(!!(0,u.he)(n)&&!!this.options.segIds.includes(n.id)&&!!a)s.M.updateMaterial(e,t,a,n,this.options),r.length&&i.push(r[r.length-1])},!0,a.pNd.TrackTypeVideo,a.cVg.MetaTypeNone)}}g.type=n.U.VIDEO_UPDATE_MATERIAL},417927:function(e,t,r){r.d(t,{C2:function(){return w},_m:function(){return v._},dx:function(){return x}});var i,n=r(282192),a=r(646290),s=r(700857),o=r(121684),l=r(313934),u=r(599446),c=r(575016),d=r(129862),h=r(430832),m=r(333217),p=r(900017),g=r(417609),f=r(537004),y=r(340294),_=r(800788),v=r(882407),T=r(381119),I=r(419537),k=r(76592);var w=((i={})[i.Action=0]="Action",i[i.Draft=1]="Draft",i[i.ActionArgs=2]="ActionArgs",i);class x{static serialize(e){let t=`{"actionType":${e.actionType},"operateType":${e.operateType},"commitId":"${e.commitId}","actionVersion":"${e.actionVersion}","mutationDatas":[`;return e.mutations.map(e=>{switch(e.type){case n.x1.SetDocumentMetadata:t+=`${a.e.serialize(e)},`;break;case n.x1.SetDocumentProperty:t+=`${s.W.serialize(e)},`;break;case n.x1.SetGroupContainerProperty:t+=`${o.r.serialize(e)},`;break;case n.x1.DeleteSegment:t+=`${l.j.serialize(e)},`;break;case n.x1.InsertSegment:t+=`${u._.serialize(e)},`;break;case n.x1.MoveSegment:t+=`${c.B.serialize(e)},`;break;case n.x1.UpdateSegment:t+=`${d.F.serialize(e)},`;break;case n.x1.DeleteTrack:t+=`${h.R.serialize(e)},`;break;case n.x1.InsertTrack:t+=`${m.c.serialize(e)},`;break;case n.x1.MoveTrack:t+=`${p.p.serialize(e)},`;break;case n.x1.UpdateTrack:t+=`${g.t.serialize(e)},`;break;case n.x1.AttachmentInsertMutation:t+=`${T.Q.serialize(e)},`;break;case n.x1.AttachmentUpdateMutation:t+=`${I.K.serialize(e)},`;break;case n.x1.AttachmentDeleteMutation:t+=`${k.h.serialize(e)},`;break;default:(0,_.bP)(e.type,`without mutation serialize ${e.type}`)}}),e.mutations.length>0&&(t=t.slice(0,t.length-1)),t+="]}"}static deserialize(e){let t=y.HH.parse(e),r=t.mutationDatas.map(e=>{switch(e.type){case n.x1.SetDocumentMetadata:return a.e.deserialize(e);case n.x1.SetDocumentProperty:return s.W.deserialize(e);case n.x1.SetGroupContainerProperty:return o.r.deserialize(e);case n.x1.DeleteSegment:return l.j.deserialize(e);case n.x1.InsertSegment:return u._.deserialize(e);case n.x1.MoveSegment:return c.B.deserialize(e);case n.x1.UpdateSegment:return d.F.deserialize(e);case n.x1.DeleteTrack:return h.R.deserialize(e);case n.x1.InsertTrack:return m.c.deserialize(e);case n.x1.MoveTrack:return p.p.deserialize(e);case n.x1.UpdateTrack:return g.t.deserialize(e);case n.x1.AttachmentInsertMutation:return T.Q.deserialize(e);case n.x1.AttachmentUpdateMutation:return I.K.deserialize(e);case n.x1.AttachmentDeleteMutation:return k.h.deserialize(e);default:(0,_.bP)(e.type,`without mutation deserialize ${e.type}`)}});return new x({acType:t.actionType,opType:t.operateType,muts:r,commitId:t.commitId,dataVersion:t.actionVersion})}constructor(e){this.actionType=e.acType,this.operateType=e.opType,this.mutations=e.muts,this.commitId=e.commitId;let t=(0,f.Zq)(this.mutations,e.dataVersion);(0,_.Y2)(t,"mut version error"),this.actionVersion=t}}},695102:function(e,t,r){r.d(t,{c:function(){return T}});var i=r(789786),n=r(846778),a=r(743007),s=r(384763),o=r(369165),l=r(650387),u=r(366566),c=r(288947),d=r(424361),h=r(11440),m=r(218008),p=r(438176),g=r(211561),f=r(268468),y=r(529628),_=r(800788),v=r(575534);class T extends v.e{setCanvasSize(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return this._mixApplyLocal({action:new l.J(e)},{canUndoRedo:t,commit:r})}setCanvasBackground(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return this._mixApplyLocal({action:new o.J(e)},{canUndoRedo:t,commit:r})}setCover(e){return this._mixApplyLocal({action:new u.I(e)})}clearCover(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return this._mixApplyLocal({action:new n.A},{canUndoRedo:e})}setDraft(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return this._mixApplyLocal({action:new c.s(e)},{canUndoRedo:t})}clearDraft(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return this._mixApplyLocal({action:new a.E},{canUndoRedo:e})}setDraftName(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return this._mixApplyLocal({action:new h.s({propertyDelta:new f.ry({name:e})})},{canUndoRedo:t,commit:r})}setDraftId(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2?arguments[2]:void 0;return this._mixApplyLocal({action:new d.I({metadataDelta:new f.UK({id:e})})},{canUndoRedo:t,operateIdToCompose:r})}ensureDraftCanvasSize(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return this._mixApplyLocal({action:new s.d(e)},{canUndoRedo:t})}setDraftUpdateTime(e){return this._mixApplyLocal({action:new d.I({metadataDelta:new f.UK({updateTime:e})})})}updateDraftAIGCWatermark(e){return!p.R&&(0,_.ss)("updateDraftAIGCWatermark only for server!"),this._mixApplyLocal({action:new m.i(e)})}setAlignMode(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=!(arguments.length>3)||void 0===arguments[3]||arguments[3],n=new f.ry;return n.mutableConfig=new g.Rfr({alignMode:e}),this._mixApplyLocal({action:new h.s({propertyDelta:n,draftId:t})},{canUndoRedo:r,commit:i})}setDraftKeywordsConfigs(e){let t=new f.ry;return t.subtitleKeywordsConfig=e,this._mixApplyLocal({action:new h.s({propertyDelta:t})})}}(0,i.gn)([(0,y.cM)("draftApi"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof ISetCanvasConfigActionOptions?Object:ISetCanvasConfigActionOptions,void 0,void 0]),(0,i.w6)("design:returntype",void 0)],T.prototype,"setCanvasSize",null),(0,i.gn)([(0,y.cM)("draftApi"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof ISetCanvasBackgroundActionOptions?Object:ISetCanvasBackgroundActionOptions,void 0,void 0]),(0,i.w6)("design:returntype",void 0)],T.prototype,"setCanvasBackground",null),(0,i.gn)([(0,y.cM)("draftApi"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof ISetCoverOptions?Object:ISetCoverOptions]),(0,i.w6)("design:returntype",void 0)],T.prototype,"setCover",null),(0,i.gn)([(0,y.cM)("draftApi"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0]),(0,i.w6)("design:returntype",void 0)],T.prototype,"clearCover",null),(0,i.gn)([(0,y.cM)("draftApi"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof ISetDraftOptions?Object:ISetDraftOptions,void 0]),(0,i.w6)("design:returntype",void 0)],T.prototype,"setDraft",null),(0,i.gn)([(0,y.cM)("draftApi"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0]),(0,i.w6)("design:returntype",void 0)],T.prototype,"clearDraft",null),(0,i.gn)([(0,y.cM)("draftApi"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[String,void 0,void 0]),(0,i.w6)("design:returntype",void 0)],T.prototype,"setDraftName",null),(0,i.gn)([(0,y.cM)("draftApi"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[String,void 0,String]),(0,i.w6)("design:returntype",void 0)],T.prototype,"setDraftId",null),(0,i.gn)([(0,y.cM)("draftApi"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof IEnsureDraftCanvasSizeActionOptions?Object:IEnsureDraftCanvasSizeActionOptions,void 0]),(0,i.w6)("design:returntype",void 0)],T.prototype,"ensureDraftCanvasSize",null),(0,i.gn)([(0,y.cM)("draftApi"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof BigInt?Object:BigInt]),(0,i.w6)("design:returntype",void 0)],T.prototype,"setDraftUpdateTime",null),(0,i.gn)([(0,y.cM)("draftApi"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof IUpdateDraftAIGCWatermarkOptions?Object:IUpdateDraftAIGCWatermarkOptions]),(0,i.w6)("design:returntype",void 0)],T.prototype,"updateDraftAIGCWatermark",null),(0,i.gn)([(0,y.cM)("draftApi"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===g._T0?Object:g._T0,String,void 0,void 0]),(0,i.w6)("design:returntype",void 0)],T.prototype,"setAlignMode",null),(0,i.gn)([(0,y.cM)("draftApi"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object]),(0,i.w6)("design:returntype",void 0)],T.prototype,"setDraftKeywordsConfigs",null)},623490:function(e,t,r){r.d(t,{C:function(){return n},Z:function(){return i}});class i{initPrevMainTrackSegmentsTargetTime(e){this.prevMainTrackSegmentsTargetTime=e}mainTrackSegmentSourceTimeHasChange(e){var t,r;let n,a;let s=null!==(r=null===(t=e.getMainTrack())||void 0===t?void 0:t.segments)&&void 0!==r?r:[],{prevMainTrackSegmentsTargetTime:o}=this,l=!1;this.prevMainTrackSegmentsTargetTime=s.map(e=>({id:e.id,targetTimerange:{start:e.targetTimerange.start,duration:e.targetTimerange.duration}})),o.length>s.length?(n=o,a=this.prevMainTrackSegmentsTargetTime):(n=this.prevMainTrackSegmentsTargetTime,a=o),o.length!==s.length&&(l=!0);for(let e=0;e<n.length;e++){let t;let r=n[e],s=a[e];if(t=!s||s.id!==r.id||s.targetTimerange.start!==r.targetTimerange.start||s.targetTimerange.duration!==r.targetTimerange.duration){i.minMainTrackChangeIndex=e,l=!0;break}}return l}constructor(){this.prevMainTrackSegmentsTargetTime=[]}}i.minMainTrackChangeIndex=-1;let n=new i},49667:function(e,t,r){r.d(t,{NG:function(){return a},kM:function(){return n},vc:function(){return i}});let i={FEATURE_SEPARATE_TRACE_MUTED_AND_SEGMENT_VOLUME:!0,FEATURE_FRAME_TIME_AUTO_ALIGNMENT:!0},n={PREFERRED_RES_ID:"6976822940608238093",GLOBAL_FACE_ID:"-1"},a=new Set(["6936059789155766785","6936059834206786049","6936059869082423810","6936059954742694402","6936059969326289410","6936059986288054786","7167023658689368577","7148719615961469441","6935356483945107982","6935356367834190343","6935356254265020965","6935355941525131783","6935355859065115173","6935355734624309774"])},87333:function(e,t,r){r.d(t,{h:()=>w});var i=r("789786"),n=r("862213"),a=r("457812"),s=r("32546"),o=r("391889"),l=r("417273"),u=r("924041"),c=r("855871"),d=r("508962"),h=r("418892"),m=r("657430"),p=r("325784"),g=r("340294"),f=r("529628"),y=r("612441"),_=r("887214"),v=r("211561"),T=r("587892"),I=r("426336"),k=r("552261");class w{get draftView(){return this._draft}createDraft(e,t){var r;return this._draft.setDraftId(null!=e?e:(0,I.pB0)()),(null==t?void 0:null===(r=t.customRuntimeRepairTasks)||void 0===r?void 0:r.length)&&t.customRuntimeRepairTasks.forEach(e=>e.repair({draft:this._draft})),this.triggerTotalDraftChangeDiff(),this.draftView}recoveryDraft(e,t){e=(0,u.Mo)(e);let r=v.dlq.deserialize(e);return(0,d.Lo)(r),this._draft.recovery(r,t),this._behavior.recoveryDraftSideEffect(),this.triggerTotalDraftChangeDiff(),this._behavior.reportDraft(e),this.draftView}getDraftJsonData(){return v.dlq.serialize(this._draft.archive())}resetDraft(){return this._setClearDraftChangeDiff(),this._draft.reset(),this.triggerClearDraftChangeDiff(),this.draftView}getDraftStr(){let e=v.dlq.serialize(this._draft.archive());return g.HH.stringify(e)}getDraftStrWithNewDraftId(e){let t=this._draft.metadata.id;this._draft.metadata.id=e;let r=this.getDraftStr();return this._draft.metadata.id=t,r}recoveryAttachmentAsyncTask(e){this._draft.recoveryAttachmentAsyncTask(e)}getAttachmentAsyncTaskStr(){return g.HH.stringify(this._draft.archiveAttachmentAsyncTask())}recoveryAttachmentVideoAlgorithms(e){this._draft.recoveryAttachmentVideoAlgorithm(e)}getAttachmentVideoAlgorithmsStr(){return g.HH.stringify(this._draft.archiveAttachmentVideoAlgorithms())}recoveryAttachmentAiWriter(e){this._draft.recoveryAttachmentAiWriter(e)}getAttachmentAiWriterStr(){return g.HH.stringify(this._draft.archiveAttachmentAiWriter())}recoveryAttachmentAiStory(e){let t=(0,c.S)(e,I.JFE.AttachmentAiStory);t=(0,u.b)(t,I.JFE.AttachmentAiStory),this._draft.recoveryAttachmentAiStory(t),this.triggerAttachmentChangeDiff()}recoverytAttachmentAiCreator(e){let t=(0,u.b)(e,I.JFE.AttachmentAiCreator);this._draft.aiCreator=v.Dco.deserialize(t),this.triggerAttachmentChangeDiff()}getAttachmentAiStoryStr(){return g.HH.stringify(v.z8z.serialize(this._draft.archiveAttachmentAiStory()))}getAttachmentAiCreatorStr(){return g.HH.stringify(v.Dco.serialize(this._draft.aiCreator))}initChangeDiffEvent(){this._behavior.onChangeDiff(e=>{this._onChangeDiff.fire(e);let{actionOperateType:t}=e;t===n.aW.Undo?this._onDidUndo.fire(e):t===n.aW.Redo&&this._onDidRedo.fire(e)})}initChangeCanvasSizeEvent(){this._behavior.onChangeCanvasSize(e=>{this._onChangeCanvasSize.fire(e)})}initChangeDraftIdEvent(){this._behavior.onChangeDraftId(e=>{this._onChangeDraftId.fire(e)})}initInnerReplaceEvent(){y.ty.event(e=>{(0,y.yJ)(this._undoRedoStack,e)}),p.US.event(e=>{(0,p.GG)(this._undoRedoStack,e)})}getChangeNodesFromModel(){let e={[o.u4.SEGMENT]:[],[o.u4.TRACK]:[],[o.u4.CONFIG]:[{item:{metadata:this._draft.metadata,property:this._draft.property},type:o.C8.UPDATE}],[o.u4.SELECTION]:[],[o.u4.ATTACHMENT]:[]},t=0;return this._draft.tracks.forEach((r,i)=>{r.segments.forEach(r=>{e[o.u4.SEGMENT].push({item:{segment:r,segmentType:r.__segment_struct_type,path:this._draft.getSegmentPath(r.id),trackIndex:i},order:t++,type:o.C8.ADD})})}),{...e,actionList:[],videoDocument:this._draft,actionOperateType:n.aW.History,hasMainTrackSegmentTargetTimeChange:!0}}getChangeNodesFromAttachment(){let e={[o.u4.SEGMENT]:[],[o.u4.TRACK]:[],[o.u4.CONFIG]:[],[o.u4.SELECTION]:[],[o.u4.ATTACHMENT]:[]},t=0;return this._draft.aiCreator&&e[o.u4.ATTACHMENT].push({item:{attachmentKey:I.d3H.AiCreator,key:this._draft.aiCreator.title,value:this._draft.aiCreator},type:o.C8.ADD,order:t++}),this._draft.attachmentAiStory.materials.forEach((r,i)=>{var n,a;e[o.u4.ATTACHMENT].push({item:{attachmentKey:I.d3H.AiStoryAlternativeMaterial,key:r.segmentId,value:{trackIndex:0,trackId:null!==(a=null===(n=this._draft.tracks[0])||void 0===n?void 0:n.id)&&void 0!==a?a:"",draftId:"",material:r}},type:o.C8.ADD,order:t++})}),{...e,actionList:[],videoDocument:this._draft,actionOperateType:n.aW.History,hasMainTrackSegmentTargetTimeChange:!1}}dispose(){this._onChangeDiff.dispose(),this._onDidUndo.dispose(),this._onDidRedo.dispose(),this._onUndoRedoChange.dispose()}clearUndoRedoStack(){this._undoRedoStack.reset()}setEnsureDraftCanvasSizeEnabled(e){this._draft.property.draftCanvasSizeConfig.ensureDraftCanvasSizeEnabled=e}setEnsureDraftCanvasSizeParam(e,t,r){this._draft.property.draftCanvasSizeConfig.ensureDraftCanvasSizeParam={...this._draft.property.draftCanvasSizeConfig.ensureDraftCanvasSizeParam,containerWidth:e,containerHeight:t,ratio:r}}applyAction(e,t){this._behavior.applyAction(e,t)}getSIMDForH264Config(){let e;return void 0!==e?e:e=[new URLSearchParams(window.location.search).get("enable_ff264_simd"),window.localStorage.getItem("enable_ff264_simd")].includes("1")}updateDataVersion(e){this._draftVersionManager.updateVersion(e)}getDataVersion(){return this._draftVersionManager.getVersion()}triggerTotalDraftChangeDiff(){this._onChangeDiff.fire(this.getChangeNodesFromModel())}triggerAttachmentChangeDiff(){this._onChangeDiff.fire(this.getChangeNodesFromAttachment())}triggerClearDraftChangeDiff(){this._onChangeDiff.fire(this.getClearDraftChangeDiff())}getClearDraftChangeDiff(){return this._clearDraftChangeDiff}_setClearDraftChangeDiff(){let e={[o.u4.SEGMENT]:[],[o.u4.TRACK]:[],[o.u4.CONFIG]:[],[o.u4.SELECTION]:[],[o.u4.ATTACHMENT]:[]},t=0;this._draft.tracks.forEach((r,i)=>{r.segments.forEach(r=>{e[o.u4.SEGMENT].push({item:{id:r.id,segment:r,segmentType:r.__segment_struct_type,path:this._draft.getSegmentPath(r.id),trackIndex:i},order:t++,type:o.C8.DELETE})})}),this._clearDraftChangeDiff={...e,actionList:[],videoDocument:this._draft,actionOperateType:n.aW.History,hasMainTrackSegmentTargetTimeChange:!0}}_downloadLog(){(0,g.LR)("log.txt",JSON.stringify(f.GB))}constructor(e){this._config=null!=e?e:k._E,this._draft=new l.pN,this._draftVersionManager=new _.sg,this._mutationApi=new h.C,this._undoRedoStack=new m.I({followCommand:(e,t,r)=>({...e,mutations:this._mutationApi.follow(e.mutations,t.mutations,r)}),composeCommand:(e,t)=>({...e,mutations:this._mutationApi.compose(e.mutations,t.mutations)}),onUndoRedoChange:()=>{this._onUndoRedoChange.fire()}}),this._behavior=new s.c(this._draft,this._mutationApi,this._undoRedoStack,this._draftVersionManager,this._config),this.api=new a.x(this._draft,this._behavior),this._onChangeDiff=new T.Q,this._onChangeCanvasSize=new T.Q,this._onChangeDraftId=new T.Q,this.onChangeDiff=this._onChangeDiff.event,this.onChangeCanvasSize=this._onChangeCanvasSize.event,this.onChangeDraftId=this._onChangeDraftId.event,this._onDidUndo=new T.Q,this.onDidUndo=this._onDidUndo.event,this._onDidRedo=new T.Q,this.onDidRedo=this._onDidRedo.event,this._onUndoRedoChange=new T.Q,this.onUndoRedoChange=this._onUndoRedoChange.event,this.onAbort=this._behavior.onAbort,this.onBatchStart=this._behavior.onBatchStart,this.onBatchEnd=this._behavior.onBatchEnd,this.onChangeFirstFrame=this._behavior.onChangeFrame,this.onAfterActionRun=this._behavior.onAfterActionRun,this.initChangeDiffEvent(),this.initChangeCanvasSizeEvent(),this.initChangeDraftIdEvent(),this.initInnerReplaceEvent(),this.cutSame=new I.BeO(this._draft,this.onChangeDiff)}}(0,i.gn)([(0,f.cM)("recovery"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof Record?Object:Record,Object]),(0,i.w6)("design:returntype","undefined"==typeof IDraftView?Object:IDraftView)],w.prototype,"recoveryDraft",null),(0,i.gn)([(0,f.cM)("recoveryAiCreator"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof Record?Object:Record]),(0,i.w6)("design:returntype",void 0)],w.prototype,"recoverytAttachmentAiCreator",null)},438176:function(e,t,r){r.d(t,{H:function(){return i},R:function(){return n}});let i="undefined"!=typeof window,n=!i},426336:function(e,t,r){r.d(t,{U_g:()=>s.U_g,WSD:()=>s.WSD,OTo:()=>s.OTo,u3w:()=>s.u3w,yCo:()=>s.yCo,mFk:()=>s.mFk,I90:()=>eE.I9,MoK:()=>f.Mo,SyO:()=>g.Sy,u4I:()=>m.u4,wIK:()=>eh.wI,koq:()=>o.koq,WuX:()=>o.WuX,eAb:()=>o.eAb,W9x:()=>o.W9x,sq5:()=>o.sq5,Yy:()=>o.Yy,C8:()=>m.C8,Eu:()=>n.Eu,eK:()=>eo.eK,PDe:()=>eS.PD,$FH:()=>Z.$F,Bt3:()=>Z.Bt,Fpc:()=>Z.Fp,hPV:()=>es.h,nrl:()=>q.nr,pcG:()=>q.pc,T8X:()=>ez.T,bbM:()=>eO.bb,dlx:()=>ea.dl,ZK_:()=>ea.ZK,Dkg:()=>G.D,NG_:()=>ew.NG,TNL:()=>eL.T,Jqc:()=>eB.Jq,cJv:()=>o.cJv,edz:()=>o.edz,_0h:()=>o._0h,K2q:()=>o.K2q,wOM:()=>l.wO,Ciz:()=>o.Ciz,Iew:()=>$.I,M_W:()=>o.M_W,CCx:()=>o.CCx,wSc:()=>o.wSc,MM7:()=>o.MM7,S8D:()=>o.S8D,kph:()=>o.kph,ic0:()=>ey.i,ysb:()=>ek.y,C3w:()=>B.C3,TIP:()=>s.TIP,FeB:()=>s.FeB,BZR:()=>s.BZR,tyu:()=>ef.ty,HHr:()=>q.HH,zGW:()=>o.zGW,bZ2:()=>n.bZ,zzh:()=>n.zz,R6k:()=>n.R6,DeX:()=>n.De,rqx:()=>n.rq,NGh:()=>n.NG,pB0:()=>ei.p,P2G:()=>J.P2,pyj:()=>eV.py,VIL:()=>u.VI,$SW:()=>n.$S,pNd:()=>n.pN,v$U:()=>n.v$,FC7:()=>n.FC,ZTd:()=>n.ZT,t4T:()=>o.t4T,H1R:()=>o.H1R,BzH:()=>Q.B,LDB:()=>ep.L,hMI:()=>em.hM,tnv:()=>o.tnv,fQ8:()=>o.fQ8,jey:()=>j.je,pN8:()=>a.pN,dZy:()=>p.W,NN_:()=>q.NN,dDv:()=>q.dD,rX1:()=>q.rX,rts:()=>g.rt,vJZ:()=>Y.v,vAK:()=>L.v,VwQ:()=>er.Vw,P28:()=>o.P28,ryY:()=>l.ry,VBR:()=>o.VBR,r8x:()=>o.r8x,b8q:()=>eN.b,BKu:()=>B.BK,j8m:()=>n.j8,XOM:()=>n.XO,nj7:()=>n.nj,P4R:()=>w.P,_T0:()=>n._T,QZ3:()=>n.QZ,s8r:()=>n.s8,M4l:()=>n.M4,seH:()=>n.se,yPX:()=>n.yP,KS6:()=>o.KS6,y4D:()=>eR,k_B:()=>o.k_B,eEW:()=>p.e,yt6:()=>q.yt,k3U:()=>q.k3,edG:()=>er.ed,Y_K:()=>g.Y_,sU5:()=>g.sU,GEr:()=>g.GE,BWs:()=>o.BWs,t55:()=>o.t55,P56:()=>eI.P5,zfp:()=>eM.s,XC4:()=>X.XC,BjE:()=>_.B,JFE:()=>v.JF,d3H:()=>s.d3H,lLh:()=>y.l,pMA:()=>q.pM,$UK:()=>eC.$U,zLw:()=>eC.zL,Rcq:()=>eC.Rc,VQb:()=>eI.VQ,Pc3:()=>eD.Pc,bJb:()=>s.bJb,xXD:()=>d.xX,F3_:()=>s.F3_,xrB:()=>s.xrB,lFK:()=>s.lFK,fGK:()=>g.fG,bXy:()=>o.bXy,bZh:()=>et.b,Hpt:()=>o.Hpt,vI$:()=>o.vI$,Zgq:()=>o.Zgq,Hqf:()=>U.Hq,xKN:()=>o.xKN,NOn:()=>o.NOn,nR_:()=>o.nR_,LCH:()=>eg.L,RZH:()=>n.RZ,hF:()=>c.h,vc:()=>ew.vc,FA:()=>eb.F,fT:()=>H.fT,mL_:()=>ed.mL,QZ7:()=>s.QZ7,Q2f:()=>s.Q2f,cE6:()=>s.cE6,itF:()=>d.it,Exy:()=>d.Ex,kjj:()=>d.kj,oP0:()=>d.oP,SiN:()=>d.Si,g28:()=>d.g2,E6P:()=>d.E6,ot2:()=>d.ot,YJd:()=>d.YJ,Q2R:()=>d.Q2,w5o:()=>d.w5,yK6:()=>eS.yK,TUZ:()=>n.TU,zAn:()=>n.zA,VAL:()=>n.VA,nH8:()=>n.nH,fvo:()=>n.fv,xbm:()=>n.xb,rxY:()=>n.rx,ZXd:()=>n.ZX,PbZ:()=>n.Pb,XHM:()=>n.XH,v5b:()=>o.v5b,np1:()=>n.np,dlq:()=>o.dlq,Hre:()=>q.Hr,BeO:()=>u.Be,Fxj:()=>eI.Fx,Mvo:()=>s.Mvo,ABm:()=>s.ABm,M_$:()=>X.M_,SXD:()=>n.SX,cvu:()=>n.cv,CHB:()=>n.CH,cVg:()=>n.cV,IDM:()=>n.ID,yY$:()=>n.yY,WPz:()=>ec.W,MDU:()=>i.MD,Ub2:()=>u.Ub,OvQ:()=>u.Ov,Y9Q:()=>d.Y9,w9k:()=>n.w9,Ocy:()=>n.Oc,OPZ:()=>eT.O,u$g:()=>R,C2Q:()=>eP.C2,k92:()=>k.k,C4B:()=>o.C4B,u2r:()=>K.u2,wx7:()=>o.wx7,U$d:()=>W.U$,Uof:()=>en.Uo,Cd0:()=>ee.C,wKd:()=>J.wK,gyO:()=>v.gy,Cg6:()=>g.Cg,UIg:()=>g.UI,cwy:()=>g.cw,cxM:()=>q.cx,CrL:()=>eC.Cr,cct:()=>el.cc,MnT:()=>eB.Mn,MQy:()=>h.MQ,GUA:()=>ea.GU,Ael:()=>eu.A,udP:()=>er.ud,uvf:()=>O.u,SYt:()=>n.SY,UYj:()=>l.UY,UKb:()=>l.UK,Uwl:()=>l.Uw,c8l:()=>eF.c8,ysx:()=>e_.y,Ytq:()=>ej.Y,SQk:()=>eV.SQ,ggg:()=>H.gg,soe:()=>Z.so,aB0:()=>Z.aB,_nF:()=>eE._n,Obb:()=>q.Ob,o8O:()=>ey.o,NF9:()=>ex.N,Fly:()=>o.Fly,bEb:()=>o.bEb,TQ4:()=>q.TQ,lA9:()=>er.lA,NHR:()=>d.NH,P2T:()=>d.P2,nJx:()=>d.nJ,Ftn:()=>d.Ft,X12:()=>d.X1,hey:()=>d.he,duj:()=>d.du,RFV:()=>d.RF,nOF:()=>d.nO,PJb:()=>Z.PJ,PtL:()=>Z.Pt,OLp:()=>ev.OL,Ez3:()=>B.Ez,O_D:()=>n.O_,Yzk:()=>n.Yz,gQP:()=>eU.g,UO5:()=>K.UO,O16:()=>eA.O1,oIP:()=>o.oIP,C8D:()=>o.C8D,I8_:()=>o.I8_,OR4:()=>eI.OR,oUy:()=>eI.oU,aWQ:()=>s.aWQ,G3_:()=>v.G3,G4M:()=>eD.G4,Gh5:()=>s.Gh5}),r("234075");var i=r("280700"),n=r("602777"),a=r("417273"),s=r("881337"),o=r("211561"),l=r("268468"),u=r("788470"),c=r("310693"),d=r("481631"),h=r("307510"),m=r("391889"),p=r("6342"),g=r("146514"),f=r("924041"),y=r("911838"),_=r("768883"),v=r("288907");r("282192");var T=r("444163"),I=r("298069"),k=r("342040"),w=r("78975"),x=r("312473"),b=r("231536"),M=r("438176"),A=r("247559"),S=r("358324"),z=r("729955"),C=r("642366"),D=r("671006"),E=r("82288"),P=r("716854"),N=r("667688"),V=r("677408");class F{updateTimeInfo(e){return this._apis.video.updateTimeInfo(e)}constructor(e){var t=this;this.audio={add:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,A.LA)(t._apis,...r)},update:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,A.Mk)(t._apis,...r)},updatePreview:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,A.yT)(t._apis,...r)},resetUpdatePreview:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,A.nu)(t._apis,...r)}},this.base={draftMetaUpdate:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,S.zk)(t._apis,...r)},draftPropertyUpdate:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,S.nk)(t._apis,...r)},renderIndexUpdate:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,S.kq)(t._apis,...r)},segmentRemove:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,S.iB)(t._apis,...r)}},this.filter={add:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,z.fd)(t._apis,...r)},update:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,z.d1)(t._apis,...r)},updatePreview:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,z.Ik)(t._apis,...r)},resetUpdatePreview:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,z.JQ)(t._apis,...r)},remove:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,z.R7)(t._apis,...r)}},this.pictureAdjust={add:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,C.Jm)(t._apis,...r)},update:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,C.xo)(t._apis,...r)},remove:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,C.dK)(t._apis,...r)}},this.sticker={add:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,D.M)(t._apis,...r)},update:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,D.G)(t._apis,...r)}},this.text={add:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,E.dK)(t._apis,...r)},update:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,E.AG)(t._apis,...r)},updatePreview:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,E.T)(t._apis,...r)},resetUpdatePreview:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,E.oZ)(t._apis,...r)}},this.textTemplate={add:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,P.nz)(t._apis,...r)},update:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,P.Sb)(t._apis,...r)},remove:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,P.rt)(t._apis,...r)},updatePreview:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,P.k6)(t._apis,...r)},resetUpdatePreview:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,P.Vt)(t._apis,...r)}},this.video={add:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,N.E)(t._apis,...r)},update:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,N.ze)(t._apis,...r)},updatePreview:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,N.CM)(t._apis,...r)},resetUpdatePreview:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,N.hs)(t._apis,...r)},remove:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,N.p4)(t._apis,...r)}},this.videoEffect={add:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,V.ZT)(t._apis,...r)},update:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,V.Se)(t._apis,...r)},updatePreview:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,V.Lw)(t._apis,...r)},resetUpdatePreview:function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,V.uE)(t._apis,...r)}},this._apis=e,this.editor=this._apis.editor,this.draft=e.draft}}var j=r("790136"),B=r("97244");class R{get fs(){return w.P.instance}get render(){return this._render}get resourceRecords(){return k.k.getInstance()}async reset(){var e;this.preview=null,this.editor=null,this.utils=null,this.apis=null,this.executor=null,await (null===(e=this._render)||void 0===e?void 0:e.reset()),this._init()}setRenderConfig(e){this._render.setRenderConfig(e)}recordResource(e){!Array.isArray(e)&&(e=[e]),k.k.getInstance().setRecords(e),e.forEach(e=>{let{resPath:t,stream:r,decryptKey:i}=e;if(r){var n,a,s,o,l;null===(n=this.utils)||void 0===n||n.putAssetUrl(t,r.url,r.headers,r.withCredentials,null!=i?i:"",null!==(a=r.decryptType)&&void 0!==a?a:"",null!==(s=r.type)&&void 0!==s?s:"",null!==(o=r.fsPath)&&void 0!==o?o:"",null!==(l=r.fetchOption)&&void 0!==l?l:"")}})}startPreload(e,t){var r;return null===(r=this.utils)||void 0===r?void 0:r.startPreload(e,t)}setEffectResourceRender(e){this._render.setEffectResourceRender(e)}setMediaInfo(e,t){(0,b.$l)(e,t)}setTextDirectionLevel(e){this._render.setTextDirectionLevel(e)}setFallbackFontPathList(e){this._render.setFallbackFontPathList(e)}isBlobExists(e){return!!this._module&&this._module.isBlobExists(e)}async insertBlob(e,t){var r,i;await (null===(r=this._module)||void 0===r?void 0:r.initBlobIO()),await (null===(i=this._module)||void 0===i?void 0:i.insertBlob(e,t))}async removeBlob(e){var t,r;await (null===(t=this._module)||void 0===t?void 0:t.initBlobIO()),await (null===(r=this._module)||void 0===r?void 0:r.removeBlob(e))}_init(){this._initRenderSDKAPI(this._render),this._initUtils()}_initRenderSDKAPI(e){let{preview:t,editor:r,utils:i,apis:n}=e;this.preview=t,this.editor=r,this.utils=i,this.apis=n,this.executor=new F(e.apis)}_initUtils(){this._fs&&w.P.SetInstance(this._fs),x.p.SetRender(this._render)}constructor(e){this.preview=null,this.editor=null,this.utils=null,this.apis=null,this.executor=null,this._fs=null;let{module:t,renderConfig:r}=e;this._module=t,M.H&&(this._fs=new I.B(t)),this._render=(0,T.P)(t,r),this._init()}}var O=r("469042"),L=r("615098"),U=r("455843"),K=r("396402"),W=r("528609"),Z=r("378188"),H=r("998179"),G=r("300820"),$=r("556784");r("716702");var X=r("909543"),q=r("340294"),Y=r("441021");r("635434");var Q=r("223729"),J=r("176791"),ee=r("203447");r("160849");var et=r("361708"),er=r("21510"),ei=r("287165"),en=r("239648");r("363397");var ea=r("930801"),es=r("30279"),eo=r("912224"),el=r("350902"),eu=r("274092"),ec=r("222298"),ed=r("487108"),eh=r("90844"),em=r("879566"),ep=r("454588"),eg=r("432641"),ef=r("612441"),ey=r("712616"),e_=r("501452"),ev=r("127926"),eT=r("423193");r("115406");var eI=r("436858"),ek=r("802195"),ew=r("49667"),ex=r("138302"),eb=r("192131"),eM=r("770868"),eA=r("81649"),eS=r("93735");r("819120");var ez=r("283751"),eC=r("216023"),eD=r("696011"),eE=r("150251"),eP=r("417927"),eN=r("35276");r("13242");var eV=r("931608"),eF=r("217201"),ej=r("982811"),eB=r("270519");class eR{listen(){this._behavior.onChangeDiff(()=>{this.mutableVideos=eR.GetMutableVideos(this._videoDocument,this.templateSlotLostVideoHolderPath),this.mutableTexts=eR.GetMutableTexts(this._videoDocument)})}reset(){this.templateSlotLostVideoHolderPath="",this.mutableVideos=[],this.mutableTexts=[],this.maxSpeed=0,this.minSpeed=0}static GetMutableVideos(e,t){let r=[],i=(0,ea.GU)(e);for(let n of i.keys()){let a=eR.FindMutableVideo(e,t,i,n);a&&r.push(a)}return r.sort((e,t)=>e.targetStart<t.targetStart?-1:1),r}static GetMutableVideo(e,t,r){let i=(0,ea.GU)(e);return eR.FindMutableVideo(e,t,i,r)}static GetMutableTexts(e){let t=[],r=(0,ea.GU)(e);for(let i of e.getTracksByTypes([o.pNd.TrackTypeText,o.pNd.TrackTypeSticker]))for(let e of i.segments)if((0,d.Ft)(e)){let i=e.material.id;if(!r.has(i))continue;let n=(0,s.iAM)({});n.id=i,n.segmentId=e.id,n.targetStart=e.targetTimerange.start,n.targetDuration=e.targetTimerange.duration,n.text=e.material.text,n.animations=(0,ea.Bh)(e),n.commonKeyframes=(0,ea.K4)(e),t.push(n)}else if((0,d.Q2)(e)){let i=ek.y.isNewTextTemplateSegment(e.material);for(let n of e.material.textInfoResources){let a=n.textMaterial,o=a.id;if(!r.has(o))continue;let l=(0,s.iAM)({});l.id=o,l.segmentId=e.id,l.targetStart=e.targetTimerange.start,l.targetDuration=e.targetTimerange.duration,i?l.text=a.text:l.text=a.content,t.push(l)}}return t.sort((e,t)=>e.targetStart<t.targetStart?-1:1),t}static FindMutableVideo(e,t,r,i){for(let t of e.getSegmentsByTrackTypes([o.pNd.TrackTypeVideo])){var n,a,l,u,c,h,m,p,g;if(!(0,d.he)(t)||i!==t.material.id)continue;let f=(0,s.ndz)({}),{material:y}=t;f.id=i,f.segmentId=t.id,f.crop=[y.crop.upperLeftX,y.crop.upperLeftY,y.crop.upperRightX,y.crop.upperRightY,y.crop.lowerLeftX,y.crop.lowerLeftY,y.crop.lowerRightX,y.crop.lowerRightY],f.width=y.width,f.height=y.height,f.source=y.source,f.sourcePlatform=y.sourcePlatform,f.materialId=y.materialId,f.materialName=y.materialName,f.path=y.path,f.targetStart=t.targetTimerange.start,f.targetDuration=t.targetTimerange.duration,f.sourceStart=null!==(l=null===(n=t.sourceTimerange)||void 0===n?void 0:n.start)&&void 0!==l?l:0n,f.sourceDuration=null!==(u=null===(a=t.sourceTimerange)||void 0===a?void 0:a.duration)&&void 0!==u?u:0n;let _=y.type;f.duration=_===o.cVg.MetaTypePhoto?0n:y.duration,f.metaType=_;let v=e.getTrackNodeBySegmentId(f.segmentId);f.trackIdx=v?v.trackIndex:-1;let T=0,I=!1,k=ev.OL.findKeyframes(t,o.Eu.KFTypeVolume);if(k)for(let e of k.keyframeList){if(null!==e&&0!==e.values.length)I=!0,T=Math.max(e.values[0],T)}!I&&(T=t.volume),f.volume=T;let w=(0,eB.Mn)(y);f.gameplay={algorithm:null!==(c=null==w?void 0:w.algorithm)&&void 0!==c?c:"",path:null!==(h=null==w?void 0:w.path)&&void 0!==h?h:"",reshape:null!==(m=null==w?void 0:w.reshape)&&void 0!==m&&m},f.isCartoon=t.cartoon;let x=r.get(i);return f.relationVideoGroup=null!==(p=null==x?void 0:x.relationVideoGroup)&&void 0!==p?p:"",f.coverPath=null!==(g=null==x?void 0:x.coverPath)&&void 0!==g?g:"",f.filled=(0,ea.RA)(f.path,f.coverPath),f.streamVideoDidRemoved=!!(-0x80000000&y.extraTypeOption),f.animations=(0,ea.Bh)(t),f.transition=(0,ea.Sx)(t),f.commonKeyframes=(0,ea.K4)(t),f}return null}constructor(e,t){this.templateSlotLostVideoHolderPath="",this.mutableVideos=[],this.mutableTexts=[],this.maxSpeed=0,this.minSpeed=0,this._videoDocument=e,this._behavior=t,this.listen()}}var eO=r("508962"),eL=r("27574"),eU=r("33926")},819120:function(e,t,r){r.d(t,{z:function(){return s}});var i=r(881337),n=r(211561),a=r(696011);let s={isVideoType:e=>"AudioVideo"===e||"Video"===e,isVideoOnlyType:e=>"Video"===e,isAudioType:e=>"AudioVideo"===e||"Audio"===e,isAudioOnlyType:e=>"Audio"===e,isImageType:e=>"Image"===e||"ImageVideo"===e,isGifType:e=>"ImageVideo"===e,isUnknownType:e=>"unknown"===e,makeReplaceInfo:e=>{let t=(0,i.FeB)({});return t.id=e.id,t.path=e.path,t.crop=e.crop,t.sourceStart=e.sourceStart,t.assetMd5=e.assetMd5,t.source=e.source,t.sourcePlatform=e.sourcePlatform,t.materialId=e.materialId,t.materialName=e.materialName,t.volume=e.volume,t},getDraftCanvasSize(e){let{canvasConfig:t}=e.property;if(t.width>0&&t.height>0)return[t.width,t.height];let{ratio:r}=t;if(r===n.rxY.CanvasRatioOriginal){let t=e.getTracksByTypes([n.pNd.TrackTypeVideo]),r=a.Ye,i=a.Bk;if(t.length>0)for(let e of t[0].segments){if("SegmentVideo"!==e.__segment_struct_type)continue;let{material:t}=e;r=t.width,i=t.height;break}return[r,i]}{if(r===n.rxY.CanvasRatio3To4)return[1440,1920];if(r===n.rxY.CanvasRatio1To1)return[1440,1440];else if(r===n.rxY.CanvasRatio9To16)return[1080,1920];else if(r===n.rxY.CanvasRatio4To3)return[1920,1440];else if(r===n.rxY.CanvasRatio16To9)return[1920,1080];else if(r===n.rxY.CanvasRatio2To1)return[1920,960];else if(r===n.rxY.CanvasRatio2_35To1)return[2350,1e3];else if(r===n.rxY.CanvasRatio1_85To1)return[1850,1e3];else if(r===n.rxY.CanvasRatio1_125To2_436)return[1125,2436];let e=a.Pc.convertRatioToFloat(r),t=a.Bk;return[Math.ceil(e*t),t]}},getDraftCanvasConfig(e){let{canvasConfig:t}=e.property;return[t.width,t.height,t.ratio]},convertDraftVersionToNumber(e){let t=-1;try{let r=e.split(".");3===r.length&&(t=1e4*parseInt(r[0])+100*parseInt(r[1])+parseInt(r[2]))}catch{t=-1}return t}}},580420:function(e,t,r){r(881337)},771111:function(e,t,r){r(881337)},410013:function(e,t,r){r(881337)},629005:function(e,t,r){r(881337)},882851:function(e,t,r){r(881337)},221972:function(e,t,r){r(881337)},150412:function(e,t,r){r.d(t,{c:function(){return a}});var i=r(881337),n=r(602777);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{effectId:void 0!==e.effectId?e.effectId:"",resourceId:void 0!==e.resourceId?e.resourceId:"",thirdResourceId:void 0!==e.thirdResourceId?e.thirdResourceId:"",sourcePlatform:void 0!==e.sourcePlatform?e.sourcePlatform:n.nj.EffectPlatformLoki,path:void 0!==e.path?e.path:"",name:void 0!==e.name?e.name:"",type:void 0!==e.type?e.type:n.VA.Anim_None,platform:void 0!==e.platform?e.platform:"all",duration:void 0!==e.duration?BigInt(e.duration):0n,start:void 0!==e.start?BigInt(e.start):0n,categoryId:void 0!==e.categoryId?e.categoryId:"",categoryName:void 0!==e.categoryName?e.categoryName:"",adjustParams:void 0!==e.adjustParams?(0,i.IgE)(e.adjustParams):(0,i.IgE)({})}}},25e3:function(e,t,r){r(881337)},592261:function(e,t,r){r(881337)},995619:function(e,t,r){r(881337)},594978:function(e,t,r){r(881337)},789504:function(e,t,r){r(881337)},955285:function(e,t,r){r(881337)},508166:function(e,t,r){r(881337)},320251:function(e,t,r){r(881337)},998955:function(e,t,r){r(881337)},808450:function(e,t,r){r.d(t,{L:function(){return i}});function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{effectId:void 0!==e.effectId?e.effectId:"",categoryId:void 0!==e.categoryId?e.categoryId:"",categoryName:void 0!==e.categoryName?e.categoryName:"",type:void 0!==e.type?e.type:"",start:void 0!==e.start?BigInt(e.start):0n,duration:void 0!==e.duration?BigInt(e.duration):0n,path:void 0!==e.path?e.path:"",platform:void 0!==e.platform?e.platform:"all",resourceId:void 0!==e.resourceId?e.resourceId:"",name:void 0!==e.name?e.name:"",panel:void 0!==e.panel?e.panel:"",materialType:void 0!==e.materialType?e.materialType:""}}},552736:function(e,t,r){r.d(t,{i:function(){return n}});var i=r(881337);function n(){var e,t;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:void 0!==r.id?r.id:"",segmentId:void 0!==r.segmentId?r.segmentId:"",text:void 0!==r.text?r.text:"",targetStart:void 0!==r.targetStart?BigInt(r.targetStart):0n,targetDuration:void 0!==r.targetDuration?BigInt(r.targetDuration):0n,animations:(null!==(e=null==r?void 0:r.animations)&&void 0!==e?e:[]).map(e=>(0,i.Ljr)(e)),commonKeyframes:(null!==(t=null==r?void 0:r.commonKeyframes)&&void 0!==t?t:[]).map(e=>(0,i.IOn)(e))}}},305350:function(e,t,r){r(881337)},467144:function(e,t,r){r.d(t,{n:function(){return a}});var i=r(881337),n=r(602777);function a(){var e,t,r;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:void 0!==a.id?a.id:"",segmentId:void 0!==a.segmentId?a.segmentId:"",targetStart:void 0!==a.targetStart?BigInt(a.targetStart):0n,sourceStart:void 0!==a.sourceStart?BigInt(a.sourceStart):0n,duration:void 0!==a.duration?BigInt(a.duration):0n,targetDuration:void 0!==a.targetDuration?BigInt(a.targetDuration):0n,sourceDuration:void 0!==a.sourceDuration?BigInt(a.sourceDuration):0n,width:void 0!==a.width?a.width:720,height:void 0!==a.height?a.height:1280,source:void 0!==a.source?a.source:n.CH.MaterialSourceDefault,sourcePlatform:void 0!==a.sourcePlatform?a.sourcePlatform:n.cv.MaterialPlatformDefault,materialId:void 0!==a.materialId?a.materialId:"",originMaterialId:void 0!==a.originMaterialId?a.originMaterialId:"",materialName:void 0!==a.materialName?a.materialName:"",path:void 0!==a.path?a.path:"",volume:void 0!==a.volume?a.volume:0,crop:(null!==(e=null==a?void 0:a.crop)&&void 0!==e?e:[]).map(e=>e),assetMd5:void 0!==a.assetMd5?a.assetMd5:"",gameplay:void 0!==a.gameplay?(0,i.FLl)(a.gameplay):(0,i.FLl)({}),relationVideoGroup:void 0!==a.relationVideoGroup?a.relationVideoGroup:"",isCartoon:void 0!==a.isCartoon&&a.isCartoon,filled:void 0!==a.filled&&a.filled,streamVideoDidRemoved:void 0!==a.streamVideoDidRemoved&&a.streamVideoDidRemoved,coverPath:void 0!==a.coverPath?a.coverPath:"",trackIdx:void 0!==a.trackIdx?a.trackIdx:-1,metaType:void 0!==a.metaType?a.metaType:n.cV.MetaTypeNone,animations:(null!==(t=null==a?void 0:a.animations)&&void 0!==t?t:[]).map(e=>(0,i.Ljr)(e)),transition:void 0!==a.transition?(0,i.kvz)(a.transition):(0,i.kvz)({}),commonKeyframes:(null!==(r=null==a?void 0:a.commonKeyframes)&&void 0!==r?r:[]).map(e=>(0,i.IOn)(e))}}},806975:function(e,t,r){r.d(t,{G:function(){return n}});var i=r(602777);function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{modifiedType:void 0!==e.modifiedType?e.modifiedType:i.tM.ColorWheelsFieldPrimaryWheelsLift,modifiedFields:void 0!==e.modifiedFields?BigInt(e.modifiedFields):0n,red:void 0!==e.red?e.red:0,green:void 0!==e.green?e.green:0,blue:void 0!==e.blue?e.blue:0,saturation:void 0!==e.saturation?e.saturation:0,intensity:void 0!==e.intensity?e.intensity:0,panel:void 0!==e.panel?e.panel:"",resourceId:void 0!==e.resourceId?e.resourceId:"",path:void 0!==e.path?e.path:""}}},347830:function(e,t,r){r(881337)},380227:function(e,t,r){r(881337)},414144:function(e,t,r){r(881337)},208759:function(e,t,r){r(881337)},847148:function(e,t,r){r(881337)},944999:function(e,t,r){r(881337)},93738:function(e,t,r){r(881337)},713754:function(e,t,r){r(881337)},583303:function(e,t,r){r(881337)},574999:function(e,t,r){r(881337)},727971:function(e,t,r){r(881337)},654508:function(e,t,r){r(881337)},949981:function(e,t,r){r(881337)},106347:function(e,t,r){r(881337)},754174:function(e,t,r){r(924041),r(52757),r(722955),r(989856),r(643293),r(508962)},28939:function(e,t,r){r.d(t,{G:function(){return function e(t,r){let i=[],{materials:n}=t;if(!n)return i;let a=n[r];if(Array.isArray(a)){let e="texts"===r?a.filter(e=>e.content!==e.text):a;i.push(...e.map(e=>({node:e})))}let{drafts:s}=n;if(Array.isArray(s)){for(let t of s)if(t.draft){let n=e(t.draft,r);i.push(...n)}}return i}}})},553836:function(e,t,r){r.d(t,{H:function(){return i}});class i{}},395138:function(e,t,r){r.d(t,{_:function(){return o}});var i=r(211561),n=r(320271),a=r(553836),s=r(52757);class o extends a.H{collect(e){let t={},{materials:r}=e,{videos:a}=r;if(Array.isArray(a))for(let e of a){let{id:r,matting:a}=e;if(!a)continue;let{strokes:o}=a;if(!!Array.isArray(o))for(let e of o){let{resource_id:a,source_platform:o}=e;(0,s.LM)(t,e,[],"path","","resource_name","resource_id",r,a,n.U_.MattingStroke,i.cVg.MetaTypeMattingStroke,null!=o?o:i.nj7.EffectPlatformLoki)}}return t}}},521589:function(e,t,r){r.d(t,{S:function(){return function e(t,r){var i;let{static_cover_image_path:n,retouch_cover:a}=t;t.static_cover_image_path=r[n]||r[`/${n}`]||n,a&&(a.image_path=r[a.image_path]||r[`/${a.image_path}`]||a.image_path);let s=null===(i=t.mutable_config)||void 0===i?void 0:i.mutable_materials;s&&s.forEach(e=>{e.cover_path=r[e.cover_path]||e.cover_path});let{drafts:o}=t.materials;if(Array.isArray(o))for(let t of o){let{draft:i}=t;e(i,r)}}}})},83293:function(e,t,r){r.d(t,{I:function(){return n},o:function(){return a}});var i=r(690613);class n{}class a{getContext(e){return{attachment:e}}repair(e){let t=(0,i.oW)(this.getContext(e));for(let e of this.tasks){if(!t.ok)break;t=e.repair(t.value)}return t.ok?(0,i.oW)(t.value.attachment):t}}},341360:function(e,t,r){r.d(t,{k:function(){return a}});var i=r(690613),n=r(987733);class a{getStringVersion(){return this.version}getNumberVersion(){return(0,n.R0)(this.getStringVersion())}_migrateWithVersionSet(e,t){let r=this.migrateInner(e,t);return r.ok&&(r.value.new_version=this.getStringVersion()),r}migrate(e,t){if(this.getNumberVersion()<(0,n.R0)("72.0.0"))return this._migrateWithVersionSet(e,t);if(!e.tracks||!e.materials)return(0,i.oW)(e);let r=this._migrateWithVersionSet(e,t);if(this.needEnumerateSubDrafts)for(let r of this._getSubDrafts(e)){if(!r.draft)continue;let e=this._migrateWithVersionSet(r.draft,t);if(!e.ok)return e}return r}_getSubDrafts(e){return e.materials.drafts||[]}constructor(){this.needEnumerateSubDrafts=!1}}},973735:function(e,t,r){r(108616)},214903:function(e,t,r){r.d(t,{D:function(){return o}});var i=r(690613),n=r(129384),a=r(211561),s=r(288907);class o extends n.S{migrateInner(e){let t=e.alternative_material_list;if(null==t?void 0:t.length)for(let e of t){let t=e.alternatives;if(null==t?void 0:t.length)for(let e of t)e&&(void 0===e.panel&&(e.panel=a.mGD.AiStoryMaterialPanelDefault),void 0===e.pin&&(e.pin=!1),void 0===e.task_id&&(e.task_id=""),void 0===e.task_status&&(e.task_status=a.zDy.LVVEAiTaskStatusDefault),void 0===e.name&&(e.name=""))}return e.meta={move_feeds_to_alternative:!1},(0,i.oW)(e)}constructor(...e){super(...e),this.attachmentFileName=s.JF.AttachmentAiStory,this.version="2.0.0",this.needEnumerateSubDrafts=!1}}},570605:function(e,t,r){r.d(t,{z:function(){return a}});var i=r(341360),n=r(690613);class a extends i.k{migrateInner(e,t){let{materials:r}=e,{digital_humans:i}=r;if(!(null==i?void 0:i.length))return(0,n.oW)(e);for(let e of i)("customize"===e.digital_human_source||"photo_aigc_customize"===e.digital_human_source||"photo_album_customize"===e.digital_human_source)&&(e.has_real_scene=!0);return(0,n.oW)(e)}constructor(...e){super(...e),this.version="114.0.0",this.needEnumerateSubDrafts=!0}}},819556:function(e,t,r){r.d(t,{m:function(){return a}});var i=r(690613),n=r(341360);class a extends n.k{migrateInner(e){let{materials:t}=e,{videos:r,effects:n}=t;if(r&&r.length>0)for(let e of r)e.check_flag+=0x1c00000;if(n&&n.length>0)for(let e of n){let{category_id:t}=e;"auto-beauty"===t?e.item_effect_type=20:"auto-beauty2"===t?e.item_effect_type=21:"makeup"===t?e.item_effect_type=22:"auto-beauty3"===t?e.item_effect_type=23:"manual-figure"===t&&(e.item_effect_type=24)}return(0,i.oW)(e)}constructor(...e){super(...e),this.version="122.0.0",this.needEnumerateSubDrafts=!0}}},349461:function(e,t,r){r.d(t,{j:function(){return u}});var i=r(340294),n=r(341360),a=r(287165),s=r(987733),o=r(720207),l=r(690613);class u extends n.k{migrateInner(e,t){return this.migrationTo410000Impl(e),(0,l.oW)(e)}migrationTo410000Impl(e){if((void 0===e.render_index_track_mode_on||null===e.render_index_track_mode_on)&&(e.render_index_track_mode_on=!1),"materials"in e&&(0,i.Fz)(e.materials)&&"cover"in e&&(0,i.Fz)(e.cover)){let t=e.materials,r=e.cover;if("cover_draft"in r&&(0,i.Fz)(r.cover_draft)){let e=r.cover_draft,i={},n=(0,a.p)();i.id=n,i.type="cover",i.draft=e,t.drafts=[],t.drafts.push(i),r.cover_draft_id=n,delete r.cover_draft}}if("keyframes"in e&&(0,i.Fz)(e.keyframes)){let t=e.keyframes;if(!("videos"in t&&Array.isArray(t.videos)))return;for(let e of t.videos)"flags"in e&&(0,s.Je)(e.flags)&&(e.flags=(0,o.gG)())}}constructor(...e){super(...e),this.version="41.0.0"}}},430133:function(e,t,r){r.d(t,{H:function(){return o}});var i=r(602777),n=r(341360),a=r(690613),s=r(340294);class o extends n.k{migrateInner(e,t){if(!(null==t?void 0:t.resourceIdMapper))return(0,a.oW)(e);let r=[];if(e.materials&&(0,s.Fz)(e.materials)){let n=e.materials;if(n.effects&&Array.isArray(n.effects)){for(let e of n.effects)if(e.resource_id&&t.resourceIdMapper("MigrationTo430000_text",e.resource_id)){let t=0;e.source_platform&&"number"==typeof e.source_platform&&(t=e.source_platform);let a=i.nj.EffectPlatformLoki;0!==t&&i.nj.EffectPlatformArtist;let s="";e.path&&"string"==typeof n.path&&e.path,r.push(e)}}if(n.material_animations&&Array.isArray(n.material_animations)){for(let e of n.material_animations)for(let i of e.animations)if(t.resourceIdMapper("MigrationTo430000_animation",i.resource_id)){let e="";i.path&&"string"==typeof i.path&&i.path,r.push(i)}}if(n.drafts&&Array.isArray(n.drafts)){let t=n.drafts;for(let r=0;r<t.length;r++){let i=t[r];if(null===i.draft){if(i.id&&"string"==typeof i.id){let t=i.id;if(e.cover&&(0,s.Fz)(e.cover)){let r=e.cover;r.cover_draft_id&&"string"==typeof r.cover_draft_id&&t===r.cover_draft_id&&delete r.cover_draft_id}}t.splice(r,1);break}}}}return(0,a.oW)(e)}constructor(...e){super(...e),this.version="43.0.0"}}},920482:function(e,t,r){r.d(t,{H:function(){return d}});var i=r(690613),n=r(341360),a=r(340294),s=r(283395);function o(e,t){let r=e[t];return r&&"number"==typeof r?r:0}function l(e,t){let r=e[t];return r&&"string"==typeof r?r:""}function u(e,t){let r=e[t];return(0,a.Fz)(r)&&!Array.isArray(r)?r:null}function c(e,t){let r=e[t];return r&&Array.isArray(r)?r:null}class d extends n.k{migrateInner(e,t){let r=this.migrationVideoAnimations(e);if(!r.ok)return r;let n=this.manualDeformationUpdate(e,t);return n.ok?(0,i.oW)(e):n}migrationVideoAnimations(e){let t=u(e,"materials");if(!t)return(0,i.wf)(s.D.kDeserializeJsonFailed,"no materials in root");let r=c(t,"effects");if(!r)return(0,i.ly)();let n={},a=[];for(let e of r){let t={};if("video_animation"!==l(e,"type"))continue;let r=l(e,"category_name");""===r&&(r="in"),t.category_id=l(e,"category_id"),t.category_name=r,t.duration=o(e,"value"),t.id=l(e,"effect_id"),t.name=l(e,"name"),t.path=l(e,"path"),t.platform=l(e,"platform"),t.resource_id=l(e,"resource_id"),t.type=r,t.material_type="video",t.panel="video",t.start=0;let i=l(e,"id");a.push(i),n[i]=t}let d=c(e,"tracks");if(!d)return(0,i.wf)(s.D.kDeserializeJsonFailed,"no tracks in root");let h=[];for(let e of d){if("video"!==l(e,"type"))continue;let t=c(e,"segments");if(!t)return(0,i.ly)();for(let e of t){let t=c(e,"extra_material_refs");if(!!t)for(let r of t){if("string"==typeof r){if(-1!==a.indexOf(r)){let t=n[r],i=l(t,"type"),a=o(t,"duration");if("out"===i){let r=o(u(e,"source_timerange"),"duration")-a;t.start=r}let s={},c=[];c.push(t),s.animations=c,s.type="sticker_animation",s.id=r,h.push(s);break}}}}}if(h.length<=0){let e=this.handleSubDraft(t);return e.ok?(0,i.ly)():e}let m=c(t,"material_animations");for(let e of(!m&&(m=[]),h))m.push(e);t.material_animations=m;let p=this.handleSubDraft(t);return p.ok?(0,i.ly)():p}handleSubDraft(e){let t=c(e,"drafts");if(!t)return(0,i.ly)();for(let e of t){let t=u(e,"draft"),r=this.migrationVideoAnimations(t);if(!r.ok)return r}return(0,i.ly)()}manualDeformationUpdate(e,t){if(!("materials"in e)||!("tracks"in e))return(0,i.wf)(s.D.kDeserializeJsonFailed,"no materials or no tracks in root");let r=e.materials.manual_deformations,n=[];if(!r)return(0,i.ly)();for(let e of r){if(!("type"in e)||!("resource_id"in e)||"string"!=typeof e.type||"string"!=typeof e.resource_id)continue;let t=e.type,r=e.resource_id;if("manual_deformation"!==t||-1===this.manualDeformationResourceIds.indexOf(r))continue;let i="";"resource_path"in e&&"string"==typeof e.resource_path&&e.resource_path,n.push(e)}return(0,i.ly)()}constructor(...e){super(...e),this.version="63.0.0",this.manualDeformationResourceIds=["7108624513650135560","7114280216196813314"]}}},875845:function(e,t,r){r.d(t,{M:function(){return a}});var i=r(690613),n=r(341360);class a extends n.k{migrateInner(e,t){return this.migrationDraftCommonKeyframe(e),(0,i.oW)(e)}migrationDraftCommonKeyframe(e){for(let t of e.tracks||[])for(let e of t.segments||[]){if(!("common_keyframes"in e)||!Array.isArray(e.common_keyframes))continue;let t=(e.common_keyframes||[]).filter(e=>{var t;return(null===(t=e.keyframe_list)||void 0===t?void 0:t.length)>0});e.common_keyframes=t}}constructor(...e){super(...e),this.version="78.0.0",this.needEnumerateSubDrafts=!0}}},402878:function(e,t,r){r.d(t,{$:function(){return a}});var i=r(690613),n=r(341360);class a extends n.k{migrateInner(e,t){if(!e.materials||!e.materials.audio_effects)return(0,i.oW)(e);for(let t of e.materials.audio_effects)t.constant_material_id=t.id;return(0,i.oW)(e)}constructor(...e){super(...e),this.version="91.0.0",this.needEnumerateSubDrafts=!0}}},283395:function(e,t,r){r.d(t,{D:function(){return n}});var i,n=((i={})[i.kNoError=0]="kNoError",i[i.kJsonVersionEmpty=1]="kJsonVersionEmpty",i[i.kSerializeJsonFailed=2]="kSerializeJsonFailed",i[i.kDeserializeJsonFailed=3]="kDeserializeJsonFailed",i[i.kFetchResourceFailed=4]="kFetchResourceFailed",i[i.kCancel=5]="kCancel",i[i.kDraftValidateFailed=6]="kDraftValidateFailed",i)},508962:function(e,t,r){r.d(t,{fl:()=>j,bb:()=>V,Lo:()=>F,MC:()=>B});var i=r("980265"),n=r("234396"),a=r("12826"),s=r("830253"),o=r("292993"),l=r("10669"),u=r("112317"),c=r("996853"),d=r("159653"),h=r("690613");class m extends a.j{repair(e){let{draft:t}=e,{materials:r,tracks:i}=t;if(!Array.isArray(i))return(0,h.oW)(e);let n=new Set,{texts:a=[],text_templates:s=[]}=null!=r?r:{};for(let e of((null!=a?a:[]).forEach(e=>(null==e?void 0:e.id)&&n.add(e.id)),(null!=s?s:[]).forEach(e=>(null==e?void 0:e.id)&&n.add(e.id)),i)){if(!Array.isArray(null==e?void 0:e.segments))continue;let{segments:t}=e;if("sticker"!==e.type||!Array.isArray(t)||0===t.length)continue;let r=!0;for(let e=0;e<t.length;e++){let i=t[e],a=null==i?void 0:i.material_id;if(a&&!n.has(a)){r=!1;break}}if(r){e.type="text";continue}}return(0,h.oW)(e)}}var p=r("501754"),g=r("985388"),f=r("2940"),y=r("135454"),_=r("198160"),v=r("852453"),T=r("797432"),I=r("469362"),k=r("528052"),w=r("355664"),x=r("800788"),b=r("907482"),M=r("438176"),A=r("120361"),S=r("164427"),z=r("355911"),C=r("776072");class D extends a.j{repair(e){var t;let{materials:r}=e.draft;if(!Array.isArray(null==r?void 0:r.texts))return(0,h.oW)(e);for(let e of null!==(t=null==r?void 0:r.texts)&&void 0!==t?t:[])"-1"===e.font_resource_id&&(e.font_resource_id="");return(0,h.oW)(e)}}var E=r("800428");class P extends n.K{repair(e){let{draft:t}=e,{tracks:r}=t;if(!(null==r?void 0:r.length))return(0,h.oW)(e);for(let e=1;e<r.length;++e){let t=r[e];if(!Array.isArray(null==t?void 0:t.segments))continue;let a=0n,s=0n,o=!1;for(let e of t.segments){var i,n;if(!!(null==e?void 0:null===(i=e.targetTimerange)||void 0===i?void 0:i.start)&&!!(null==e?void 0:null===(n=e.targetTimerange)||void 0===n?void 0:n.duration))!o&&e.targetTimerange.start+a<s&&(a=s-e.targetTimerange.start),e.targetTimerange.start+=a,s=e.targetTimerange.start+e.targetTimerange.duration,o=!!e.transition}}return(0,h.oW)(e)}}var N=r("806869");function V(e,t){let r=[];t&&t.effectMaterialList&&t.effectMaterialList.forEach(e=>{let{resource:t}=e;t.isPrefab&&r.push(t.resourceId)});let i=new a.h(function(){let e=[new s.C,new o.h,new l.$,new u.d,new c.n,new S.x,new b.V(r),new E.g,new D,new p.b];return M.H&&e.push(new d.N,new m),e}()).repair(e);return(0,x.Y2)(i.ok),i.value}function F(e){let t=new i.r([]).repair(e);return(0,x.Y2)(t.ok),t.value}function j(e,t){let r=new n.H([new g.s,new k.e,new f.M,new N.T,new y.x,new _.T,new A.E,new C.Z,new z.g,new w.y,new P,new v.m,new T.r,...(null==t?void 0:t.customRuntimeRepairTasks)||[]]).repair(e);return(0,x.Y2)(r.ok),r.value}function B(e){let t=new i.r([new I.Y]).repair(e);return(0,x.Y2)(t.ok),t.value}},980265:function(e,t,r){r.d(t,{r:function(){return a},y:function(){return n}});var i=r(637139);let n=i.I;class a extends i.U{constructor(e){super(),this.tasks=[],this.tasks=e}}},26195:function(e,t,r){r.d(t,{SL:function(){return o}});var i=r(669686),n=r(150251);let a={common:["segment_id","material_type","material_id","keyword_info","package_method","material_url","broll_material_type"],bigint:{start_time:{},duration:{}}},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.segmentId="",this.materialType=0,this.materialId="",this.startTime=0n,this.duration=0n,this.keywordInfo="",this.packageMethod="",this.materialUrl="",this.brollMaterialType="",(0,i.tZ)(this,e,s)}}let l={common:["segment_id","material_type","material_id","keyword_info","package_method","material_url","broll_material_type"],bigint:{start_time:{},duration:{}}},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},937042:function(e,t,r){r.d(t,{Ej:function(){return c},rW:function(){return o}});var i=r(669686),n=r(150251);let a={common:["inspiration_id","inspiration_source","inspiration_type"]},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.inspirationId="",this.inspirationSource="",this.inspirationType="",(0,i.tZ)(this,e,s)}}let l={common:["inspiration_id","inspiration_source","inspiration_type"]},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},40624:function(e,t,r){r.d(t,{q5:function(){return u},zb:function(){return h}});var i=r(602777),n=r(669686),a=r(150251),s=r(937042);let o={common:["id","prompt","negative_prompt","model","model_params","generate_type","src_id","dst_media_path","dst_media_uri","reference_params","server_task_id"],bigint:{duration:{}},array:{src_media_paths:{type:"common"},reference_paths:{type:"common"}},object:{inspiration_info:{type:()=>s.rW}}},l=(0,n.I2)(o,[]);class u extends a.w8{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[a.I9]=h,this.id="",this.prompt="",this.negativePrompt="",this.model="",this.modelParams="",this.generateType=i.GG.AIGCGenerateTypeNone,this.srcId="",this.srcMediaPaths=[],this.dstMediaPath="",this.dstMediaUri="",this.referencePaths=[],this.referenceParams="",this.inspirationInfo=new s.rW,this.duration=4000n,this.serverTaskId="",(0,n.tZ)(this,e,l)}}let c={common:["id","prompt","negative_prompt","model","model_params","generate_type","src_id","dst_media_path","dst_media_uri","reference_params","server_task_id"],bigint:{duration:{}},array:{src_media_paths:{type:"common"},reference_paths:{type:"common"}},object:{inspiration_info:{type:()=>s.Ej}}},d=(0,n.I2)(c,[]);class h extends a.u2{static deserialize(e){let t=new h;return(0,n.Tz)(t,e,c,!0),t}static serialize(e){return(0,n.o8)(e,c,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new h;return(0,n.he)(this,t,c,e,!1,!0),t}constructor(e={}){super(),this[a._n]=u,(0,n.fZ)(this,e,d)}}},664021:function(e,t,r){var i=r(669686);r(150251);var n=r(40624);(0,i.I2)({common:["aigc_generate_id","aigc_generate_item_id"],array:{aigc_generate_list:{type:"object",clsName:()=>n.q5}},object:{aigc_last_generate_item:{type:()=>n.q5}}},[]);(0,i.I2)({common:["aigc_generate_id","aigc_generate_item_id"],array:{aigc_generate_list:{type:"object",clsName:()=>n.q5}},object:{aigc_last_generate_item:{type:()=>n.zb}}},[])},543005:function(e,t,r){r.d(t,{nU:function(){return o},ob:function(){return c}});var i=r(669686),n=r(150251);let a={common:["music_id"]},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.musicId="",(0,i.tZ)(this,e,s)}}let l={common:["music_id"]},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},466966:function(e,t,r){r.d(t,{k1:function(){return l}});var i=r(602777),n=r(669686),a=r(150251);let s={common:["algorithm_id","type"]},o=(0,n.I2)(s,[]);class l extends a.w8{static deserialize(e){let t=new l;return(0,n.Tz)(t,e,s),t}static serialize(e){return(0,n.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,n.he)(this,t,s,e),t}constructor(e={}){super(),this[a.I9]=d,this.algorithmId="",this.type=i.zz.AlgorithmDefault,(0,n.tZ)(this,e,o)}}let u={common:["algorithm_id","type"]},c=(0,n.I2)(u,[]);class d extends a.u2{static deserialize(e){let t=new d;return(0,n.Tz)(t,e,u,!0),t}static serialize(e){return(0,n.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,n.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[a._n]=l,(0,n.fZ)(this,e,c)}}},315989:function(e,t,r){r.d(t,{c4:function(){return l}});var i=r(602777),n=r(669686),a=r(150251);let s={common:["id","type"]},o=(0,n.I2)(s,[]);class l extends a.w8{static deserialize(e){let t=new l;return(0,n.Tz)(t,e,s),t}static serialize(e){return(0,n.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,n.he)(this,t,s,e),t}constructor(e={}){super(),this[a.I9]=d,this.id="",this.type=i.Tp.ArticleVideoTextTypeTitle,(0,n.tZ)(this,e,o)}}let u={common:["id","type"]},c=(0,n.I2)(u,[]);class d extends a.u2{static deserialize(e){let t=new d;return(0,n.Tz)(t,e,u,!0),t}static serialize(e){return(0,n.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,n.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[a._n]=l,(0,n.fZ)(this,e,c)}}},240156:function(e,t,r){r.d(t,{z8:function(){return c}});var i=r(669686),n=r(150251),a=r(493904),s=r(268932),o=r(357646);let l={common:["version"],array:{alternative_material_list:{type:"object",clsName:()=>a.bv}},object:{global_config:{type:()=>s.z4},meta:{type:()=>o.P7}}},u=(0,i.I2)(l,[]);class c extends n.w8{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l),t}static serialize(e){return(0,i.o8)(e,l)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e),t}constructor(e={}){super(),this[n.I9]=m,this.version="2.0.0",this.alternativeMaterialList=[],this.globalConfig=new s.z4,this.meta=new o.P7,(0,i.tZ)(this,e,u)}}let d={common:["version"],array:{alternative_material_list:{type:"object",clsName:()=>a.bv}},object:{global_config:{type:()=>s.Wr},meta:{type:()=>o.v3}}},h=(0,i.I2)(d,[]);class m extends n.u2{static deserialize(e){let t=new m;return(0,i.Tz)(t,e,d,!0),t}static serialize(e){return(0,i.o8)(e,d,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new m;return(0,i.he)(this,t,d,e,!1,!0),t}constructor(e={}){super(),this[n._n]=c,(0,i.fZ)(this,e,h)}}},560845:function(e,t,r){var i=r(669686);r(150251);var n=r(823152),a=r(270190),s=r(459658),o=r(862807),l=r(444211),u=r(909809),c=r(572517),d=r(574787),h=r(478576),m=r(176104),p=r(493478),g=r(478351),f=r(482764),y=r(426555),_=r(5910),v=r(840961),T=r(939402),I=r(829354),k=r(948180);(0,i.I2)({array:{lyrics_effects:{type:"object",clsName:()=>T.xj}},object:{vip_draft:{type:()=>n.PD},script_draft:{type:()=>a.dM},template_draft:{type:()=>s.Gg},template_mid_video_draft:{type:()=>o.MS},ad_draft:{type:()=>l.kr},cooperate_create:{type:()=>u.Ir},statistics_draft:{type:()=>c.xO},editing_draft:{type:()=>d.Dy},draft_enterprise:{type:()=>h.$C},admaker_draft:{type:()=>m.yi},oneoff_draft:{type:()=>p.JS},template_market_script_draft:{type:()=>g.Vg},prompt_to_text_draft:{type:()=>f.Ju},script_video:{type:()=>y.Bh},ai_create:{type:()=>_.uI},aigc_generate:{type:()=>v.R2},search_trend:{type:()=>I.PF},quick_edit_info:{type:()=>k.eF}}},[]);(0,i.I2)({array:{lyrics_effects:{type:"object",clsName:()=>T.xj}},object:{vip_draft:{type:()=>n.to},script_draft:{type:()=>a.o8},template_draft:{type:()=>s.Mb},template_mid_video_draft:{type:()=>o.en},ad_draft:{type:()=>l.Fu},cooperate_create:{type:()=>u.ai},statistics_draft:{type:()=>c.HD},editing_draft:{type:()=>d.DB},draft_enterprise:{type:()=>h.$p},admaker_draft:{type:()=>m.$Z},oneoff_draft:{type:()=>p.cf},template_market_script_draft:{type:()=>g.aA},prompt_to_text_draft:{type:()=>f.al},script_video:{type:()=>y.Vn},ai_create:{type:()=>_.e},aigc_generate:{type:()=>v.y4},search_trend:{type:()=>I.F9},quick_edit_info:{type:()=>k.k3}}},[])},103160:function(e,t,r){r.d(t,{t5:function(){return o}});var i=r(669686),n=r(150251);let a={common:["value","default_value","parameterIndex","portIndex","name","min_value","max_value"]},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.value=0,this.defaultValue=0,this.parameterIndex=0,this.portIndex=0,this.name="",this.minValue=0,this.maxValue=1,(0,i.tZ)(this,e,s)}}let l={common:["value","default_value","parameterIndex","portIndex","name","min_value","max_value"]},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},597109:function(e,t,r){r.d(t,{Fk:function(){return h},m5:function(){return u}});var i=r(669686),n=r(150251),a=r(864509),s=r(457096);let o={array:{anims:{type:"object",clsName:()=>a.dD},list_exprs:{type:"object",clsName:()=>s.Rn}}},l=(0,i.I2)(o,[]);class u extends n.w8{static deserialize(e){let t=new u;return(0,i.Tz)(t,e,o),t}static serialize(e){return(0,i.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,i.he)(this,t,o,e),t}constructor(e={}){super(),this[n.I9]=h,this.anims=[],this.listExprs=[],(0,i.tZ)(this,e,l)}}let c={array:{anims:{type:"object",clsName:()=>a.dD},list_exprs:{type:"object",clsName:()=>s.Rn}}},d=(0,i.I2)(c,[]);class h extends n.u2{static deserialize(e){let t=new h;return(0,i.Tz)(t,e,c,!0),t}static serialize(e){return(0,i.o8)(e,c,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new h;return(0,i.he)(this,t,c,e,!1,!0),t}constructor(e={}){super(),this[n._n]=u,(0,i.fZ)(this,e,d)}}},457096:function(e,t,r){r.d(t,{Rn:function(){return u}});var i=r(669686),n=r(150251),a=r(415360),s=r(908510);let o={common:["type","target"],object:{value_info:{type:()=>a.q6},mode_info:{type:()=>s.Tg}}},l=(0,i.I2)(o,[]);class u extends n.w8{static deserialize(e){let t=new u;return(0,i.Tz)(t,e,o),t}static serialize(e){return(0,i.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,i.he)(this,t,o,e),t}constructor(e={}){super(),this[n.I9]=h,this.type="",this.target="",this.valueInfo=new a.q6,this.modeInfo=new s.Tg,(0,i.tZ)(this,e,l)}}let c={common:["type","target"],object:{value_info:{type:()=>a.iI},mode_info:{type:()=>s.kI}}},d=(0,i.I2)(c,[]);class h extends n.u2{static deserialize(e){let t=new h;return(0,i.Tz)(t,e,c,!0),t}static serialize(e){return(0,i.o8)(e,c,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new h;return(0,i.he)(this,t,c,e,!1,!0),t}constructor(e={}){super(),this[n._n]=u,(0,i.fZ)(this,e,d)}}},45021:function(e,t,r){r.d(t,{sH:function(){return o}});var i=r(669686),n=r(150251);let a={common:["associated_segment"],array:{styles:{type:"common"}}},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.associatedSegment="",this.styles=[],(0,i.tZ)(this,e,s)}}let l={common:["associated_segment"],array:{styles:{type:"common"}}},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},647847:function(e,t,r){r.d(t,{De:function(){return m},Kc:function(){return f}});var i=r(602777),n=r(669686),a=r(150251),s=r(253777),o=r(180942),l=r(736788),u=r(909497),c=r(542926);let d={common:["video_mute","record_audio_last_index","extract_audio_last_index","original_sound_last_index","subtitle_recognition_id","lyrics_recognition_id","subtitle_sync","lyrics_sync","sticker_max_index","adjust_max_index","material_save_mode","maintrack_adsorb","combination_max_index","multi_language_mode","multi_language_main","multi_language_current"],array:{subtitle_taskinfo:{type:"object",clsName:()=>s.hy},lyrics_taskinfo:{type:"object",clsName:()=>s.hy},attachment_info:{type:"object",clsName:()=>l.Pg},system_font_list:{type:"common"},multi_language_list:{type:"common"}},object:{export_range:{type:()=>o.tn,nullable:!0},zoom_info_params:{type:()=>u.Nv,nullable:!0},subtitle_keywords_config:{type:()=>c.Fd,nullable:!0}}},h=(0,n.I2)(d,[]);class m extends a.w8{static deserialize(e){let t=new m;return(0,n.Tz)(t,e,d),t}static serialize(e){return(0,n.o8)(e,d)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new m;return(0,n.he)(this,t,d,e),t}constructor(e={}){super(),this[a.I9]=f,this.videoMute=!1,this.recordAudioLastIndex=1,this.extractAudioLastIndex=1,this.originalSoundLastIndex=1,this.subtitleRecognitionId="",this.subtitleTaskinfo=[],this.lyricsRecognitionId="",this.lyricsTaskinfo=[],this.subtitleSync=!0,this.lyricsSync=!0,this.stickerMaxIndex=1,this.adjustMaxIndex=1,this.materialSaveMode=0,this.maintrackAdsorb=!0,this.combinationMaxIndex=1,this.attachmentInfo=[],this.systemFontList=[],this.multiLanguageMode=i.we.MultiLanguageModeNone,this.multiLanguageMain=i.Hw.MultiLanguageNone,this.multiLanguageCurrent=i.Hw.MultiLanguageNone,this.multiLanguageList=[],(0,n.tZ)(this,e,h)}}let p={common:["video_mute","record_audio_last_index","extract_audio_last_index","original_sound_last_index","subtitle_recognition_id","lyrics_recognition_id","subtitle_sync","lyrics_sync","sticker_max_index","adjust_max_index","material_save_mode","maintrack_adsorb","combination_max_index","multi_language_mode","multi_language_main","multi_language_current"],array:{subtitle_taskinfo:{type:"object",clsName:()=>s.hy},lyrics_taskinfo:{type:"object",clsName:()=>s.hy},attachment_info:{type:"object",clsName:()=>l.Pg},system_font_list:{type:"common"},multi_language_list:{type:"common"}},object:{export_range:{type:()=>o.ze,nullable:!0},zoom_info_params:{type:()=>u.ET,nullable:!0},subtitle_keywords_config:{type:()=>c.I,nullable:!0}}},g=(0,n.I2)(p,[]);class f extends a.u2{static deserialize(e){let t=new f;return(0,n.Tz)(t,e,p,!0),t}static serialize(e){return(0,n.o8)(e,p,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new f;return(0,n.he)(this,t,p,e,!1,!0),t}constructor(e={}){super(),this[a._n]=m,(0,n.fZ)(this,e,g)}}},774129:function(e,t,r){r.d(t,{P3:function(){return d},nI:function(){return l}});var i=r(669686),n=r(150251),a=r(733017);let s={common:["closure","constant_material_id"],array:{coutour_path:{type:"object",clsName:()=>a.Xc}}},o=(0,i.I2)(s,[]);class l extends n.w8{static deserialize(e){let t=new l;return(0,i.Tz)(t,e,s),t}static serialize(e){return(0,i.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,i.he)(this,t,s,e),t}constructor(e={}){super(),this[n.I9]=d,this.closure=!1,this.constantMaterialId="",this.coutourPath=[],(0,i.tZ)(this,e,o)}}let u={common:["closure","constant_material_id"],array:{coutour_path:{type:"object",clsName:()=>a.Xc}}},c=(0,i.I2)(u,[]);class d extends n.u2{static deserialize(e){let t=new d;return(0,i.Tz)(t,e,u,!0),t}static serialize(e){return(0,i.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,i.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[n._n]=l,(0,i.fZ)(this,e,c)}}},984736:function(e,t,r){r.d(t,{V_:function(){return c},oI:function(){return o}});var i=r(669686),n=r(150251);let a={common:["upper_left_x","upper_left_y","upper_right_x","upper_right_y","lower_left_x","lower_left_y","lower_right_x","lower_right_y"]},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.upperLeftX=0,this.upperLeftY=0,this.upperRightX=1,this.upperRightY=0,this.lowerLeftX=0,this.lowerLeftY=1,this.lowerRightX=1,this.lowerRightY=1,(0,i.tZ)(this,e,s)}}let l={common:["upper_left_x","upper_left_y","upper_right_x","upper_right_y","lower_left_x","lower_left_y","lower_right_x","lower_right_y"]},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},817886:function(e,t,r){r.d(t,{B2:function(){return d},Zg:function(){return l}});var i=r(602777),n=r(669686),a=r(150251);let s={common:["mode","level"]},o=(0,n.I2)(s,[]);class l extends a.w8{static deserialize(e){let t=new l;return(0,n.Tz)(t,e,s),t}static serialize(e){return(0,n.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,n.he)(this,t,s,e),t}constructor(e={}){super(),this[a.I9]=d,this.mode=i.TJ.Fluorescent,this.level=i.L7.Recommended,(0,n.tZ)(this,e,o)}}let u={common:["mode","level"]},c=(0,n.I2)(u,[]);class d extends a.u2{static deserialize(e){let t=new d;return(0,n.Tz)(t,e,u,!0),t}static serialize(e){return(0,n.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,n.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[a._n]=l,(0,n.fZ)(this,e,c)}}},794239:function(e,t,r){r.d(t,{B1:function(){return c},Gb:function(){return o}});var i=r(669686),n=r(150251);let a={common:["bs_data_path","merged_audio_path"],bigint:{fps:{},frame_nums:{},duration:{}}},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.bsDataPath="",this.fps=0n,this.frameNums=0n,this.duration=0n,this.mergedAudioPath="",(0,i.tZ)(this,e,s)}}let l={common:["bs_data_path","merged_audio_path"],bigint:{fps:{},frame_nums:{},duration:{}}},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},541537:function(e,t,r){r.d(t,{yU:function(){return o}});var i=r(669686),n=r(150251);let a={common:["text","text_seg_id","tts_payload","tts_path"],bigint:{tts_start:{}}},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.text="",this.textSegId="",this.ttsPayload="",this.ttsPath="",this.ttsStart=0n,(0,i.tZ)(this,e,s)}}let l={common:["text","text_seg_id","tts_payload","tts_path"],bigint:{tts_start:{}}},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},650756:function(e,t,r){r.d(t,{IQ:function(){return o},yE:function(){return c}});var i=r(669686),n=r(150251);let a={common:["draft_enterprise_name","draft_enterprise_id","draft_enterprise_extra"]},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.draftEnterpriseName="",this.draftEnterpriseId="",this.draftEnterpriseExtra="",(0,i.tZ)(this,e,s)}}let l={common:["draft_enterprise_name","draft_enterprise_id","draft_enterprise_extra"]},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},478576:function(e,t,r){r.d(t,{$C:function(){return l},$p:function(){return d}});var i=r(669686),n=r(150251),a=r(650756);let s={bigint:{version:{}},object:{draft_enterprise_info:{type:()=>a.IQ}}},o=(0,i.I2)(s,[]);class l extends n.w8{static deserialize(e){let t=new l;return(0,i.Tz)(t,e,s),t}static serialize(e){return(0,i.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,i.he)(this,t,s,e),t}constructor(e={}){super(),this[n.I9]=d,this.version=0n,this.draftEnterpriseInfo=new a.IQ,(0,i.tZ)(this,e,o)}}let u={bigint:{version:{}},object:{draft_enterprise_info:{type:()=>a.yE}}},c=(0,i.I2)(u,[]);class d extends n.u2{static deserialize(e){let t=new d;return(0,i.Tz)(t,e,u,!0),t}static serialize(e){return(0,i.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,i.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[n._n]=l,(0,i.fZ)(this,e,c)}}},9592:function(e,t,r){r.d(t,{nu:function(){return w}});var i=r(602777),n=r(669686),a=r(150251),s=r(647847),o=r(901262),l=r(458622),u=r(77401),c=r(414375),d=r(182673),h=r(425325),m=r(85025),p=r(797011),g=r(918783),f=r(555673),y=r(319332),_=r(602432),v=r(36219),T=r(301009);let I={common:["id","version","new_version","name","fps","is_drop_frame_timecode","color_space","render_index_track_mode_on","free_render_index_mode_on","static_cover_image_path","source","path"],bigint:{duration:{},create_time:{},update_time:{}},array:{tracks:{type:"object",clsName:()=>l.fQ},keyframe_graph_list:{type:"object",clsName:()=>h.kJ},relationships:{type:"object",clsName:()=>_.WX},lyrics_effects:{type:"object",clsName:()=>T.Gb}},object:{config:{type:()=>s.De},canvas_config:{type:()=>o.VJ},group_container:{type:()=>u.Fl,nullable:!0},materials:{type:()=>c.wE},keyframes:{type:()=>d.E4},platform:{type:()=>m.t4},last_modified_platform:{type:()=>m.t4},mutable_config:{type:()=>p._y,nullable:!0},cover:{type:()=>g.Y9,nullable:!0},retouch_cover:{type:()=>f.__,nullable:!0},extra_info:{type:()=>y.Yh,nullable:!0},time_marks:{type:()=>v.wR,nullable:!0}}},k=(0,n.I2)(I,[]);class w extends a.w8{static deserialize(e){let t=new w;return(0,n.Tz)(t,e,I),t}static serialize(e){return(0,n.o8)(e,I)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new w;return(0,n.he)(this,t,I,e),t}constructor(e={}){super(),this[a.I9]=M,this.id="",this.version=7,this.newVersion="",this.name="",this.duration=0n,this.createTime=0n,this.updateTime=0n,this.fps=30,this.isDropFrameTimecode=!1,this.colorSpace=-1,this.config=new s.De,this.canvasConfig=new o.VJ,this.tracks=[],this.materials=new c.wE,this.keyframes=new d.E4,this.keyframeGraphList=[],this.platform=new m.t4,this.lastModifiedPlatform=new m.t4,this.renderIndexTrackModeOn=!0,this.freeRenderIndexModeOn=!1,this.staticCoverImagePath="",this.source=i.qx.default,this.path="",this.lyricsEffects=[],(0,n.tZ)(this,e,k)}}let x={common:["id","version","new_version","name","fps","is_drop_frame_timecode","color_space","render_index_track_mode_on","free_render_index_mode_on","static_cover_image_path","source","path"],bigint:{duration:{},create_time:{},update_time:{}},array:{tracks:{type:"object",clsName:()=>l.fQ},keyframe_graph_list:{type:"object",clsName:()=>h.kJ},relationships:{type:"object",clsName:()=>_.WX},lyrics_effects:{type:"object",clsName:()=>T.Gb}},object:{config:{type:()=>s.Kc},canvas_config:{type:()=>o.jh},group_container:{type:()=>u.k_,nullable:!0},materials:{type:()=>c.MG},keyframes:{type:()=>d.VN},platform:{type:()=>m.XI},last_modified_platform:{type:()=>m.XI},mutable_config:{type:()=>p.Rf,nullable:!0},cover:{type:()=>g.yO,nullable:!0},retouch_cover:{type:()=>f.Dq,nullable:!0},extra_info:{type:()=>y.Q4,nullable:!0},time_marks:{type:()=>v._T,nullable:!0}}},b=(0,n.I2)(x,[]);class M extends a.u2{static deserialize(e){let t=new M;return(0,n.Tz)(t,e,x,!0),t}static serialize(e){return(0,n.o8)(e,x,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new M;return(0,n.he)(this,t,x,e,!1,!0),t}constructor(e={}){super(),this[a._n]=w,(0,n.fZ)(this,e,b)}}},60180:function(e,t,r){r.d(t,{o5:function(){return u}});var i=r(669686),n=r(150251),a=r(835056),s=r(88874);let o={common:["id","platform","intelligent_type"],array:{editable_material_keyframes:{type:"object",clsName:()=>s.rn}},object:{tracking:{type:()=>a.uC}}},l=(0,i.I2)(o,[]);class u extends n.w8{static deserialize(e){let t=new u;return(0,i.Tz)(t,e,o),t}static serialize(e){return(0,i.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,i.he)(this,t,o,e),t}constructor(e={}){super(),this[n.I9]=h,this.id="",this.platform="",this.intelligentType="",this.tracking=new a.uC,this.editableMaterialKeyframes=[],(0,i.tZ)(this,e,l)}}let c={common:["id","platform","intelligent_type"],array:{editable_material_keyframes:{type:"object",clsName:()=>s.rn}},object:{tracking:{type:()=>a.ov}}},d=(0,i.I2)(c,[]);class h extends n.u2{static deserialize(e){let t=new h;return(0,i.Tz)(t,e,c,!0),t}static serialize(e){return(0,i.o8)(e,c,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new h;return(0,i.he)(this,t,c,e,!1,!0),t}constructor(e={}){super(),this[n._n]=u,(0,i.fZ)(this,e,d)}}},608757:function(e,t,r){r.d(t,{A:function(){return c},BW:function(){return o}});var i=r(669686),n=r(150251);let a={common:["vertical","horizontal"]},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.vertical=!1,this.horizontal=!1,(0,i.tZ)(this,e,s)}}let l={common:["vertical","horizontal"]},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},301965:function(e,t,r){r.d(t,{ge:function(){return l},xK:function(){return d}});var i=r(669686),n=r(150251),a=r(498798);let s={common:["prompt","strength","beat_source","beat_gear","speed"],bigint:{lightwave_repeat_duration:{},stopmotion_gap_duration:{},stopmotion_first_render_time:{}},object:{outpainting_ratio:{type:()=>a.we}}},o=(0,i.I2)(s,[]);class l extends n.w8{static deserialize(e){let t=new l;return(0,i.Tz)(t,e,s),t}static serialize(e){return(0,i.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,i.he)(this,t,s,e),t}constructor(e={}){super(),this[n.I9]=d,this.lightwaveRepeatDuration=0n,this.stopmotionGapDuration=0n,this.stopmotionFirstRenderTime=0n,this.prompt="",this.strength=0,this.beatSource="",this.beatGear=0,this.speed=0,this.outpaintingRatio=new a.we,(0,i.tZ)(this,e,o)}}let u={common:["prompt","strength","beat_source","beat_gear","speed"],bigint:{lightwave_repeat_duration:{},stopmotion_gap_duration:{},stopmotion_first_render_time:{}},object:{outpainting_ratio:{type:()=>a.b5}}},c=(0,i.I2)(u,[]);class d extends n.u2{static deserialize(e){let t=new d;return(0,i.Tz)(t,e,u,!0),t}static serialize(e){return(0,i.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,i.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[n._n]=l,(0,i.fZ)(this,e,c)}}},841628:function(e,t,r){r.d(t,{Jd:function(){return d}});var i=r(602777),n=r(669686),a=r(150251),s=r(180942),o=r(301965),l=r(185236);let u={common:["algorithm_type","algorithm_id","gameplay_name","gameplay_metatype","gameplay_aigc_type","show_report_entrance","local_task_id","category_id","category_name","algorithm","path","reshape","ability_flag","resource_id","is_limit_bach_feature","is_ai_generate_content","is_global_gameplay"],array:{adjust_params:{type:"object",clsName:()=>l.VB}},object:{gameplay_source_timerange:{type:()=>s.tn,nullable:!0},adjustable_config:{type:()=>o.ge,nullable:!0}}},c=(0,n.I2)(u,[]);class d extends a.w8{static deserialize(e){let t=new d;return(0,n.Tz)(t,e,u),t}static serialize(e){return(0,n.o8)(e,u)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,n.he)(this,t,u,e),t}constructor(e={}){super(),this[a.I9]=p,this.algorithmType=i.zz.AlgorithmDefault,this.algorithmId="",this.gameplayName="",this.gameplayMetatype=i.cV.MetaTypeNone,this.gameplayAigcType=i.ih.GameplayAIGCTypeUnknown,this.showReportEntrance=!1,this.localTaskId="",this.categoryId="",this.categoryName="",this.algorithm="",this.path="",this.reshape=!1,this.abilityFlag=0,this.adjustParams=[],this.resourceId="",this.isLimitBachFeature=!0,this.isAiGenerateContent=!1,this.isGlobalGameplay=!0,(0,n.tZ)(this,e,c)}}let h={common:["algorithm_type","algorithm_id","gameplay_name","gameplay_metatype","gameplay_aigc_type","show_report_entrance","local_task_id","category_id","category_name","algorithm","path","reshape","ability_flag","resource_id","is_limit_bach_feature","is_ai_generate_content","is_global_gameplay"],array:{adjust_params:{type:"object",clsName:()=>l.VB}},object:{gameplay_source_timerange:{type:()=>s.ze,nullable:!0},adjustable_config:{type:()=>o.xK,nullable:!0}}},m=(0,n.I2)(h,[]);class p extends a.u2{static deserialize(e){let t=new p;return(0,n.Tz)(t,e,h,!0),t}static serialize(e){return(0,n.o8)(e,h,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new p;return(0,n.he)(this,t,h,e,!1,!0),t}constructor(e={}){super(),this[a._n]=d,(0,n.fZ)(this,e,m)}}},959932:function(e,t,r){r.d(t,{l5:function(){return l}});var i=r(669686),n=r(150251),a=r(760554);let s={common:["type"],object:{point:{type:()=>a.KS}}},o=(0,i.I2)(s,[]);class l extends n.w8{static deserialize(e){let t=new l;return(0,i.Tz)(t,e,s),t}static serialize(e){return(0,i.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,i.he)(this,t,s,e),t}constructor(e={}){super(),this[n.I9]=d,this.type=0,this.point=new a.KS,(0,i.tZ)(this,e,o)}}let u={common:["type"],object:{point:{type:()=>a.Ly}}},c=(0,i.I2)(u,[]);class d extends n.u2{static deserialize(e){let t=new d;return(0,i.Tz)(t,e,u,!0),t}static serialize(e){return(0,i.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,i.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[n._n]=l,(0,i.fZ)(this,e,c)}}},425325:function(e,t,r){r.d(t,{kJ:function(){return l},tf:function(){return d}});var i=r(669686),n=r(150251),a=r(959932);let s={common:["id","resource_id","resource_name"],array:{graph_points:{type:"object",clsName:()=>a.l5}}},o=(0,i.I2)(s,[]);class l extends n.w8{static deserialize(e){let t=new l;return(0,i.Tz)(t,e,s),t}static serialize(e){return(0,i.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,i.he)(this,t,s,e),t}constructor(e={}){super(),this[n.I9]=d,this.id="",this.resourceId="",this.resourceName="",this.graphPoints=[],(0,i.tZ)(this,e,o)}}let u={common:["id","resource_id","resource_name"],array:{graph_points:{type:"object",clsName:()=>a.l5}}},c=(0,i.I2)(u,[]);class d extends n.u2{static deserialize(e){let t=new d;return(0,i.Tz)(t,e,u,!0),t}static serialize(e){return(0,i.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,i.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[n._n]=l,(0,i.fZ)(this,e,c)}}},987706:function(e,t,r){r.d(t,{ZA:function(){return u}});var i=r(287165),n=r(669686),a=r(150251),s=r(379012);let o={common:["id","group_index","group_main_id","is_expand","name"],array:{group_members:{type:"common"}},object:{material_draft:{type:()=>s.Wu}}},l=(0,n.I2)(o,[]);class u extends a.w8{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,o,e,["id"]),t}constructor(e={}){super(),this[a.I9]=h,this.id=(0,i.p)(),this.groupIndex=0,this.groupMembers=[],this.materialDraft=new s.Wu,this.groupMainId="",this.isExpand=!1,this.name="",(0,n.tZ)(this,e,l)}}let c={common:["id","group_index","group_main_id","is_expand","name"],array:{group_members:{type:"common"}},object:{material_draft:{type:()=>s.rd}}},d=(0,n.I2)(c,[]);class h extends a.u2{static deserialize(e){let t=new h;return(0,n.Tz)(t,e,c,!0),t}static serialize(e){return(0,n.o8)(e,c,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new h;return(0,n.he)(this,t,c,e,["id"],!0),t}constructor(e={}){super(),this[a._n]=u,(0,n.fZ)(this,e,d)}}},206653:function(e,t,r){r.d(t,{eH:function(){return o}});var i=r(669686),n=r(150251);let a={common:["id","type","brightness_value","contrast_value","saturation_value","sharpen_value","highlight_value","shadow_value","white_value","black_value","clear_value","temperature_value","tone_value","fade_value","light_sensation_value","vignetting_value","particle_value","lut_value","primary_color_wheels_intensity","log_color_wheels_intensity","filter_value","smart_color_adjust_value","color_match_value","color_correct_value"],bigint:{time_offset:{},flags:{}}},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.id="",this.type="adjust",this.timeOffset=0n,this.flags=-1n,this.brightnessValue=0,this.contrastValue=0,this.saturationValue=0,this.sharpenValue=0,this.highlightValue=0,this.shadowValue=0,this.whiteValue=0,this.blackValue=0,this.clearValue=0,this.temperatureValue=0,this.toneValue=0,this.fadeValue=0,this.lightSensationValue=0,this.vignettingValue=0,this.particleValue=0,this.lutValue=0,this.primaryColorWheelsIntensity=1,this.logColorWheelsIntensity=1,this.filterValue=1,this.smartColorAdjustValue=1,this.colorMatchValue=1,this.colorCorrectValue=1,(0,i.tZ)(this,e,s)}}let l={common:["id","type","brightness_value","contrast_value","saturation_value","sharpen_value","highlight_value","shadow_value","white_value","black_value","clear_value","temperature_value","tone_value","fade_value","light_sensation_value","vignetting_value","particle_value","lut_value","primary_color_wheels_intensity","log_color_wheels_intensity","filter_value","smart_color_adjust_value","color_match_value","color_correct_value"],bigint:{time_offset:{},flags:{}}},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},662719:function(e,t,r){r.d(t,{Hp:function(){return u}});var i=r(669686),n=r(150251),a=r(883501),s=r(889803);let o={common:["rotation"],bigint:{time_offset:{}},object:{position:{type:()=>a.wx},scale:{type:()=>s.Ci}}},l=(0,i.I2)(o,[]);class u extends n.w8{static deserialize(e){let t=new u;return(0,i.Tz)(t,e,o),t}static serialize(e){return(0,i.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,i.he)(this,t,o,e),t}constructor(e={}){super(),this[n.I9]=h,this.timeOffset=0n,this.position=new a.wx,this.scale=new s.Ci,this.rotation=0,(0,i.tZ)(this,e,l)}}let c={common:["rotation"],bigint:{time_offset:{}},object:{position:{type:()=>a.jP},scale:{type:()=>s.o_}}},d=(0,i.I2)(c,[]);class h extends n.u2{static deserialize(e){let t=new h;return(0,i.Tz)(t,e,c,!0),t}static serialize(e){return(0,i.o8)(e,c,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new h;return(0,i.he)(this,t,c,e,!1,!0),t}constructor(e={}){super(),this[n._n]=u,(0,i.fZ)(this,e,d)}}},24208:function(e,t,r){r.d(t,{f6:function(){return c},fM:function(){return o}});var i=r(669686),n=r(150251);let a={common:["color","alpha"]},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.color="",this.alpha=1,(0,i.tZ)(this,e,s)}}let l={common:["color","alpha"]},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},776278:function(e,t,r){r.d(t,{uh:function(){return l}});var i=r(669686),n=r(150251),a=r(791007);let s={common:["segment_id"],array:{materials:{type:"object",clsName:()=>a.YB}}},o=(0,i.I2)(s,[]);class l extends n.w8{static deserialize(e){let t=new l;return(0,i.Tz)(t,e,s),t}static serialize(e){return(0,i.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,i.he)(this,t,s,e),t}constructor(e={}){super(),this[n.I9]=d,this.segmentId="",this.materials=[],(0,i.tZ)(this,e,o)}}let u={common:["segment_id"],array:{materials:{type:"object",clsName:()=>a.YB}}},c=(0,i.I2)(u,[]);class d extends n.u2{static deserialize(e){let t=new d;return(0,i.Tz)(t,e,u,!0),t}static serialize(e){return(0,i.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,i.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[n._n]=l,(0,i.fZ)(this,e,c)}}},6467:function(e,t,r){r.d(t,{Fq:function(){return h},fl:function(){return u}});var i=r(602777),n=r(287165),a=r(669686),s=r(150251);let o={common:["id","type","color","blur","image","album_image","image_id","image_name","source_platform","team_id"]},l=(0,a.I2)(o,[]);class u extends s.w8{static deserialize(e){let t=new u;return(0,a.Tz)(t,e,o),t}static serialize(e){return(0,a.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,a.he)(this,t,o,e,["id"]),t}constructor(e={}){super(),this[s.I9]=h,this.id=(0,n.p)(),this.type=i.cV.MetaTypeCanvasColor,this.color="",this.blur=0,this.image="",this.albumImage="",this.imageId="",this.imageName="",this.sourcePlatform=i.nj.EffectPlatformLoki,this.teamId="",(0,a.tZ)(this,e,l)}}let c={common:["id","type","color","blur","image","album_image","image_id","image_name","source_platform","team_id"]},d=(0,a.I2)(c,[]);class h extends s.u2{static deserialize(e){let t=new h;return(0,a.Tz)(t,e,c,!0),t}static serialize(e){return(0,a.o8)(e,c,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new h;return(0,a.he)(this,t,c,e,["id"],!0),t}constructor(e={}){super(),this[s._n]=u,(0,a.fZ)(this,e,d)}}},686513:function(e,t,r){r.d(t,{W9:function(){return y},eA:function(){return p}});var i=r(602777),n=r(287165),a=r(669686),s=r(150251),o=r(185236),l=r(180942),u=r(430071),c=r(851678),d=r(468019);let h={common:["id","effect_id","resource_id","third_resource_id","name","type","sub_type","path","value","category_id","category_name","platform","apply_target_type","source_platform","version","formula_id","enable_skin_tone_correction","algorithm_artifact_path","intensity_key","panel_id","request_id","multi_language_current","lumi_hub_path","covering_relation_change","color_correct_alg_result"],bigint:{item_effect_type:{}},array:{adjust_params:{type:"object",clsName:()=>o.VB},face_adjust_params:{type:"object",clsName:()=>u.m4},exclusion_group:{type:"common"}},object:{time_range:{type:()=>l.tn,nullable:!0},bloom_params:{type:()=>c.zA,nullable:!0},color_match_info:{type:()=>d.Wr,nullable:!0}}},m=(0,a.I2)(h,[]);class p extends s.w8{static deserialize(e){let t=new p;return(0,a.Tz)(t,e,h),t}static serialize(e){return(0,a.o8)(e,h)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new p;return(0,a.he)(this,t,h,e,["id"]),t}constructor(e={}){super(),this[s.I9]=y,this.id=(0,n.p)(),this.effectId="",this.resourceId="",this.thirdResourceId="",this.name="",this.type=i.cV.MetaTypeNone,this.subType=i.De.MetaSubTypeNone,this.path="",this.value=0,this.itemEffectType=0n,this.categoryId="",this.categoryName="",this.platform="all",this.applyTargetType=0,this.sourcePlatform=i.nj.EffectPlatformLoki,this.version="",this.adjustParams=[],this.formulaId="",this.enableSkinToneCorrection=!1,this.algorithmArtifactPath="",this.intensityKey="",this.faceAdjustParams=[],this.exclusionGroup=[],this.panelId="",this.requestId="",this.multiLanguageCurrent="none",this.lumiHubPath="",this.coveringRelationChange=i.fm.Unknow,this.colorCorrectAlgResult="",(0,a.tZ)(this,e,m)}}let g={common:["id","effect_id","resource_id","third_resource_id","name","type","sub_type","path","value","category_id","category_name","platform","apply_target_type","source_platform","version","formula_id","enable_skin_tone_correction","algorithm_artifact_path","intensity_key","panel_id","request_id","multi_language_current","lumi_hub_path","covering_relation_change","color_correct_alg_result"],bigint:{item_effect_type:{}},array:{adjust_params:{type:"object",clsName:()=>o.VB},face_adjust_params:{type:"object",clsName:()=>u.m4},exclusion_group:{type:"common"}},object:{time_range:{type:()=>l.ze,nullable:!0},bloom_params:{type:()=>c.Sv,nullable:!0},color_match_info:{type:()=>d.n7,nullable:!0}}},f=(0,a.I2)(g,[]);class y extends s.u2{static deserialize(e){let t=new y;return(0,a.Tz)(t,e,g,!0),t}static serialize(e){return(0,a.o8)(e,g,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new y;return(0,a.he)(this,t,g,e,["id"],!0),t}constructor(e={}){super(),this[s._n]=p,(0,a.fZ)(this,e,f)}}},180438:function(e,t,r){r.d(t,{W5:function(){return u}});var i=r(669686),n=r(150251),a=r(620675),s=r(153730);let o={common:["enable","alpha","distance","angle","feather","feather_use_diffuse"],array:{strokes:{type:"object",clsName:()=>s.qe}},object:{color:{type:()=>a.tP}}},l=(0,i.I2)(o,[]);class u extends n.w8{static deserialize(e){let t=new u;return(0,i.Tz)(t,e,o),t}static serialize(e){return(0,i.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,i.he)(this,t,o,e),t}constructor(e={}){super(),this[n.I9]=h,this.enable=!1,this.color=new a.tP,this.alpha=1,this.distance=1,this.angle=1,this.feather=1,this.featherUseDiffuse=!1,this.strokes=[],(0,i.tZ)(this,e,l)}}let c={common:["enable","alpha","distance","angle","feather","feather_use_diffuse"],array:{strokes:{type:"object",clsName:()=>s.qe}},object:{color:{type:()=>a.w2}}},d=(0,i.I2)(c,[]);class h extends n.u2{static deserialize(e){let t=new h;return(0,i.Tz)(t,e,c,!0),t}static serialize(e){return(0,i.o8)(e,c,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new h;return(0,i.he)(this,t,c,e,!1,!0),t}constructor(e={}){super(),this[n._n]=u,(0,i.fZ)(this,e,d)}}},137234:function(e,t,r){r.d(t,{fQ:function(){return m},o6:function(){return c}});var i=r(287165),n=r(669686),a=r(150251),s=r(180942),o=r(39498);let l={common:["id","enable","file_id","target_loudness"],object:{time_range:{type:()=>s.tn,nullable:!0},loudness_param:{type:()=>o.z_,nullable:!0}}},u=(0,n.I2)(l,[]);class c extends a.w8{static deserialize(e){let t=new c;return(0,n.Tz)(t,e,l),t}static serialize(e){return(0,n.o8)(e,l)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,n.he)(this,t,l,e,["id"]),t}constructor(e={}){super(),this[a.I9]=m,this.id=(0,i.p)(),this.enable=!1,this.fileId="",this.targetLoudness=0,(0,n.tZ)(this,e,u)}}let d={common:["id","enable","file_id","target_loudness"],object:{time_range:{type:()=>s.ze,nullable:!0},loudness_param:{type:()=>o.oz,nullable:!0}}},h=(0,n.I2)(d,[]);class m extends a.u2{static deserialize(e){let t=new m;return(0,n.Tz)(t,e,d,!0),t}static serialize(e){return(0,n.o8)(e,d,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new m;return(0,n.he)(this,t,d,e,["id"],!0),t}constructor(e={}){super(),this[a._n]=c,(0,n.fZ)(this,e,h)}}},229133:function(e,t,r){r.d(t,{XP:function(){return m},i3:function(){return c}});var i=r(602777),n=r(287165),a=r(669686),s=r(150251),o=r(908099);let l={common:["id","type","panel","resource_id","path","intensity","lumi_hub_path","source_platform"],object:{lift:{type:()=>o.P8},gamma:{type:()=>o.P8},gain:{type:()=>o.P8},offset:{type:()=>o.P8}}},u=(0,a.I2)(l,[]);class c extends s.w8{static deserialize(e){let t=new c;return(0,a.Tz)(t,e,l),t}static serialize(e){return(0,a.o8)(e,l)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,a.he)(this,t,l,e,["id"]),t}constructor(e={}){super(),this[s.I9]=m,this.id=(0,n.p)(),this.type=i.cV.MetaTypePrimaryColorWheels,this.panel="",this.resourceId="",this.path="",this.lift=new o.P8,this.gamma=new o.P8,this.gain=new o.P8,this.offset=new o.P8,this.intensity=1,this.lumiHubPath="",this.sourcePlatform=i.nj.EffectPlatformLoki,(0,a.tZ)(this,e,u)}}let d={common:["id","type","panel","resource_id","path","intensity","lumi_hub_path","source_platform"],object:{lift:{type:()=>o.an},gamma:{type:()=>o.an},gain:{type:()=>o.an},offset:{type:()=>o.an}}},h=(0,a.I2)(d,[]);class m extends s.u2{static deserialize(e){let t=new m;return(0,a.Tz)(t,e,d,!0),t}static serialize(e){return(0,a.o8)(e,d,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new m;return(0,a.he)(this,t,d,e,["id"],!0),t}constructor(e={}){super(),this[s._n]=c,(0,a.fZ)(this,e,h)}}},266218:function(e,t,r){r.d(t,{ak:function(){return f},cJ:function(){return m}});var i=r(602777),n=r(287165),a=r(669686),s=r(150251),o=r(245062),l=r(28881),u=r(840700),c=r(667693);let d={common:["id","type","path","icon_url","preview_cover_url","sticker_id","resource_id","name","category_id","category_name","platform","unicode","source_platform","formula_id","check_flag","team_id","request_id","sub_type","global_alpha","background_color","background_alpha","border_line_style","border_width","border_color","has_shadow","shadow_color","shadow_alpha","shadow_smoothing","shadow_distance","shadow_angle","aigc_type","sequence_type","cycle_setting","multi_language_current"],array:{original_size:{type:"common"}},object:{combo_info:{type:()=>o.$y},radius:{type:()=>l.l0},shadow_point:{type:()=>u._O},shape_param:{type:()=>c.q0}}},h=(0,a.I2)(d,[]);class m extends s.w8{static deserialize(e){let t=new m;return(0,a.Tz)(t,e,d),t}static serialize(e){return(0,a.o8)(e,d)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new m;return(0,a.he)(this,t,d,e,["id"]),t}constructor(e={}){super(),this[s.I9]=f,this.id=(0,n.p)(),this.type=i.cV.MetaTypeSticker,this.path="",this.iconUrl="",this.previewCoverUrl="",this.stickerId="",this.resourceId="",this.name="",this.categoryId="",this.categoryName="",this.platform="all",this.unicode="",this.sourcePlatform=i.nj.EffectPlatformLoki,this.formulaId="",this.checkFlag=1,this.teamId="",this.requestId="",this.comboInfo=new o.$y,this.subType=i.nR.NormalSticker,this.radius=new l.l0,this.globalAlpha=1,this.backgroundColor="",this.backgroundAlpha=1,this.borderLineStyle=i.v2.kSolid,this.borderWidth=0,this.borderColor="",this.hasShadow=!1,this.shadowColor="",this.shadowAlpha=.8,this.shadowSmoothing=0,this.shadowDistance=0,this.shadowPoint=new u._O,this.shadowAngle=0,this.shapeParam=new c.q0,this.originalSize=[],this.aigcType=i.Eg.AIGCTypeNone,this.sequenceType=!1,this.cycleSetting=!0,this.multiLanguageCurrent=i.Hw.MultiLanguageNone,(0,a.tZ)(this,e,h)}}let p={common:["id","type","path","icon_url","preview_cover_url","sticker_id","resource_id","name","category_id","category_name","platform","unicode","source_platform","formula_id","check_flag","team_id","request_id","sub_type","global_alpha","background_color","background_alpha","border_line_style","border_width","border_color","has_shadow","shadow_color","shadow_alpha","shadow_smoothing","shadow_distance","shadow_angle","aigc_type","sequence_type","cycle_setting","multi_language_current"],array:{original_size:{type:"common"}},object:{combo_info:{type:()=>o.PZ},radius:{type:()=>l.ik},shadow_point:{type:()=>u.d9},shape_param:{type:()=>c.Wk}}},g=(0,a.I2)(p,[]);class f extends s.u2{static deserialize(e){let t=new f;return(0,a.Tz)(t,e,p,!0),t}static serialize(e){return(0,a.o8)(e,p,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new f;return(0,a.he)(this,t,p,e,["id"],!0),t}constructor(e={}){super(),this[s._n]=m,(0,a.fZ)(this,e,g)}}},518938:function(e,t,r){r.d(t,{W9:function(){return u},f9:function(){return h}});var i=r(602777),n=r(287165),a=r(669686),s=r(150251);let o={common:["id","type","text","source_type"]},l=(0,a.I2)(o,[]);class u extends s.w8{static deserialize(e){let t=new u;return(0,a.Tz)(t,e,o),t}static serialize(e){return(0,a.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,a.he)(this,t,o,e,["id"]),t}constructor(e={}){super(),this[s.I9]=h,this.id=(0,n.p)(),this.type=i.cV.MetaTypeTailLeader,this.text="",this.sourceType=1,(0,a.tZ)(this,e,l)}}let c={common:["id","type","text","source_type"]},d=(0,a.I2)(c,[]);class h extends s.u2{static deserialize(e){let t=new h;return(0,a.Tz)(t,e,c,!0),t}static serialize(e){return(0,a.o8)(e,c,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new h;return(0,a.he)(this,t,c,e,["id"],!0),t}constructor(e={}){super(),this[s._n]=u,(0,a.fZ)(this,e,d)}}},36219:function(e,t,r){r.d(t,{_T:function(){return h},wR:function(){return u}});var i=r(287165),n=r(669686),a=r(150251),s=r(316971);let o={common:["id"],array:{mark_items:{type:"object",clsName:()=>s.PK}}},l=(0,n.I2)(o,[]);class u extends a.w8{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,o,e,["id"]),t}constructor(e={}){super(),this[a.I9]=h,this.id=(0,i.p)(),this.markItems=[],(0,n.tZ)(this,e,l)}}let c={common:["id"],array:{mark_items:{type:"object",clsName:()=>s.PK}}},d=(0,n.I2)(c,[]);class h extends a.u2{static deserialize(e){let t=new h;return(0,n.Tz)(t,e,c,!0),t}static serialize(e){return(0,n.o8)(e,c,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new h;return(0,n.he)(this,t,c,e,["id"],!0),t}constructor(e={}){super(),this[a._n]=u,(0,n.fZ)(this,e,d)}}},110219:function(e,t,r){r.d(t,{Zb:function(){return l}});var i=r(287165),n=r(669686),a=r(150251);let s={common:["id","path","file_name","md5","thumbnail_width","thumbnail_height","extra_info"]},o=(0,n.I2)(s,[]);class l extends a.w8{static deserialize(e){let t=new l;return(0,n.Tz)(t,e,s),t}static serialize(e){return(0,n.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,n.he)(this,t,s,e,["id"]),t}constructor(e={}){super(),this[a.I9]=d,this.id=(0,i.p)(),this.path="",this.fileName="",this.md5="",this.thumbnailWidth=0,this.thumbnailHeight=0,this.extraInfo="",(0,n.tZ)(this,e,o)}}let u={common:["id","path","file_name","md5","thumbnail_width","thumbnail_height","extra_info"]},c=(0,n.I2)(u,[]);class d extends a.u2{static deserialize(e){let t=new d;return(0,n.Tz)(t,e,u,!0),t}static serialize(e){return(0,n.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,n.he)(this,t,u,e,["id"],!0),t}constructor(e={}){super(),this[a._n]=l,(0,n.fZ)(this,e,c)}}},584845:function(e,t,r){r.d(t,{fD:function(){return l}});var i=r(669686),n=r(150251),a=r(760941);let s={common:["id","resource_id","type","path","name","platform","category_id","category_name"],bigint:{duration:{}},object:{anim_adjust_params:{type:()=>a.Hc,nullable:!0}}},o=(0,i.I2)(s,[]);class l extends n.w8{static deserialize(e){let t=new l;return(0,i.Tz)(t,e,s),t}static serialize(e){return(0,i.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,i.he)(this,t,s,e),t}constructor(e={}){super(),this[n.I9]=d,this.id="",this.resourceId="",this.type="",this.path="",this.duration=0n,this.name="",this.platform="all",this.categoryId="",this.categoryName="",(0,i.tZ)(this,e,o)}}let u={common:["id","resource_id","type","path","name","platform","category_id","category_name"],bigint:{duration:{}},object:{anim_adjust_params:{type:()=>a.Zw,nullable:!0}}},c=(0,i.I2)(u,[]);class d extends n.u2{static deserialize(e){let t=new d;return(0,i.Tz)(t,e,u,!0),t}static serialize(e){return(0,i.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,i.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[n._n]=l,(0,i.fZ)(this,e,c)}}},610489:function(e,t,r){var i=r(669686);r(150251);(0,i.I2)({common:["bloom_color","bloom_strength","bloom_range","bloom_dir_x","bloom_dir_y"]},[]);(0,i.I2)({common:["bloom_color","bloom_strength","bloom_range","bloom_dir_x","bloom_dir_y"]},[])},485451:function(e,t,r){r.d(t,{tg:function(){return d},vW:function(){return p}});var i=r(602777),n=r(669686),a=r(150251),s=r(840700),o=r(510742),l=r(580425);let u={common:["content","original_content","background_color","background_alpha","background_style","background_round_radius","background_width","background_height","background_vertical_offset","background_horizontal_offset","layer_weight","letter_spacing","line_spacing","has_shadow","shadow_color","shadow_alpha","shadow_smoothing","shadow_angle","border_color","border_width","style_name","text_color","text_alpha","font_id","font_category_id","font_category_name","font_source_platform","font_title","font_size","font_path","font_resource_id","font_request_id","bold_width","italic_degree","underline","underline_width","underline_offset","sub_type","alignment","typesetting","use_effect_default_color","preset_id","preset_name","preset_category","preset_category_id","preset_index","shape_clip_x","shape_clip_y"],array:{fonts:{type:"object",clsName:()=>l.Bo}},object:{shadow_point:{type:()=>s._O},text_curve:{type:()=>o.b9,nullable:!0}}},c=(0,n.I2)(u,[]);class d extends a.w8{static deserialize(e){let t=new d;return(0,n.Tz)(t,e,u),t}static serialize(e){return(0,n.o8)(e,u)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,n.he)(this,t,u,e),t}constructor(e={}){super(),this[a.I9]=p,this.content="",this.originalContent="",this.backgroundColor="",this.backgroundAlpha=1,this.backgroundStyle=0,this.backgroundRoundRadius=0,this.backgroundWidth=.14,this.backgroundHeight=.14,this.backgroundVerticalOffset=0,this.backgroundHorizontalOffset=0,this.layerWeight=1,this.letterSpacing=0,this.lineSpacing=.2,this.hasShadow=!1,this.shadowColor="",this.shadowAlpha=.8,this.shadowSmoothing=0,this.shadowPoint=new s._O,this.shadowAngle=-45,this.borderColor="",this.borderWidth=.08,this.styleName="",this.textColor="",this.textAlpha=1,this.fontId="",this.fontCategoryId="",this.fontCategoryName="",this.fontSourcePlatform=0,this.fontTitle="none",this.fontSize=15,this.fontPath="",this.fontResourceId="",this.fontRequestId="",this.fonts=[],this.boldWidth=0,this.italicDegree=0,this.underline=!1,this.underlineWidth=.05,this.underlineOffset=.22,this.subType=i.SY.SubtitleMix,this.alignment=1,this.typesetting=0,this.useEffectDefaultColor=!0,this.presetId="",this.presetName="",this.presetCategory="",this.presetCategoryId="",this.presetIndex=0,this.shapeClipX=!1,this.shapeClipY=!1,(0,n.tZ)(this,e,c)}}let h={common:["content","original_content","background_color","background_alpha","background_style","background_round_radius","background_width","background_height","background_vertical_offset","background_horizontal_offset","layer_weight","letter_spacing","line_spacing","has_shadow","shadow_color","shadow_alpha","shadow_smoothing","shadow_angle","border_color","border_width","style_name","text_color","text_alpha","font_id","font_category_id","font_category_name","font_source_platform","font_title","font_size","font_path","font_resource_id","font_request_id","bold_width","italic_degree","underline","underline_width","underline_offset","sub_type","alignment","typesetting","use_effect_default_color","preset_id","preset_name","preset_category","preset_category_id","preset_index","shape_clip_x","shape_clip_y"],array:{fonts:{type:"object",clsName:()=>l.Bo}},object:{shadow_point:{type:()=>s.d9},text_curve:{type:()=>o.eG,nullable:!0}}},m=(0,n.I2)(h,[]);class p extends a.u2{static deserialize(e){let t=new p;return(0,n.Tz)(t,e,h,!0),t}static serialize(e){return(0,n.o8)(e,h,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new p;return(0,n.he)(this,t,h,e,!1,!0),t}constructor(e={}){super(),this[a._n]=d,(0,n.fZ)(this,e,m)}}},509650:function(e,t,r){r.d(t,{Ax:function(){return d},nY:function(){return l}});var i=r(602777),n=r(669686),a=r(150251);let s={common:["blur","blend","multiple_blur","blur_frame_type"]},o=(0,n.I2)(s,[]);class l extends a.w8{static deserialize(e){let t=new l;return(0,n.Tz)(t,e,s),t}static serialize(e){return(0,n.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,n.he)(this,t,s,e),t}constructor(e={}){super(),this[a.I9]=d,this.blur=0,this.blend=0,this.multipleBlur=1,this.blurFrameType=i.lw.Bilateral,(0,n.tZ)(this,e,o)}}let u={common:["blur","blend","multiple_blur","blur_frame_type"]},c=(0,n.I2)(u,[]);class d extends a.u2{static deserialize(e){let t=new d;return(0,n.Tz)(t,e,u,!0),t}static serialize(e){return(0,n.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,n.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[a._n]=l,(0,n.fZ)(this,e,c)}}},874745:function(e,t,r){r.d(t,{E$:function(){return l},sr:function(){return d}});var i=r(602777),n=r(669686),a=r(150251);let s={common:["motion_mode","source_recog_body_motion","source_recog_beats","motion_scale","motion_rotate","motion_shift","motion_beat_type"]},o=(0,n.I2)(s,[]);class l extends a.w8{static deserialize(e){let t=new l;return(0,n.Tz)(t,e,s),t}static serialize(e){return(0,n.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,n.he)(this,t,s,e),t}constructor(e={}){super(),this[a.I9]=d,this.motionMode=i.cL.Dynamic,this.sourceRecogBodyMotion=!0,this.sourceRecogBeats=!0,this.motionScale=1.25,this.motionRotate=1.25,this.motionShift=1.25,this.motionBeatType=1,(0,n.tZ)(this,e,o)}}let u={common:["motion_mode","source_recog_body_motion","source_recog_beats","motion_scale","motion_rotate","motion_shift","motion_beat_type"]},c=(0,n.I2)(u,[]);class d extends a.u2{static deserialize(e){let t=new d;return(0,n.Tz)(t,e,u,!0),t}static serialize(e){return(0,n.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,n.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[a._n]=l,(0,n.fZ)(this,e,c)}}},30076:function(e,t,r){r.d(t,{CX:function(){return g},lS:function(){return h}});var i=r(602777),n=r(669686),a=r(150251),s=r(360291),o=r(246870),l=r(26674),u=r(852500);let c={common:["output_video","output_bgm","driver_audio_type","mouth_shape_mode","retain_background_sound","driver_audio_file_path","driver_audio_md5"],bigint:{drive_audio_duration:{}},object:{origin_segment_duration:{type:()=>s.uE},origin_file:{type:()=>o.Zy},text_mode:{type:()=>l.TS},audio_mode:{type:()=>u.to}}},d=(0,n.I2)(c,[]);class h extends a.w8{static deserialize(e){let t=new h;return(0,n.Tz)(t,e,c),t}static serialize(e){return(0,n.o8)(e,c)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new h;return(0,n.he)(this,t,c,e),t}constructor(e={}){super(),this[a.I9]=g,this.outputVideo="",this.outputBgm="",this.driverAudioType=i.GI.DefaultAudio,this.mouthShapeMode=i.eE.MouthShapeTwod,this.retainBackgroundSound=!1,this.driverAudioFilePath="",this.driverAudioMd5="",this.driveAudioDuration=0n,this.originSegmentDuration=new s.uE,this.originFile=new o.Zy,this.textMode=new l.TS,this.audioMode=new u.to,(0,n.tZ)(this,e,d)}}let m={common:["output_video","output_bgm","driver_audio_type","mouth_shape_mode","retain_background_sound","driver_audio_file_path","driver_audio_md5"],bigint:{drive_audio_duration:{}},object:{origin_segment_duration:{type:()=>s.tn},origin_file:{type:()=>o.Yl},text_mode:{type:()=>l.tk},audio_mode:{type:()=>u.zF}}},p=(0,n.I2)(m,[]);class g extends a.u2{static deserialize(e){let t=new g;return(0,n.Tz)(t,e,m,!0),t}static serialize(e){return(0,n.o8)(e,m,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new g;return(0,n.he)(this,t,m,e,!1,!0),t}constructor(e={}){super(),this[a._n]=h,(0,n.fZ)(this,e,p)}}},360291:function(e,t,r){r.d(t,{tn:function(){return c},uE:function(){return o}});var i=r(669686),n=r(150251);let a={bigint:{source_start:{},source_duration:{},target_duration:{}}},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.sourceStart=0n,this.sourceDuration=0n,this.targetDuration=0n,(0,i.tZ)(this,e,s)}}let l={bigint:{source_start:{},source_duration:{},target_duration:{}}},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},797011:function(e,t,r){r.d(t,{Rf:function(){return h},_y:function(){return u}});var i=r(602777),n=r(669686),a=r(150251),s=r(956969);let o={common:["align_mode"],array:{mutable_materials:{type:"object",clsName:()=>s.HI}}},l=(0,n.I2)(o,[]);class u extends a.w8{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[a.I9]=h,this.alignMode=i._T.AlignModeCanvas,this.mutableMaterials=[],(0,n.tZ)(this,e,l)}}let c={common:["align_mode"],array:{mutable_materials:{type:"object",clsName:()=>s.HI}}},d=(0,n.I2)(c,[]);class h extends a.u2{static deserialize(e){let t=new h;return(0,n.Tz)(t,e,c,!0),t}static serialize(e){return(0,n.o8)(e,c,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new h;return(0,n.he)(this,t,c,e,!1,!0),t}constructor(e={}){super(),this[a._n]=u,(0,n.fZ)(this,e,d)}}},765615:function(e,t,r){r.d(t,{dl:function(){return w}});var i=r(602777),n=r(669686),a=r(150251),s=r(647847),o=r(901262),l=r(844456),u=r(77401),c=r(414375),d=r(182673),h=r(425325),m=r(85025),p=r(797011),g=r(918783),f=r(555673),y=r(319332),_=r(602432),v=r(36219),T=r(301009);let I={common:["id","version","new_version","name","fps","is_drop_frame_timecode","color_space","render_index_track_mode_on","free_render_index_mode_on","static_cover_image_path","source","path"],bigint:{duration:{},create_time:{},update_time:{}},array:{tracks:{type:"object",clsName:()=>l.$2},keyframe_graph_list:{type:"object",clsName:()=>h.kJ},relationships:{type:"object",clsName:()=>_.WX},lyrics_effects:{type:"object",clsName:()=>T.Gb}},object:{config:{type:()=>s.De},canvas_config:{type:()=>o.VJ},group_container:{type:()=>u.Fl,nullable:!0},materials:{type:()=>c.wE},keyframes:{type:()=>d.E4},platform:{type:()=>m.t4},last_modified_platform:{type:()=>m.t4},mutable_config:{type:()=>p._y,nullable:!0},cover:{type:()=>g.Y9,nullable:!0},retouch_cover:{type:()=>f.__,nullable:!0},extra_info:{type:()=>y.Yh,nullable:!0},time_marks:{type:()=>v.wR,nullable:!0}}},k=(0,n.I2)(I,[]);class w extends a.w8{static deserialize(e){let t=new w;return(0,n.Tz)(t,e,I),t}static serialize(e){return(0,n.o8)(e,I)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new w;return(0,n.he)(this,t,I,e),t}constructor(e={}){super(),this[a.I9]=M,this.id="",this.version=7,this.newVersion="",this.name="",this.duration=0n,this.createTime=0n,this.updateTime=0n,this.fps=30,this.isDropFrameTimecode=!1,this.colorSpace=-1,this.config=new s.De,this.canvasConfig=new o.VJ,this.tracks=[],this.materials=new c.wE,this.keyframes=new d.E4,this.keyframeGraphList=[],this.platform=new m.t4,this.lastModifiedPlatform=new m.t4,this.renderIndexTrackModeOn=!0,this.freeRenderIndexModeOn=!1,this.staticCoverImagePath="",this.source=i.qx.default,this.path="",this.lyricsEffects=[],(0,n.tZ)(this,e,k)}}let x={common:["id","version","new_version","name","fps","is_drop_frame_timecode","color_space","render_index_track_mode_on","free_render_index_mode_on","static_cover_image_path","source","path"],bigint:{duration:{},create_time:{},update_time:{}},array:{tracks:{type:"object",clsName:()=>l.$2},keyframe_graph_list:{type:"object",clsName:()=>h.kJ},relationships:{type:"object",clsName:()=>_.WX},lyrics_effects:{type:"object",clsName:()=>T.Gb}},object:{config:{type:()=>s.Kc},canvas_config:{type:()=>o.jh},group_container:{type:()=>u.k_,nullable:!0},materials:{type:()=>c.MG},keyframes:{type:()=>d.VN},platform:{type:()=>m.XI},last_modified_platform:{type:()=>m.XI},mutable_config:{type:()=>p.Rf,nullable:!0},cover:{type:()=>g.yO,nullable:!0},retouch_cover:{type:()=>f.Dq,nullable:!0},extra_info:{type:()=>y.Q4,nullable:!0},time_marks:{type:()=>v._T,nullable:!0}}},b=(0,n.I2)(x,[]);class M extends a.u2{static deserialize(e){let t=new M;return(0,n.Tz)(t,e,x,!0),t}static serialize(e){return(0,n.o8)(e,x,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new M;return(0,n.he)(this,t,x,e,!1,!0),t}constructor(e={}){super(),this[a._n]=w,(0,n.fZ)(this,e,b)}}},45793:function(e,t,r){r.d(t,{ZK:function(){return o}});var i=r(669686),n=r(150251);let a={common:["segment_id","content"],bigint:{start:{},duration:{}}},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.segmentId="",this.content="",this.start=0n,this.duration=0n,(0,i.tZ)(this,e,s)}}let l={common:["segment_id","content"],bigint:{start:{},duration:{}}},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},557871:function(e,t,r){r.d(t,{nf:function(){return o}});var i=r(669686),n=r(150251);let a={common:["id","title","content"],array:{paragraphs_ids:{type:"common"}}},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.id="",this.title="",this.content="",this.paragraphsIds=[],(0,i.tZ)(this,e,s)}}let l={common:["id","title","content"],array:{paragraphs_ids:{type:"common"}}},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},270190:function(e,t,r){r.d(t,{dM:function(){return l},o8:function(){return d}});var i=r(669686),n=r(150251),a=r(940931);let s={object:{script_draft:{type:()=>a.E8}}},o=(0,i.I2)(s,[]);class l extends n.w8{static deserialize(e){let t=new l;return(0,i.Tz)(t,e,s),t}static serialize(e){return(0,i.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,i.he)(this,t,s,e),t}constructor(e={}){super(),this[n.I9]=d,this.scriptDraft=new a.E8,(0,i.tZ)(this,e,o)}}let u={object:{script_draft:{type:()=>a.lM}}},c=(0,i.I2)(u,[]);class d extends n.u2{static deserialize(e){let t=new d;return(0,i.Tz)(t,e,u,!0),t}static serialize(e){return(0,i.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,i.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[n._n]=l,(0,i.fZ)(this,e,c)}}},844794:function(e,t,r){r.d(t,{V9:function(){return h},Xo:function(){return u}});var i=r(669686),n=r(150251),a=r(158251),s=r(445628);let o={array:{texts:{type:"object",clsName:()=>a.PG},medias:{type:"object",clsName:()=>s.FE}}},l=(0,i.I2)(o,[]);class u extends n.w8{static deserialize(e){let t=new u;return(0,i.Tz)(t,e,o),t}static serialize(e){return(0,i.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,i.he)(this,t,o,e),t}constructor(e={}){super(),this[n.I9]=h,this.texts=[],this.medias=[],(0,i.tZ)(this,e,l)}}let c={array:{texts:{type:"object",clsName:()=>a.PG},medias:{type:"object",clsName:()=>s.FE}}},d=(0,i.I2)(c,[]);class h extends n.u2{static deserialize(e){let t=new h;return(0,i.Tz)(t,e,c,!0),t}static serialize(e){return(0,i.o8)(e,c,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new h;return(0,i.he)(this,t,c,e,!1,!0),t}constructor(e={}){super(),this[n._n]=u,(0,i.fZ)(this,e,d)}}},355399:function(e,t,r){r.d(t,{D4:function(){return g},ng:function(){return _}});var i=r(669686),n=r(150251),a=r(557871),s=r(781189),o=r(879584),l=r(544664),u=r(86498),c=r(844794),d=r(78676),h=r(249321);let m={common:["version","type","publish_source","template_id","title"],array:{chapters:{type:"object",clsName:()=>a.nf},paragraphs:{type:"object",clsName:()=>s.RT},fragments:{type:"object",clsName:()=>o.HG},lines:{type:"object",clsName:()=>l.vm},bgms:{type:"object",clsName:()=>u.QS},columns:{type:"object",clsName:()=>d.jm}},object:{materials:{type:()=>c.Xo},purchaseInfo:{type:()=>h.Df}}},p=(0,i.I2)(m,[]);class g extends n.w8{static deserialize(e){let t=new g;return(0,i.Tz)(t,e,m),t}static serialize(e){return(0,i.o8)(e,m)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new g;return(0,i.he)(this,t,m,e),t}constructor(e={}){super(),this[n.I9]=_,this.version="",this.type="",this.publishSource=0,this.templateId="",this.title="",this.chapters=[],this.paragraphs=[],this.fragments=[],this.lines=[],this.bgms=[],this.materials=new c.Xo,this.columns=[],this.purchaseInfo=new h.Df,(0,i.tZ)(this,e,p)}}let f={common:["version","type","publish_source","template_id","title"],array:{chapters:{type:"object",clsName:()=>a.nf},paragraphs:{type:"object",clsName:()=>s.RT},fragments:{type:"object",clsName:()=>o.HG},lines:{type:"object",clsName:()=>l.vm},bgms:{type:"object",clsName:()=>u.QS},columns:{type:"object",clsName:()=>d.jm}},object:{materials:{type:()=>c.V9},purchaseInfo:{type:()=>h.CR}}},y=(0,i.I2)(f,[]);class _ extends n.u2{static deserialize(e){let t=new _;return(0,i.Tz)(t,e,f,!0),t}static serialize(e){return(0,i.o8)(e,f,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new _;return(0,i.he)(this,t,f,e,!1,!0),t}constructor(e={}){super(),this[n._n]=g,(0,i.fZ)(this,e,y)}}},158251:function(e,t,r){r.d(t,{PG:function(){return o}});var i=r(669686),n=r(150251);let a={common:["id","content"]},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.id="",this.content="",(0,i.tZ)(this,e,s)}}let l={common:["id","content"]},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},541345:function(e,t,r){r.d(t,{C6:function(){return c},Ng:function(){return m}});var i=r(602777),n=r(669686),a=r(150251),s=r(379012),o=r(53823);let l={extend:o.xV,object:{material:{type:()=>s.Wu}}},u=(0,n.I2)(l,[]);class c extends o.XX{static deserialize(e){let t=new c;return(0,n.Tz)(t,e,l),t}static serialize(e){return(0,n.o8)(e,l)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,n.he)(this,t,l,e,!0),t}constructor(e={}){super(e),this[a.I9]=m,this.__segment_struct_type=i.Oc.SegmentAdcube,this.material=new s.Wu,(0,n.tZ)(this,e,u)}}let d={extend:o.FX,object:{material:{type:()=>s.rd}}},h=(0,n.I2)(d,[]);class m extends o.Ev{static deserialize(e){let t=new m;return(0,n.Tz)(t,e,d,!0),t}static serialize(e){return(0,n.o8)(e,d,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new m;return(0,n.he)(this,t,d,e,!0,!0),t}constructor(e={}){super(),this[a._n]=c,this.__segment_struct_type=i.Oc.SegmentAdcube,(0,n.fZ)(this,e,h)}}},325744:function(e,t,r){r.d(t,{AO:function(){return _},Gf:function(){return g}});var i=r(602777),n=r(669686),a=r(150251),s=r(238830),o=r(468634),l=r(973815),u=r(908301),c=r(579399),d=r(217381),h=r(53823);let m={extend:h.xV,common:["adaption_model"],array:{keyframes:{type:"object",clsName:()=>c.QC}},object:{clip:{type:()=>s.bX},uniform_scale:{type:()=>o._p},material:{type:()=>l._Z},animations:{type:()=>u.ZP,nullable:!0},video_tracking:{type:()=>d.FM,nullable:!0}}},p=(0,n.I2)(m,[]);class g extends h.XX{static deserialize(e){let t=new g;return(0,n.Tz)(t,e,m),t}static serialize(e){return(0,n.o8)(e,m)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new g;return(0,n.he)(this,t,m,e,!0),t}constructor(e={}){super(e),this[a.I9]=_,this.__segment_struct_type=i.Oc.SegmentImageSticker,this.adaptionModel=0,this.clip=new s.bX,this.uniformScale=new o._p,this.material=new l._Z,this.keyframes=[],(0,n.tZ)(this,e,p)}}let f={extend:h.FX,common:["adaption_model"],array:{keyframes:{type:"object",clsName:()=>c.QC}},object:{clip:{type:()=>s.tL},uniform_scale:{type:()=>o.Rp},material:{type:()=>l.mF},animations:{type:()=>u.PA,nullable:!0},video_tracking:{type:()=>d.Mw,nullable:!0}}},y=(0,n.I2)(f,[]);class _ extends h.Ev{static deserialize(e){let t=new _;return(0,n.Tz)(t,e,f,!0),t}static serialize(e){return(0,n.o8)(e,f,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new _;return(0,n.he)(this,t,f,e,!0,!0),t}constructor(e={}){super(),this[a._n]=g,this.__segment_struct_type=i.Oc.SegmentImageSticker,(0,n.fZ)(this,e,y)}}},840700:function(e,t,r){r.d(t,{_O:function(){return o},d9:function(){return c}});var i=r(669686),n=r(150251);let a={common:["x","y"]},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.x=0,this.y=0,(0,i.tZ)(this,e,s)}}let l={common:["x","y"]},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},758381:function(e,t,r){r.d(t,{aP:function(){return o}});var i=r(669686),n=r(150251);let a={common:["subtitle_cache_info","key"],bigint:{start_time:{},end_time:{}}},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.startTime=0n,this.endTime=0n,(0,i.tZ)(this,e,s)}}let l={common:["subtitle_cache_info","key"],bigint:{start_time:{},end_time:{}}},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},459658:function(e,t,r){r.d(t,{Gg:function(){return l},Mb:function(){return d}});var i=r(669686),n=r(150251),a=r(60180);let s={common:["version"],array:{editable_materials:{type:"object",clsName:()=>a.o5}}},o=(0,i.I2)(s,[]);class l extends n.w8{static deserialize(e){let t=new l;return(0,i.Tz)(t,e,s),t}static serialize(e){return(0,i.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,i.he)(this,t,s,e),t}constructor(e={}){super(),this[n.I9]=d,this.editableMaterials=[],this.version="",(0,i.tZ)(this,e,o)}}let u={common:["version"],array:{editable_materials:{type:"object",clsName:()=>a.o5}}},c=(0,i.I2)(u,[]);class d extends n.u2{static deserialize(e){let t=new d;return(0,i.Tz)(t,e,u,!0),t}static serialize(e){return(0,i.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,i.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[n._n]=l,(0,i.fZ)(this,e,c)}}},914783:function(e,t,r){r.d(t,{SL:function(){return o},c$:function(){return c}});var i=r(669686),n=r(150251);let a={common:["material_id"],bigint:{frame_time:{}}},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.materialId="",this.frameTime=0n,(0,i.tZ)(this,e,s)}}let l={common:["material_id"],bigint:{frame_time:{}}},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},478351:function(e,t,r){r.d(t,{Vg:function(){return d},aA:function(){return p}});var i=r(669686),n=r(150251),a=r(25749),s=r(204437),o=r(371997),l=r(636272);let u={common:["request_id","original_template_id","edit_template_id","import_template_url","template_id_symbol","capflow_id","extra_report_data"],array:{material_infos:{type:"object",clsName:()=>o.Eo}},object:{product_info:{type:()=>a.x7},draft_meta_data:{type:()=>s.q4},subtitle_info:{type:()=>l.w6}}},c=(0,i.I2)(u,[]);class d extends n.w8{static deserialize(e){let t=new d;return(0,i.Tz)(t,e,u),t}static serialize(e){return(0,i.o8)(e,u)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,i.he)(this,t,u,e),t}constructor(e={}){super(),this[n.I9]=p,this.productInfo=new a.x7,this.draftMetaData=new s.q4,this.materialInfos=[],this.subtitleInfo=new l.w6,this.requestId="",this.originalTemplateId="",this.editTemplateId="",this.importTemplateUrl="",this.templateIdSymbol="",this.capflowId="",this.extraReportData="",(0,i.tZ)(this,e,c)}}let h={common:["request_id","original_template_id","edit_template_id","import_template_url","template_id_symbol","capflow_id","extra_report_data"],array:{material_infos:{type:"object",clsName:()=>o.Eo}},object:{product_info:{type:()=>a.lQ},draft_meta_data:{type:()=>s.qr},subtitle_info:{type:()=>l.Kx}}},m=(0,i.I2)(h,[]);class p extends n.u2{static deserialize(e){let t=new p;return(0,i.Tz)(t,e,h,!0),t}static serialize(e){return(0,i.o8)(e,h,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new p;return(0,i.he)(this,t,h,e,!1,!0),t}constructor(e={}){super(),this[n._n]=d,(0,i.fZ)(this,e,m)}}},371997:function(e,t,r){r.d(t,{Eo:function(){return l}});var i=r(669686),n=r(150251),a=r(551081);let s={common:["id","source","type","format"],bigint:{duration:{}},object:{video_meta_data:{type:()=>a.IY},image_meta_data:{type:()=>a.IY}}},o=(0,i.I2)(s,[]);class l extends n.w8{static deserialize(e){let t=new l;return(0,i.Tz)(t,e,s),t}static serialize(e){return(0,i.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,i.he)(this,t,s,e),t}constructor(e={}){super(),this[n.I9]=d,this.id="",this.source="",this.duration=0n,this.type="",this.format="",this.videoMetaData=new a.IY,this.imageMetaData=new a.IY,(0,i.tZ)(this,e,o)}}let u={common:["id","source","type","format"],bigint:{duration:{}},object:{video_meta_data:{type:()=>a.Hy},image_meta_data:{type:()=>a.Hy}}},c=(0,i.I2)(u,[]);class d extends n.u2{static deserialize(e){let t=new d;return(0,i.Tz)(t,e,u,!0),t}static serialize(e){return(0,i.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,i.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[n._n]=l,(0,i.fZ)(this,e,c)}}},642982:function(e,t,r){r.d(t,{VW:function(){return c},XN:function(){return o}});var i=r(669686),n=r(150251);let a={common:["content","font_name","font_path","font_resource_id","font_size","bold_width","has_underline","line_gap","char_spacing","scale"],bigint:{italic_degree:{},align_type:{}}},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.content="",this.fontName="",this.fontPath="",this.fontResourceId="",this.fontSize=15,this.boldWidth=0,this.italicDegree=0n,this.hasUnderline=!1,this.lineGap=0,this.charSpacing=0,this.alignType=1n,this.scale=1,(0,i.tZ)(this,e,s)}}let l={common:["content","font_name","font_path","font_resource_id","font_size","bold_width","has_underline","line_gap","char_spacing","scale"],bigint:{italic_degree:{},align_type:{}}},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},316971:function(e,t,r){r.d(t,{PK:function(){return l}});var i=r(669686),n=r(150251),a=r(180942);let s={common:["id","color","title"],object:{time_range:{type:()=>a.tn}}},o=(0,i.I2)(s,[]);class l extends n.w8{static deserialize(e){let t=new l;return(0,i.Tz)(t,e,s),t}static serialize(e){return(0,i.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,i.he)(this,t,s,e),t}constructor(e={}){super(),this[n.I9]=d,this.id="",this.timeRange=new a.tn,this.color="",this.title="",(0,i.tZ)(this,e,o)}}let u={common:["id","color","title"],object:{time_range:{type:()=>a.ze}}},c=(0,i.I2)(u,[]);class d extends n.u2{static deserialize(e){let t=new d;return(0,i.Tz)(t,e,u,!0),t}static serialize(e){return(0,i.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,i.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[n._n]=l,(0,i.fZ)(this,e,c)}}},180942:function(e,t,r){r.d(t,{tn:function(){return o},ze:function(){return c}});var i=r(669686),n=r(150251);let a={bigint:{start:{},duration:{}}},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.start=0n,this.duration=0n,(0,i.tZ)(this,e,s)}}let l={bigint:{start:{},duration:{}}},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},369751:function(e,t,r){r.d(t,{gz:function(){return o}});var i=r(669686),n=r(150251);let a={common:["name","type","platform"]},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.name="",this.type=0,this.platform="",(0,i.tZ)(this,e,s)}}let l={common:["name","type","platform"]},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},487253:function(e,t,r){r.d(t,{OH:function(){return x},PO:function(){return I}});var i=r(669686),n=r(150251),a=r(466966),s=r(180942),o=r(841628),l=r(728193),u=r(509650),c=r(817886),d=r(911217),h=r(101506),m=r(23698),p=r(184617),g=r(264585),f=r(840961),y=r(30076),_=r(855274);let v={common:["path"],array:{algorithms:{type:"object",clsName:()=>a.k1},gameplay_configs:{type:"object",clsName:()=>o.Jd},ai_background_configs:{type:"object",clsName:()=>p.G9}},object:{time_range:{type:()=>s.tn,nullable:!0},complement_frame_config:{type:()=>l.CA,nullable:!0},motion_blur_config:{type:()=>u.nY,nullable:!0},deflicker:{type:()=>c.Zg,nullable:!0},noise_reduction:{type:()=>d.tQ,nullable:!0},quality_enhance:{type:()=>h.BH,nullable:!0},super_resolution:{type:()=>m.Sk,nullable:!0},smart_complement_frame:{type:()=>g.k6,nullable:!0},aigc_generate:{type:()=>f.R2,nullable:!0},mouth_shape_driver:{type:()=>y.lS,nullable:!0},ai_expression_driven:{type:()=>_.Zm,nullable:!0},ai_motion_driven:{type:()=>_.Zm,nullable:!0}}},T=(0,i.I2)(v,[]);class I extends n.w8{static deserialize(e){let t=new I;return(0,i.Tz)(t,e,v),t}static serialize(e){return(0,i.o8)(e,v)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new I;return(0,i.he)(this,t,v,e),t}constructor(e={}){super(),this[n.I9]=x,this.algorithms=[],this.path="",this.gameplayConfigs=[],(0,i.tZ)(this,e,T)}}let k={common:["path"],array:{algorithms:{type:"object",clsName:()=>a.k1},gameplay_configs:{type:"object",clsName:()=>o.Jd},ai_background_configs:{type:"object",clsName:()=>p.G9}},object:{time_range:{type:()=>s.ze,nullable:!0},complement_frame_config:{type:()=>l._C,nullable:!0},motion_blur_config:{type:()=>u.Ax,nullable:!0},deflicker:{type:()=>c.B2,nullable:!0},noise_reduction:{type:()=>d.Av,nullable:!0},quality_enhance:{type:()=>h.$z,nullable:!0},super_resolution:{type:()=>m.sE,nullable:!0},smart_complement_frame:{type:()=>g.cG,nullable:!0},aigc_generate:{type:()=>f.y4,nullable:!0},mouth_shape_driver:{type:()=>y.CX,nullable:!0},ai_expression_driven:{type:()=>_.Lr,nullable:!0},ai_motion_driven:{type:()=>_.Lr,nullable:!0}}},w=(0,i.I2)(k,[]);class x extends n.u2{static deserialize(e){let t=new x;return(0,i.Tz)(t,e,k,!0),t}static serialize(e){return(0,i.o8)(e,k,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new x;return(0,i.he)(this,t,k,e,!1,!0),t}constructor(e={}){super(),this[n._n]=I,(0,i.fZ)(this,e,w)}}},200322:function(e,t,r){r.d(t,{d4:function(){return o},hd:function(){return c}});var i=r(669686),n=r(150251);let a={common:["width","height","center_x","center_y","rotation"]},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.width=0,this.height=0,this.centerX=0,this.centerY=0,this.rotation=0,(0,i.tZ)(this,e,s)}}let l={common:["width","height","center_x","center_y","rotation"]},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},666862:function(e,t,r){r.d(t,{aw:function(){return o}});var i=r(669686),n=r(150251);let a={common:["short_text","short_text_type"],bigint:{start_at_duration_ms:{},end_at_duration_ms:{}}},s=(0,i.I2)(a,[]);class o extends n.w8{static deserialize(e){let t=new o;return(0,i.Tz)(t,e,a),t}static serialize(e){return(0,i.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new o;return(0,i.he)(this,t,a,e),t}constructor(e={}){super(),this[n.I9]=c,this.shortText="",this.startAtDurationMs=0n,this.endAtDurationMs=0n,this.shortTextType="",(0,i.tZ)(this,e,s)}}let l={common:["short_text","short_text_type"],bigint:{start_at_duration_ms:{},end_at_duration_ms:{}}},u=(0,i.I2)(l,[]);class c extends n.u2{static deserialize(e){let t=new c;return(0,i.Tz)(t,e,l,!0),t}static serialize(e){return(0,i.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,i.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[n._n]=o,(0,i.fZ)(this,e,u)}}},454653:function(e,t,r){r.d(t,{S:function(){return a},e:function(){return s}});var i=r(2995),n=r(903849);function a(e,t,r,a){a.material=(0,n.t0)(e.materials,"stickers",[a.materialId],void 0,i.vx),a.animations=(0,n.t0)(e.materials,"materialAnimations",a.extraMaterialRefs),a.videoTracking=(0,n.t0)(e.materials,"videoTrackings",a.extraMaterialRefs),(0,n.j)(e.keyframeGraphList,a)}function s(e,t,r,i,a,s){s.materialId=a.material.id,(0,n.af)(e.materials,"shapes",a.material),(0,n.u$)(e.materials,"materialAnimations",r,a.animations),(0,n.u$)(e.materials,"videoTrackings",r,a.videoTracking),(0,n.P$)(r,t,a.id),(0,n.SQ)(e.keyframeGraphList,a,s)}},706368:function(e,t,r){r.d(t,{O:function(){return s},e:function(){return a}});var i=r(266218),n=r(903849);function a(e,t,r,a){a.material=(0,n.t0)(e.materials,"stickers",[a.materialId],void 0,i.cJ),a.animations=(0,n.t0)(e.materials,"materialAnimations",a.extraMaterialRefs),a.videoTracking=(0,n.t0)(e.materials,"videoTrackings",a.extraMaterialRefs),a.keyframes=(0,n.tI)(e.keyframes,"stickers",a.keyframeRefs),(0,n.j)(e.keyframeGraphList,a)}function s(e,t,r,i,a,s){s.materialId=a.material.id,(0,n.af)(e.materials,"stickers",a.material),(0,n.u$)(e.materials,"materialAnimations",r,a.animations),(0,n.u$)(e.materials,"videoTrackings",r,a.videoTracking),(0,n.u4)(e.keyframes,"stickers",i,a.keyframes),(0,n.P$)(r,t,a.id),(0,n.SQ)(e.keyframeGraphList,a,s)}},368708:function(e,t,r){r.d(t,{R:function(){return l},w:function(){return o}});var i=r(232959),n=r(488071),a=r(602777),s=r(903849);function o(e,t,r,o){for(let t of(o.material=(0,s.t0)(e.materials,"textTemplates",[o.materialId],void 0,i.WQ),o.material.textInfoResources))t.textMaterial=(0,s.t0)(e.materials,"texts",[t.textMaterialId],void 0,n.jG),t.textShapeMaterial=(0,s.t0)(e.materials,"effects",t.extraMaterialRefs,a.cV.MetaTypeTextShape),t.textAnimateMaterial=(0,s.t0)(e.materials,"materialAnimations",t.extraMaterialRefs),t.bloomEffectMaterial=(0,s.t0)(e.materials,"effects",t.extraMaterialRefs,a.cV.MetaTypeBloom),t.textEffectMaterials=(0,s.Vm)(e.materials,"effects",t.extraMaterialRefs,a.cV.MetaTypeTextEffect);o.videoTracking=(0,s.t0)(e.materials,"videoTrackings",o.extraMaterialRefs),(0,s.j)(e.keyframeGraphList,o)}function l(e,t,r,i,n,a){for(let t of(a.materialId=n.material.id,(0,s.af)(e.materials,"textTemplates",n.material),n.material.textInfoResources)){t.textMaterialId=t.textMaterial.id,(0,s.af)(e.materials,"texts",t.textMaterial);let i=new Set;(0,s.u$)(e.materials,"effects",i,t.textShapeMaterial),(0,s.u$)(e.materials,"materialAnimations",i,t.textAnimateMaterial),(0,s.u$)(e.materials,"effects",i,t.bloomEffectMaterial),(0,s.QN)(e.materials,"effects",i,t.textEffectMaterials),t.extraMaterialRefs=Array.from(i),t.extraMaterialRefs.forEach(e=>r.add(e))}(0,s.u$)(e.materials,"videoTrackings",r,n.videoTracking),(0,s.P$)(r,t,n.id),(0,s.SQ)(e.keyframeGraphList,n,a)}},620678:function(e,t,r){r.d(t,{Z:function(){return o},t:function(){return s}});var i=r(488071),n=r(602777),a=r(903849);function s(e,t,r,s){s.material=(0,a.t0)(e.materials,"texts",[s.materialId],void 0,i.jG),s.animations=(0,a.t0)(e.materials,"materialAnimations",s.extraMaterialRefs),s.effect=(0,a.t0)(e.materials,"effects",s.extraMaterialRefs,n.cV.MetaTypeTextEffect),s.shape=(0,a.t0)(e.materials,"effects",s.extraMaterialRefs,n.cV.MetaTypeTextShape),s.bloom=(0,a.t0)(e.materials,"effects",s.extraMaterialRefs,n.cV.MetaTypeBloom),s.effects=(0,a.Vm)(e.materials,"effects",s.extraMaterialRefs,n.cV.MetaTypeTextEffect),s.videoTracking=(0,a.t0)(e.materials,"videoTrackings",s.extraMaterialRefs),s.keyframes=(0,a.tI)(e.keyframes,"texts",s.keyframeRefs),(0,a.j)(e.keyframeGraphList,s)}function o(e,t,r,i,n,s){s.materialId=n.material.id,(0,a.af)(e.materials,"texts",n.material),(0,a.u$)(e.materials,"materialAnimations",r,n.animations),(0,a.u$)(e.materials,"effects",r,n.effect),(0,a.u$)(e.materials,"effects",r,n.effect),(0,a.u$)(e.materials,"effects",r,n.shape),(0,a.u$)(e.materials,"effects",r,n.bloom),(0,a.QN)(e.materials,"effects",r,n.effects),(0,a.u$)(e.materials,"videoTrackings",r,n.videoTracking),(0,a.u4)(e.keyframes,"texts",i,n.keyframes),(0,a.P$)(r,t,n.id),(0,a.SQ)(e.keyframeGraphList,n,s)}},572662:function(e,t,r){r.d(t,{T:function(){return i}});class i{static getInstance(e,t){return this.instances[e]?this.instances[e]:(this.instances[e]=new i,this.instances[e].maxKeyCount=null!=t?t:this.instances[e].maxKeyCount,this.instances[e])}set(e,t){this.curKeyCount+=1,this.curKeyCount>=this.maxKeyCount&&this.reset(),this.data[e]=t}get(e){return this.data[e]}reset(){this.curKeyCount=0,this.data={}}constructor(){this.data={},this.curKeyCount=0,this.maxKeyCount=1e3}}i.instances={}},508115:function(e,t,r){r.d(t,{P2:function(){return c},dM:function(){return u},ur:function(){return l}});var i=r(211561),n=r(481631),a=r(342040),s=r(270519);function o(e){return null}function l(e){return e.material.matting.path}function u(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(0,n.he)(e))return"";let l=e.material;if(!l)return"";let u=(()=>{if(l.type===i.cVg.MetaTypeVideo){var r,a;if(e.reverse&&e.intensifiesAudio&&l.reverseIntensifiesPath)return l.reverseIntensifiesPath;if(!t&&(null===(r=l.videoAlgorithm)||void 0===r?void 0:r.path)){;let{path:e}=l.videoAlgorithm;if(!o||(a=0,!1))return e}if(e.reverse&&l.reversePath)return l.reversePath;if(e.intensifiesAudio&&l.intensifiesPath)return l.intensifiesPath}else if(l.type===i.cVg.MetaTypePhoto)return function(e){var t,r,i,a,o;let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(0,n.he)(e))return"";let{material:c}=e;if(!c)return"";if((null===(t=c.matting)||void 0===t?void 0:t.flag)&&(null===(i=c.matting)||void 0===i?void 0:null===(r=i.strokes)||void 0===r?void 0:r.length)>0)return c.path;if(!l&&(null===(a=c.videoAlgorithm)||void 0===a?void 0:a.path)){;let{path:e}=c.videoAlgorithm;if(!u||(o=0,!1))return e}let d=(0,s.Mn)(c);return(null==d?void 0:d.algorithm)&&(null==d?void 0:d.path)?d.path:c.path}(e,t,o);let u=(0,s.Mn)(l);if((null==u?void 0:u.algorithm)&&(null==u?void 0:u.path))return u.path})();if(u){var c,d;if(a.k.getInstance().pathRecords.get(u))return u;null===(d=r.g)||void 0===d||null===(c=d.ccWebSlardar)||void 0===c||c.call(d,"sendEvent",{type:"event",name:"invalid_video_alternative_path",metrics:{},categories:{alternativePath:u,videoPath:l.path,type:l.type,categoryId:l.categoryId}})}return l.path}function c(e){var t;if(!!(0,n.he)(e))return null===(t=e.videoMask)||void 0===t?void 0:t[0]}},331509:function(e,t,r){r.d(t,{$s:function(){return w},WL:function(){return y},be:function(){return T},d3:function(){return p},ds:function(){return I},fx:function(){return k},r$:function(){return _},wG:function(){return v},zq:function(){return x}});var i,n,a=r(722169),s=r(211561),o=r(283751),l=r(419537),u=r(475028),c=r(690613),d=r(198544),h=r(392742),m=r(549480);var p=((i={}).AsyncTask="AsyncTask",i.VideoAlgorithm="VideoAlgorithm",i.AiWriter="AiWriter",i.AiStoryAlternativeMaterial="AiStoryAlternativeMaterial",i.AiStoryGlobalId="AiStoryGlobalId",i.AiCreator="AiCreator",i.AiStoryMeta="AiStoryMeta",i);let g=(0,u.i)(d.m.UpdateAttachmentKeyNotExist,"");class f{check(e){return void 0===this.getData(e)?g(`attachment key not exist: ${this.key}`):(0,c.ly)()}constructor(e){this.key=e}}class y extends f{static deserialize(e){return new y(e.key,s.vYA.deserialize(e.delta))}serialize(){return{key:this.key,delta:Object.getPrototypeOf(this.delta).constructor.serialize(this.delta)}}getInvertMutation(e){let t=e.getAsyncTask(this.key);return new l.K({attachmentKey:"AsyncTask",delta:o.T.pick(t,this.delta,new(Object.getPrototypeOf(this.delta)).constructor),key:this.key})}getData(e){return e.getAsyncTask(this.key)}setData(e){e.attachmentAsyncTask.asyncTaskMap.set(this.key,o.T.merge(e.attachmentAsyncTask.asyncTaskMap.get(this.key).clone(),this.delta))}transform(e,t,r){return[e]}constructor(e,t){super(e),this.key=e,this.delta=t}}class _ extends f{static deserialize(e){return new _(e.key,s.Llt.deserialize(e.delta))}serialize(){return{key:this.key,delta:Object.getPrototypeOf(this.delta).constructor.serialize(this.delta)}}getInvertMutation(e){let t=e.getVideoAlgorithm(this.key);return new l.K({attachmentKey:"VideoAlgorithm",key:this.key,delta:o.T.pick(t,this.delta,new(Object.getPrototypeOf(this.delta)).constructor)})}getData(e){return e.getVideoAlgorithm(this.key)}setData(e){let t=e.attachmentVideoAlgorithms.algorithms.get(this.key);!(t instanceof s.e_Q)&&(t=new s.e_Q(t)),e.attachmentVideoAlgorithms.algorithms.set(this.key,o.T.merge(t.clone(),this.delta))}transform(e,t,r){return[e]}constructor(e,t){super(e),this.key=e,this.delta=t}}class v extends f{static deserialize(e){return new v(e.key,s.nii.deserialize(e.delta))}serialize(){return{key:this.key,delta:Object.getPrototypeOf(this.delta).constructor.serialize(this.delta)}}getInvertMutation(e){let t=e.getAiWriterInfo(this.key);return new l.K({attachmentKey:"AiWriter",delta:o.T.pick(t,this.delta,new(Object.getPrototypeOf(this.delta)).constructor),key:this.key})}getData(e){return e.getAiWriterInfo(this.key)}setData(e){e.attachmentAiWriter.aiWriterInfos.set(this.key,o.T.merge(e.attachmentAiWriter.aiWriterInfos.get(this.key).clone(),this.delta))}transform(e,t,r){return[e]}constructor(e,t){super(e),this.key=e,this.delta=t}}var T=((n={}).DELETE="delete",n.ADD="add",n.UPDATE="update",n);class I extends f{static deserialize(e){return new I(e.key,s.mNK.deserialize(e.delta.material),e.index,e.trackIndex,e.draftId,e.type)}serialize(){return{key:this.key,delta:Object.getPrototypeOf(this.delta).constructor.serialize(this.delta),index:this.index,type:this.type,draftId:this.draftId,trackIndex:this.trackIndex}}getInvertMutation(e){return new l.K({attachmentKey:"AiStoryAlternativeMaterial",delta:this._getInvertDelta(e),index:this.index,type:this._getInvertType(),draftId:this.draftId,trackIndex:this.trackIndex,key:this.key})}getData(e){return e.getAiStoryAlternativeMaterialBySegmentId(this.key)}setData(e){let t=e.getAiStoryAlternativeMaterialBySegmentId(this.key),r=new s.mNK({alternatives:t.alternatives});switch(this.type){case"add":{let{delta:e,index:i}=this,{alternatives:n}=e,a=i;for(let e of n){if(!t.alternatives.some(t=>{let{id:r,aigcItemId:i,aigcHistoryId:n,sourcePlatform:a}=t;return e.id===r||a!==s.Z6P.AiStoryMaterialSourcePlatformDefault&&i===e.aigcItemId&&n===e.aigcHistoryId}))r.alternatives.splice(a++,0,e)}break}case"update":{let{delta:e}=this,{alternatives:i}=e;r.alternatives=t.alternatives.map(e=>{var t,r;let n=i.find(t=>{let{id:r}=t;return r===e.id});return!n||(t=e,r=n,(0,a.isEqual)((0,a.omit)(t,"id"),(0,a.omit)(r,"id")))?e.clone():o.T.merge(e.clone(),n)});break}case"delete":r.alternatives=t.alternatives.filter(e=>{let{id:t}=e;return this.delta.alternatives.every(e=>e.id!==t)}).map(e=>e.clone());break;default:return}r.segmentId=this.key,e.attachmentAiStory.updateMaterial(this.key,r)}transform(e,t,r){let i={[h.x.AttachmentUpdateMutation]:this._transformWithAttachmentUpdateMutation.bind(this,e,t,r),[h.x.AttachmentInsertMutation]:this._transformWithAttachmentInsertMutation.bind(this,e,t,r),[h.x.AttachmentDeleteMutation]:this._transformWithAttachmentDeleteMutation.bind(this,e,t,r),[h.x.DeleteSegment]:this._transformWithDeleteSegmentMutation.bind(this,e,t,r),[h.x.InsertTrack]:this._transformWithInsertTrackMutation.bind(this,e,t,r),[h.x.DeleteTrack]:this._transformWithDeleteTrackMutation.bind(this,e,t,r)};return i[t.type]?i[t.type]():[e]}_transformWithAttachmentUpdateMutation(e,t,r){return"AiStoryAlternativeMaterial"!==e.options.attachmentKey||"AiStoryAlternativeMaterial"!==t.options.attachmentKey||e.options.key!==t.options.key?[e]:"add"===e.options.type&&"add"===t.options.type?this._transformAddWithAddAttachmentUpdateMutation(e,t,r):"add"===e.options.type&&"delete"===t.options.type?this._transformAddWithDeleteAttachmentUpdateMutation(e):"delete"===e.options.type&&"delete"===t.options.type?this._transformDeleteWithDeleteAttachmentUpdateMutation(e,t,r):"delete"===e.options.type&&"add"===t.options.type?this._transformDeleteWithAddAttachmentUpdateMutation(e):[e]}_transformAddWithAddAttachmentUpdateMutation(e,t,r){let i=e.options,n=t.options;if(!r){let e=i.delta.clone();return[new l.K({attachmentKey:"AiStoryAlternativeMaterial",delta:e,type:i.type,index:i.index+n.delta.alternatives.length,draftId:i.draftId,trackIndex:i.trackIndex,key:this.key})]}return[e]}_transformAddWithDeleteAttachmentUpdateMutation(e){return[e]}_transformDeleteWithDeleteAttachmentUpdateMutation(e,t,r){let i=e.options,n=t.options;if(r){let e=i.delta.clone();return e.alternatives=e.alternatives.filter(e=>{n.delta.alternatives.every(t=>e.id!==t.id)}),[new l.K({attachmentKey:"AiStoryAlternativeMaterial",delta:e,type:i.type,index:i.index,trackIndex:i.trackIndex,draftId:i.draftId,key:this.key})]}return[e]}_transformDeleteWithAddAttachmentUpdateMutation(e){return[e]}_transformWithAttachmentInsertMutation(e,t,r){return[e]}_transformWithAttachmentDeleteMutation(e,t,r){return"AiStoryAlternativeMaterial"!==e.options.attachmentKey||"AiStoryAlternativeMaterial"!==t.options.attachmentKey||e.options.key!==t.options.key?[e]:r?[]:[e]}_transformWithDeleteSegmentMutation(e,t,r){return"AiStoryAlternativeMaterial"!==e.options.attachmentKey||e.options.key!==t.segmentId?[e]:r?[]:[e]}_transformWithInsertTrackMutation(e,t,r){if("AiStoryAlternativeMaterial"!==e.options.attachmentKey)return[e];let{trackIndex:i,type:n,index:a,draftId:s,delta:o,key:u,attachmentKey:c}=e.options,{trackIndex:d}=t;return i>=d&&r?[new l.K({key:u,attachmentKey:c,type:n,index:a,trackIndex:i-1,draftId:s,delta:o})]:[e]}_transformWithDeleteTrackMutation(e,t,r){return"AiStoryAlternativeMaterial"!==e.options.attachmentKey?[e]:e.options.draftId===t.draftId&&e.options.trackIndex===t.trackIndex?r?[]:[e]:e.options.draftId===t.draftId&&e.options.trackIndex>t.trackIndex&&r?[new l.K({key:e.options.key,attachmentKey:e.options.attachmentKey,type:e.options.type,index:e.options.index,trackIndex:e.options.trackIndex-1,draftId:e.options.draftId,delta:e.options.delta})]:[e]}_getInvertType(){return({add:"delete",delete:"add",update:"update"})[this.type]}_getInvertDelta(e){let t=e.getAiStoryAlternativeMaterialBySegmentId(this.key),r=o.T.pick(t,this.delta,new(Object.getPrototypeOf(this.delta)).constructor);return({add:this.delta,delete:this.delta,update:r})[this.type]}constructor(e,t,r,i,n,a){super(e),this.key=e,this.delta=t,this.index=r,this.draftId=n,this.trackIndex=i,this.type=a}}class k extends f{static deserialize(e){return new k(e.key,e.delta)}serialize(){return{key:this.key,delta:this.delta}}getInvertMutation(e){let{storyId:t}=e.getAiStoryGlobalConfig();return new l.K({attachmentKey:"AiStoryGlobalId",delta:new s.Wrv({storyId:t}),key:this.key})}getData(e){return new s.Wrv({storyId:e.getAiStoryGlobalConfig().storyId})}setData(e){let t=new s.Wrv;t.storyId=this.delta.storyId,e.attachmentAiStory.updateGlobalConfig(t)}transform(e,t,r){return[e]}constructor(e,t){super(e),this.key=e,this.delta=t}}class w extends f{static deserialize(e){return new w(e.key,e.delta)}serialize(){return{key:this.key,delta:this.delta}}getInvertMutation(e){let t=e.getAiStoryMeta();return new l.K({attachmentKey:"AiStoryMeta",delta:new s.v3W(t),key:this.key})}getData(e){return new s.v3W(e.getAiStoryMeta())}setData(e){e.attachmentAiStory.updateMeta(this.delta)}transform(e,t,r){return[e]}constructor(e,t){super(e),this.key=e,this.delta=t}}class x extends f{static deserialize(e){return new x(e.key,m.Eq.deserialize(e.delta))}serialize(){return{key:this.key,delta:Object.getPrototypeOf(this.delta).constructor.serialize(this.delta)}}getInvertMutation(e){return new l.K({attachmentKey:"AiCreator",delta:new m.Eq({content:e.getAICreator().content,title:e.getAICreator().title}),key:this.key})}getData(e){return e.getAICreator()}setData(e){e.updateAiCreator(this.delta)}transform(e,t,r){return[e]}constructor(e,t){super(e),this.key=e,this.delta=t}}},392742:function(e,t,r){r.d(t,{x:function(){return n}});var i,n=((i={})[i.InsertTrack=1]="InsertTrack",i[i.DeleteTrack=2]="DeleteTrack",i[i.MoveTrack=3]="MoveTrack",i[i.UpdateTrack=4]="UpdateTrack",i[i.InsertSegment=5]="InsertSegment",i[i.DeleteSegment=6]="DeleteSegment",i[i.MoveSegment=7]="MoveSegment",i[i.UpdateSegment=8]="UpdateSegment",i[i.SetDocumentMetadata=9]="SetDocumentMetadata",i[i.SetDocumentProperty=10]="SetDocumentProperty",i[i.SetGroupContainerProperty=11]="SetGroupContainerProperty",i[i.AttachmentInsertMutation=12]="AttachmentInsertMutation",i[i.AttachmentUpdateMutation=13]="AttachmentUpdateMutation",i[i.AttachmentDeleteMutation=14]="AttachmentDeleteMutation",i)},430832:function(e,t,r){r.d(t,{R:function(){return y}});var i=r(475028),n=r(690613),a=r(280700),s=r(932422),o=r(198544),l=r(392742),u=r(599446),c=r(333217),d=r(268468),h=r(340294),m=r(417609);let p=(0,i.i)(o.m.DeleteTrackIdNotExist,""),g=(0,i.i)(o.m.DeleteTrackIndexNotMatch,""),f=(0,i.i)(o.m.DeleteTrackMainTrackShouldLastDelete,"");class y extends s.m{static deserialize(e){let t=new y(e);return t.updateDataVersion(e.version),t}static serialize(e){let t="{";return e.draftId&&(t+=`"draftId":"${e.draftId}",`),t+=`"trackId":"${e.trackId}","trackIndex":${e.trackIndex},"trackProperty":${h.HH.stringify(e.trackProperty)},"version":"${e.version}","type":${e.type}}`}invert(e){var t;let r=null!==(t=e.getDraftById(this.draftId))&&void 0!==t?t:e,i=[],{trackId:n}=this,a=r.getTrackById(n);return i.push(new c.c({draftId:this.draftId,trackIndex:this.trackIndex,trackProperty:new d.fQ({name:a.name,isDefaultName:a.isDefaultName,id:a.id,type:a.type,flag:a.flag,attribute:a.attribute})})),a.segments.forEach(e=>{i.push(new u._({trackId:n,trackIndex:this.trackIndex,segment:e}))}),i}transform(e,t){let r={[l.x.DeleteTrack]:this._transformWithDeleteTrackMutation.bind(this,e,t),[l.x.InsertTrack]:this._transformWithInsertTrackMutation.bind(this,e,t),[l.x.InsertSegment]:this._transformWithInsertSegmentMutation.bind(this,e,t),[l.x.MoveSegment]:this._transformWithMoveSegmentMutation.bind(this,e,t)};return r[e.type]?r[e.type]():[this]}check(e){var t;let r=null!==(t=e.getDraftById(this.draftId))&&void 0!==t?t:e,i=r.getTrackById(this.trackId);if(!i)return p(`track not exist: ${this.trackId}`);let s=r.getTrackIndexById(this.trackId,[]);return s!==this.trackIndex?g(`track index not match: ${s} - ${this.trackIndex}`):(0,a.MD)(i)&&r.tracks.length>1?f():(0,n.ly)()}runOnModel(e){var t;(null!==(t=e.getDraftById(this.draftId))&&void 0!==t?t:e).deleteTrack(this.trackId)}_transformWithDeleteTrackMutation(e,t){let{trackId:r,trackIndex:i,draftId:n,trackProperty:a}=this,{trackId:s,trackIndex:o}=e;return r===s?[]:i>o?[new y({draftId:n,trackId:r,trackIndex:i-1,trackProperty:a})]:[this]}_transformWithInsertTrackMutation(e,t){let{trackId:r,trackIndex:i,draftId:n,trackProperty:a}=this,{trackIndex:s}=e;return i>=s?[new y({draftId:n,trackId:r,trackIndex:i+1,trackProperty:a})]:[this]}_transformWithInsertSegmentMutation(e,t){let{trackId:r}=this,{trackId:i}=e,n=new d.C4({segments:[]});return r===i?[new m.t({trackId:r,trackDelta:n})]:[this]}_transformWithMoveSegmentMutation(e,t){let{trackId:r}=this,{desTrackId:i}=e,n=new d.C4({segments:[]});return r===i?[new m.t({trackId:r,trackDelta:n})]:[this]}clone(){return new y({draftId:this.draftId,trackId:this.trackId,trackIndex:this.trackIndex,trackProperty:this.trackProperty})}constructor(e){super(),this.type=l.x.DeleteTrack,this.draftId=e.draftId,this.trackId=e.trackId,this.trackIndex=e.trackIndex,this.trackProperty=e.trackProperty}}},188670:function(e,t,r){r.d(t,{L:function(){return function e(t,r,i){let n,a,s,o,l,u,c,d;for(n=0,o=r.length;n<o;n++){for(a=0,l=[r[n]],u=[],s=t.length;a<s;a++){let r=t[a];l.length>1?(c=e([r],l,i),a<s-1&&(d=e(l,[r],!i))):1===l.length?(c=r.transform(l[0],i),a<s-1&&(d=l[0].transform(r,!i))):(c=[r],d=[]),a<s-1&&(l=d),u=[...u,...c]}t=u}return t}}})},97244:function(e,t,r){r.d(t,{BK:function(){return o},C3:function(){return s},Ez:function(){return l}});var i,n,a,s=((i={})[i.MetaTypeNone=0]="MetaTypeNone",i[i.MetaTypeVideo=1]="MetaTypeVideo",i[i.MetaTypePhoto=2]="MetaTypePhoto",i[i.MetaTypeGif=3]="MetaTypeGif",i[i.MetaTypeMusic=4]="MetaTypeMusic",i[i.MetaTypeExtractMusic=5]="MetaTypeExtractMusic",i[i.MetaTypeSound=6]="MetaTypeSound",i[i.MetaTypeRecord=7]="MetaTypeRecord",i[i.MetaTypeImage=8]="MetaTypeImage",i[i.MetaTypeText=9]="MetaTypeText",i[i.MetaTypeSubtitle=10]="MetaTypeSubtitle",i[i.MetaTypeLyrics=11]="MetaTypeLyrics",i[i.MetaTypeSticker=12]="MetaTypeSticker",i[i.MetaTypeFilter=13]="MetaTypeFilter",i[i.MetaTypeLUT=14]="MetaTypeLUT",i[i.MetaTypeReshape=15]="MetaTypeReshape",i[i.MetaTypeBeauty=16]="MetaTypeBeauty",i[i.MetaTypeVideoEffect=17]="MetaTypeVideoEffect",i[i.MetaTypeBrightness=18]="MetaTypeBrightness",i[i.MetaTypeContrast=19]="MetaTypeContrast",i[i.MetaTypeSaturation=20]="MetaTypeSaturation",i[i.MetaTypeSharpen=21]="MetaTypeSharpen",i[i.MetaTypeHighlight=22]="MetaTypeHighlight",i[i.MetaTypeShadow=23]="MetaTypeShadow",i[i.MetaTypeTemperature=24]="MetaTypeTemperature",i[i.MetaTypeHue=25]="MetaTypeHue",i[i.MetaTypeFade=26]="MetaTypeFade",i[i.MetaTypeLightSensation=27]="MetaTypeLightSensation",i[i.MetaTypeVignetting=28]="MetaTypeVignetting",i[i.MetaTypeParticle=29]="MetaTypeParticle",i[i.MetaTypeSegCanvas=30]="MetaTypeSegCanvas",i[i.MetaTypeCanvasColor=31]="MetaTypeCanvasColor",i[i.MetaTypeCanvasImage=32]="MetaTypeCanvasImage",i[i.MetaTypeCanvasBlur=33]="MetaTypeCanvasBlur",i[i.MetaTypeTransition=34]="MetaTypeTransition",i[i.MetaTypeAudioEffect=35]="MetaTypeAudioEffect",i[i.MetaTypeAudioFade=36]="MetaTypeAudioFade",i[i.MetaTypeBeats=37]="MetaTypeBeats",i[i.MetaTypeTailLeader=38]="MetaTypeTailLeader",i[i.MetaTypeAnimation=39]="MetaTypeAnimation",i[i.MetaTypeVideoAnimation=40]="MetaTypeVideoAnimation",i[i.MetaTypeTextEffect=41]="MetaTypeTextEffect",i[i.MetaTypeTextShape=42]="MetaTypeTextShape",i[i.MetaTypeTextToAudio=43]="MetaTypeTextToAudio",i[i.MetaTypeVideoMix=44]="MetaTypeVideoMix",i[i.MetaTypeAdjust=45]="MetaTypeAdjust",i[i.MetaTypeVideoMask=46]="MetaTypeVideoMask",i[i.MetaTypeSpeed=47]="MetaTypeSpeed",i[i.MetaTypeChroma=48]="MetaTypeChroma",i[i.MetaTypeTextTemplate=49]="MetaTypeTextTemplate",i[i.MetaTypeVideoOriginalSound=50]="MetaTypeVideoOriginalSound",i[i.MetaTypeStretchLeg=51]="MetaTypeStretchLeg",i[i.MetaTypeRealtimeDenoise=52]="MetaTypeRealtimeDenoise",i[i.MetaTypeFigure=53]="MetaTypeFigure",i[i.MetaTypeFaceEffect=54]="MetaTypeFaceEffect",i[i.MetaTypeVideoTracking=55]="MetaTypeVideoTracking",i[i.MetaTypeHsl=56]="MetaTypeHsl",i[i.MetaTypeColorCurves=57]="MetaTypeColorCurves",i[i.MetaTypeAudioBalance=58]="MetaTypeAudioBalance",i[i.MetaTypeComposition=59]="MetaTypeComposition",i[i.MetaTypeCover=60]="MetaTypeCover",i[i.MetaTypeLeader=61]="MetaTypeLeader",i[i.MetaTypeTailer=62]="MetaTypeTailer",i[i.MetaTypePrimaryColorWheels=63]="MetaTypePrimaryColorWheels",i[i.MetaTypeLogColorWheels=64]="MetaTypeLogColorWheels",i[i.MetaTypeHandwriteImage=65]="MetaTypeHandwriteImage",i[i.MetaTypeHandwriteRes=66]="MetaTypeHandwriteRes",i[i.MetaTypeCombination=67]="MetaTypeCombination",i[i.MetaTypeManualDeformation=68]="MetaTypeManualDeformation",i[i.MetaTypePluginEffect=69]="MetaTypePluginEffect",i[i.MetaTypeLockObject=70]="MetaTypeLockObject",i[i.MetaTypeAdCube=71]="MetaTypeAdCube",i[i.MetaTypeMattingStroke=72]="MetaTypeMattingStroke",i[i.MetaTypeSmartColorAdjust=73]="MetaTypeSmartColorAdjust",i[i.MetaTypeChannelMapping=74]="MetaTypeChannelMapping",i[i.MetaTypeBloom=75]="MetaTypeBloom",i[i.MetaTypeTextPreset=76]="MetaTypeTextPreset",i[i.MetaTypeGreenScreen=77]="MetaTypeGreenScreen",i[i.MetaTypeArticleToVideoTemplate=78]="MetaTypeArticleToVideoTemplate",i[i.MetaTypeFont=79]="MetaTypeFont",i[i.MetaTypeAll=80]="MetaTypeAll",i);var o=((n={})[n.OptionNone=0]="OptionNone",n[n.HasSeparatedAudio=1]="HasSeparatedAudio",n[n.IsCombinationVideo=2]="IsCombinationVideo",n[n.IsDraftTemplateVideo=4]="IsDraftTemplateVideo",n[n.IsSceneEditCutVideo=8]="IsSceneEditCutVideo",n);var l=((a={})[a.enableFlag=1]="enableFlag",a[a.aiMattingFlag=2]="aiMattingFlag",a[a.cusMattingFlag=4]="cusMattingFlag",a[a.headMattingFlag=8]="headMattingFlag",a[a.interactiveFlag=16]="interactiveFlag",a[a.tagMattingFlag=32]="tagMattingFlag",a[a.webAiMattingFlag=64]="webAiMattingFlag",a)},773820:function(e,t,r){r.d(t,{Mr:function(){return p},Yn:function(){return u},dw:function(){return c},v7:function(){return m},yN:function(){return d},z0:function(){return h}});var i=r(211561),n=r(912224),a=r(469997),s=r(396402),o=r(860846),l=r(342040);function u(e,t,r){let u={id:(0,o.Nq)(e,r),type:s.UO.AmazingEffect,video_id:`${e.id}`,render_index:BigInt(n.UJ.LocalAdjustOrder+(0,a.KV)(r)),res:l.k.getInstance().pathRecords.get(t.path),param:JSON.stringify({intensity:t.value}),amazing_effect_algorithm_type:s.r0.STOP_MOTION};return t.type===i.cVg.MetaTypeLUT&&(u.flag=BigInt(a.EZ.videoHasLut),u.res=(0,a.XP)(u.res)),u}function c(e,t,r,i){let u=(0,a.ge)(t);for(let e of r){let t=(0,a.sx)(e);u&&void 0===u[t]&&(u[t]=0)}return{id:(0,o.Nq)(e,i),type:s.UO.AmazingEffect,video_id:`${e.id}`,render_index:BigInt((0,a.KV)(i)+n.UJ.LocalAdjustOrder),res:l.k.getInstance().pathRecords.get(t[0].path),param:JSON.stringify(u),flag:0n}}function d(e,t){let r=(0,a.ez)(t),i=JSON.stringify((0,a.ci)(r));return{id:(0,o.Nq)(e,a.Ab.VIDEO_COLOR_CURVES),type:s.UO.AmazingEffect,video_id:`${e.id}`,render_index:BigInt(n.nW.ColorCurvesOrder+n.UJ.LocalAdjustOrder),res:r.path,param:i,flag:0n}}function h(e,t,r){let i=r?JSON.parse(r.param):{},l=(0,a.dI)(t,i);return{id:(0,o.Nq)(e,a.Ab.HSL),type:s.UO.AmazingEffect,video_id:`${e.id}`,render_index:BigInt(n.nW.HslOrder+n.UJ.LocalAdjustOrder),res:l.hslPath,param:JSON.stringify(l.extraParams)}}function m(e,t){let r=(0,a.C1)(t),i=(0,a.bn)(r);return{id:(0,o.Nq)(e,a.Ab.VIDEO_PRIMARY_COLOR_WHEELS),type:s.UO.AmazingEffect,video_id:`${e.id}`,render_index:BigInt(n.nW.PrimaryColorWheels+n.UJ.LocalAdjustOrder),res:r.path,param:JSON.stringify(i),flag:0n}}function p(e,t){let r=(0,a.E6)(t),i=(0,a.HI)(r);return{id:(0,o.Nq)(e,a.Ab.VIDEO_LOG_COLOR_WHEELS),type:s.UO.AmazingEffect,video_id:`${e.id}`,render_index:BigInt(n.nW.LogColorWheels+n.UJ.LocalAdjustOrder),res:r.path,param:JSON.stringify(i)}}},716702:function(e,t,r){r.d(t,{Jv:function(){return l},OF:function(){return s},W8:function(){return o},e8:function(){return c}});var i=r(438176);let n=new URL(r(926010),r.b).href.replace("file://",""),a={};i.R&&(a=r(879794)(n));let s=a.IVEUtilsAddon,o=a.IVESequenceAddon,{dumpSequence:l,dumpSetting:u,dumpActionLog:c}=a},921676:function(e,t,r){r.d(t,{j3:function(){return a}});var i=r(211561),n=r(176791);function a(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.material,s=(0,n.P2)(e);if(!s||!a)return;let o=(null==s?void 0:s.resourceType)==="geometric_shape",l=null==s?void 0:s.config.aspectRatio;if(!o||l<1e-6)return;let{width:u,height:c}=a,{crop:d}=a;if(d){let{upperLeftX:t,upperLeftY:r,upperRightX:n,upperRightY:a,lowerLeftX:s,lowerLeftY:o}=d,l=u;u=Math.sqrt(Math.pow((t-n)*l,2)+Math.pow((r-a)*c,2)),c=Math.sqrt(Math.pow((t-s)*l,2)+Math.pow((r-o)*c,2));let{smartCrop:h}=e;if(h){let e=h.cropRatio;if(e!==i.rxY.CanvasRatioOriginal){let t=function(e){switch(e){case i.rxY.CanvasRatio16To9:return[1920,1080];case i.rxY.CanvasRatio9To16:return[1080,1920];case i.rxY.CanvasRatio4To3:return[1920,1440];case i.rxY.CanvasRatio3To4:return[1440,1920];case i.rxY.CanvasRatio1To1:return[1440,1440];case i.rxY.CanvasRatio2To1:return[1920,960];case i.rxY.CanvasRatio2_35To1:return[2350,1e3];case i.rxY.CanvasRatio1_85To1:return[1850,1e3];case i.rxY.CanvasRatio1_125To2_436:return[1125,2436];default:return[1920,1080]}}(e),r=t[0]/t[1];u/c>r?u=c*r:c=u/r}}}let h=t[0];r&&(h=t[1]*u/c);let m=function(e,t){let[r=0,i=0]=e,[n=0,a=0]=t;if(r<=0||i<=0||n<=0||a<=0)return[0,0];let s=r/i;return s>=n/a?[n,n/s]:[a*s,a]}([l,1],[u*h,c*t[1]]);m[1]*=l;let p=m[0]/u,g=m[1]/c;return isNaN(p)||isNaN(g)?[...t]:[p,g]}},748994:function(e,t,r){r.d(t,{E:function(){return a}});var i=r(211561),n=r(528609);function a(e){switch(e){case i.cVg.MetaTypeCanvasBlur:return n.QP.VESOURCE_VIDEOFRAME;case i.cVg.MetaTypeCanvasColor:return n.QP.VESOURCE_COLOR;case i.cVg.MetaTypeCanvasImage:return n.QP.VESOURCE_IMAGE;default:return n.QP.VESOURCE_COLOR}}},528609:function(e,t,r){r.d(t,{QP:function(){return a},U$:function(){return s}});var i,n,a=((i={})[i.VESOURCE_COLOR=0]="VESOURCE_COLOR",i[i.VESOURCE_VIDEOFRAME=1]="VESOURCE_VIDEOFRAME",i[i.VESOURCE_IMAGE=2]="VESOURCE_IMAGE",i[i.VESOURCE_GRADIENTCOLOR=3]="VESOURCE_GRADIENTCOLOR",i);var s=((n={})[n.CAM_LOCK_FACE=0]="CAM_LOCK_FACE",n[n.CAM_LOCK_BODY=1]="CAM_LOCK_BODY",n[n.CAM_LOCK_LEFT_HAND=2]="CAM_LOCK_LEFT_HAND",n[n.CAM_LOCK_RIGHT_HAND=3]="CAM_LOCK_RIGHT_HAND",n[n.CAM_LOCK_FREE_AREA=4]="CAM_LOCK_FREE_AREA",n)},337609:function(e,t,r){let i;function n(e,t,r){return Module.lv_api_wait_init&&void 0!==e?Module.lv_api_wait_init({createCbId:e,__createCbId:e}):Promise.resolve(t)}r.d(t,{FN:function(){return u},O3:function(){return c},aS:function(){return d},kB:function(){return n},qk:function(){return h},r7:function(){return l}});let a=0,s={};function o(e,t,r){return`${e}_${t}_${r}`}function l(){return++a}function u(){if(!Module.vesdk_info_callback_hub)Module.vesdk_info_callback_hub=(e,t,r,n)=>{let a=s[o(e,t,r)];if(null==i||i({className:e,funcName:t,listenerId:r,cbValue:n}),!!a)return a(n)}}function c(e){let{className:t="",funcName:r="",listenerId:i,cb:n}=e,a=o(t,r,i);return s[a]=n,a}function d(e){delete s[e]}function h(e){i=e}},347138:function(e,t,r){r.d(t,{d:function(){return n}});var i=r(481890);class n{canUndo(){return!!this.undoStack.filter(e=>e.canUndoRedo).length}canRedo(){return!!this.redoStack.filter(e=>e.canUndoRedo).length}undo(){if(!this.canUndo())return[];let e=this.getCanUndoRedoItemTopIndex(this.undoStack);if(e<0)return this.clearUndoStack(),[];let t=this.undoStack.splice(e,1)[0];t.execute(i.z.Undo);let r=t.reverse();return e===this.undoStack.length&&this.clearUndoStack(),this.redoStack.unshift(r),[t]}redo(){if(!this.canRedo())return[];let e=this.redoStack.shift();e.execute(i.z.Redo);let t=e.reverse();return this.undoStack.unshift(t),[e]}push(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(t&&this.clearRedoStack(),!!e.canUndoRedo||0!==this.undoStack.length)this.undoStack.unshift(e),this.undoStack.length>this.maxStackSize&&this.undoStack.pop()}setMaxStackSize(e){if(!(e<=0))this.maxStackSize=e}getTopItem(){return this.undoStack[0]}destroy(){this.reset()}reset(){this.clearUndoStack(),this.clearRedoStack()}clearUndoStack(){this.undoStack.length=0}clearRedoStack(){this.redoStack.length=0}getCanUndoRedoItemTopIndex(e){for(let t=0;t<e.length;t++)if(e[t].canUndoRedo)return t;return -1}constructor(){this.undoStack=[],this.redoStack=[],this.maxStackSize=1/0}}},770868:function(e,t,r){r.d(t,{s:function(){return m},z:function(){return p}});var i=r(211561),n=r(129862),a=r(481631),s=r(340294),o=r(49667),l=r(81649),u=r(342040),c=r(138302),d=r(805794),h=r(283751);class m{constructor(e,t){this.value=e,this.time=t}}class p{static getInstance(){var e;return this._instance=null!==(e=this._instance)&&void 0!==e?e:new p}static genKey(e,t,r,i,n,a){let s=new c.N(a),o=p.getBeatFilePath(e,t,r);return`${o}_${r}_${i}_${n}_${s.numerator()}_${s.denominator()}`}static genKeyWithMaterial(e,t){var r,i,n,a;let s=null!==(n=null==e?void 0:null===(r=e.aiBeats)||void 0===r?void 0:r.melodyPath)&&void 0!==n?n:"",o=null!==(a=null==e?void 0:null===(i=e.aiBeats)||void 0===i?void 0:i.beatsPath)&&void 0!==a?a:"";return p.genKey(s,o,e.mode,e.gear,e.gearCount,t)}static getBeatFilePath(e,t,r){return r===i.seH.AUDIO_BEAT_MODE_MELODY?e:t}static parseBeatsFileData(e,t,r,i){let n=[],a=u.k.getInstance().pathRecords.get(e)||e;try{let e=s.P4.instance.readFile(a),u=JSON.parse(e);if(u){if(2===t){let e=u.value||[],t=u.time||[],r=Math.min(e.length,t.length);for(let a=0;a<r;a++){let r=new m(e[a],s.pM.times(t[a],1000n,"bigint"));o.vc.FEATURE_FRAME_TIME_AUTO_ALIGNMENT&&i>1&&(r.time=new l.O1(i).gen(r.time).round),n.push(r)}}else{let e=new Map;for(let t of r)e.set(t.type,t.gear);for(let t of u.beat_infos){let{type:r,points:a}=t,u=e.get(r);if(void 0!==u)for(let e of a){let t=new m(u,s.pM.times(e,1000n,"bigint"));o.vc.FEATURE_FRAME_TIME_AUTO_ALIGNMENT&&i>1&&(t.time=new l.O1(i).gen(t.time).round),n.push(t)}}}}return n}catch(e){return d.B.error(`open the file failed, file path is ${a}`),n}}static filterBeatsByGearAndMode(e,t,r,n,a){let s=[];if(0===e.length)return s;if(t===i.seH.AUDIO_BEAT_MODE_BEAT){let t=new Set;for(let a of(2===n?r===i.np1.AUDIO_BEAT_GEAR_0?(t.add(0),t.add(1)):r===i.np1.AUDIO_BEAT_GEAR_1&&(t.add(0),t.add(1),t.add(2),t.add(3),t.add(4)):t.add(r),e))t.has(a.value)&&s.push(a.time)}else if(t===i.seH.AUDIO_BEAT_MODE_MELODY){let t=[...e];t.sort((e,t)=>Number(t.value-e.value));let r=.6;a>0&&(r=a);let i=t.length,n=i*(1-r);for(let e=n;e<i;++e){let r=t[e];s.push(r.time)}}return s}getAllBeats(e,t,r,i){let n=[];if(null===t)return n;let a=[...t.userBeats];if(t.enableAiBeats){let a=[];t.userDeleteAiBeats&&(a=this.getUserDeleteAiBeats(e,t,i)),this.cacheAiBeatsDataIfNeededWithBeat(t,r);let s=p.genKeyWithMaterial(t,r),o=this._beatsCache.get(s);if(null==o?void 0:o.length)for(let e of o)!a.includes(e)&&n.push(e)}return n.push(...a),n}getAllAudioBeats(e,t){let r=e.getSegmentById(t);if(!r||!(0,a.Y9)(r))return[];let i=r.beat;return i?this.getAllBeats(e,i,e.getDraftProperty().fps,t):[]}getUserDeleteAiBeats(e,t,r,s){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=t.userDeleteAiBeats;if(!l){if(l=new i.vYu,s){let t=new i.CCx,o=new i.NZo,u=new i.bAm(l);o.userDeleteAiBeats=u,t.beat=o;let c=e.getSegmentById(r),d=(0,a.xX)({__segment_struct_type:c.__segment_struct_type});h.T.pick(c,t,d),s(new n.F({segmentDelta:t,segmentId:r,trackId:e.getTrackBySegmentId(r).id,trackIndex:e.getTrackIndexBySegmentId(r),sourceSegmentDelta:d}))}o&&(t.userDeleteAiBeats=l)}if(t.mode===i.seH.AUDIO_BEAT_MODE_MELODY)return l.melody0;switch(t.gear){case 0:return l.beat0;case 1:return l.beat1;case 2:return l.beat2;case 3:return l.beat3;default:return l.beat4}}updateAudioBeats(e,t){t.enableAiBeats=e.enableAiBeats,t.gearCount=e.gearCount,t.gear=e.gear,e.mode!==i.seH.AUDIO_BEAT_MODE_NONE&&(t.mode=e.mode),!e.useDeletedCacheWhenEnableAiBeats&&(t.userDeleteAiBeats=void 0);let{aiBeats:r}=t;!r&&(r=new i.VQX,t.aiBeats=r),e.melodyUrl&&(r.melodyUrl=e.melodyUrl),e.melodyPath&&(r.melodyPath=e.melodyPath),e.beatUrl&&(r.beatsUrl=e.beatUrl),e.beatPath&&(r.beatsPath=e.beatPath);let n=[];for(let t of e.beatSpeedInfos){let e=new i.UzX;e.type=t.type,e.gear=t.gear,n.push(e)}r.beatSpeedInfos=n,r.melodyPercents.push(e.musicBeatPercent)}cacheAiBeatsDataIfNeededWithBeat(e,t){var r,i,n,a,s,o,l,u,c;let d=null!==(o=null==e?void 0:null===(r=e.aiBeats)||void 0===r?void 0:r.melodyPath)&&void 0!==o?o:"",h=null!==(l=null==e?void 0:null===(i=e.aiBeats)||void 0===i?void 0:i.beatsPath)&&void 0!==l?l:"";this.cacheAiBeatsDataIfNeeded(d,h,e.mode,e.gear,e.gearCount,null!==(u=null==e?void 0:null===(n=e.aiBeats)||void 0===n?void 0:n.beatSpeedInfos)&&void 0!==u?u:[],null!==(c=null==e?void 0:null===(s=e.aiBeats)||void 0===s?void 0:null===(a=s.melodyPercents)||void 0===a?void 0:a[0])&&void 0!==c?c:0,t)}cacheAiBeatsDataIfNeeded(e,t,r,i,n,a,s,o){let l=p.genKey(e,t,r,i,n,o);if(this._beatsCache.has(l))return;let u=p.getBeatFilePath(e,t,r),c=p.parseBeatsFileData(u,n,a,o),d=p.filterBeatsByGearAndMode(c,r,i,n,s);(null==d?void 0:d.length)&&this._beatsCache.set(l,d)}constructor(){this._beatsCache=new Map}}},193254:function(e,t,r){r.d(t,{q:function(){return l}});var i=r(211561),n=r(283751),a=r(481631),s=r(129862);let o=(e,t)=>{if(!t)return;let r=e.getSegmentByTextMaterialId(t);if(!r&&(r=e.getSegmentTextTemplateByTextTemplateMaterialId(t)),!r)return;let i=e.getTrackBySegmentId(r.id);if(!!i)return{track:i,segment:r}},l=(e,t)=>{var r;let l=o(e,t.material.textId);if(!(null==l?void 0:null===(r=l.segment)||void 0===r?void 0:r.material)||l.segment.material.textToAudioIds.includes(t.id))return;let u=new i.xKN,c=new i.edz;c.textToAudioIds=[...l.segment.material.textToAudioIds,t.id],u.material=c;let d=(0,a.xX)({__segment_struct_type:t.__segment_struct_type});return n.T.pick(t,u,d),new s.F({trackId:l.track.id,trackIndex:e.getTrackIndexBySegmentId(l.segment.id),segmentId:l.segment.id,segmentDelta:u,sourceSegmentDelta:d})}},588587:function(e,t,r){r.d(t,{D:function(){return n}});let i=["setApiDisabled","apiDisabled"];class n{get apiDisabled(){return this._apiDisabled}setApiDisabled(e){this._apiDisabled=e}constructor(){return this._apiDisabled=!1,new Proxy(this,{get(e,t){if(e._apiDisabled&&!i.includes(String(t))){let e=`the current api is disabled, api name: ${String(t)}`;throw console.error(e),Error(e)}return e[t]}})}}},701897:function(e,t,r){r.d(t,{Ip:function(){return o},PS:function(){return l},eF:function(){return s},iW:function(){return c},nA:function(){return u}});let i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],n=e=>{let t=i.indexOf(e.toUpperCase());return t>0?t:0},a=e=>{let t=["F","F","F","F","F","F","F","F"];if(!e||e.length<6)return[];if("#"===e[0])for(let r=1;r<e.length;++r)t[r-1]=e[r];else if("0"===e[0]&&("X"===e[1]||"x"===e[1]))for(let r=2;r<e.length;++r)t[r-2]=e[r];else for(let r=0;r<8;++r)t[r]=e[r];return[(n(t[0])<<4)+n(t[1]),(n(t[2])<<4)+n(t[3]),(n(t[4])<<4)+n(t[5]),(n(t[6])<<4)+n(t[7])]},s=e=>a(e),o=e=>{let[t,r,i,n]=a(e);return(t<<24)+(r<<16)+(i<<8)+n},l=e=>!e||e.length<6?[0,0,0,0]:s(e).map(e=>e/255),u=e=>({r:(0xff0000&e)>>16,g:(65280&e)>>8,b:255&e}),c=e=>"bigint"==typeof e?e:BigInt(Math.round(e))},885534:function(e,t,r){r.d(t,{TQ:()=>a.TQ,cM:()=>a.cM,DH:()=>n});var i=r("763832");function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"class";return(r,n,a)=>{let s=a.value;a.value=async function(){for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];let l="class"===t?"__queuePrevRes":`__queuePrevRes_${n}`,u=this[l],c=()=>{};this[l]=new Promise(e=>{c=e});try{await Promise.race([Promise.resolve(u),(0,i._)(e)])}catch(e){}let d=s.apply(this,a);return Promise.resolve(d).then(c,c),d}}}var a=r("529628")},557370:function(e,t,r){r.d(t,{L:function(){return i.L}});var i=r(112160)},573461:function(e,t,r){r.d(t,{Et:function(){return f},NN:function(){return h},Ob:function(){return o},PM:function(){return s},R$:function(){return a},cx:function(){return l},dD:function(){return p},dZ:function(){return m},k3:function(){return d},pM:function(){return g},rX:function(){return c},yt:function(){return u}});var i=r(800788),n=r(521641);let a=(e,t)=>{if(e<1e-6)return[0,0];if(1e-6>Math.abs(t))return[e,0];if(1e-6>Math.abs(Math.abs(t)-90))return[0,t>0?e:-e];if(1e-6>Math.abs(Math.abs(t)-180))return[-e,0];else if(t>0&&t<90){let r=Math.PI*t/180;return[Math.cos(r)*e,Math.sin(r)*e]}else if(t>90&&t<180){let r=Math.PI*(t-90)/180;return[-Math.sin(r)*e,Math.cos(r)*e]}else if(t<-90&&t>-180){let r=Math.PI*(180-Math.abs(t))/180;return[-Math.cos(r)*e,-Math.sin(r)*e]}else if(t<0&&t>-90){let r=Math.PI*Math.abs(t)/180;return[Math.cos(r)*e,-Math.sin(r)*e]}return[0,0]},s=(e,t)=>{let r=[0,0];return 1e-6>Math.abs(e)&&1e-6>Math.abs(t)?r:(1e-6>Math.abs(e)?t>0?(r[0]=t,r[1]=90):(r[0]=-t,r[1]=-90):1e-6>Math.abs(t)?e>0?(r[0]=e,r[1]=0):(r[0]=-e,r[1]=-180):e>0&&t>0?(r[0]=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),r[1]=180*Math.atan(t/e)/Math.PI):e<0&&t>0?(r[0]=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),r[1]=180*Math.atan(t/e)/Math.PI+180):e>0&&t<0?(r[0]=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),r[1]=180*Math.atan(t/e)/Math.PI):(r[0]=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),r[1]=180*Math.atan(t/e)/Math.PI-180),r)};function o(e){return new n.Z(String(e))}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number",r=arguments.length>2?arguments[2]:void 0,a=n.Z.config().EXPONENTIAL_AT;n.Z.config({EXPONENTIAL_AT:[-1e9,1e9]});try{switch(t){case"bigint":let a;let s=null!=r?r:"floor";if("round"===s){let[t,r]=e.toString().split(".");a=/^\d/.test(r)&&Number(r[0])>=5?e.integerValue(n.Z.ROUND_CEIL).toString():t}else a="ceil"===s?e.integerValue(n.Z.ROUND_CEIL).toString():e.integerValue(n.Z.ROUND_FLOOR).toString();return BigInt(a);case"number":let o=e.toNumber();return r?Math[r](o):o;case"string":return e.toString();default:(0,i.bP)(t,"returnType invalid")}}catch(e){throw e}finally{n.Z.config({EXPONENTIAL_AT:a})}}function u(e,t,r,i){let n=o(e),a=o(t);return l(n.plus(a),r,i)}function c(e,t,r,i){let n=o(e),a=o(t);return l(n.minus(a),r,i)}function d(e,t,r,i){let n=o(e),a=o(t);return l(n.times(a),r,i)}function h(e,t,r,i){let n=o(e),a=o(t);return l(n.div(a),r,i)}function m(e,t,r){let i=e.map(o);return l(n.Z.min(...i),t,r)}function p(e,t){let r=o(e),i=o(t);return r.gt(i)}let g={plus:u,minus:c,times:d,div:h,mod:function(e,t,r,i){let n=o(e),a=o(t);return l(n.mod(a),r,i)},max:function(e,t,r){if(!e.length)return 0n;let i=e.map(o);return l(n.Z.max(...i),t,r)},min:m,scopeEE:function(e,t,r,i){let[a,s]=t,u=o(e),c=o(a),d=o(s);return l(n.Z.max(c,n.Z.min(u,d)),r,i)},roundDecimal:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"round",i=10**t;return h(Math[r](d(e,i)),i)},gt:p,gte:function(e,t){let r=o(e),i=o(t);return r.gte(i)}};function f(e,t,r,i){return Math.sqrt(Math.pow(e-r,2)+Math.pow(t-i,2))}},217201:function(e,t,r){r.d(t,{c8:function(){return D},fm:function(){return S},vp:function(){return z}});var i=r(211561),n=r(268468),a=r(280700),s=r(602777),o=r(481631),l=r(698159),u=r(392742),c=r(361708),d=r(912224),h=r(81649),m=r(239648),p=r(333217),g=r(599446),f=r(203447),y=r(340294),_=r(129862),v=r(187198),T=r(49667),I=r(700857),k=r(566349),w=r(432641),x=r(287165),b=r(794560),M=r(575016),A=r(283751);let S=0;class z{constructor(e,t,r){this.trackType=e,this.targetIndex=t,this.flagType=null!=r?r:i.w9k.FlagNone,this.segment=null}}class C{constructor(e,t){this.segment=e,this.trackIndex=t}}class D{static getInsertTrack(e,t,r){let i=[],n=this._getInsertTrack(e,t,i,r);return n?[n,i]:[void 0,[]]}static insertSegmentHelper(e,t,r,i){let[n]=D.insertSegmentCheckTrack(e,t,r,i),a=-1;if(n){let s=e.getTrackIndexById(n.id,[]);s>-1&&(t.renderIndex=s);let[o,u]=D.insertSegment(e,n,t,r);a=o,u.length&&(0,l.W)(u,i)}return a}static insertSegmentCheckTrack(e,t,r,i){if(!(null==t?void 0:t.material))return[void 0,[]];let n=[],a=this._getInsertTrack(e,r,n,i);return a?[a,n]:[void 0,[]]}static insertSegment(e,t,r,i){let n=[];return[this._insertSegment(e,t,r,i,n),n]}static insertSegmentWithIndex(e,t,r,i,n){r.trackAttribute=t.attribute;let a=e.getTrackIndexById(t.id),{segments:s}=t;if(i<0||!s||i>s.length)return -1;let o=[{type:u.x.InsertSegment,params:{trackId:t.id,trackIndex:a,segment:r}}];return(0,l.W)(o,n),i}static clearAllSegments(e){let t=[],{tracks:r}=e,i=[];for(let e=0;e<r.length;e++){let n=r[e];for(;n.segments.length;){let r=n.segments[0],a=new C(r,e);t.push(a),i.push({type:u.x.DeleteSegment,params:{trackId:n.id,trackIndex:e,targetTimerange:r.targetTimerange,segmentId:r.id}})}}return[t,i]}static removeSegment(e,t,r,i){let n=e.getSegmentNodeById(t,r);return n?this.removeSegmentWithNode(e,n,i):[c.P,!1,null,[]]}static removeSegmentWithNode(e,t,r){let n=[],{track:a}=t.trackNode,{trackIndex:s}=t.trackNode,{segment:o}=t,l=a.type,c={type:u.x.DeleteSegment,params:{draftId:e.getDraftMetadata().id,trackId:a.id,segmentId:t.segment.id,trackIndex:s,targetTimerange:o.targetTimerange}};n.push(c);let d=0===a.segments.length&&(0!==s&&l===i.pNd.TrackTypeVideo||l!==i.pNd.TrackTypeVideo);return d&&!r.keepEmptyTracks&&n.push(...this.clearEmptyTracks(e)),[s,d,o,n]}static removeEmptyRenderLayerIfNeeded(e){return this.renderIndexTrackModeOn(e)||e.getDraftProperty().freeRenderIndexModeOn?[]:new d.eK().removeEmptyLayer(e)}static renderIndexTrackModeOn(e){var t;return!!(null==e?void 0:null===(t=e.getDraftProperty())||void 0===t?void 0:t.renderIndexTrackModeOn)}static addEmptyTrackIfNeeded(e,t,r,i,n){return null}static isMainVideoTrack(e,t){return e===i.pNd.TrackTypeVideo&&t===S}static alignTimerange(e,t,r){let{fps:i}=e.getDraftProperty();if(i<=1)return[t,r];let n=new h.O1(i),a=n.gen(t).tail;return[a,n.gen(t+r).tail-a]}static adjustTrackTargetStartTime(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return[];let n=e.isMainTrack(t),a=e.isSubVideoTrack(t),s=e.getDraftProperty().maintrackAdsorb,u=[],c=0n,{segments:d}=t;(n&&!s||a)&&d.length>0&&(c=d[0].targetTimerange.start);for(let t=0;t<d.length;t++){let h=d[t];if(r&&t>0&&d[t-1].material&&"SegmentVideo"===d[t-1].__segment_struct_type){let[,r]=new m.Uo().adjustVideoTransitionByDuration(e,d[t-1],d[t].targetTimerange.duration);r&&u.push(r)}let[p,g]=this.alignTimerange(e,c,h.targetTimerange.duration);if(h.targetTimerange.start!==p||h.targetTimerange.duration!==g){let t=new i.NOn;t.targetTimerange=new i.zel({start:p,duration:g}),u.push((0,l.l)(e,h.id,t))}if(n&&s||!n&&!a){if(c=p+g,(0,o.he)(h)&&n&&s){let{transition:e}=h;c=(null==e?void 0:e.isOverlap)?c-e.duration:c}}else{let e=p+g,r=t<d.length-1?d[t+1].targetTimerange.start:0n;c=e>r?e:r}if((0,o.he)(h)){let{transition:e}=h,r=t<d.length-1?d[t+1].targetTimerange.start:0,i=p+g;e&&r>p&&r<=i&&(c=p+g)}if(r&&t===d.length-1){let t=d[d.length-1];if((0,o.he)(t)){let r=new i.NOn;r.transition=null,u.push((0,l.l)(e,t.id,r))}}}return u}static updateDraftDurationIfNeeded(e){let t=D.updateDraftDurationIfNeededCalc(e);if(void 0!==t){let e=new n.UK;return e.duration=t,[{type:u.x.SetDocumentMetadata,params:{metadataDelta:e}}]}return[]}static updateDraftDurationIfNeededCalc(e){let t=e.getDraftMetadata().duration,r=e.getDraftDuration();return t!==r?r:void 0}static isCrossing(e,t){let r=e.start,i=r+e.duration,n=t.start,a=n+t.duration;return r>=n&&r<a||n>=r&&n<i}static moveSegmentsIfConflict(e,t,r,a,s){if(!t||0===r.size||0===a.length)return!1;let o=!1,u=new Map;for(let e of t.segments){let t=!1;for(let i of r.keys())if(i.id===e.id){t=!0;break}if(!t)for(let[t,i]of r.entries()){let r=e.targetTimerange;this.isCrossing(r,i)&&(o=!0,!u.get(t)&&u.set(t,i))}}if(!o)return!1;let c=-1n,d=-1n;for(let[e,t]of u){let e=t.start,r=e+t.duration;(c===-1n||c>e)&&(c=e),(d===-1n||d<r)&&(d=r)}let h=new i.tnv;if(h.start=c,h.duration=d-c,e.getDraftProperty().renderIndexTrackModeOn){let r=e.getAllTracks(),a=-1,o=null;for(let e of r)if(++a,e.id===t.id)break;let c=-1;if(a+1<r.length&&r[a+1].type===t.type&&-1!==(c=e.findSegmentInsertIndexByTimeRange(r[a+1].segments,h))&&(o=r[a+1]),!o){let e=new n.wO;t.type===i.pNd.TrackTypeVideo&&t.flag===i.w9k.FlagNone?e.flag=i.w9k.FlagSubVideo:e.flag=t.flag,e.type=t.type,s(new p.c({trackIndex:a+1,trackProperty:e})),o=e,c=0}for(let r of u.keys())s(new M.B({segmentIds:[r.id],srcTrackIndex:e.getTrackIndexById(t.id),desTrackIndex:e.getTrackIndexById(o.id),srcTargetTimeRanges:[r.targetTimerange],desTargetTimeRanges:[r.targetTimerange],srcTrackId:t.id,desTrackId:o.id})),++c;return(0,l.W)(new m.Uo().clearUselessTransition(e,o),s),!0}let f=e.getTracksByTypes(a),y=0,_=-1,v=-1;for(let r of f){if(r.type===i.pNd.TrackTypeVideo&&0===y){++y;continue}if(t.id===r.id){_=y,++y;continue}if(-1!==(v=e.findSegmentIndex(r.segments,h)))break;++y}let T=null;if(-1!==v)T=f[y];else{let r=new n.wO;t.type===i.pNd.TrackTypeVideo&&t.flag===i.w9k.FlagNone?r.flag=i.w9k.FlagSubVideo:r.flag=t.flag,r.type=t.type,y=-1!==_?this._findVectIndex(e,_,a)+1:f.length?e.getAllTracks().length:this._findVectIndex(e,f.length-1,a)+1,s(new p.c({trackIndex:y,trackProperty:r})),v=0,T=r}for(let e of u.keys())s(new g._({segment:e,trackId:T.id,trackIndex:y})),++v;return(0,l.W)(new m.Uo().clearUselessTransition(e,T),s),!0}static _calcTimeRange(e,t,r,n,a){let l,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],{track:c,segment:d}=t,m=c.type,p=new h.O1(e.getDraftProperty().fps),g=0x7fffffffffffffffn,_=1,v=!1;if((m===i.pNd.TrackTypeVideo||m===i.pNd.TrackTypeAudio)&&(l=d.sourceTimerange,v=[i.cVg.MetaTypePhoto,i.cVg.MetaTypeGif].includes(d.material.type),d.material.type!==i.cVg.MetaTypePhoto)){var T;g=d.material.duration,_=null!==(T=d.speed.speed)&&void 0!==T?T:_}let I=d.targetTimerange;if(l&&!v){let e;let t=I.start,c=I.duration+t,h=I.start,v=I.duration,T=l.start,w=l.duration,x=!1;if(m===i.pNd.TrackTypeVideo&&(0,o.he)(d)){let e=d.speed;if(d.speed.mode===i.yY$.SpeedModeCurve&&(null==e?void 0:e.curveSpeed)&&0!==a.length){x=!0;let l=new f.C().getCurveAveSpeed(a);if(n===s.ZX.ClipStart){v+=t-(h=r);let e=y.pM.times(v,l,"bigint");e>=g&&(e=g,h=c-(v=y.pM.div(w,l,"bigint")));let i=w-e;w=e,T+=i}else v=r-h,(w=y.pM.times(v,l,"bigint"))>=g&&(w=g,v=y.pM.div(w,l,"bigint"));let u=e.curveSpeed,d=(0,k.X)(u.id,u.name,a,u.sourcePlatform),m=new i.NOn,p=new i.Zk4,_=new i._Xo;return _.id=u.id,_.name=u.name,_.speedPoints=d.speedPoints,p.mode=i.yY$.SpeedModeCurve,p.speed=l,p.curveSpeed=_,(0,o.RF)(m)&&(m.speed=p),m}}if(!x){if(n===s.ZX.ClipStart){e=y.pM.times(t-r,_,"bigint");let i=t-y.pM.div(T,_,"bigint");T-=e,w+=e,(h=r)<i&&(h=i)}else w+=e=y.pM.times(r-c,_,"bigint");w>=g&&(w=g),v=y.pM.div(w,_,"bigint")}T<0n&&(T=0n),w>=g&&(w=g),h<0n&&!u&&(h=0n);let b=(0,o.xX)({__segment_struct_type:d.__segment_struct_type}),M=new i.zel,A=new i.zel;return M.start=T,M.duration=w,A.start=h,A.duration=p.gen(v).tail,b.sourceTimerange=M,b.targetTimerange=A,b}{let e=I.start,t=I.duration,a=e+t;n===s.ZX.ClipStart?((t-=r-e)<0n&&(t=0n),e=r):t+=r-a;let u=(0,o.xX)({__segment_struct_type:d.__segment_struct_type}),c=new i.zel;if(c.start=e,c.duration=p.gen(t).tail,u.targetTimerange=c,v&&l){let e=new i.zel;e.start=0n,e.duration=y.pM.times(t,_,"bigint"),u.sourceTimerange=e}return u}}static updateSegmentTimeRange(e,t,r,i,n){let u=!(arguments.length>5)||void 0===arguments[5]||arguments[5],c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>7?arguments[7]:void 0,h=(0,a.Cm)(e.getAllTracks(),t);if(!h)return;let{trackIndex:m,trackId:p,segmentIndex:g}=h,f=e.getAllTracks()[m],y=f.type,T=this._calcTimeRange(e,{track:f,segment:f.segments[g]},r,i,n,c);if(T){let r=e.getSegmentById(t),i=(0,o.xX)({__segment_struct_type:r.__segment_struct_type});A.T.pick(r,T,i),d(new _.F({segmentId:t,trackId:p,trackIndex:m,segmentDelta:T,sourceSegmentDelta:i}))}u&&(new v.Tn().findEditDraftRuleConfig(m,y,y,s.b2.SegmentJoint)===v.zE.JointInOrder&&(0,l.W)(this.adjustTrackTargetStartTime(e,f),d),(0,l.W)(this.updateDraftDurationIfNeeded(e),d))}static syncAudioToText(e,t,r,i){if(!(0,o.Y9)(t))return;let n=t.material.textId;this.updateAudioToText(e,n,r,i)}static updateAudioToText(e,t,r,n,a){let s=e.getSegmentByTextMaterialId(t),l=[];if(s){if(!(0,o.Ft)(s))return;l=s.material.textToAudioIds}else{if(!(s=e.getSegmentTextTemplateByTextTemplateMaterialId(t)))return;if(!(0,o.Q2)(s))return;l=s.material.textToAudioIds}let u=0n;for(let t of l){let r=e.getSegmentById(t);if(!r)continue;let{duration:i}=r.targetTimerange;i>u&&(u=i)}if(u>0n&&u!==s.targetTimerange.duration){let t=e.getTrackBySegmentId(s.id,[i.pNd.TrackTypeText]);t&&(!a&&this.moveSegmentsIfConflict(e,t,new Map([[s,new i.tnv({start:s.targetTimerange.start,duration:u})]]),[i.pNd.TrackTypeText],r),(0,b.c)(e,{trackId:t.id,segmentId:s.id,clipType:i.ZXd.ClipDuration,clipTime:u+s.targetTimerange.start},r,n))}}static updateMainTrackVideoMuteValue(e,t,r){if(!T.vc.FEATURE_SEPARATE_TRACE_MUTED_AND_SEGMENT_VOLUME){let a;if(!(a=t?t:e.getMainTrack()))return!1;let s=!0;for(let e of a.segments)if((0,o.he)(e)&&e.material&&e.material.type===i.cVg.MetaTypeVideo&&e.volume>0){s=!1;break}if(e.getDraftProperty().videoMute!==s){let e=new n.ry;return e.videoMute=s,r(new I.W({propertyDelta:e})),!0}}return!1}static setSegmentGroupId(e,t,r){let i=e.getSegmentNodeById(t,[]);if(!(null==i?void 0:i.segment))return[];let{segment:n}=i,a=(0,o.he)(n)||(0,o.Ft)(n)||(0,o.Q2)(n)||(0,o.P2)(n)||(0,o.P7)(n)||(0,o.WX)(n)||(0,o.Si)(n)||(0,o.E6)(n)||(0,o.w5)(n)||(0,o.Y9)(n),s=(0,o.xX)({__segment_struct_type:n.__segment_struct_type});return s.groupId=r,a?[(0,l.l)(e,t,s)]:[]}static updateStickerAnimationDurationBySegment(e,t,r){if("SegmentTextTemplate"===t.__segment_struct_type){let i=y.pM.div(t.targetTimerange.duration,r);return this.updateNewTextTemplateTimeRange(e,t,i,!0)}if(["SegmentText","SegmentSticker","SegmentImageSticker","SegmentHandwrite"].includes(t.__segment_struct_type)){let{animations:r}=t;if(r)return this.updateStickerAnimationDuration(e,r,t.targetTimerange.duration,t)}return[]}static clearEmptyTrack(e,t,r){let i=e.isMainTrack(t);if(t&&0===t.segments.length)return i&&e.getAllTracks().length>1?[]:[{type:u.x.DeleteTrack,params:{draftId:e.getDraftId(),trackId:t.id,trackIndex:r,trackProperty:t}}];return[]}static clearEmptyTracks(e){let t=e.getAllTracks(),r=[];if(t.length>1)for(let i=t.length-1;i>0;--i)r.push(...this.clearEmptyTrack(e,t[i],i));return 1===t.length&&r.push(...this.clearEmptyTrack(e,t[0],0)),r}static _updateStickerAnimationDuration(e,t,r,n){var a;let s,o,l,u;if(!t)return{animations:[]};let c=t.animations;for(let e of c)switch(e.type){case i.VAL.Anim_In:s=e;break;case i.VAL.Anim_Out:o=e;break;case i.VAL.Anim_Loop:l=e;break;case i.VAL.Anim_Caption:u=e}(null==s?void 0:s.duration)===0n&&(s=void 0),(null==o?void 0:o.duration)===0n&&(o=void 0),(null==l?void 0:l.duration)===0n&&(l=void 0),(null==u?void 0:u.duration)===0n&&(u=void 0);let d=c.map(e=>e.clone(!0)),h=null!==(a=null==l?void 0:l.duration)&&void 0!==a?a:100000n;if(s&&o){let e=s.duration,t=o.duration,i=-1n,n=-1n,a=e+t;if(a>=r){i=y.pM.times(y.pM.div(e,a),r,"bigint"),n=y.pM.times(y.pM.div(t,a),r,"bigint"),i=y.pM.max([i,100000n],"bigint"),i<(n=y.pM.max([n,100000n],"bigint"))?n=r-i:i>n?i=r-n:e<t?i=r-n:n=r-i;let l=d.find(e=>e.id===(null==s?void 0:s.id)),u=d.find(e=>e.id===(null==o?void 0:o.id));l&&(l.duration=i),u&&(u.duration=n),h=100000n}else{let e=r-a;e<h&&(h=e)}}else if(s){if(s.duration>=r){let e=y.pM.max([r,100000n],"bigint"),t=d.find(e=>e.id===s.id);t&&(t.duration=e),h=100000n}else{let e=r-s.duration;e<h&&(h=e)}}else if(o){if(o.duration>r){let e=y.pM.max([r,100000n],"bigint"),t=d.find(e=>e.id===o.id);t&&(t.duration=e),h=100000n}else{let e=r-o.duration;e<h&&(h=e)}}else if(u){let e=d.find(e=>e.id===u.id);e&&(e.duration=r)}if(l){h=y.pM.max([h,100000n],"bigint");let e=d.find(e=>e.id===l.id);e&&(e.duration=h)}return{animations:d}}static updateStickerAnimationDuration(e,t,r,n){let{animations:s}=this._updateStickerAnimationDuration(e,t,r,n);if(!s.length)return[];{let{segmentId:t,trackId:r,trackIndex:l}=(0,a.Cm)(e.getAllTracks(),n.id),c=n.animations,d=new i.NOn;c?(d.animations=new i.PA,d.animations.animations=s):d.animations=new i.PA(new i.ZPj({animations:s}));let h=(0,o.xX)({__segment_struct_type:n.__segment_struct_type});return A.T.pick(n,d,h),[{type:u.x.UpdateSegment,params:{segmentId:t,trackId:r,trackIndex:l,segmentDelta:d,sourceSegmentDelta:h}}]}}static updateNewTextTemplateTimeRange(e,t,r,n){let s=[],{segmentId:l,trackId:c,trackIndex:d}=(0,a.Cm)(e.getAllTracks(),t.id),h=t.material,m=h.textInfoResources,p=h.nonTextInfoResources,g=m.map(e=>e.clone()),f=p.map(e=>e.clone());for(let a of g){let{attachInfo:s}=a;if(!s)continue;s.startTime=y.pM.times(s.startTime,r,"bigint"),s.duration=y.pM.times(s.duration,r,"bigint");let o=s.duration||t.targetTimerange.duration;if(n&&a.textAnimateMaterial){let{animations:r}=D._updateStickerAnimationDuration(e,a.textAnimateMaterial,o,t);r.length&&(a.textAnimateMaterial?a.textAnimateMaterial.animations=r:a.textAnimateMaterial=new i.ZPj({animations:r}))}}for(let n of f){let{attachInfo:a}=n;if(!!a){if(a.startTime=y.pM.times(a.startTime,r,"bigint"),a.duration=y.pM.times(a.duration,r,"bigint"),n.animateMaterialInfo){let{animations:r}=D._updateStickerAnimationDuration(e,n.animateMaterialInfo,a.duration||t.targetTimerange.duration,t);r.length&&(n.animateMaterialInfo?n.animateMaterialInfo.animations=r:n.animateMaterialInfo=new i.ZPj({animations:r}))}}}let _=new i.kph;_.material=new i._0h,_.material.textInfoResources=g,_.material.nonTextInfoResources=f;let v=(0,o.xX)({__segment_struct_type:t.__segment_struct_type});return A.T.pick(t,_,v),s.push({type:u.x.UpdateSegment,params:{segmentId:l,trackIndex:d,trackId:c,segmentDelta:_,sourceSegmentDelta:v}}),s}static insertSegments(e,t,r,i){for(let n of t){let[,t]=D.insertSegment(e,e.getAllTracks()[r.targetIndex],n,r);(0,l.W)(t,i)}}static adjustTrackAfterSegment(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=!1,o=[];for(let u of t.segments){if(0===a){let t=new i.NOn;t.targetTimerange=new i.zel,t.targetTimerange.start=u.targetTimerange.start+n,t.targetTimerange.duration=u.targetTimerange.duration,o.push((0,l.l)(e,u.id,t));continue}u.id===r&&(s=!0),s&&a--}return o}static alignSegment(e,t){if(!t)return;let{fps:r}=e.getDraftProperty();if(r<=1)return;let i=t.targetTimerange,n=D.alignTimerange(e,i.start,i.duration);[i.start,i.duration]=n}static alignSegmentReadonly(e,t,r){if(!t)return;let{fps:n}=e.getDraftProperty();if(n<=1)return;let a=t.targetTimerange,s=D.alignTimerange(e,a.start,a.duration);if(r){var l,u;let n=(0,o.xX)({__segment_struct_type:t.__segment_struct_type}),a=new i.zel;a.start=null!==(l=s[0])&&void 0!==l?l:null,a.duration=null!==(u=s[1])&&void 0!==u?u:null,n.targetTimerange=a;let c=(0,o.xX)({__segment_struct_type:t.__segment_struct_type});A.T.pick(t,n,c),r(new _.F({segmentDelta:n,segmentId:t.id,trackId:e.getTrackBySegmentId(t.id,[]).id,trackIndex:e.getTrackIndexBySegmentId(t.id),sourceSegmentDelta:c}))}}static modifyRenderIndexSubToSub(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=arguments.length>3?arguments[3]:void 0;if(r&&this.renderIndexTrackModeOn(e)||0===t.length)return;let n=d.eK.prototype.buildRenderLayers(e);for(let e of t)e&&d.eK.prototype.eraseFromLayer(n.get(e.renderIndex),e);let a=!1;for(let[e,r]of d.eK.prototype.buildRenderLayersWithSegments(t)){if(e>=n.size){n.set(e,r);continue}if(d.eK.prototype.layerCanMerge(n.get(e),r)){n.get(e).push(...r),d.eK.prototype.sortVideoLayer(n.get(e));continue}if(a=!0,n.size>e+1&&d.eK.prototype.layerCanMerge(n.get(e+1),r)){n.get(e+1).push(...r),d.eK.prototype.sortVideoLayer(n.get(e));continue}let t=n.size;for(let r=t-1;r>e;--r)n.set(r+1,n.get(r));n.set(e+1,[...r])}if(a)for(let t=1;t<n.size;++t)for(let r of n.get(t)){let n=e.getTrackBySegmentId(r.id,[]),a=e.getSegmentById(r.id),s=(0,o.xX)({__segment_struct_type:a.__segment_struct_type});s.renderIndex=t;let l=(0,o.xX)({__segment_struct_type:r.__segment_struct_type});A.T.pick(r,s,l),i(new _.F({trackId:n.id,trackIndex:e.getTrackIndexBySegmentId(r.id),segmentId:r.id,segmentDelta:s,sourceSegmentDelta:l}))}}static addSegmentToMatchTrack(e,t,r,n,a,s){let o=e.getTrackTypesBySegment(t);if(1===o.length&&o[0]===i.pNd.TrackTypeNone)return;let c=o[0],d=r.id,h=i.w9k.FlagNone;c===i.pNd.TrackTypeVideo?i.w9k.FlagSubVideo:n?r.flag:n;let m=e.getTracksByType(c),p=-1;for(let[e,t]of m.entries())if(t.id===d){p=e;break}-1===p&&(p=m.length-1);let g=p+1;if(-1!==g)(0,l.W)(D.removeSegment(e,t.id,[r.type],s)[3],a),(0,l.W)({type:u.x.InsertSegment,params:{trackId:e.getAllTracks()[g].id,trackIndex:g,segment:t}},a)}static updateTextMaterialWords(e,t,r){let n=w.L.generateTextMaterialWordsText(r.material.text),a=new i.xKN,s=new i.edz,l=new i.JQY({text:n,...w.L.generateTextMaterialWordsTimeRange(n.length,r.targetTimerange.duration)});s.words=l,a.material=s;let u=(0,o.xX)({__segment_struct_type:r.__segment_struct_type});return A.T.pick(r,a,u),new _.F({trackId:e,trackIndex:t,segmentId:r.id,segmentDelta:a,sourceSegmentDelta:u})}static _getInsertTrack(e,t,r,a){let s=e.getMainTrack();return(!s&&!(t.trackType===i.pNd.TrackTypeVideo&&t.targetIndex===S)&&a(new p.c({trackIndex:S,trackProperty:new n.fQ({flag:i.w9k.FlagNone,id:(0,x.p)(),attribute:0,type:i.pNd.TrackTypeVideo,name:"",isDefaultName:!0})})),s&&t.trackType===i.pNd.TrackTypeVideo&&t.targetIndex===S)?s:e.getTracksByTypes([])[t.targetIndex]}static _findVectIndex(e,t,r){if(0===r.length)return t;let i=e.getAllTracks(),n=0,a=-1;for(let e=0;e<i.length;e++){let s=i[e];if(r.includes(s.type)&&n++===t){a=e;break}}return a}static _insertSegment(e,t,r,n,a){let s=r.targetTimerange,o=c.P;if((o=n.trackType===i.pNd.TrackTypeVideo?e.getSegmentInsertIndexByStartTime(t,s.start):e.findSegmentInsertIndexByTimeRange(t.segments,s))===c.P)return c.P;if(r.trackAttribute=t.attribute,a.push({type:u.x.InsertSegment,params:{draftId:e.getDraftId(),trackId:t.id,trackIndex:e.getTrackIndexById(t.id),segment:r}}),t.type!==n.trackType)throw Error(`Segment Put Into Track With Different Type TargetType ${n.trackType}`);return o}}},879388:function(e,t,r){r.d(t,{W:function(){return l}});var i=r(908232),n=r(602777),a=r(211561),s=r(81649),o=r(503722);class l{moveConflictSegment(e,t,r,n,l){if(t.targetTrackIndex<0||t.targetTrackIndex>=r.length)return 0;let u=r[t.targetTrackIndex],c=u.type;if(t.type!==a.pNd.TrackTypeNone&&t.type!==c)return 0;let d=new s.O1(30),h=u.segments,m=t.targetStartTime,p=t.targetDuration,g=h.findIndex(e=>{var r;let i=e.targetTimerange.start,n=e.targetTimerange.duration,a=d.gen(i+n).tail;return e.id!==t.targetSegmentId&&!(null===(r=t.excludeSegmentIds)||void 0===r?void 0:r.has(e.id))&&a/1000n-m/1000n>1});if(-1===g)return 0;let f=h[g].targetTimerange.start,y=d.gen(m+p).tail-f;if(y<=0)return 0;let _=[];for(let e=h.length-1;e>=g;e--){var v;let r=h[e];if(null===(v=t.excludeSegmentIds)||void 0===v?void 0:v.has(r.id))continue;let n=(0,i.l)();if(n.segmentId=r.id,n.targetTrackIndex=t.targetTrackIndex,n.targetStartTime=r.targetTimerange.start+y,n.trackType=c,n.targetStartTime<0)return -1;_.push(n)}return new o.c(_).move(e,n,l),0}timeRangeMoveConflictSegment(e,t,r,a){let s=-1,l=-1,u=e.getAllTracks();for(let e=0;e<u.length;e++){let{segments:r}=u[e];for(let i=0;i<r.length;i++)if(r[i].id===t.segId){s=e,l=i;break}if(-1!==l)break}if(s<=0)return 0;let c=u[s].segments,d=0n,h=0,m=0;if(t.clipType===n.ZX.ClipStart&&l>0){let e=c[l-1].targetTimerange;d=e.start+e.duration-BigInt(t.clipTime),h=0,m=l-1}else if(t.clipType===n.ZX.ClipDuration&&l<c.length-1){let e=c[l+1].targetTimerange;d=BigInt(t.clipTime)-e.start,h=l+1,m=c.length-1}if(d>0){let l=[],u=t.clipType===n.ZX.ClipStart?-d:d;for(let e=h;e<=m;e++){let t=(0,i.l)(),r=c[e];if(t.segmentId=r.id,t.targetTrackIndex=s,t.targetStartTime=r.targetTimerange.start+u,t.targetStartTime<0)return -1;l.push(t)}new o.c(l).move(e,r,a)}return 0}}},686067:function(e,t,r){r.d(t,{J2:function(){return y},LW:function(){return _},Mt:function(){return v},VW:function(){return T},Z$:function(){return I}});var i=r(211561),n=r(392742),a=r(448218),s=r(912224),o=r(239648),l=r(176791),u=r(481631),c=r(340294),d=r(217201),h=r(49667),m=r(283751),p=r(805794);function g(e,t,r,i,n){let s=0n;s=(0,c.dZ)([t.targetTimerange.duration,r.targetTimerange.duration],"bigint");let[,l]=new o.Uo().adjustVideoTransitionByDuration(e,t,s);l&&(0,a.W)(l,n)}function f(e,t,r,i,n,a,s){let l=new o.Uo;if(i&&(0,u.he)(i)&&i.transition){let t=l.findNextSegment(r,i);t&&(0,u.he)(t)&&g(e,i,t,r,s)}if(n&&(0,u.he)(n)&&n.transition){let r=l.findNextSegment(t,n);r&&(0,u.he)(r)&&g(e,n,r,t,s)}a&&(0,u.he)(a)&&a.transition&&i&&(0,u.he)(i)&&g(e,a,i,r,s)}function y(e,t,r,s){let l,c;let h=new o.Uo,m=t.getMainTrack(),g=-1;if(!m)return;for(let t=0;t<m.segments.length;t++)if(m.segments[t].id===e.segmentId){g=t;break}if(-1===g){p.B.log("Can't find the segment");return}let y=e.targetStartTime;e.targetStartTime>m.segments[g].targetTimerange.start&&(y+=m.segments[g].targetTimerange.duration);let _=t.getSegmentInsertIndexByStartTime(m,y);if(g<_&&(_-=1),t.getDraftProperty().maintrackAdsorb&&g===_)return;let v=m.segments[g].clone();if(!(0,u.he)(v)){p.B.log("The moving segment is not video");return}let T=m.segments,I=m.segments.length;if(_===I-1&&(0,u.MR)(T[I-1])){p.B.log("Cannot place a video after the tail leader segment");return}if(g>=1&&(l=T[g-1]),_>=1&&_-1<I){let e;c=T[e=g<_?_:_-1]}let k=new i.tnv(v.targetTimerange);if(I){let e=h.clearUselessTransition(t,m);e&&(0,a.W)(e,r)}(0,a.W)({type:n.x.MoveSegment,params:{segmentIds:[e.segmentId],srcTrackIndex:d.fm,desTrackIndex:d.fm,srcTargetTimeRanges:[k],desTargetTimeRanges:[new i.tnv({start:e.targetStartTime,duration:v.targetTimerange.duration})],desTrackId:t.getTrackByIndex(d.fm).id,srcTrackId:t.getTrackByIndex(d.fm).id}},r),(0,a.W)(h.clearUselessTransition(t,m),r),f(t,m,m,v,l,c,r)}function _(e,t,r,s){let c,h,g,y,_;let v=new o.Uo,{sourceTrackIndex:T}=e,I=-1,k=t.getAllTracks()[e.sourceTrackIndex],w=t.getMainTrack();if(!w)return;let x=t.getSegmentInsertIndexByStartTime(w,e.targetStartTime);for(let t=0;t<k.segments.length;t++)if(k.segments[t].id===e.segmentId){I=t;break}if(-1===T||-1===I){p.B.log("cannot find the segment");return}if(!(0,u.he)(k.segments[I])){p.B.log("The moving segment is not video");return}let b=k.segments[I].clone(),M=k.segments,A=w.segments,S=A.length;if((x=x<S?x:S)===S&&S>0&&(0,u.MR)(A[S-1])){p.B.log("Cannot place a video after the tail leader segment");return}if(x>=1){if(h=A[x-1])c=h.background;else if(A.length){let e=A[0];e.__segment_struct_type===i.Ocy.SegmentVideo&&(c=e.background)}}if(!e.retainBackground&&c&&(g=c.clone()),g){let e=new i.NOn;e.background=new i.Fq$(g),(0,a.W)((0,a.l)(t,b.id,e),r)}if(I>=1&&(y=M[I-1]),x>=1&&(_=A[x-1]),(0,a.W)({type:n.x.MoveSegment,params:{segmentIds:[e.segmentId],srcTrackIndex:T,desTrackIndex:d.fm,srcTargetTimeRanges:[b.targetTimerange],desTargetTimeRanges:[new i.tnv({start:e.targetStartTime,duration:b.targetTimerange.duration})],desTrackId:t.getTrackByIndex(d.fm).id,srcTrackId:t.getTrackByIndex(T).id}},r),b.renderIndex!==d.fm){let s=t.getAllTracks()[e.targetTrackIndex],o=new i.NOn;o.renderIndex=d.fm;let l=(0,u.xX)({__segment_struct_type:b.__segment_struct_type});m.T.pick(b,o,l),(0,a.W)({type:n.x.UpdateSegment,params:{trackId:s.id,segmentId:b.id,segmentDelta:o,trackIndex:e.targetTrackIndex,sourceSegmentDelta:l}},r)}if(t.getDraftProperty().videoMute){let e=new i.NOn;e.volume=0,(0,a.W)((0,a.l)(t,b.id,e),r)}(0,a.W)(v.clearUselessTransition(t,k),r),(0,a.W)(v.clearUselessTransition(t,w),r),f(t,k,w,b,y,_,r),t.getDraftProperty().videoMute&&new l.wK().muteAllKeyframes(b,!0),!s.keepEmptyTracks&&(0,a.W)(d.c8.clearEmptyTrack(t,t.getAllTracks()[T],T),r)}function v(e,t,r,s){let l,c;let h=new o.Uo,{sourceTrackIndex:m}=e,g=-1,y=t.getAllTracks()[e.sourceTrackIndex];for(let t=0;t<y.segments.length;t++)if(y.segments[t].id===e.segmentId){g=t;break}if(-1===m||-1===g){p.B.log("cannot find the segment");return}let _=y.segments[g].clone();if(_.__segment_struct_type!==i.Ocy.SegmentVideo){p.B.log("The moving segment is not video");return}g&&(l=y.segments[g-1]),d.c8.alignSegment(t,_),(0,a.W)({type:n.x.MoveSegment,params:{segmentIds:[e.segmentId],srcTrackIndex:m,desTrackIndex:e.targetTrackIndex,srcTargetTimeRanges:[_.targetTimerange],desTargetTimeRanges:[new i.tnv({start:e.targetStartTime,duration:_.targetTimerange.duration})],desTrackId:t.getTrackByIndex(e.targetTrackIndex).id,srcTrackId:t.getTrackByIndex(m).id}},r);let v=t.getSegmentAtPositionById(_.id).segmentIndex;if(-1===v){p.B.log("The sub video track has no space for the video");return}let T=t.getSegmentAtPositionById(_.id).trackIndex,I=t.getAllTracks()[T],k=I.segments;v>=1&&v-1<k.length&&(c=k[v-1]),(0,a.W)(h.clearUselessTransition(t,y),r),(0,a.W)(h.clearUselessTransition(t,I),r),f(t,y,I,_,l,c,r),(0,u.he)(_)&&d.c8.modifyRenderIndexSubToSub(t,[_],!0,r);let w=h.clearUselessTransition(t,y);w&&(0,a.W)(w,r),!s.keepEmptyTracks&&(0,a.W)(d.c8.clearEmptyTrack(t,t.getAllTracks()[m],m),r)}function T(e,t,r,c){let g,y;let _=new o.Uo,v=t.getMainTrack(),T=-1;if(!v)return;let I=v.segments;for(let t=0;t<I.length;t++)if(I[t].id===e.segmentId){T=t;break}if(-1===T){p.B.log("cannot find the segment");return}let k=I[T].clone();if(k.__segment_struct_type!==i.Ocy.SegmentVideo){p.B.log("The moving segment is not video");return}T>=1&&(g=I[T-1]);let w=t.getAllTracks()[e.targetTrackIndex];(0,a.W)({type:n.x.MoveSegment,params:{segmentIds:[e.segmentId],srcTrackIndex:d.fm,desTrackIndex:e.targetTrackIndex,srcTargetTimeRanges:[k.targetTimerange],desTargetTimeRanges:[new i.tnv({start:e.targetStartTime,duration:k.targetTimerange.duration})],desTrackId:t.getTrackByIndex(e.targetTrackIndex).id,srcTrackId:t.getTrackByIndex(d.fm).id}},r);let x=t.getSegmentAtPositionById(k.id).segmentIndex;if(-1===x){p.B.log("The sub video track has no space for the video"),(0,a.W)({type:n.x.InsertSegment,params:{trackId:v.id,segment:k,trackIndex:t.getTrackIndexById(v.id)}},r),d.c8.alignSegmentReadonly(t,k,r);return}x>=1&&(y=w.segments[x-1]),(0,a.W)(_.clearUselessTransition(t,v),r),(0,a.W)(_.clearUselessTransition(t,w),r),f(t,v,w,k,g,y,r);let b=new s.eK().nextVideoRenderIndexWithTimeRange(1,k.targetTimerange,t),M=new i.NOn;if(k.renderIndex!==b&&(k.renderIndex=b,M.renderIndex=b),h.vc.FEATURE_SEPARATE_TRACE_MUTED_AND_SEGMENT_VOLUME&&t.getDraftProperty().videoMute&&k.volume!==k.lastNonzeroVolume&&(M.volume=k.lastNonzeroVolume),Object.keys(M).length){let e=(0,u.xX)({__segment_struct_type:k.__segment_struct_type});m.T.pick(k,M,e),(0,a.W)({type:n.x.UpdateSegment,params:{trackId:w.id,segmentId:k.id,segmentDelta:M,sourceSegmentDelta:e,trackIndex:t.getTrackIndexById(w.id)}},r)}for(let e of(t.getDraftProperty().videoMute&&new l.wK().muteAllKeyframes(k,!0),t.getAllTracks())){if(e.type===i.pNd.TrackTypeVideoEffect)for(let s of e.segments){if(!!(0,u.w5)(s)){if(s.applySegmentId===k.id){let o=(0,u.xX)({__segment_struct_type:s.__segment_struct_type});o.material=new i.UJq({applyTargetType:i.nH8.SubVideo});let l=(0,u.xX)({__segment_struct_type:s.__segment_struct_type});m.T.pick(s,o,l),(0,a.W)({type:n.x.UpdateSegment,params:{trackId:e.id,segmentId:s.id,segmentDelta:o,sourceSegmentDelta:l,trackIndex:t.getTrackIndexById(e.id)}},r)}}}}}function I(e,t,r,s){let{sourceTrackIndex:o}=e,l=t.getSegmentAtPositionById(e.segmentId),u=t.getAllTracks()[l.trackIndex],c=u.segments[l.segmentIndex],h=c.clone();if(h.targetTimerange.start=e.targetStartTime,d.c8.alignSegment(t,h),u.type!==i.pNd.TrackTypeVideo)(0,a.W)({type:n.x.MoveSegment,params:{segmentIds:[e.segmentId],srcTrackIndex:l.trackIndex,desTrackIndex:e.targetTrackIndex,srcTargetTimeRanges:[c.targetTimerange],desTargetTimeRanges:[new i.tnv({start:e.targetStartTime,duration:c.targetTimerange.duration})],desTrackId:t.getTrackByIndex(e.targetTrackIndex).id,srcTrackId:t.getTrackByIndex(l.trackIndex).id}},r),!s.keepEmptyTracks&&(0,a.W)(d.c8.clearEmptyTrack(t,t.getAllTracks()[o],o),r)}},794560:function(e,t,r){r.d(t,{c:function(){return s}});var i=r(602777),n=r(394205),a=r(347043);function s(e,t,r,s){e.getTrackById(t.trackId).type===i.pN.TrackTypeComposition?(0,n.E)(e,t,r):(0,a.u)(e,t,r,s)}},501452:function(e,t,r){r.d(t,{y:function(){return d}});var i=r(982935),n=r(602777),a=r(211561),s=r(982811),o=r(127926),l=r(81649),u=r(481631),c=r(283751);class d{static execute(e){let{keyframeType:t,values:r,segment:i,draftView:n,keyframeId:s}=e;if(!o.OL.hasKeyframes(i)||t===a.Eu.KFTypeNone||!o.OL.hasCommonPropertyKeyframe(i,t))return null;let{id:l}=n.getTrackBySegmentId(i.id),h=i.clone();if(void 0!==s){let e=o.OL.findKeyframes(h,t),a=o.OL.findKeyframe(e,s);if(a&&r.length){a.values=r;let e=(0,u.xX)({__segment_struct_type:i.__segment_struct_type});e.commonKeyframes=h.commonKeyframes;let t=(0,u.xX)({__segment_struct_type:i.__segment_struct_type});return c.T.pick(i,e,t),{draftId:n.getDraftId(),trackId:l,trackIndex:n.getTrackIndexBySegmentId(i.id),segmentId:i.id,segmentDelta:e,sourceSegmentDelta:t}}}let m=o.OL.getKeyframeByCurrentContext(n,h,t);if(m&&r.length){m.values=r;let e=(0,u.xX)({__segment_struct_type:i.__segment_struct_type});e.commonKeyframes=h.commonKeyframes;let t=(0,u.xX)({__segment_struct_type:i.__segment_struct_type});return c.T.pick(i,e,t),{draftId:n.getDraftId(),trackId:l,trackIndex:n.getTrackIndexBySegmentId(i.id),segmentId:i.id,segmentDelta:e,sourceSegmentDelta:t}}return d.addKeyframe(n,h,t,r)}static addKeyframe(e,t,r,a){if(0===a.length)return null;let o=s.Y.getInstance().getPlayHead();if(o<0)return null;let u=t.targetTimerange;return o<u.start+t.offset||o>new l.O1(e.getDraftProperty().fps).gen(u.start+u.duration+t.offset).tail?null:i.k.add(e,{segmentId:t.id,keyframeType:r,dataParam:{flags:n.yP.KFDataParamFlag_datas|n.yP.KFDataParamFlag_playHead,playHead:o,datas:a}})}}},931608:function(e,t,r){r.d(t,{SQ:function(){return c},cw:function(){return o},py:function(){return l}});var i=r(211561),n=r(185400),a=r(481631),s=r(176791);function o(e){return[...n.gb,...n.SM].includes(e)}function l(e){return[...n.rp,...n.yy].includes(e)}function u(e,t){for(let[r,i]of e.entries())if(i.includes(t))return r;return 0n}class c{static isEnable(e,t){var r;if(o(t)&&"SegmentVideo"===e.__segment_struct_type&&e.material.extraTypeOption&i.Yzk.HasSeparatedAudio)return!1;let n=null!==(r=e.trackAttribute)&&void 0!==r?r:0;if(BigInt(n)&i.$SW.HideFlag||BigInt(n)&i.$SW.MuteFlag&&o(t))return!1;switch(e.__segment_struct_type){case"SegmentVideo":return c.isEnableForSegmentVideo(e,t);case"SegmentAudio":return c.isEnableForSegmentAudio(e,t);case"SegmentPictureAdjust":return c.isEnableForSegmentPictureAdjust(e,t);case"SegmentFilter":return c.isEnableForSegmentFilter(e,t);case"SegmentSticker":case"SegmentImageSticker":case"SegmentHandwrite":return c.isEnableForSegmentSticker(e,t);case"SegmentText":return c.isEnableForSegmentText(e,t);default:return!0}}static isEnableForSegmentVideo(e,t){if(!e)return!1;if(l(t)){let r=e.adjust;return c.isEnableForMaterialPictureAdjust(r,t)}if(t===i.Eu.KFTypeZoom||t===i.Eu.KFTypeSlim||t===i.Eu.KFTypeStretch)return!0;let r=e.material.checkFlag;return!!(function(e){let t=new Map;return t.set(i.FC7.FilterFlag,[i.Eu.KFTypeFilter]),t.set(i.FC7.VPosSizeFlag,n.Q0),t.set(i.FC7.VMixFlag,[i.Eu.KFTypeAlpha]),t.set(i.FC7.Chroma,n.QR),t.set(i.FC7.Masking,n.oH),t.set(i.FC7.AudioBasic,[i.Eu.KFTypeVolume,i.Eu.KFTypeLastVolume]),t.set(i.FC7.AudioVoiceChangeFlag,n.gb),u(t,e)}(t)&BigInt(r))}static isEnableForMaterialPictureAdjust(e,t){return!!e&&(t===i.Eu.KFTypeLUT?!!(e.enableLut&&e.lut):t===i.Eu.KFTypeSmartColorAdjust?!!(e.enableSmartColorAdjust&&e.smartAdjustColor):n.rp.includes(t)?e.enableAdjust:!n.Mz.includes(t)||e.enableColorWheels)}static isEnableForSegmentAudio(e,t){if(!e)return!1;let r=BigInt(e.material.checkFlag);return!!(function(e){let t=new Map;return t.set(i.sQs.BasicFlag,[i.Eu.KFTypeVolume]),t.set(i.sQs.VoiceChangeFlag,n.gb),u(t,e)}(t)&r)}static isEnableForSegmentPictureAdjust(e,t){return!!e&&c.isEnableForMaterialPictureAdjust(e.material,t)}static isEnableForSegmentFilter(e,t){return!!e||!1}static isEnableForSegmentText(e,t){var r,a;if(!e)return!1;let s=null!==(a=null===(r=e.material)||void 0===r?void 0:r.checkFlag)&&void 0!==a?a:1;return!!(function(e){let t=new Map;return t.set(i.PbZ.TPosSizeFlag,n.Q0),t.set(i.PbZ.TMixFlag,n.jz),t.set(i.PbZ.BorderFlag,n.JL),t.set(i.PbZ.FrameFlag,n.pl),t.set(i.PbZ.ShadowFlag,n.PS),t.set(i.PbZ.LightFlag,n.$F),u(t,e)}(t)&BigInt(s))}static isEnableForSegmentSticker(e,t){var r,a;if(!e)return!1;let s=BigInt(null!==(a=null===(r=e.material)||void 0===r?void 0:r.checkFlag)&&void 0!==a?a:1);return!!(function(e){let t=new Map;return t.set(i.jRC.PosSizeFlag,n.Q0),u(t,e)}(t)&s)}static prePasteKeyframe(e,t,r){if(e.__segment_struct_type!==t.__segment_struct_type)return!1;if((0,a.he)(e)&&(0,a.he)(t))return this.prePasteKeyframeBySegmentVideo(e,t,r);if((0,a.Y9)(e)&&(0,a.Y9)(t))return this.prePasteKeyframeBySegmentAudio(e,t,r);if((0,a.E6)(e)&&(0,a.E6)(t))return this.prePasteKeyframeBySegmentPictureAdjust(e,t,r);else if((0,a.Si)(e)&&(0,a.Si)(t))return!0;else if((0,a.P2)(e)&&(0,a.P2)(t))return!0;else if((0,a.P7)(e)&&(0,a.P7)(t))return!0;else if((0,a.WX)(e)&&(0,a.WX)(t))return!0;else if((0,a.Ft)(e)&&(0,a.Ft)(t))return!0;else return!1}static prePasteKeyframeBySegmentVideo(e,t,r){if(l(r)&&(!t.adjust&&(t.adjust=new i.sq5),this.prePasteKeyframeByMaterialPictureAdjust(e.adjust,t.adjust,r)),n.QR.includes(r)){if(!t.chroma||0===t.chroma.color.length)return!1}else if(n.oH.includes(r)){let r=BigInt(e.material.checkFlag)&i.FC7.Masking,n=BigInt(t.material.checkFlag)&i.FC7.Masking,a=(0,s.P2)(e),o=(0,s.P2)(t);if(!r||!n||!a||!o||a.path!==o.path)return!1}else if(n.gb.includes(r)){let r=BigInt(e.material.checkFlag)&i.FC7.AudioVoiceChangeFlag,n=BigInt(t.material.checkFlag)&i.FC7.AudioVoiceChangeFlag;if(!r||!n)return!1}else if(r===i.Eu.KFTypeFilter&&!t.filter)return!1;return!0}static prePasteKeyframeBySegmentAudio(e,t,r){if(n.gb.includes(r)){let r=BigInt(e.material.checkFlag)&i.sQs.VoiceChangeFlag,n=BigInt(t.material.checkFlag)&i.sQs.VoiceChangeFlag;if(!r||!n)return!1}return!0}static prePasteKeyframeBySegmentPictureAdjust(e,t,r){return!t.material&&(t.material=new i.sq5),this.prePasteKeyframeByMaterialPictureAdjust(e.material,t.material,r)}static prePasteKeyframeByMaterialPictureAdjust(e,t,r){if(!e||!t)return!1;if(i.Eu.KFTypeLUT===r){var a,s;let i=e.enableLut&&e.lut,n=t.enableLut&&t.lut;if(!i||!n||(null===(a=e.lut)||void 0===a?void 0:a.path)!==(null===(s=t.lut)||void 0===s?void 0:s.path))return!1;this.setAdjustItem(e,t,r)}else if(i.Eu.KFTypeSmartColorAdjust===r){let i=e.enableSmartColorAdjust,n=t.enableSmartColorAdjust;if(!i||!n)return!1;this.setAdjustItem(e,t,r)}else if(n.rp.includes(r)){let i=e.enableAdjust,n=t.enableAdjust;if(!i||!n)return!1;this.setAdjustItem(e,t,r)}else{if(!n.Mz.includes(r))return!1;let a=e.enableColorWheels,s=t.enableColorWheels;if(!a||!s)return!1;if(r===i.Eu.KFTypePrimaryColorWheelIntensity){let r=t.primaryColorWheels;r&&e.primaryColorWheels&&(t.primaryColorWheels=r.clone())}else if(r===i.Eu.KFTypeLogColorWheelIntensity){let r=t.logColorWheels;r&&e.logColorWheels&&(t.logColorWheels=r.clone())}}return!0}static setAdjustItem(e,t,r){return!0}}},733353:function(e,t,r){r.d(t,{Rj:function(){return v}});var i=r(211561),n=r(749417),a=r(931608),s=r(185400),o=r(779510),l=r(280700),u=r(190499),c=r(481631),d=r(378188),h=r(342040),m=r(912224),p=r(287165);function g(e,t){var r;let i=e.getAllTracks(),n=(0,l.Cm)(i,t);if(!n)return;let a=i[n.trackIndex].segments[n.segmentIndex],s=i[n.trackIndex].segments[n.segmentIndex-1],o=0n;return(null==s?void 0:s.transition)&&(null==s?void 0:null===(r=s.transition)||void 0===r?void 0:r.isOverlap)===!0&&(o=s.transition.duration/2n),{transitionOffset:o,seqIn:a.targetTimerange.start,seqOut:a.targetTimerange.duration+a.targetTimerange.start}}function f(e){var t,r,i,a,s;let{render:o,videoDocument:l,keyframeId:u,keyframeType:c,parentId:d,effectName:h,datas:m,clip:p}=e,f=g(l,p.id);if(!f&&!(f=g(l,p.id.split("_")[0])))return;let{seqIn:y,seqOut:_,transitionOffset:v}=f,T=n.um.convertCommonKeyframe(u,h,c,m,y,_,v),I=Array.from(null!==(i=null===(r=o.editor)||void 0===r?void 0:null===(t=r.getKeyframesByParentId(d))||void 0===t?void 0:t.values())&&void 0!==i?i:[]).find(e=>(0,n.Qk)(e.id,c,h));T?(I&&(T.id=I.id),null===(a=o.editor)||void 0===a||a.setKeyframe(T,d)):I&&(null===(s=o.editor)||void 0===s||s.removeKeyframe(I,d))}function y(e,t,r){let{clip:s,segment:l,keyframeData:d,keyframeType:h,keyframeId:m,parentId:p}=r;if(!!p)if((0,a.cw)(h)&&h!==i.Eu.KFTypeLastVolume){var y;let r=g(t,s.id);if(!r)return;let i=n.um.convertAudioCommonKeyframeList(h,d,r.seqIn,r.transitionOffset);null===(y=e.editor)||void 0===y||y.resetKeyframes(i,p)}else{let r=(0,o._)(h);if(r)for(let i of function(e,t,r){let i=Object.keys(t).length;if(0===i)return[];if(1===i)return[{name:Object.keys(t)[0],keyframeData:r}];let a=[],s=0;for(let[e,i]of Object.entries(t)){let t={name:"",keyframeData:[]},o=!0;for(let e of r){if(s+i>e.datas.length){o=!1;break}let r=n.um.cloneDeep(e),a=s,l=a+i;r.datas=e.datas.slice(a,l),t.keyframeData.push(r)}if(!o)break;t.name=e,a.push(t),s+=i}return a}(0,r,d))f({render:e,videoDocument:t,keyframeType:h,parentId:p,effectName:i.name,datas:i.keyframeData,clip:s,keyframeId:m});else{let r="";r=function(e,t){var r,n,a,s,o,l,u,d,h,m,p,g,f,y,_,v;if(!e||!(0,c.he)(e))return!1;if(t===i.Eu.KFTypeShadow)return(null===(n=e.adjust)||void 0===n?!!void 0:null===(r=n.shadow)||void 0===r?!!void 0:!!r.version)&&(null===(s=e.adjust)||void 0===s?void 0:null===(a=s.shadow)||void 0===a?void 0:a.version)!=="v1"||!1;if(t===i.Eu.KFTypeHightLight)return(null===(l=e.adjust)||void 0===l?!!void 0:null===(o=l.highlight)||void 0===o?!!void 0:!!o.version)&&(null===(d=e.adjust)||void 0===d?void 0:null===(u=d.highlight)||void 0===u?void 0:u.version)!=="v1"||!1;if(t===i.Eu.KFTypeHue)return(null===(m=e.adjust)||void 0===m?!!void 0:null===(h=m.hue)||void 0===h?!!void 0:!!h.version)&&(null===(g=e.adjust)||void 0===g?void 0:null===(p=g.hue)||void 0===p?void 0:p.version)!=="v1"||!1;if(t===i.Eu.KFTypeTemperature)return(null===(y=e.adjust)||void 0===y?!!void 0:null===(f=y.colorTemperature)||void 0===f?!!void 0:!!f.version)&&(null===(v=e.adjust)||void 0===v?void 0:null===(_=v.colorTemperature)||void 0===_?void 0:_.version)!=="v1"||!1;return!1}(l,h)?(0,u.nz)(h):(0,u.zI)(l,h),f({render:e,videoDocument:t,keyframeType:h,parentId:p,effectName:r,datas:d,clip:s,keyframeId:m})}}}function _(e){var t,r,i;let{videoId:n,render:a}=e,s=null===(r=a.editor)||void 0===r?void 0:null===(t=r.getClipBase(n))||void 0===t?void 0:t.data;if(!!(null==s?void 0:s.object_locked_filter_id))null===(i=a.editor)||void 0===i||i.removeFilter(s.object_locked_filter_id),s.object_locked_filter_id=""}class v{static executeUpdate(e){var t,r,o,l,u,c,d,h;let{render:m,videoDocument:p,clip:g,segment:f,delta:_,keyframes:v,parentId:T,keyframeType:I}=e,k=void 0===_;if(!f)return;if(!v){if(k||void 0===_.commonKeyframes)return;if(I===i.Eu.KFTypeVolume){null===(o=m.editor)||void 0===o||o.resetKeyframes([],T);return}if([i.Eu.KFTypeLastVolume,i.Eu.KFTypeNone].includes(I))return;Array.from(null!==(l=null===(r=m.editor)||void 0===r?void 0:null===(t=r.getKeyframesByParentId(T))||void 0===t?void 0:t.values())&&void 0!==l?l:[]).filter(e=>(0,n.Qk)(e.id,I)).forEach(e=>{var t;return null===(t=m.editor)||void 0===t?void 0:t.removeKeyframe(e,T)});return}let w=[],x=!1,b=v.propertyType;if(![i.Eu.KFTypeLastVolume,i.Eu.KFTypeNone].includes(b)){let e=a.SQ.isEnable(f,b),t=!1;if(Array.from(null!==(h=null===(c=m.editor)||void 0===c?void 0:null===(u=c.getKeyframesByParentId(T))||void 0===u?void 0:u.values())&&void 0!==h?h:[]).some(e=>(0,n.zW)(e.id)[0]===b)?!e&&(t=!0):e&&(t=!0),k||t||(null==f?void 0:f.commonKeyframes)||(null==_?void 0:_.targetTimerange)||(null==_?void 0:null===(d=_.material)||void 0===d?void 0:d.applyTargetType)){if(s.gb.includes(b))for(let e of(x=!0,v.keyframeList))w.push(e.timeOffset);else if(e){let e=n.um.convertKeyframes(v);n.um.repairKeyframesTimeOffsetToRelativeSeqTime(e,f),n.um.repairKeyframesValues(b,e,f),y(m,p,{clip:g,segment:f,keyframeData:e,keyframeType:b,parentId:T,keyframeId:v.id})}else y(m,p,{clip:g,segment:f,keyframeData:[],keyframeType:b,parentId:T,keyframeId:v.id})}}if(x){if(a.SQ.isEnable(f,i.Eu.KFTypeEffectAdjustParam1)){let e=n.um.makeAudioEffectKeyframe(p,f,w);n.um.repairKeyframesTimeOffsetToRelativeSeqTime(e,f),y(m,p,{clip:g,segment:f,parentId:T,keyframeData:e,keyframeType:i.Eu.KFTypeEffectAdjustParam1,keyframeId:v.id})}else y(m,p,{clip:g,segment:f,parentId:T,keyframeData:[],keyframeType:i.Eu.KFTypeEffectAdjustParam1,keyframeId:v.id})}}static executeUpdateByTypeList(e){var t,r;let{render:i,clipId:n,videoDocument:a,parentId:s,keyframeTypeList:o,delta:l}=e;if(!i||!n||!a||!s||!o)return;let u=null===(r=i.editor)||void 0===r?void 0:null===(t=r.getClipBase(n))||void 0===t?void 0:t.data,c=a.getSegmentById(n);u&&c&&o.forEach(e=>{var t;v.executeUpdate({render:i,videoDocument:a,clip:u,segment:c,delta:l,keyframes:null===(t=c.commonKeyframes)||void 0===t?void 0:t.find(t=>t.propertyType===e),keyframeType:e,parentId:s})})}static updateLockKeyframes(e){var t,r,a,s,o;let{render:l,videoDocument:u,videoId:g,delta:v}=e,T=u.getSegmentById(g);if(!T||!(0,c.he)(T)||!v)return;let{objectLocked:I,id:k}=T.material,{objectLocked:w}=null!==(t=v.material)&&void 0!==t?t:{};if(!w){_({videoId:g,render:l});return}let x=[],{keyframes:b,effect:M,adjustBlur:A}=null!=I?I:{},{keyframes:S,effect:z,adjustBlur:C}=w;if((null==S?void 0:S.length)||void 0!==C){let e;if(_({videoId:g,render:l}),(M||z)&&(e=function(e){var t,r;let{videoId:i,render:n,resourcePath:a}=e,s=null===(r=n.editor)||void 0===r?void 0:null===(t=r.getClipBase(i))||void 0===t?void 0:t.data;if(!s)return;let o=h.k.getInstance().pathRecords.get(a),l=(0,d.Uo)({id:s.object_locked_filter_id||`${i}_VIDEO_LOCK`,res:o||a,param:"",renderIndex:BigInt(100*m.UJ.LockObjectOrder),visible:!0});return l.is_object_lock_filter=!0,s.object_locked_filter_id?n.editor.updateFilter(l):(n.editor.addFilter(l,s.id),s.object_locked_filter_id=l.id),s}({videoId:g,render:l,resourcePath:null!==(a=null!==(r=null==z?void 0:z.path)&&void 0!==r?r:null==M?void 0:M.path)&&void 0!==a?a:""})),!e)return;for(let t of(!function(e){let{clip:t,render:r,videoDocument:n,isAdjustBlur:a}=e;if(!t)return;let s={curveType:i.wHM.KeyframeCurveTypeLine,timeOffset:0n,leftControl:{x:0,y:0},rightControl:{x:0,y:0},datas:[a?1:0],leftGraphDataControlValue:[],leftGraphDataTimeOffset:0n,rightGraphDataControlValue:[],rightGraphDataTimeOffset:0n,graphData:[]};f({render:r,videoDocument:n,keyframeType:i.Eu.KFTypeObjectLocked,parentId:null==t?void 0:t.object_locked_filter_id,effectName:"blurBackgroundAlpha",datas:[s],clip:t,keyframeId:(0,p.p)()})}({render:l,videoDocument:u,clip:e,isAdjustBlur:null===(s=null!=C?C:A)||void 0===s||s}),null!==(o=null!=S?S:b)&&void 0!==o?o:[]))x.push(n.um.convertLockedKeyframe(t));let t=new i.koq({propertyType:i.Eu.KFTypeObjectLocked,keyframeList:x,id:k}),c=n.um.convertKeyframes(t);n.um.repairKeyframesTimeOffsetToRelativeSeqTime(c,T),y(l,u,{clip:e,segment:T,parentId:e.object_locked_filter_id,keyframeData:c,keyframeType:i.Eu.KFTypeObjectLocked,keyframeId:t.id})}}}},235331:function(e,t,r){r.d(t,{e:function(){return u}});var i=r(211561),n=r(481631),a=r(717501),s=r(129862),o=r(501452),l=r(283751);class u extends a.v{executeNormal(e,t,r){let{segId:a,edgeSmoothValue:o}=this.params,u=e.getSegmentById(a);if(!u||!(0,n.he)(u))return;let c=t.chroma?new i.VJQ(t.chroma).clone():new i.VJQ;c.edgeSmoothValue=o;let d=new i.NOn;d.chroma=new i.Xkj(c);let h=(0,n.xX)({__segment_struct_type:u.__segment_struct_type});l.T.pick(u,d,h),r(new s.F({trackId:e.getTrackBySegmentId(u.id).id,trackIndex:e.getTrackIndexBySegmentId(a),segmentId:a,segmentDelta:d,sourceSegmentDelta:h}))}getKeyframeValues(){return[this.params.edgeSmoothValue]}executeInner(e,t,r,i,n){if(e.isKeyframe){let e=o.y.execute({draftView:t,segment:r,keyframeType:i,values:this.getKeyframeValues()});e&&n(new s.F(e))}return!0}}},91885:function(e,t,r){r.d(t,{e:function(){return g}});var i=r(211561),n=r(717501),a=r(129862),s=r(185400),o=r(501452),l=r(481631),u=r(805794),c=r(433896),d=r(255781),h=r(247817),m=r(283751);let p=e=>{if(e===i.cVg.MetaTypeTemperature)return"colorTemperature";if(e===i.cVg.MetaTypeHue)return"hue";if(e===i.cVg.MetaTypeLightSensation)return"lightSensation";else if(e===i.cVg.MetaTypeSmartColorAdjust)return"smartColorAdjust";else if(e===i.cVg.MetaTypeSharpen)return"sharpening";else return e};class g extends n.v{setDelta(e,t){(0,l.RF)(e)?e.adjust=t:e.material=t}executeNormal(e,t,r){let{segId:n,material:s}=this.params,o=e.getSegmentById(n);if(!o||!(0,l.he)(o)&&!(0,l.E6)(o)){u.B.log("Can't find the video or adjust segment");return}let c=(0,l.he)(o)?new i.NOn:new i.MYy;if(this.isHslAdjust(s.type)){let t=this.updateHslParam(o,s);t&&this.setDelta(c,t);let i=(0,l.xX)({__segment_struct_type:o.__segment_struct_type});m.T.pick(o,c,i),r(new a.F({trackId:e.getTrackBySegmentId(o.id).id,segmentId:n,segmentDelta:c,trackIndex:e.getTrackIndexBySegmentId(o.id),sourceSegmentDelta:i}))}else if(s.type===i.cVg.MetaTypeColorCurves){let t=this.updateColorCurvesParam(o,s);t&&this.setDelta(c,t);let i=(0,l.xX)({__segment_struct_type:o.__segment_struct_type});m.T.pick(o,c,i),r(new a.F({trackId:e.getTrackBySegmentId(o.id).id,segmentId:n,segmentDelta:c,trackIndex:e.getTrackIndexBySegmentId(o.id),sourceSegmentDelta:i}))}else if(s.type===i.cVg.MetaTypePrimaryColorWheels||s.type===i.cVg.MetaTypeLogColorWheels)(0,l.he)(o)&&this.updateColorWheelsParam(o,s);else{var d;let t=(0,l.he)(o)?null===(d=o.adjust)||void 0===d?void 0:d.clone():(0,l.E6)(o)?o.material.clone():void 0;if(t){let u=this.getPictureAdjustItemEx(t,s.type,!0);this.setPictureAdjust(u,s);let d=new i.cNp;d[p(s.type)]=new i.W9x(u),this.setDelta(c,d);let h=(0,l.xX)({__segment_struct_type:o.__segment_struct_type});m.T.pick(o,c,h),r(new a.F({trackId:e.getTrackBySegmentId(o.id).id,segmentId:n,segmentDelta:c,trackIndex:e.getTrackIndexBySegmentId(o.id),sourceSegmentDelta:h}))}else{let t=new i.sq5,u=this.getPictureAdjustItemEx(t,s.type,!0);this.setPictureAdjust(u,s),this.setDelta(c,new i.cNp(t));let d=(0,l.xX)({__segment_struct_type:o.__segment_struct_type});m.T.pick(o,c,d),r(new a.F({trackId:e.getTrackBySegmentId(o.id).id,segmentId:n,segmentDelta:c,trackIndex:e.getTrackIndexBySegmentId(o.id),sourceSegmentDelta:d}))}}}executeInner(e,t,r,i,n){if(e.isKeyframe){let s=o.y.execute({draftView:t,segment:r,keyframeType:i,values:this.getKeyframeValues(r,i),keyframeId:e.keyframeId});s&&n(new a.F(s))}}getPictureAdjustItemEx(e,t,r){let n;switch(t){case i.cVg.MetaTypeBrightness:n=e.brightness,!e.brightness&&r&&((n=new i.eAb).type=t,e.brightness=n);break;case i.cVg.MetaTypeContrast:!(n=e.contrast)&&r&&((n=new i.eAb).type=t,e.contrast=n);break;case i.cVg.MetaTypeSaturation:!(n=e.saturation)&&r&&((n=new i.eAb).type=t,e.saturation=n);break;case i.cVg.MetaTypeSharpen:!(n=e.sharpening)&&r&&((n=new i.eAb).type=t,e.sharpening=n);break;case i.cVg.MetaTypeHighlight:!(n=e.highlight)&&r&&((n=new i.eAb).type=t,e.highlight=n);break;case i.cVg.MetaTypeShadow:!(n=e.shadow)&&r&&((n=new i.eAb).type=t,e.shadow=n);break;case i.cVg.MetaTypeTemperature:!(n=e.colorTemperature)&&r&&((n=new i.eAb).type=t,e.colorTemperature=n);break;case i.cVg.MetaTypeHue:!(n=e.hue)&&r&&((n=new i.eAb).type=t,e.hue=n);break;case i.cVg.MetaTypeFade:!(n=e.fade)&&r&&((n=new i.eAb).type=t,e.fade=n);break;case i.cVg.MetaTypeLightSensation:!(n=e.lightSensation)&&r&&((n=new i.eAb).type=t,e.lightSensation=n);break;case i.cVg.MetaTypeVignetting:!(n=e.vignetting)&&r&&((n=new i.eAb).type=t,e.vignetting=n);break;case i.cVg.MetaTypeParticle:!(n=e.particle)&&r&&((n=new i.eAb).type=t,e.particle=n);break;case i.cVg.MetaTypeLUT:!(n=e.lut)&&r&&((n=new i.eAb).type=t,e.lut=n);break;case i.cVg.MetaTypeSmartColorAdjust:!(n=e.smartAdjustColor)&&r&&((n=new i.eAb).type=t,e.smartAdjustColor=n);break;default:n=new i.eAb,u.B.log("Picture adjust type can only be one in 12 adjust types.")}return n}setPictureAdjust(e,t){var r,n,a,s,o,l,u,c,d;e.categoryId=null!==(r=t.categoryId)&&void 0!==r?r:"",e.categoryName=null!==(n=t.categoryName)&&void 0!==n?n:"",e.name=null!==(a=t.name)&&void 0!==a?a:"",e.type=t.type,e.platform=null!==(s=t.platform)&&void 0!==s?s:"all",e.value=null!==(o=t.value)&&void 0!==o?o:0,e.path=t.path,e.version=null!==(l=t.version)&&void 0!==l?l:"",e.sourcePlatform=null!==(u=t.sourcePlatform)&&void 0!==u?u:i.nj7.EffectPlatformLoki,e.formulaId=null!==(c=t.formulaId)&&void 0!==c?c:"",e.enableSkinToneCorrection=null!==(d=t.enableSkinToneCorrection)&&void 0!==d&&d}isHslAdjust(e){return e===i.cVg.MetaTypeHsl}updateHslParam(e,t){var r,n,a,s,o;let u=new i.sq5;(0,l.he)(e)&&e.adjust&&(u=e.adjust.clone()),(0,l.E6)(e)&&e.material&&(u=e.material.clone());let h="",m=!0;!u.hsl&&(u.hsl=[]);for(let e=0;e<u.hsl.length;e++){let i=u.hsl[e];if(h=null!==(n=i.version)&&void 0!==n?n:"",i.hslColorType!==(null===(r=t.hslParams)||void 0===r?void 0:r.hslColorType)){i.interacting=!1;continue}i.hue=t.hslParams.hue,i.saturation=t.hslParams.saturation,i.lightness=t.hslParams.lightness,i.path=t.hslParams.path,i.visible=t.hslParams.visible,m=!1,i.interacting=!0}let p=d.k8.create().getVersion();if(p!==h)for(let e=0;e<u.hsl.length;e++){let r=u.hsl[e];r.version=p,r.path=null!==(s=null===(a=t.hslParams)||void 0===a?void 0:a.path)&&void 0!==s?s:""}let g=new i.cNp;if(m){let e=(0,c.q)(t);e.version=(null==u?void 0:u.hsl)&&u.hsl.length>0?h:p,null==u||null===(o=u.hsl)||void 0===o||o.push(e)}return g.hsl=(null==u?void 0:u.hsl)?null==u?void 0:u.hsl:[],g}updateColorCurvesParam(e,t){if(!e)return;let r=new i.cNp;return r.colorCurves=(0,h.E)(t),r}updateColorWheelsParam(e,t){if(!e)return}getKeyframeValues(e,t){var r,i;return s.Mz.includes(t)?(null===(r=this.params.material.colorWheelsParam)||void 0===r?void 0:r.intensity)?[this.params.material.colorWheelsParam.intensity]:[]:[null!==(i=this.params.material.value)&&void 0!==i?i:0]}}},962679:function(e,t,r){r.d(t,{E:function(){return n}});var i=r(342040);let n=e=>({segmentId:e.id,resourceId:e.material.id,path:i.k.getInstance().pathRecords.get(e.material.path),dependResources:e.material.resources.map(e=>({path:i.k.getInstance().pathRecords.get(e.path),resourceId:e.resourceId,type:e.panel}))})},211890:function(e,t,r){r.d(t,{Sh:function(){return n},lT:function(){return s},n9:function(){return i},rf:function(){return a}});let i=1e-6;class n{static clamp(e,t,r){let i=new n;return i.x=e.x,i.x<t.x&&(i.x=t.x),i.x>r.x&&(i.x=r.x),i.y=e.y,i.y<t.y&&(i.y=t.y),i.y>r.y&&(i.y=r.y),i}set(e,t){this.x=e,this.y=t}equals(e){return Math.abs(e.x-this.x)<i&&Math.abs(e.y-this.y)<i}notEquals(e){return!this.equals(e)}plus(e){return new n(this.x+e.x,this.y+e.y)}minus(e){return new n(this.x-e.x,this.y-e.y)}times(e){return new n(this.x*e,this.y*e)}constructor(e=0,t=0){this.x=e,this.y=t}}class a{static clamp(e,t,r){let i=new a;return i.x=e.x,i.x<t.x&&(i.x=t.x),i.x>r.x&&(i.x=r.x),i.y=e.y,i.y<t.y&&(i.y=t.y),i.y>r.y&&(i.y=r.y),i.z=e.z,i.z<t.z&&(i.z=t.z),i.z>r.z&&(i.z=r.z),i}set(e,t,r){this.x=e,this.y=t,this.z=r}equals(e){return Math.abs(e.x-this.x)<i&&Math.abs(e.y-this.y)<i&&Math.abs(e.z-this.y)<i}constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}}class s{static clamp(e,t,r){let i=new s;return i.x=e.x,i.x<t.x&&(i.x=t.x),i.x>r.x&&(i.x=r.x),i.y=e.y,i.y<t.y&&(i.y=t.y),i.y>r.y&&(i.y=r.y),i.z=e.z,i.z<t.z&&(i.z=t.z),i.z>r.z&&(i.z=r.z),i.w=e.w,i.w<t.w&&(i.w=t.w),i.w>r.w&&(i.w=r.w),i}Set(e,t,r,i){this.x=e,this.y=t,this.z=r,this.w=i}equals(e){return Math.abs(e.x-this.x)<i&&Math.abs(e.y-this.y)<i&&Math.abs(e.z-this.z)<i&&Math.abs(e.w-this.w)<i}notEquals(e){return!this.equals(e)}multiply(e){return new s(this.x*e.x,this.y*e.y,this.z*e.z,this.w*e.w)}constructor(e=0,t=0,r=0,i=0){this.x=e,this.y=t,this.z=r,this.w=i}}},734668:function(e,t,r){r.d(t,{J:function(){return n}});var i=r(642213);class n{getUTF8(){return this._mUtf8code}setUTF8(e){this._mUtf8code=e;let t=new TextDecoder("utf-16"),r=new TextEncoder().encode(e);this._mUtf16code=t.decode(r)}getSharedLetterStyle(){return this._mLetterStyle}setSharedLetterStyle(e){this._mLetterStyle=e}getOrCreateSharedLetterStyle(){return!this._mLetterStyle&&(this._mLetterStyle=new i._Z),this._mLetterStyle}getUTF16Len(){return this._mUtf16code.length}constructor(){this._mUtf8code="",this._mUtf16code="",this._mLetterStyle=null}}},256077:function(e,t,r){r.d(t,{J:function(){return n},k:function(){return a}});var i,n=((i={})[i.Font=0]="Font",i[i.Size=1]="Size",i[i.Italic=2]="Italic",i[i.Underline=3]="Underline",i[i.Bold=4]="Bold",i[i.FillColor=5]="FillColor",i[i.FillAlpha=6]="FillAlpha",i[i.Outline=7]="Outline",i[i.Shadow=8]="Shadow",i[i.EffectStyle=9]="EffectStyle",i[i.UseLetterColor=10]="UseLetterColor",i);let a=new Map([[0,"font"],[1,"size"],[4,"bold"],[2,"italic"],[3,"underline"],[9,"effectStyle"],[10,"useLetterColor"]])},628390:function(e,t,r){r.d(t,{q:function(){return n}});var i=r(211561);function n(e,t){return e?new i.ZPj({type:e.type,animations:e.animations.map(e=>new i.FJA({...e,id:void 0,duration:!e.duration||e.duration>t?t:e.duration}))}):e}},432641:function(e,t,r){r.d(t,{L:function(){return u}});var i=r(211561),n=r(90844),a=r(581592),s=r(312473),o=r(573461);class l{constructor(){this.iOpCode=-1,this.iParam1=0,this.iParam2=0,this.iParam3=0,this.iParam4=0,this.pParam5=""}}class u{static setEnable(e){this._globalEnable=e}static getEnable(){return this._globalEnable}static getRichTextContent(e,t,r){return this.getTextContent(e,t,r,null)}static getTextContent(e,t,r,i){return!!e&&(!!r||!!i)&&(this.initTextCommand(e,!0),this.setTextCommand(e.id,t),r&&(n.wI.CT_GET_RICH_STR,r=new l().pParam5),i&&(n.wI.CT_GET_PLAIN_STR,i=new l().pParam5),!0)}static getUtils(){return s.p.CreateVEUtils()}static initTextCommand(e,t){if(!e||a.f.Instance().getLastEditId()===e.id)return!1;a.f.Instance().setLastEditId(""),this.getUtils();let r=new l;return r.iOpCode=n.wI.CT_EDIT_TEXT_PARAM,t&&(r.iParam1=1),!0}static containChineseStr(e){return/^[\u4e00-\u9fa5]+$/.test(e)}static setTextCommand(e,t){if(!t)return!1;let r=new l;return r.iOpCode=t.iOpCode,r.iParam1=t.iParam1,r.iParam2=t.iParam2,r.iParam3=t.iParam3,r.iParam4=t.iParam4,r.pParam5=t.iParam5,!0}static generateTextMaterialWordsText(e){if(0===e.length)return[];let t=e.match(RegExp("((St\\.|Dr\\.|Co\\.|Rd\\.)[\\p{Script=Latin}\\w]+)|([\\p{Script=Latin}\\w]+(['-][\\p{Script=Latin}\\w]+)?)|([\\p{Script=Han}\\p{Script=Hiragana}\\p{Script=Katakana}\\p{Script=Hangul}])|(\\p{P}+)|(\\s+)","gu")),r=[],i="";if(t){for(let e of t)RegExp("^\\p{P}+$","u").test(e)?i+=e:(""!==i&&(r.push(i),i=""),i=e);""!==i&&r.push(i)}return r}static generateTextMaterialWordsTimeRange(e,t){if(0===e||0n===t)return{startTime:[],endTime:[]};let r=[],i=[],n=(0,o.NN)(t,e,"bigint");for(let t=0n;t<e;t++)r.push((0,o.NN)(t*n,1000n,"bigint")),i.push((0,o.NN)(n+t*n,1000n,"bigint"));return{startTime:r,endTime:i}}static generateTextMaterialWords(e,t){let r=u.generateTextMaterialWordsText(e),n=u.generateTextMaterialWordsTimeRange(r.length,t);return new i.H1R({text:r,...n})}static generateTextMaterialWordsParams(e,t){if(0===e.length||0n===t)return[];let r=u.generateTextMaterialWordsText(e),i=[];if(0===r.length)return i;let n=(0,o.NN)(t,r.length,"bigint");for(let e=0;e<r.length;e++)i.push({text:r[e],startTime:(0,o.k3)(e,n,"bigint"),endTime:n+(0,o.k3)(e,n,"bigint")});return i}}u._globalEnable=!1},287165:function(e,t,r){r.d(t,{p:function(){return i}});let i=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16).toUpperCase()})},20315:function(e,t,r){r.d(t,{Ry:function(){return u}});var i=r(211561),n=r(287165),a=r(481631),s=r(448218),o=r(843363);let l=BigInt(1e7),u={createMaterialAudio(e){var t,r,a,s,o,l,u,c,d,h,m,p,g,f,y,_,v,T;let I=new i.ZDr;return I.id=(0,n.p)(),I.path=e.audioPath,e.type===i.cVg.MetaTypeMusic||e.type===i.cVg.MetaTypeExtractMusic?I.musicId=e.audioId:e.type===i.cVg.MetaTypeSound&&(I.effectId=e.audioId),I.name=e.audioTitle,I.duration=e.duration,I.categoryName=e.audioCategoryTitle,I.categoryId=e.audioCategoryId,I.type=e.type,I.wavePoints=e.wavePoints,I.appId=e.appId,I.sourcePlatform=e.sourcePlatformType,I.formulaId=e.formulaId,I.appId=e.appId,I.teamId=e.teamId,I.localMaterialId=e.localMaterialId,I.resourceId=null!==(h=null===(t=e.text)||void 0===t?void 0:t.resourceId)&&void 0!==h?h:"",I.toneSpeaker=null!==(m=null===(r=e.text)||void 0===r?void 0:r.toneSpeaker)&&void 0!==m?m:"",I.toneType=null!==(p=null===(a=e.text)||void 0===a?void 0:a.toneType)&&void 0!==p?p:"",I.toneEffectId=null!==(g=null===(s=e.text)||void 0===s?void 0:s.toneEffectId)&&void 0!==g?g:"",I.toneEffectName=null!==(f=null===(o=e.text)||void 0===o?void 0:o.toneEffectName)&&void 0!==f?f:"",I.toneCategoryId=null!==(y=null===(l=e.text)||void 0===l?void 0:l.toneCategoryId)&&void 0!==y?y:"",I.toneCategoryName=null!==(_=null===(u=e.text)||void 0===u?void 0:u.toneCategoryName)&&void 0!==_?_:"",I.isAiCloneTone=null!==(v=null===(c=e.text)||void 0===c?void 0:c.isAiCloneTone)&&void 0!==v&&v,I.tonePlatform=null!==(T=null===(d=e.text)||void 0===d?void 0:d.tonePlatform)&&void 0!==T?T:"",I.textId=e.textId,I},createSegmentAudio(e){var t;let r=this.createMaterialAudio(e),n=new i.VQX;e.melodyUrl&&(n.melodyUrl=e.melodyUrl),e.melodyPath&&(n.melodyPath=e.melodyPath),e.beatUrl&&(n.beatsUrl=e.beatUrl),e.beatPath&&(n.beatsPath=e.beatPath),n.melodyPercents.push(e.musicBeatPercent);let a=new i.hWf;a.aiBeats=n,404!==e.gear&&(a.gear=e.gear),404!==e.mode&&(a.mode=e.mode);let{sourceDuration:s}=e;s<=0&&(s=e.duration);let l=(0,o.i)(e.sourceStartTime,s),u=(0,o.i)(e.startTime,s);return new i.M_W({sourceTimerange:l,targetTimerange:u,beat:a,material:r,reverse:null!==(t=e.reverse)&&void 0!==t&&t})},doVideoAudioFadeInOutActionOne(e,t,r,n,o,l){if(!(0,a.he)(t))return;let u=t.material;if(!u)return;let{audioFade:c}=u,d=t.targetTimerange.duration;!c&&(c=new i.KTm);let h=c.clone();r>=0&&(o.push(c.fadeInDuration),h.fadeInDuration=r>d?d:BigInt(r)),n>=0&&(l.push(c.fadeOutDuration),h.fadeOutDuration=n>d?d:BigInt(n));let m=new i.NOn;return m.material=new i.K2q,m.material.audioFade=new i.lMN(h),(0,s.l)(e,t.id,m)},doVideoAudioFadeInOutAction(e,t,r,i){let n=t[0],s=e.getSegmentById(n);if(!s||!(0,a.he)(s))return[];let o=s.targetTimerange.duration,u=[],c=[],d=[],h=this.doVideoAudioFadeInOutActionOne(e,s,r,i,u,c);for(let s of(h&&d.push(h),t)){if(s===n)continue;let t=e.getSegmentById(s);if(!t||!(0,a.he)(t))return[];let h=t.targetTimerange.duration,m=r>=0?r*h/o:-1n,p=m<l?m:l,g=i>=0?i*h/o:-1n,f=g<l?g:l,y=this.doVideoAudioFadeInOutActionOne(e,t,p,f,u,c);y&&d.push(y)}return d}}},270519:function(e,t,r){function i(e){let t;let{videoAlgorithm:r}=e;if(!Array.isArray(null==r?void 0:r.gameplayConfigs)||!((null==r?void 0:r.gameplayConfigs.length)>1)){if(Array.isArray(null==r?void 0:r.gameplayConfigs)){let e=null==r?void 0:r.gameplayConfigs;e.length&&(t=e[e.length-1])}return t}}function n(e,t){if(i(e)){let{videoAlgorithm:r}=e;r.gameplayConfigs=[t]}}r.d(t,{Jq:function(){return n},Mn:function(){return i}})},247306:function(e,t,r){r.d(t,{d:function(){return c}});var i=r(805794),n=r(211561),a=r(283751),s=r(481631),o=r(129862),l=r(13242);let u=(e,t,r,l)=>{let u=new n.sq5,c=r.getSegmentNodeById(e,[n.pNd.TrackTypeVideo]),d=null==c?void 0:c.segment,h=(null==c?void 0:c.trackNode.track.id)||"";if(!d){i.B.warn("adjust_segment is null");return}if(t===n.cVg.MetaTypeNone&&(0,s.he)(d)?u=d.adjust?d.adjust.clone():new n.sq5:t===n.cVg.MetaTypeAdjust&&(0,s.E6)(d)?u=d.material.clone():i.B.warn("check type or dynamic_pointer_cast need to implement"),!u)return;let m=new n.cNp(u);m.brightness&&(m.brightness=null),m.contrast&&(m.contrast=null),m.saturation&&(m.saturation=null),m.sharpening&&(m.sharpening=null),m.highlight&&(m.highlight=null),m.shadow&&(m.shadow=null),m.colorTemperature&&(m.colorTemperature=null),m.hue&&(m.hue=null),m.fade&&(m.fade=null),m.vignetting&&(m.vignetting=null),m.particle&&(m.particle=null),m.lut&&(m.lut=null),m.lightSensation&&(m.lightSensation=null),m.hsl&&m.hsl.length>0&&(m.hsl=[]),m.colorCurves&&(m.colorCurves=null),m.primaryColorWheels&&(m.primaryColorWheels=null),m.logColorWheels&&(m.logColorWheels=null),m.smartAdjustColor&&(m.smartAdjustColor=null),m.enableAdjust=!0,m.enableLut=!0,m.enableColorCurves=!0,m.enableColorWheels=!0,m.enableSmartColorAdjust=!1;let p=new n.NOn;p.adjust=new n.cNp(m);let g=(0,s.xX)({__segment_struct_type:d.__segment_struct_type});a.T.pick(d,p,g),l(new o.F({trackId:h,trackIndex:r.getTrackIndexBySegmentId(e),segmentId:e,segmentDelta:p,sourceSegmentDelta:g}))},c=(e,t,r)=>{let i=e.getSegmentNodeById(t,[n.pNd.TrackTypeVideo]),c=e.getSegmentsByTrackType(n.pNd.TrackTypeVideo),d=null==i?void 0:i.segment;if(0!==c.length)for(let i of c){if(i.id===t||!i||!(0,s.he)(i))continue;if(!!d.adjust||!!i.adjust)if(d.adjust){let t=i.adjust?i.adjust.clone(!0):new n.sq5,u=(r,i)=>{let n=d.adjust[r];if(n){let a=n.clone(!0),s=l.U.getPropertyValues(e,d,i,0n);s.length>0&&(a.value=s[0]),t[r]=a}};u("brightness",n.Eu.KFTypeBrightness),u("contrast",n.Eu.KFTypeContrast),u("saturation",n.Eu.KFTypeSaturation),u("sharpening",n.Eu.KFTypeSharpen),u("highlight",n.Eu.KFTypeHightLight),u("shadow",n.Eu.KFTypeShadow),u("colorTemperature",n.Eu.KFTypeTemperature),u("hue",n.Eu.KFTypeHue),u("fade",n.Eu.KFTypeFade),u("lightSensation",n.Eu.KFTypeLightSensatione),u("vignetting",n.Eu.KFTypeVignetting),u("particle",n.Eu.KFTypeParticle),u("lut",n.Eu.KFTypeLUT),t.enableLut=d.adjust.enableLut,t.enableAdjust=d.adjust.enableAdjust,t.enableSmartColorAdjust=d.adjust.enableSmartColorAdjust,d.adjust.hsl&&d.adjust.hsl.length>0&&(t.hsl=d.adjust.hsl.map(e=>e.clone(!0))),d.adjust.colorCurves&&(t.colorCurves=d.adjust.colorCurves.clone(!0)),d.adjust.primaryColorWheels&&(t.primaryColorWheels=d.adjust.primaryColorWheels.clone(!0)),d.adjust.logColorWheels&&(t.logColorWheels=d.adjust.logColorWheels.clone(!0)),t.enableColorWheels=d.adjust.enableColorWheels,d.adjust.adjustPresetResourceId&&(t.adjustPresetResourceId=d.adjust.adjustPresetResourceId);let c=new n.NOn;c.adjust=new n.cNp(t);let h=(0,s.xX)({__segment_struct_type:i.__segment_struct_type});a.T.pick(i,c,h),r(new o.F({trackId:e.getTrackBySegmentId(i.id).id,trackIndex:e.getTrackIndexBySegmentId(i.id),segmentId:i.id,segmentDelta:c,sourceSegmentDelta:h}))}else u(i.id,i.material.type,e,r)}}},81289:function(e,t,r){r.d(t,{m:function(){return m}});var i=r(211561),n=r(481631),a=r(392742),s=r(448218),o=r(239648),l=r(217201),u=r(912224),c=r(283751);let d=(e,t)=>{let r=null;for(let i of e){if(!i)continue;let{segments:e}=i;for(let i of e)if((0,n.he)(i)&&!r&&i.id===t){r=i;break}}return r},h=(e,t,r,i,n)=>{if(!t&&r&&i.renderIndex!==r.renderIndex){let t=u.eK.prototype.ensureInSameRenderLayer(e,i,r);(0,s.W)(t,n)}},m=(e,t,r)=>{let u=e.getTracksByType(i.pNd.TrackTypeVideo);if(0===u.length)return;let m=d(u,t);if(!m)throw Error("videoApplyTransitionToAll action Can't find the source video segment");for(let d of u){if(!d)continue;let u=e.isMainTrack(d),{maintrackAdsorb:p}=e.getDraftProperty(),{segments:g}=d,f=[],y=null;for(let e of g)if((0,n.he)(e)){if(e.id===t&&u&&p)continue;f.push(e)}else(0,n.MR)(e)&&(y=e);if(0===f.length)continue;let _=(0,n.he)(m)&&m.transition,v=f.length;for(let t=0;t<v;t++){let n=f[t];if(n.id===m.id)continue;let l={type:a.x.UpdateSegment,params:{segmentId:n.id,segmentDelta:new i.NOn,trackId:d.id,sourceSegmentDelta:new i.NOn,trackIndex:e.getTrackIndexById(d.id)}},g=l.params.segmentDelta;g.transition=null;let T=0n,I=n.targetTimerange.duration;if(t<v-1){let a=f[t+1];if(u&&!p||!u){let e=n.targetTimerange.start+n.targetTimerange.duration;if((a?a.targetTimerange.start:0x7fffffffffffffffn)-e>1)continue}let{renderIndexTrackModeOn:o}=e.getDraftProperty();_&&(h(e,o,a,n,r),g.transition=new i.TBZ(_.clone()),g.transition.id=`${n.id}_transition`),l.params.sourceSegmentDelta=c.T.pick(n,g,l.params.sourceSegmentDelta),(0,s.W)(l,r),a&&t!==v-1?T=a.targetTimerange.duration:t===v-1&&y&&(_?(h(e,o,a,n,r),g.transition=new i.TBZ(_.clone()),g.transition.id=`${n.id}_transition`):g.transition=null,l.params.sourceSegmentDelta=c.T.pick(n,g,l.params.sourceSegmentDelta),(0,s.W)(l,r),T=y.targetTimerange.duration)}if(T>0){let t=I<T?I:T,[,i]=new o.Uo().adjustVideoTransitionByDuration(e,n,t);i&&(0,s.W)(i,r)}}let T=l.c8.adjustTrackTargetStartTime(e,d);(0,s.W)(T,r);let I=l.c8.updateDraftDurationIfNeeded(e);(0,s.W)(I,r)}}},387232:function(e,t,r){r.d(t,{xM:function(){return u}});var i=r(211561),n=r(20315),a=r(49667),s=r(481631),o=r(127926),l=r(185400);let u=(e,t)=>{var r,u;let c;let d=!1;if(!(0,s.he)(e))return;let h=e.material;if(!h)return;e.reverse&&h.reversePath.length>0?(c=h.reversePath,d=!0):c=h.path;let m=h.materialName,p={audioPath:c,audioTitle:m.substring(0,m.lastIndexOf(".")),startTime:null!==(u=null===(r=e.sourceTimerange)||void 0===r?void 0:r.start)&&void 0!==u?u:0n,duration:h.duration,type:i.cVg.MetaTypeMusic,reverse:d},g=n.Ry.createSegmentAudio(p);if(t&&(g.id=t),!(null==g?void 0:g.material)||!(0,s.Y9)(g))return;g.material.localMaterialId=e.material.localMaterialId,a.vc.FEATURE_SEPARATE_TRACE_MUTED_AND_SEGMENT_VOLUME?g.volume=e.lastNonzeroVolume:g.volume=e.volume;let{voiceChange:f}=e;f&&(g.voiceChange=f.map(e=>e.clone(!0))),e.isToneModify&&(g.isToneModify=!0),(null==e?void 0:e.speed)&&(g.speed=e.speed.clone(!0));let{audioFade:y}=h;if(y){let{fadeInDuration:e}=y,{fadeOutDuration:t}=y;if(e>0n||t>0n){let r=new i.KTm;e>0n&&(r.fadeInDuration=e),t>0n&&(r.fadeOutDuration=t),g.fade=r}}g.sourceTimerange.start=e.sourceTimerange.start,g.sourceTimerange.duration=e.sourceTimerange.duration,g.targetTimerange.start=e.targetTimerange.start,g.targetTimerange.duration=e.targetTimerange.duration;let _=[];for(let t of(_.push(i.Eu.KFTypeVolume),_.push(i.Eu.KFTypeLastVolume),_.push(...l.gb),_)){let r=o.OL.findKeyframes(e,t);if(r){let e=r.clone(!0);o.OL.takeKeyframes(g,t),g.commonKeyframes.push(e)}}let{realtimeDenoise:v}=e;if(v&&(g.realtimeDenoise=v.clone(!0)),!(h.checkFlag&Number(i.FC7.AudioBasic))){let e=g.material.checkFlag&~Number(i.sQs.BasicFlag);g.material.checkFlag=e}if(h.checkFlag&Number(i.FC7.AudioVoiceChangeFlag)){let e=g.material.checkFlag|Number(i.sQs.VoiceChangeFlag);g.material.checkFlag=e}g.material.type=i.cVg.MetaTypeVideoOriginalSound,g.material.musicId=h.materialId;let T=e.soundChannelMapping;return g.soundChannelMapping=T?T.clone(!0):new i.tUl,g.vocalSeparation=e.vocalSeparation.clone(!0),e.vocalBeautify&&(g.vocalBeautify=e.vocalBeautify.clone(!0)),g}},862024:function(e){e.exports={VE:"18.1.0"}}}]);