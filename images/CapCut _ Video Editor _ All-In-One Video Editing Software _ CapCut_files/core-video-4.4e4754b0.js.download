(globalThis.__LOADABLE_LOADED_CHUNKS__=globalThis.__LOADABLE_LOADED_CHUNKS__||[]).push([["8100"],{155508:function(e,t,i){let n=null,r=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,o=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;e.exports=function(e){"use strict";let t={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(null!=e){if(!0===e.strict&&(t.strict=!0),!0===e.storeAsString&&(t.storeAsString=!0),t.alwaysParseAsBig=!0===e.alwaysParseAsBig&&e.alwaysParseAsBig,t.useNativeBigInt=!0===e.useNativeBigInt&&e.useNativeBigInt,void 0!==e.constructorAction){if("error"===e.constructorAction||"ignore"===e.constructorAction||"preserve"===e.constructorAction)t.constructorAction=e.constructorAction;else throw Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${e.constructorAction}`)}if(void 0!==e.protoAction){if("error"===e.protoAction||"ignore"===e.protoAction||"preserve"===e.protoAction)t.protoAction=e.protoAction;else throw Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${e.protoAction}`)}}let a,s,l={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},d,u=function(e){throw{name:"SyntaxError",message:e,at:a,text:d}},c=function(e){return e&&e!==s&&u(`Expected '${e}' instead of '${s}'`),s=d.charAt(a),a+=1,s},p=function(){let e,r="",o=!1;for("-"===s&&(r="-",c("-"));s>="0"&&s<="9";)r+=s,c();if("."===s)for(r+=".";c()&&s>="0"&&s<="9";)r+=s,o=!0;if("e"===s||"E"===s)for(r+=s,c(),("-"===s||"+"===s)&&(r+=s,c());s>="0"&&s<="9";)r+=s,c();if(isFinite(e=Number(r)))return(null==n&&(n=i(218907)),o)?e:r.length>15?t.storeAsString?r:t.useNativeBigInt?BigInt(r):new n(r):t.alwaysParseAsBig?t.useNativeBigInt?BigInt(e):new n(e):e;u("Bad number")},m=function(){let e,t,i="",n;if('"'===s){let r=a;for(;c();){if('"'===s)return a-1>r&&(i+=d.substring(r,a-1)),c(),i;if("\\"===s){if(a-1>r&&(i+=d.substring(r,a-1)),c(),"u"===s){for(t=0,n=0;t<4&&isFinite(e=parseInt(c(),16));t+=1){;n=16*n+e}i+=String.fromCharCode(n)}else if("string"==typeof l[s])i+=l[s];else break;r=a}}}u("Bad string")},f=function(){for(;s&&s<=" ";)c()},h=function(){switch(s){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null}u(`Unexpected '${s}'`)},g,y=function(){let e=[];if("["===s){if(c("["),f(),"]"===s)return c("]"),e;for(;s;){if(e.push(g()),f(),"]"===s)return c("]"),e;c(","),f()}}u("Bad array")},T=function(){let e,i=Object.create(null);if("{"===s){if(c("{"),f(),"}"===s)return c("}"),i;for(;s;){if(e=m(),f(),c(":"),t.strict&&Object.hasOwnProperty.call(i,e)&&u(`Duplicate key "${e}"`),r.test(e)?"error"===t.protoAction?u("Object contains forbidden prototype property"):"ignore"===t.protoAction?g():i[e]=g():o.test(e)?"error"===t.constructorAction?u("Object contains forbidden constructor property"):"ignore"===t.constructorAction?g():i[e]=g():i[e]=g(),f(),"}"===s)return c("}"),i;c(","),f()}}u("Bad object")};return g=function(){switch(f(),s){case"{":return T();case"[":return y();case'"':return m();case"-":return p();default:return s>="0"&&s<="9"?p():h()}},function(e){let t,i;return d=`${e}`,a=0,s=" ",t=g(),f(),s&&u("Syntax error"),"function"==typeof i?function e(t,n){let r,o=t[n];return o&&"object"==typeof o&&Object.keys(o).forEach(function(t){void 0!==(r=e(o,t))?o[t]=r:delete o[t]}),i.call(t,n,o)}({"":t},""):t}}},198326:function(e,t,i){"use strict";e.exports=i.p+"static/wasm/7f20e977e430ea17.module.wasm"},653322:function(e,t,i){"use strict";i.d(t,{H:function(){return r}});var n,r=((n={})[n.KeyframeSegmentNotExist=1001]="KeyframeSegmentNotExist",n[n.KeyframeSegmentParamsError=1002]="KeyframeSegmentParamsError",n[n.KeyframeDraftNotExist=1003]="KeyframeDraftNotExist",n[n.AddEffectTrackNotExist=1004]="AddEffectTrackNotExist",n[n.AddEffectTrackTypeNotValid=1005]="AddEffectTrackTypeNotValid",n[n.AddEffectTargetTimeRangeNotValid=1006]="AddEffectTargetTimeRangeNotValid",n[n.AddEffectMaterialPathEmpty=1007]="AddEffectMaterialPathEmpty",n[n.AddTargetIndexNotValid=1008]="AddTargetIndexNotValid",n[n.NotAudioTrackInsertAfterAudioTrack=1009]="NotAudioTrackInsertAfterAudioTrack",n[n.AudioTrackInsertBeforeNotAudioTrack=1010]="AudioTrackInsertBeforeNotAudioTrack",n[n.AddFilterOptionsNotValid=1011]="AddFilterOptionsNotValid",n[n.AddAdjustmentOptionsNotValid=1012]="AddAdjustmentOptionsNotValid",n[n.UpdateEffectAdjustParamsSegmentNotExist=1013]="UpdateEffectAdjustParamsSegmentNotExist",n[n.UpdateEffectAdjustParamsSegmentTypeNotValid=1014]="UpdateEffectAdjustParamsSegmentTypeNotValid",n[n.ResetEffectAdjustParamsSegmentNotExist=1015]="ResetEffectAdjustParamsSegmentNotExist",n[n.ResetEffectAdjustParamsSegmentTypeNotValid=1016]="ResetEffectAdjustParamsSegmentTypeNotValid",n[n.MultiSegmentTrackModePasteTargetTrackIndexNotValid=1017]="MultiSegmentTrackModePasteTargetTrackIndexNotValid",n[n.AddAnimationSegmentNotExist=1018]="AddAnimationSegmentNotExist",n[n.VideoAddMaskSegmentNotExist=1019]="VideoAddMaskSegmentNotExist",n[n.CanvasSizeContainerParamsNotValid=1020]="CanvasSizeContainerParamsNotValid",n[n.SetAudioFadeSegmentNotExist=1021]="SetAudioFadeSegmentNotExist",n[n.SetAudioFadeSegmentTypeNotValid=1022]="SetAudioFadeSegmentTypeNotValid",n[n.SetAudioFadeDurationNotValid=1023]="SetAudioFadeDurationNotValid",n[n.SetAudioDenoiseSegmentNotExist=1024]="SetAudioDenoiseSegmentNotExist",n[n.SetAudioDenoiseSegmentTypeNotValid=1025]="SetAudioDenoiseSegmentTypeNotValid",n[n.SetAudioDenoisePathEmpty=1026]="SetAudioDenoisePathEmpty",n[n.SetAudioVoiceEffectSegmentNotExist=1027]="SetAudioVoiceEffectSegmentNotExist",n[n.SetAudioVoiceEffectSegmentTypeNotValid=1028]="SetAudioVoiceEffectSegmentTypeNotValid",n[n.SetAudioVoiceEffectParamsSegmentNotExist=1029]="SetAudioVoiceEffectParamsSegmentNotExist",n[n.SetAudioVoiceEffectParamsSegmentTypeNotValid=1030]="SetAudioVoiceEffectParamsSegmentTypeNotValid",n[n.SetAudioVoiceEffectParamsVoiceChangeNotExist=1031]="SetAudioVoiceEffectParamsVoiceChangeNotExist",n[n.ClearAudioVoiceEffectSegmentNotExist=1032]="ClearAudioVoiceEffectSegmentNotExist",n[n.ClearAudioVoiceEffectSegmentTypeNotValid=1033]="ClearAudioVoiceEffectSegmentTypeNotValid",n[n.SetAudioVoiceEffectToAllSegmentNotExist=1034]="SetAudioVoiceEffectToAllSegmentNotExist",n[n.SetAudioVoiceEffectToAllSegmentTypeNotValid=1035]="SetAudioVoiceEffectToAllSegmentTypeNotValid",n[n.SetAudioSpeedSegmentNotExist=1036]="SetAudioSpeedSegmentNotExist",n[n.SetAudioSpeedSegmentTypeNotValid=1037]="SetAudioSpeedSegmentTypeNotValid",n[n.SetAudioSpeedSpeedNotValid=1038]="SetAudioSpeedSpeedNotValid",n[n.SetAudioModifiedToneSegmentNotExist=1039]="SetAudioModifiedToneSegmentNotExist",n[n.SetAudioModifiedToneSegmentTypeNotValid=1040]="SetAudioModifiedToneSegmentTypeNotValid",n[n.SetAudioMaterialSegmentNotExist=1041]="SetAudioMaterialSegmentNotExist",n[n.SetAudioMaterialSegmentTypeNotValid=1042]="SetAudioMaterialSegmentTypeNotValid",n[n.AddAudioTrackNotExist=1043]="AddAudioTrackNotExist",n[n.AddAudioTrackTypeNotValid=1044]="AddAudioTrackTypeNotValid",n[n.AddAudioTargetTimeRangeNotValid=1045]="AddAudioTargetTimeRangeNotValid",n[n.AddAudioPreviewPlaceholderPhotoPathEmpty=1046]="AddAudioPreviewPlaceholderPhotoPathEmpty",n[n.SetAudioVocalSeparationSegmentNotExist=1047]="SetAudioVocalSeparationSegmentNotExist",n[n.SetAudioVocalSeparationSegmentTypeNotValid=1048]="SetAudioVocalSeparationSegmentTypeNotValid",n[n.UpdateAudioVocalSeparationSegmentNotExist=1049]="UpdateAudioVocalSeparationSegmentNotExist",n[n.UpdateAudioVocalSeparationSegmentTypeNotValid=1050]="UpdateAudioVocalSeparationSegmentTypeNotValid",n[n.RemoveAudioVocalSeparationSegmentNotExist=1051]="RemoveAudioVocalSeparationSegmentNotExist",n[n.RemoveAudioVocalSeparationSegmentTypeNotValid=1052]="RemoveAudioVocalSeparationSegmentTypeNotValid",n[n.SetAudioVocalBeautifySegmentNotExist=1053]="SetAudioVocalBeautifySegmentNotExist",n[n.SetAudioVocalBeautifySegmentTypeNotValid=1054]="SetAudioVocalBeautifySegmentTypeNotValid",n[n.UpdateAudioVocalBeautifySegmentNotExist=1055]="UpdateAudioVocalBeautifySegmentNotExist",n[n.UpdateAudioVocalBeautifySegmentTypeNotValid=1056]="UpdateAudioVocalBeautifySegmentTypeNotValid",n[n.UpdateAudioVocalBeautifySegmentHasNotVocalBeautify=1057]="UpdateAudioVocalBeautifySegmentHasNotVocalBeautify",n[n.ResetAudioVocalBeautifySegmentNotExist=1058]="ResetAudioVocalBeautifySegmentNotExist",n[n.ResetAudioVocalBeautifySegmentTypeNotValid=1059]="ResetAudioVocalBeautifySegmentTypeNotValid",n[n.ResetAudioVocalBeautifySegmentHasNotVocalBeautify=1060]="ResetAudioVocalBeautifySegmentHasNotVocalBeautify",n[n.RemoveAudioVocalBeautifySegmentNotExist=1061]="RemoveAudioVocalBeautifySegmentNotExist",n[n.RemoveAudioVocalBeautifySegmentTypeNotValid=1062]="RemoveAudioVocalBeautifySegmentTypeNotValid",n[n.SplitSegmentParamsNotValid=1063]="SplitSegmentParamsNotValid",n[n.SplitSegmentNotExist=1064]="SplitSegmentNotExist",n[n.SplitSegmentTimeRangeError=1065]="SplitSegmentTimeRangeError",n[n.InsertSegmentTrackNotExist=1066]="InsertSegmentTrackNotExist",n[n.InsertSegmentTrackTypeError=1067]="InsertSegmentTrackTypeError",n[n.InsertSegemntSegmentTypeError=1068]="InsertSegemntSegmentTypeError",n[n.DeleteSegmentNotExist=1069]="DeleteSegmentNotExist",n[n.MoveSegmentNotExist=1070]="MoveSegmentNotExist",n[n.MoveSegmentTrackNotExist=1071]="MoveSegmentTrackNotExist",n[n.RotateSegmentNotExist=1072]="RotateSegmentNotExist",n[n.RotateSegmentTypeNotValid=1073]="RotateSegmentTypeNotValid",n[n.RotateSegmentClipNotValid=1074]="RotateSegmentClipNotValid",n[n.TranslateSegmentNotExist=1075]="TranslateSegmentNotExist",n[n.TranslateSegmentTypeNotValid=1076]="TranslateSegmentTypeNotValid",n[n.TranslateSegmentClipNotValid=1077]="TranslateSegmentClipNotValid",n[n.ScaleSegmentNotExist=1078]="ScaleSegmentNotExist",n[n.ScaleSegmentTypeNotValid=1079]="ScaleSegmentTypeNotValid",n[n.ScaleSegmentClipNotValid=1080]="ScaleSegmentClipNotValid",n[n.SetSegmentTimeRangeNotExist=1081]="SetSegmentTimeRangeNotExist",n[n.SetSegmentTimeRangeClipDurationNotValid=1082]="SetSegmentTimeRangeClipDurationNotValid",n[n.SetSegmentTimeRangeClipStartNotValid=1083]="SetSegmentTimeRangeClipStartNotValid",n[n.SegmentVisibleDraftNotExist=1084]="SegmentVisibleDraftNotExist",n[n.SegmentVisibleSegmentNotExist=1085]="SegmentVisibleSegmentNotExist",n[n.RemoveTextAnimationIdEmpty=1086]="RemoveTextAnimationIdEmpty",n[n.RemoveTextAnimationTypeEmpty=1087]="RemoveTextAnimationTypeEmpty",n[n.RemoveTextAudiosActionIdEmpty=1088]="RemoveTextAudiosActionIdEmpty",n[n.AddSubtitlesActionIdEmpty=1089]="AddSubtitlesActionIdEmpty",n[n.AddSubtitlesActionTrackIsNotExist=1090]="AddSubtitlesActionTrackIsNotExist",n[n.TextSetFixedSizeActionSegmentNotValid=1091]="TextSetFixedSizeActionSegmentNotValid",n[n.TextSetMaterialsActionUpdatesEmpty=1092]="TextSetMaterialsActionUpdatesEmpty",n[n.UpdateTextAnimationActionSegmentIdEmpty=1093]="UpdateTextAnimationActionSegmentIdEmpty",n[n.MirrorSegmentParamsNotValid=1094]="MirrorSegmentParamsNotValid",n[n.MirrorSegmentNotExist=1095]="MirrorSegmentNotExist",n[n.SetVideoObjectLockedNotExist=1096]="SetVideoObjectLockedNotExist",n[n.SetVideoObjectLockedTypeNotValid=1097]="SetVideoObjectLockedTypeNotValid",n[n.AddVideoMaskSegmentNotExist=1098]="AddVideoMaskSegmentNotExist",n[n.AddVideoMaskSegmentTypeNotValid=1099]="AddVideoMaskSegmentTypeNotValid",n[n.SetVideoTransitionSegmentNotExist=1100]="SetVideoTransitionSegmentNotExist",n[n.SetVideoTransitionTypeNotValid=1101]="SetVideoTransitionTypeNotValid",n[n.SetVideoTransitionSegmentIndexNotValid=1102]="SetVideoTransitionSegmentIndexNotValid",n[n.SetVideoTransitionSegmentDurationNotValid=1103]="SetVideoTransitionSegmentDurationNotValid",n[n.AddVideoTrackIndexError=1104]="AddVideoTrackIndexError",n[n.AddVideoVideoLengthNotValid=1105]="AddVideoVideoLengthNotValid",n[n.AddVideoVideoDurationNotValid=1106]="AddVideoVideoDurationNotValid",n[n.CropPositionNotValid=1107]="CropPositionNotValid",n[n.DeleteVideoAnimationSegmentNotExist=1108]="DeleteVideoAnimationSegmentNotExist",n[n.DeleteVideoAnimationTypeNotValid=1109]="DeleteVideoAnimationTypeNotValid",n[n.DeleteVideoAnimationLengthNotValid=1110]="DeleteVideoAnimationLengthNotValid",n[n.FadeVideoSegmentNotExist=1111]="FadeVideoSegmentNotExist",n[n.FadeVideoTypeNotValid=1112]="FadeVideoTypeNotValid",n[n.RemoveVideoMaskSegmentNotExist=1113]="RemoveVideoMaskSegmentNotExist",n[n.RemoveVideoMaskTypeNotValid=1114]="RemoveVideoMaskTypeNotValid",n[n.ClearVideoTransitionSegmentNotExist=1115]="ClearVideoTransitionSegmentNotExist",n[n.ClearVideoTransitionSegmentTypeNotValid=1116]="ClearVideoTransitionSegmentTypeNotValid",n[n.SetVideoBackgroundBlurSegmentNotExist=1117]="SetVideoBackgroundBlurSegmentNotExist",n[n.SetVideoBackgroundBlurTypeNotValid=1118]="SetVideoBackgroundBlurTypeNotValid",n[n.UpdateVideoAnimationSegmentNotExist=1119]="UpdateVideoAnimationSegmentNotExist",n[n.UpdateVideoAnimationTypeNotValid=1120]="UpdateVideoAnimationTypeNotValid",n[n.UpdateVideoAnimationLengthNotValid=1121]="UpdateVideoAnimationLengthNotValid",n[n.UpdateVideoMaterialSegmentNotExist=1122]="UpdateVideoMaterialSegmentNotExist",n[n.UpdateVideoMaterialTypeNotValid=1123]="UpdateVideoMaterialTypeNotValid",n[n.UpdateVideoMaterialDurationNotValid=1124]="UpdateVideoMaterialDurationNotValid",n[n.UpdateVideoMaterialMaterialDraftError=1125]="UpdateVideoMaterialMaterialDraftError",n[n.UpdateVideoTransitionSegmentNotExist=1126]="UpdateVideoTransitionSegmentNotExist",n[n.UpdateVideoTransitionTypeNotValid=1127]="UpdateVideoTransitionTypeNotValid",n[n.UpdateVideoTransitionEmpty=1128]="UpdateVideoTransitionEmpty",n[n.ReverseVideoSegmentNotExist=1129]="ReverseVideoSegmentNotExist",n[n.ReverseVideoTypeNotValid=1130]="ReverseVideoTypeNotValid",n[n.SetVideoBasicColorSegmentNotExist=1131]="SetVideoBasicColorSegmentNotExist",n[n.SetVideoBasicColorTypeNotValid=1132]="SetVideoBasicColorTypeNotValid",n[n.SetVideoChromaSpillSegmentNotExist=1133]="SetVideoChromaSpillSegmentNotExist",n[n.SetVideoChromaSpillSegmentTypeNotValid=1134]="SetVideoChromaSpillSegmentTypeNotValid",n[n.SetVideoChromaShadowSegmentNotExist=1135]="SetVideoChromaShadowSegmentNotExist",n[n.SetVideoChromaShadowSegmentTypeNotValid=1136]="SetVideoChromaShadowSegmentTypeNotValid",n[n.SetVideoChromaIntensitySegmentNotExist=1137]="SetVideoChromaIntensitySegmentNotExist",n[n.SetVideoChromaIntensitySegmentTypeNotValid=1138]="SetVideoChromaIntensitySegmentTypeNotValid",n[n.SetVideoChromaColorSegmentNotExist=1139]="SetVideoChromaColorSegmentNotExist",n[n.SetVideoChromaColorSegmentTypeNotValid=1140]="SetVideoChromaColorSegmentTypeNotValid",n[n.ApplyVideoAllChromaSegmentNotExist=1141]="ApplyVideoAllChromaSegmentNotExist",n[n.ApplyVideoAllChromaSegmentTypeNotValid=1142]="ApplyVideoAllChromaSegmentTypeNotValid",n[n.ResetVideoChromaSegmentNotExist=1143]="ResetVideoChromaSegmentNotExist",n[n.ResetVideoChromaSegmentTypeNotValid=1144]="ResetVideoChromaSegmentTypeNotValid",n[n.SetVideoVolumeSegmentNotExist=1145]="SetVideoVolumeSegmentNotExist",n[n.PitchOnVideoSegmentNotExist=1146]="PitchOnVideoSegmentNotExist",n[n.PitchOnVideoSegmentTypeNotValid=1147]="PitchOnVideoSegmentTypeNotValid",n[n.SetVideoFigureSegmentNotExist=1148]="SetVideoFigureSegmentNotExist",n[n.SetVideoFigureTypeNotValid=1149]="SetVideoFigureTypeNotValid",n[n.ClearVideoFigureSegmentNotExist=1150]="ClearVideoFigureSegmentNotExist",n[n.ClearVideoFigureTypeNotValid=1151]="ClearVideoFigureTypeNotValid",n[n.SetVideoFigureFaceIdSegmentNotExist=1152]="SetVideoFigureFaceIdSegmentNotExist",n[n.SetVideoFigureFaceIdTypeNotValid=1153]="SetVideoFigureFaceIdTypeNotValid",n[n.AddTextAudioActionDurationNotValid=1154]="AddTextAudioActionDurationNotValid",n[n.SetCoverActionDurationError=1155]="SetCoverActionDurationError",n[n.SetCoverActionImgaeInfoError=1156]="SetCoverActionImgaeInfoError",n[n.updateTextTemplateAnimationActionSegmentNotExist=1157]="updateTextTemplateAnimationActionSegmentNotExist",n[n.updateTextTemplateAnimationActionTypeNotValid=1158]="updateTextTemplateAnimationActionTypeNotValid",n[n.removeTextTemplateAnimationActionSegmentNotExist=1159]="removeTextTemplateAnimationActionSegmentNotExist",n[n.removeTextTemplateAnimationActionTypeNotValid=1160]="removeTextTemplateAnimationActionTypeNotValid",n[n.ResetVideoBasicColorSegmentNotExist=1161]="ResetVideoBasicColorSegmentNotExist",n[n.ResetVideoBasicColorTypeNotValid=1162]="ResetVideoBasicColorTypeNotValid",n[n.TrackSetMuteTrackNotExist=1163]="TrackSetMuteTrackNotExist",n[n.UpdateCombinationSubDraftIdError=1164]="UpdateCombinationSubDraftIdError",n[n.UpdateCombinationSubDraftDeltaError=1165]="UpdateCombinationSubDraftDeltaError",n[n.SegmentNotExist=1166]="SegmentNotExist",n[n.SegmentTypeNotValid=1167]="SegmentTypeNotValid",n[n.ParamNotValid=1168]="ParamNotValid",n[n.DraftNotExist=1169]="DraftNotExist",n[n.VideoSeparateSegmentNotExist=1170]="VideoSeparateSegmentNotExist",n[n.AttachmentInsertAsyncTaskEntityDuplication=1171]="AttachmentInsertAsyncTaskEntityDuplication",n[n.AttachmentDeleteAsyncTaskEntityNotExist=1172]="AttachmentDeleteAsyncTaskEntityNotExist",n[n.AttachmentUpdateAsyncTaskEntityNotExist=1173]="AttachmentUpdateAsyncTaskEntityNotExist",n[n.AttachmentInsertVideoAlgorithmDuplication=1174]="AttachmentInsertVideoAlgorithmDuplication",n[n.AttachmentDeleteVideoAlgorithmNotExist=1175]="AttachmentDeleteVideoAlgorithmNotExist",n[n.AttachmentUpdateVideoAlgorithmNotExist=1176]="AttachmentUpdateVideoAlgorithmNotExist",n[n.AttachmentInsertAiWriterInfoDuplication=1177]="AttachmentInsertAiWriterInfoDuplication",n[n.AttachmentDeleteAiWriterInfoNotExist=1178]="AttachmentDeleteAiWriterInfoNotExist",n[n.AttachmentUpdateAiWriterInfoNotExist=1179]="AttachmentUpdateAiWriterInfoNotExist",n[n.AttachmentAddAiStoryAlternativeMaterialSegmentNotExist=1180]="AttachmentAddAiStoryAlternativeMaterialSegmentNotExist",n[n.AttachmentInsertAiStoryAlternativeMaterialDuplication=1181]="AttachmentInsertAiStoryAlternativeMaterialDuplication",n[n.AttachmentDeleteAiStoryAlternativeMaterialNotExist=1182]="AttachmentDeleteAiStoryAlternativeMaterialNotExist",n[n.AttachmentDeleteAiStoryAlternativeMaterialMaterialNotExist=1183]="AttachmentDeleteAiStoryAlternativeMaterialMaterialNotExist",n[n.AttachmentUpdateAiStoryAlternativeMaterialSegmentNotExist=1184]="AttachmentUpdateAiStoryAlternativeMaterialSegmentNotExist",n[n.AttachmentUpdateAiStoryAlternativeMaterialMaterialNotExist=1185]="AttachmentUpdateAiStoryAlternativeMaterialMaterialNotExist",n[n.AttachmentPinAiStoryAlternativeMaterialSegmentNotExist=1186]="AttachmentPinAiStoryAlternativeMaterialSegmentNotExist",n[n.AttachmentPinAiStoryAlternativeMaterialMaterialNotExist=1187]="AttachmentPinAiStoryAlternativeMaterialMaterialNotExist",n[n.AttachmentUpdateAiStoryGlobalConfigCharacterNotExist=1188]="AttachmentUpdateAiStoryGlobalConfigCharacterNotExist",n)},890400:function(e,t,i){"use strict";i.d(t,{e:function(){return m}});var n=i(475028),r=i(690613),o=i(150002),a=i(862213),s=i(653322),l=i(381119),d=i(211561),u=i(419537),c=i(331509);let p=(0,n.i)(s.H.AttachmentAddAiStoryAlternativeMaterialSegmentNotExist,"");class m extends o.a{get type(){return a.Us.ATTACHMENT_ADD_AI_STORY_ALTERNATIVE_MATERIALS}check(e){return e.getSegmentById(this.options.segmentId)||"segment-id-placeholder"===this.options.segmentId?(0,r.ly)():p("add ai story alternative material to a non-exist segment")}do(e,t,i){if(t.getAiStoryAlternativeMaterialBySegmentId(this.options.segmentId)){let i=new d.mNK({alternatives:this.options.alternatives});e(new u.K({attachmentKey:a.d3.AiStoryAlternativeMaterial,key:this.options.segmentId,type:c.be.ADD,delta:i,index:0,draftId:t.getDraftId(),trackIndex:t.getTrackIndexBySegmentId(this.options.segmentId)}))}else{var n,r;let i=new d.bvB({segmentId:this.options.segmentId,alternatives:this.options.alternatives});e(new l.Q({attachmentKey:a.d3.AiStoryAlternativeMaterial,key:this.options.segmentId,value:{material:i,trackId:null!==(r=null===(n=t.getTrackBySegmentId(this.options.segmentId))||void 0===n?void 0:n.id)&&void 0!==r?r:"",trackIndex:t.getTrackIndexBySegmentId(this.options.segmentId),draftId:t.getDraftId()}}))}}}},89100:function(e,t,i){"use strict";i.d(t,{n:function(){return c}});var n=i(653322),r=i(150002),o=i(862213),a=i(76592),s=i(331509),l=i(475028),d=i(690613);let u=(0,l.i)(n.H.AttachmentDeleteAiStoryAlternativeMaterialNotExist,"");class c extends r.a{get type(){return o.Us.ATTACHMENT_DELETE_AI_STORY_ALTERNATIVE}check(e){return e.getAiStoryAlternativeMaterialBySegmentId(this.options.segmentId)?(0,d.ly)():u(`delete ai story alternative material not exist: ${this.options.segmentId}`)}do(e,t,i){e(new a.h({attachmentKey:s.d3.AiStoryAlternativeMaterial,key:this.options.segmentId}))}}},692032:function(e,t,i){"use strict";i.d(t,{T:function(){return d}});var n=i(150002),r=i(862213),o=i(331509),a=i(690613),s=i(419537),l=i(211561);class d extends n.a{get type(){return r.Us.ATTACHMENT_UPDATE_AI_STORY_GLOBAL_ID}check(e){return(0,a.ly)()}do(e,t,i){let n=new l.Wrv;n.storyId=this.options.storyId,e(new s.K({attachmentKey:o.d3.AiStoryGlobalId,key:"update_story_id",delta:n}))}}},300093:function(e,t,i){"use strict";i.d(t,{V:function(){return g}});var n=i(475028),r=i(690613),o=i(211561),a=i(481631),s=i(129862),l=i(150002),d=i(853277),u=i(653322),c=i(501452),p=i(283751);let m=(0,n.i)(u.H.SetAudioVoiceEffectParamsSegmentNotExist,""),f=(0,n.i)(u.H.SetAudioVoiceEffectParamsSegmentTypeNotValid,""),h=(0,n.i)(u.H.SetAudioVoiceEffectParamsVoiceChangeNotExist,"");class g extends l.a{get type(){return d.U.SET_AUDIO_VOICE_EFFECT_PARAMS}check(e){var t,i;let{segmentId:n,resourceId:o}=this.options,s=e.getSegmentById(n);return s?(0,a.Y9)(s)||(0,a.he)(s)?(null===(i=s.voiceChange)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:t.resourceId)!==o?h(`voiceChange not exist: ${o}`):(0,r.ly)():f(`segmentType not valid: ${s.__segment_struct_type}`):m(`segment not exist: ${n}`)}do(e,t,i){let{segmentId:n,audioAdjustParam:r,isKeyframe:l}=this.options,d=t.getSegmentNodeById(n,[]),u=d.segment,m=d.trackNode.track.id,f=(0,a.Y9)(u)?new o.CCx:new o.NOn,h=u.voiceChange[0].clone();this._setVoiceChangeParams(h),f.voiceChange=[h];let g=(0,a.xX)({__segment_struct_type:u.__segment_struct_type});if(p.T.pick(u,f,g),e(new s.F({trackId:m,trackIndex:t.getTrackIndexBySegmentId(n),segmentId:n,segmentDelta:f,sourceSegmentDelta:g})),l){let i;if(0===r.parameterIndex?i=o.Eu.KFTypeEffectAdjustParam1:1===r.parameterIndex?i=o.Eu.KFTypeEffectAdjustParam2:2===r.parameterIndex&&(i=o.Eu.KFTypeEffectAdjustParam3),void 0===i)return;let n=c.y.execute({keyframeType:i,segment:u,values:[r.value],draftView:t});n&&e(new s.F(n))}}_setVoiceChangeParams(e){let{audioAdjustParam:t}=this.options;for(let i of e.audioAdjustParams)if(t.parameterIndex===i.parameterIndex&&t.portIndex===i.portIndex){i.value=t.value;return}void 0!==t.name&&void 0!==t.defaultValue&&void 0!==t.minValue&&void 0!==t.maxValue&&e.audioAdjustParams.push(new o.t55(t))}}},836092:function(e,t,i){"use strict";i.d(t,{V:function(){return f}});var n=i(150002),r=i(853277),o=i(211561),a=i(475028),s=i(690613),l=i(653322),d=i(129862),u=i(481631),c=i(283751);let p=(0,a.i)(l.H.ApplyVideoAllChromaSegmentNotExist,""),m=(0,a.i)(l.H.ApplyVideoAllChromaSegmentTypeNotValid,"");class f extends n.a{get type(){return f.type}check(e){let{segId:t}=this.options,i=e.getSegmentById(t);return i?(0,u.P2)(i)||(0,u.Ft)(i)||(0,u.Q2)(i)?this.options.segId&&this.options.config&&this.options.enableScale&&this.options.enableRelativeDistance&&this.options.trackers&&this.options.trackers.length>0?(0,s.ly)():p(`params is not valid: ${JSON.stringify(this.options)}`):m(`segment type not valid: ${t}`):p(`segment not exist: ${t}`)}do(e,t){let{config:i,enableScale:n,enableRelativeDistance:r,trackers:a,trackerType:s,trackingTimeRange:l,version:p="v2",enableVideoTracking:m=!0}=this.options,{segId:f}=this.options,h=t.getSegmentById(f),g=t.getTrackBySegmentId(h.id),y=(0,u.zg)(h),T=new o.MwE,v=new o.hdn;v.centerX=i.centerX,v.centerY=i.centerY,v.width=i.width,v.height=i.height,v.rotation=i.rotation,T.config=v,T.trackerType=s,T.enableScale=n,T.enableRelativeDistance=r,T.trackingTimeRange=l,T.trackers=a.map(e=>new o.ess(e)),T.version=p,T.enableVideoTracking=m,y.videoTracking=T;let _=(0,u.xX)({__segment_struct_type:h.__segment_struct_type});c.T.pick(h,y,_),e(new d.F({trackId:g.id,trackIndex:t.getTrackIndexBySegmentId(h.id),segmentId:h.id,segmentDelta:y,sourceSegmentDelta:_}))}}f.type=r.U.VIDEO_TRACKER_ADD},731143:function(e,t,i){"use strict";i.d(t,{P:function(){return l}});var n=i(150002),r=i(853277),o=i(690613),a=i(211561),s=i(698159);class l extends n.a{get type(){return l.type}check(e){return(0,o.ly)()}do(e,t,i){let n=t.getSegmentsByTrackTypeAndMaterialType(a.pNd.TrackTypeText,a.cVg.MetaTypeSubtitle);if(!n.length)return;let r=this.options,o=n.map(e=>{let i=new a.xKN;i.material=new a.edz;let n=this._parseKeywordRanges(e.material.text,r);return i.material.subtitleKeywords=new a.ng$({range:n}),(0,s.l)(t,e.id,i)});(0,s.W)(o,e)}_parseKeywordRanges(e,t){let i=[];return t.forEach(t=>{let n=0;for(;n<e.length;){let r=e.indexOf(t,n);if(-1!==r)i.push(new a.SVG({location:r,length:t.length})),n=r+t.length;else break}}),i}}l.type=r.U.Test},71362:function(e,t,i){"use strict";i.d(t,{m:function(){return _}});var n=i(150002),r=i(653322),o=i(853277),a=i(711999),s=i(676177),l=i(211561),d=i(283751),u=i(481631),c=i(599446),p=i(129862),m=i(879388),f=i(81649),h=i(176791),g=i(475028),y=i(690613);let T=(0,g.i)(r.H.AddVideoTrackIndexError,""),v=(0,g.i)(r.H.AddVideoVideoDurationNotValid,"");class _ extends n.a{get type(){return _.type}check(e){return this.options.trackIndex<0||this.options.trackIndex>e.getAllTracks().length?T(`track index not valid, track index: ${this.options.trackIndex}`):this.options.videoParam.duration<0?v(`video duration is < 0, id:${this.options.videoParam.segmentId}`):(0,y.ly)()}do(e,t,i){var n,r,o,f,g,y,T,v,_,S,A,I,M,x,F,k,C,w,V,b,E,P,N,R;let D;if(0!==this.options.trackIndex){let n=t.getAllTracks();new m.W().moveConflictSegment(t,{targetStartTime:this.options.startTime,targetDuration:null!==(P=this.options.targetDuration)&&void 0!==P?P:this.options.duration,targetTrackIndex:this.options.trackIndex,type:l.pNd.TrackTypeVideo,targetSegmentId:""},n,e,i)}let{ratio:O}=t.getDraftProperty().draftCanvasSizeConfig.ensureDraftCanvasSizeParam;if((0,a.F)([this.options.videoParam.size.width,this.options.videoParam.size.height],O,!0,t,e),!this.options.digitalHumanPath&&this.options.ttsMetaParams){let{materialDraft:i}=new h.wK().getDigitalHumanMaterialDraft([this.options.videoParam],this.options.ttsMetaParams);(D=new l._6D({materialDraft:i,targetTimerange:new l.tnv({start:this.options.startTime,duration:this.options.duration}),sourceTimerange:new l.tnv({start:0n,duration:this.options.duration})})).material.duration=this.options.duration,D.material.width=this.options.videoParam.size.width,D.material.height=this.options.videoParam.size.height,e(new c._({trackId:t.getAllTracks()[this.options.trackIndex].id,trackIndex:this.options.trackIndex,segment:D}))}else[D]=s.M.insertVideoSegmentsHelper({videos:[this.options.videoParam],trackIndex:this.options.trackIndex},t,e);if(!(D=t.getSegmentById(D.id))||!(0,u.he)(D))return"";let L=new l.NOn({digitalHuman:new l.YNN({digitalHumanId:this.options.digitalHumanId,resourceId:null!==(N=this.options.materialId)&&void 0!==N?N:"",localTaskId:this.options.localTaskId,background:this.options.backgroundParam?new l.zGW(this.options.backgroundParam):void 0,videoMeta:new l.H$F({path:this.options.videoParam.path}),voiceInfo:new l.reO({speed:null===(r=this.options.ttsMetaParams[0].ttsParam)||void 0===r?void 0:null===(n=r.text)||void 0===n?void 0:n.speed,resourceId:null===(f=this.options.ttsMetaParams[0].ttsParam)||void 0===f?void 0:null===(o=f.text)||void 0===o?void 0:o.resourceId,toneType:null===(y=this.options.ttsMetaParams[0].ttsParam)||void 0===y?void 0:null===(g=y.text)||void 0===g?void 0:g.toneType,toneEffectId:null===(v=this.options.ttsMetaParams[0].ttsParam)||void 0===v?void 0:null===(T=v.text)||void 0===T?void 0:T.toneEffectId,toneEffectName:null===(S=this.options.ttsMetaParams[0].ttsParam)||void 0===S?void 0:null===(_=S.text)||void 0===_?void 0:_.toneEffectName,toneCategoryId:null===(I=this.options.ttsMetaParams[0].ttsParam)||void 0===I?void 0:null===(A=I.text)||void 0===A?void 0:A.toneCategoryId,toneCategoryName:null===(x=this.options.ttsMetaParams[0].ttsParam)||void 0===x?void 0:null===(M=x.text)||void 0===M?void 0:M.toneCategoryName,tonePlatform:null===(k=this.options.ttsMetaParams[0].ttsParam)||void 0===k?void 0:null===(F=k.text)||void 0===F?void 0:F.tonePlatform,speakerId:null===(w=this.options.ttsMetaParams[0].ttsParam)||void 0===w?void 0:null===(C=w.text)||void 0===C?void 0:C.toneSpeaker,isAiCloneTone:null===(b=this.options.ttsMetaParams[0].ttsParam)||void 0===b?void 0:null===(V=b.text)||void 0===V?void 0:V.isAiCloneTone}),ttsMetas:null===(E=this.options.ttsMetaParams)||void 0===E?void 0:E.map(e=>{var t,i,n;return new l.yU0({text:e.text,ttsPayload:e.ttsPayload,textSegId:null===(t=e.ttsParam)||void 0===t?void 0:t.segmentId,ttsPath:null===(i=e.ttsParam)||void 0===i?void 0:i.audioPath,ttsStart:null===(n=e.ttsParam)||void 0===n?void 0:n.startTime})}),digitalHumanSource:this.options.digitalHumanSource})});L.material=new l.K2q({isAiGenerateContent:!0,materialId:null!==(R=this.options.materialId)&&void 0!==R?R:""});let K=(0,u.xX)({__segment_struct_type:D.__segment_struct_type});return d.T.pick(D,L,K),e(new p.F({trackId:t.getAllTracks()[this.options.trackIndex].id,trackIndex:this.options.trackIndex,segmentId:D.id,segmentDelta:L,sourceSegmentDelta:K})),D.id}constructor(e,t){var i,n,r;super(e);let o=new f.O1(t.getDraftProperty().fps),a=o.gen(null!==(i=e.startTime)&&void 0!==i?i:0n).tail,s=o.gen((null!==(n=e.startTime)&&void 0!==n?n:0n)+(null!==(r=e.duration)&&void 0!==r?r:0n)).tail;this.options.startTime=a,this.options.duration=s-a,this.options.videoParam&&(this.options.videoParam.size.width=Number(this.options.videoParam.mediaInfo.width),this.options.videoParam.size.height=Number(this.options.videoParam.mediaInfo.height))}}_.type=o.U.VIDEO_ADD_DIGITAL_HUMAN},895496:function(e,t,i){"use strict";i.d(t,{G:function(){return h}});var n=i(211561),r=i(129862),o=i(150002),a=i(853277),s=i(834916),l=i(475028),d=i(690613),u=i(481631),c=i(653322),p=i(283751);let m=(0,l.i)(c.H.ApplyVideoAllChromaSegmentNotExist,""),f=(0,l.i)(c.H.ApplyVideoAllChromaSegmentTypeNotValid,"");class h extends o.a{get type(){return h.type}check(e){let{segId:t}=this.options,i=e.getSegmentById(t);return i?(0,u.he)(i)?(0,d.ly)():f(`segment type not valid: ${t}`):m(`segment not exist: ${t}`)}do(e,t,i){var o;let a;let{segId:l,intensity:d=0,shadow:c=0,edgeSmooth:m=0,spill:f=0,version:h,keyframes:g}=this.options,y=t.getSegmentNodeById(l,[]),T=null==y?void 0:y.segment,v=null!==(o=null==y?void 0:y.trackNode.track.id)&&void 0!==o?o:"",_=T.chroma?new n.VJQ(T.chroma).clone():new n.VJQ;_.intensityValue=d,_.shadowValue=c,_.spillValue=f,_.edgeSmoothValue=m,_.version=null!=h?h:"";let S=new n.Xkj(_),A=new n.NOn;A.chroma=S,g&&(a=(0,s.Y)(T,g))&&(A.commonKeyframes=a);let I=(0,u.xX)({__segment_struct_type:T.__segment_struct_type});p.T.pick(T,A,I),e(new r.F({trackId:v,trackIndex:t.getTrackIndexBySegmentId(T.id),segmentId:T.id,segmentDelta:A,sourceSegmentDelta:I}))}}h.type=a.U.VIDEO_APPLY_ALL_CHROMA},229721:function(e,t,i){"use strict";i.d(t,{N:function(){return h}});var n=i(150002),r=i(853277),o=i(129862),a=i(211561),s=i(475028),l=i(690613),d=i(481631),u=i(653322),c=i(283751);let p=(0,s.i)(u.H.DeleteVideoAnimationSegmentNotExist,""),m=(0,s.i)(u.H.DeleteVideoAnimationTypeNotValid,""),f=(0,s.i)(u.H.DeleteVideoAnimationLengthNotValid,"");class h extends n.a{get type(){return h.type}check(e){var t;let{segId:i}=this.options,n=e.getSegmentById(i);return n?(0,d.he)(n)?(null==n?void 0:null===(t=n.animations)||void 0===t?void 0:t.animations.length)?(0,l.ly)():f("animation length is 0"):m(`type is not valid:${n.__segment_struct_type}`):p("seg is not exist")}do(e,t,i){var n,r;let{segId:s,types:l}=this.options,u=t.getSegmentById(s);if(!u||!(0,d.he)(u)||!(null==u?void 0:u.animations))return;let p=[...u.animations.animations];p=p.filter(e=>!l.includes(e.type));let m=new a.NOn,f=new a.PA;f.animations=p,m.animations=f;let h=(0,d.xX)({__segment_struct_type:u.__segment_struct_type});c.T.pick(u,m,h),e(new o.F({trackId:null!==(r=null===(n=t.getTrackBySegmentId(s,[]))||void 0===n?void 0:n.id)&&void 0!==r?r:"",trackIndex:t.getTrackIndexBySegmentId(s),segmentId:s,segmentDelta:m,sourceSegmentDelta:h}))}}h.type=r.U.REMOVE_ANIMATION},83494:function(e,t,i){"use strict";i.d(t,{E:function(){return d}});var n=i(150002),r=i(853277),o=i(211561),a=i(448218),s=i(690613),l=i(481631);class d extends n.a{get type(){return d.type}check(e){return(0,s.ly)()}do(e,t,i){let n=t.getSegmentById(this.options.segId);if(!n||!(0,l.he)(n))return;let r=new o.fln;r.color=this.options.color,r.type=o.cVg.MetaTypeCanvasColor;let s=new o.NOn;s.background=new o.Fq$(r),(0,a.W)((0,a.l)(t,this.options.segId,s),e)}}d.type=r.U.VIDEO_BACKGROUND_COLO},399815:function(e,t,i){"use strict";i.d(t,{L:function(){return y},r:function(){return T}});var n=i(475028),r=i(690613),o=i(211561),a=i(129862),s=i(150002),l=i(853277),d=i(481631),u=i(653322),c=i(280700),p=i(810909),m=i(91885),f=i(283751);let h=(0,n.i)(u.H.SetVideoBasicColorSegmentNotExist,""),g=(0,n.i)(u.H.SetVideoBasicColorTypeNotValid,""),y=(e,t,i,n,r)=>{let{segId:s,materials:l,presetResourceId:u,isKeyframe:c}=e;l.forEach(e=>{let l=(0,p.r_)(e.type);new m.e({segId:s,isKeyframe:c,material:e}).execute({segId:s,isKeyframe:c,material:e},t,n,[l],r);let h=new o.NOn;if(h.adjust=new o.cNp,h.adjust.adjustPresetResourceId=u,u){let e=(0,d.xX)({__segment_struct_type:n.__segment_struct_type});f.T.pick(n,h,e),r(new a.F({trackId:i,trackIndex:t.getTrackIndexBySegmentId(s),segmentId:s,segmentDelta:h,sourceSegmentDelta:e}))}})};class T extends s.a{get type(){return T.type}check(e){let t=e.getSegmentById(this.options.segId);return t?(!((0,d.he)(t)||(0,d.E6)(t))&&g(`segment type is not valid. type is ${t.__segment_struct_type}`),(0,r.ly)()):h("segment is not exist")}do(e,t,i){var n;let{segId:r}=this.options,o=(0,c.Cm)(t.getAllTracks(),r);if(!o)return;let a=t.getAllTracks()[o.trackIndex].segments[o.segmentIndex],s=null!==(n=null==o?void 0:o.trackId)&&void 0!==n?n:"";y(this.options,t,s,a,e)}}T.type=l.U.VIDEO_SET_BASIC_COLOR},875554:function(e,t,i){"use strict";i.d(t,{w:function(){return m}});var n=i(211561),r=i(481631),o=i(952819),a=i(150002),s=i(853277),l=i(475028),d=i(690613),u=i(653322);let c=(0,l.i)(u.H.SetVideoChromaIntensitySegmentNotExist,""),p=(0,l.i)(u.H.SetVideoChromaIntensitySegmentTypeNotValid,"");class m extends a.a{get type(){return m.type}check(e){let{segId:t}=this.options,i=e.getSegmentById(t);return i?(0,r.he)(i)?(0,d.ly)():p(`segment type not valid: ${t}`):c(`segment not exist: ${t}`)}do(e,t,i){let{segId:r}=this.options,a=t.getSegmentNodeById(r,[]),s=null==a?void 0:a.segment,l=n.Eu.KFTypeChromaIntensity;new o.b(this.options).execute(this.options,t,s,[l],e)}}m.type=s.U.VIDEO_SET_CHROMA_INTENSITY},120708:function(e,t,i){"use strict";i.d(t,{l:function(){return g}});var n=i(789786),r=i(285151),o=i(936028),a=i(421481),s=i(718874),l=i(634604),d=i(423196),u=i(220780),c=i(572044),p=i(360828),m=i(575534),f=i(340294),h=i(305604);class g extends m.e{insertAsyncTasks(e){return this._mixApplyLocal({action:new l.G(e)},{canUndoRedo:!1})}deleteAsyncTasks(e){return this._mixApplyLocal({action:new o.t(e)},{canUndoRedo:!1})}updateAsyncTasksStatus(e){return this._mixApplyLocal({action:new c.B(e)},{canUndoRedo:!1})}insertVideoAlgorithms(e){return this._mixApplyLocal({action:new d.a(e)},{canUndoRedo:!1})}deleteVideoAlgorithms(e){return this._mixApplyLocal({action:new a.j(e)},{canUndoRedo:!1})}updateVideoAlgorithm(e){return this._mixApplyLocal({action:new p.d(e)},{canUndoRedo:!1})}insertAiWriterInfos(e){return this._mixApplyLocal({action:new s.S(e)},{canUndoRedo:!0})}deleteAiWriterInfos(e){return this._mixApplyLocal({action:new r.B(e)},{canUndoRedo:!0})}updateAiWriterInfo(e){return this._mixApplyLocal({action:new u.o(e)},{canUndoRedo:!0})}setAiCreatorContent(e){return this._mixApplyLocal({action:new h.n(e)},{canUndoRedo:!1})}}(0,n.gn)([(0,f.cM)("attachmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IInsertAsyncTaskEntitiesActionOptions?Object:IInsertAsyncTaskEntitiesActionOptions]),(0,n.w6)("design:returntype",void 0)],g.prototype,"insertAsyncTasks",null),(0,n.gn)([(0,f.cM)("attachmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IDeleteAsyncTaskEntitiesActionOptions?Object:IDeleteAsyncTaskEntitiesActionOptions]),(0,n.w6)("design:returntype",void 0)],g.prototype,"deleteAsyncTasks",null),(0,n.gn)([(0,f.cM)("attachmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IUpdateAsyncTaskEntitiesStatusActionOptions?Object:IUpdateAsyncTaskEntitiesStatusActionOptions]),(0,n.w6)("design:returntype",void 0)],g.prototype,"updateAsyncTasksStatus",null),(0,n.gn)([(0,f.cM)("attachmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IInsertVideoAlgorithmsActionOptions?Object:IInsertVideoAlgorithmsActionOptions]),(0,n.w6)("design:returntype",void 0)],g.prototype,"insertVideoAlgorithms",null),(0,n.gn)([(0,f.cM)("attachmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IDeleteVideoAlgorithmsActionOptions?Object:IDeleteVideoAlgorithmsActionOptions]),(0,n.w6)("design:returntype",void 0)],g.prototype,"deleteVideoAlgorithms",null),(0,n.gn)([(0,f.cM)("attachmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IUpdateVideoAlgorithmActionOptions?Object:IUpdateVideoAlgorithmActionOptions]),(0,n.w6)("design:returntype",void 0)],g.prototype,"updateVideoAlgorithm",null),(0,n.gn)([(0,f.cM)("attachmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IInsertAiWriterInfosActionOptions?Object:IInsertAiWriterInfosActionOptions]),(0,n.w6)("design:returntype",void 0)],g.prototype,"insertAiWriterInfos",null),(0,n.gn)([(0,f.cM)("attachmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IDeleteAiWriterInfosActionOptions?Object:IDeleteAiWriterInfosActionOptions]),(0,n.w6)("design:returntype",void 0)],g.prototype,"deleteAiWriterInfos",null),(0,n.gn)([(0,f.cM)("attachmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IUpdateAiWriterInfoActionOptions?Object:IUpdateAiWriterInfoActionOptions]),(0,n.w6)("design:returntype",void 0)],g.prototype,"updateAiWriterInfo",null),(0,n.gn)([(0,f.cM)("attachmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof ISetAiCreatorActionOptions?Object:ISetAiCreatorActionOptions]),(0,n.w6)("design:returntype",void 0)],g.prototype,"setAiCreatorContent",null)},853367:function(e,t,i){"use strict";i.d(t,{w:function(){return d}});var n=i(789786),r=i(871550),o=i(395117),a=i(502257),s=i(529628),l=i(575534);class d extends l.e{add(e){return this._mixApplyLocal({action:new r.I(e)})}delete(e){return this._mixApplyLocal({action:new o.O(e)})}update(e){return this._mixApplyLocal({action:new a.R(e)})}}(0,n.gn)([(0,s.cM)("keyframeApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IAddKeyframeActionOptions?Object:IAddKeyframeActionOptions]),(0,n.w6)("design:returntype",void 0)],d.prototype,"add",null),(0,n.gn)([(0,s.cM)("keyframeApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IRemoveKeyframeActionOptions?Object:IRemoveKeyframeActionOptions]),(0,n.w6)("design:returntype",void 0)],d.prototype,"delete",null),(0,n.gn)([(0,s.cM)("keyframeApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IUpdateKeyframeActionOptions?Object:IUpdateKeyframeActionOptions]),(0,n.w6)("design:returntype",void 0)],d.prototype,"update",null)},170941:function(e,t,i){"use strict";i.d(t,{i:()=>Y});var n=i("789786"),r=i("871550"),o=i("395117"),a=i("825908"),s=i("908232"),l=i("666259"),d=i("737889"),u=i("769936"),c=i("112625"),p=i("130195"),m=i("401483"),f=i("150002"),h=i("853277"),g=i("129862"),y=i("211561"),T=i("475028"),v=i("690613"),_=i("653322"),S=i("501452"),A=i("481631"),I=i("283751");let M=[y.Ocy.SegmentSticker,y.Ocy.SegmentImageSticker,y.Ocy.SegmentHandwrite,y.Ocy.SegmentText,y.Ocy.SegmentTextTemplate,y.Ocy.SegmentVideo],x=(0,T.i)(_.H.RotateSegmentNotExist,""),F=(0,T.i)(_.H.RotateSegmentTypeNotValid,""),k=(0,T.i)(_.H.RotateSegmentClipNotValid,"");class C extends f.a{get type(){return C.type}check(e){return this.options.every(t=>e.getSegmentById(t.segmentId))?this.options.every(t=>{let i=e.getSegmentById(t.segmentId);return M.includes(i.__segment_struct_type)})?this.options.every(t=>{var i;return null===(i=e.getSegmentById(t.segmentId))||void 0===i?void 0:i.clip})?(0,v.ly)():k("segment clip is invlaid"):F("segment type is invlaid"):x(`segment is not exist, ids: ${this.options}`)}do(e,t){let i=[];for(let e of this.options){let{segmentId:n,rotation:r,draftId:o,isKeyframe:a=!1}=e,s=t.getDraftById(o),l=s.getTrackBySegmentId(n),d=s.getSegmentById(n),u=(0,A.xX)({__segment_struct_type:d.__segment_struct_type});u.clip=new y.tLq,u.clip.rotation=r;let c=(0,A.xX)({__segment_struct_type:d.__segment_struct_type});if(I.T.pick(d,u,c),i.push(new g.F({draftId:o,trackId:l.id,trackIndex:t.getTrackIndexBySegmentId(n),segmentId:n,segmentDelta:u,sourceSegmentDelta:c})),a){let e=S.y.execute({draftView:s,segment:d,keyframeType:y.Eu.KFTypeRotation,values:[r]});e&&i.push(new g.F({draftId:o,...e}))}}i.forEach(e)}}C.type=h.U.SEGMENT_ROTATE;var w=i("979691");let V=w.Q,b=(0,T.i)(_.H.RotateSegmentNotExist,""),E=(0,T.i)(_.H.RotateSegmentTypeNotValid,""),P=(0,T.i)(_.H.RotateSegmentClipNotValid,"");class N extends f.a{get type(){return N.type}check(e){return this.options.every(t=>e.getSegmentById(t.segmentId))?this.options.every(t=>{let i=e.getSegmentById(t.segmentId);return V.includes(i.__segment_struct_type)})?this.options.every(t=>{var i;return null===(i=e.getSegmentById(t.segmentId))||void 0===i?void 0:i.clip})?(0,v.ly)():P("segment clip is invlaid"):E("segment type is invlaid"):b(`segment is not exist, ids: ${this.options}`)}do(e,t){for(let i of this.options){let n=t.getDraftById(i.draftId),{segmentId:r,x:o=1,y:a=1,isKeyframe:s=!1}=i,l=n.getTrackBySegmentId(r),d=n.getSegmentById(r),u=(0,A.xX)({__segment_struct_type:d.__segment_struct_type});u.clip=new y.tLq,u.clip.scale,u.clip.scale=new y.o_k({x:o,y:a});let c=(0,A.xX)({__segment_struct_type:d.__segment_struct_type});I.T.pick(d,u,c),e(new g.F({trackId:l.id,trackIndex:t.getTrackIndexBySegmentId(r),segmentId:r,segmentDelta:u,sourceSegmentDelta:c})),s&&[{keyframeType:y.Eu.KFTypeScaleX,values:[o]},{keyframeType:y.Eu.KFTypeScaleY,values:[a]}].forEach(t=>{let{keyframeType:r,values:o}=t,a=S.y.execute({draftView:n,segment:d,keyframeType:r,values:o});a&&e(new g.F({draftId:i.draftId,...a}))})}}}N.type=h.U.SEGMENT_SCALE;var R=i("432094"),D=i("650039"),O=i("451678"),L=i("108662"),K=i("201519");let B=(0,T.i)(_.H.TranslateSegmentNotExist,"");class z extends f.a{get type(){return z.type}check(e){return this.options.every(t=>e.getSegmentById(t.segmentId))?(0,v.ly)():B(`segment is not exist, ids: ${this.options}`)}do(e,t,i){let n=[];for(let i of this.options){let{draftId:r,segmentId:o,layout:a,isKeyframe:s=!1}=i,l=t.getDraftById(r),d=l.getTrackBySegmentId(o),{translateX:u,translateY:c,scaleX:p,scaleY:m,rotation:f}=a,h=l.getSegmentById(o),T=(0,A.xX)({__segment_struct_type:h.__segment_struct_type});T.clip=new y.tLq,(void 0!==u||void 0!==c)&&(T.clip.transform=new y.jPZ({x:u,y:c})),(void 0!==p||void 0!==m)&&(T.clip.scale=new y.o_k({x:p,y:m})),void 0!==f&&(T.clip.rotation=f);let v=(0,A.xX)({__segment_struct_type:h.__segment_struct_type});if(I.T.pick(h,T,v),n.push(new g.F({draftId:r,trackId:d.id,trackIndex:l.getTrackIndexBySegmentId(o),segmentId:o,segmentDelta:T,sourceSegmentDelta:v})),n.forEach(e),h.commonKeyframes.length>0){let t={translateX:y.Eu.KFTypePositionX,translateY:y.Eu.KFTypePositionY,scaleX:y.Eu.KFTypeScaleX,scaleY:y.Eu.KFTypeScaleY,rotation:y.Eu.KFTypeRotation};Object.entries(a).forEach(i=>{let[n,r]=i;if("number"!=typeof r||isNaN(r))return;let o=S.y.execute({draftView:l,segment:h,keyframeType:t[n],values:[r]});o&&e(new g.F(o))})}}}}z.type=h.U.SEGMENT_UPDATE_LAYOUT;var H=i("569818"),U=i("604277"),j=i("426336"),W=i("602777"),G=i("529628"),X=i("612441"),Z=i("575534");class Y extends Z.e{move(e){return Array.isArray(e)?this._mixApplyLocal({action:new s.j(e)},{undoSelectedSegIds:e.map(e=>e.segmentId),redoSelectedSegIds:e.map(e=>e.segmentId)}):this._mixApplyLocal({action:new m.G(e,this._videoDocument)},{undoSelectedSegIds:[e.segmentId],redoSelectedSegIds:[e.segmentId]})}setTimeRange(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return this._mixApplyLocal({action:new O.y(e,this._videoDocument)},{undoSelectedSegIds:[e.segmentId],redoSelectedSegIds:[e.segmentId],canUndoRedo:t,commit:i})}insert(e){return this._mixApplyLocal({action:new c.k(e,this._videoDocument)})}delete(e){return this._mixApplyLocal({action:new d.v(e)},{undoSelectedSegIds:e.selectedSegIds?e.selectedSegIds:void 0,redoSelectedSegIds:e.selectedSegIds?e.selectedSegIds:void 0})}split(e){let t=e.map(e=>e.segmentId);return this._mixApplyLocal({action:new L.x(e,this._videoDocument)},{undoSelectedSegIds:t,redoSelectedSegIds:t})}scale(e,t){var i,n,r,o;return this._mixApplyLocal({action:new N(e)},{canUndoRedo:t,undoSelectedSegIds:[null!==(r=null===(i=e[0])||void 0===i?void 0:i.segmentId)&&void 0!==r?r:""],redoSelectedSegIds:[null!==(o=null===(n=e[0])||void 0===n?void 0:n.segmentId)&&void 0!==o?o:""]})}translate(e,t){var i,n,r,o;return this._mixApplyLocal({action:new w.A(e)},{undoSelectedSegIds:[null!==(r=null===(i=e[0])||void 0===i?void 0:i.segmentId)&&void 0!==r?r:""],redoSelectedSegIds:[null!==(o=null===(n=e[0])||void 0===n?void 0:n.segmentId)&&void 0!==o?o:""],canUndoRedo:t})}rotate(e,t){var i,n,r,o;return this._mixApplyLocal({action:new C(e)},{undoSelectedSegIds:[null!==(r=null===(i=e[0])||void 0===i?void 0:i.segmentId)&&void 0!==r?r:""],redoSelectedSegIds:[null!==(o=null===(n=e[0])||void 0===n?void 0:n.segmentId)&&void 0!==o?o:""],canUndoRedo:t})}updateLayout(e,t,i){let n=e.map(e=>e.segmentId);return this._mixApplyLocal({action:new z(e)},{undoSelectedSegIds:null!=t?t:n,redoSelectedSegIds:null!=t?t:n,canUndoRedo:i})}mirror(e){return this._mixApplyLocal({action:new p.y(e)})}innerReplace(e){let t=this._mixApplyLocal({action:new K.a(e)},{canUndoRedo:!1,clearRedoStack:!1});return X.ty.execute(e),t}innerReplaceStack(e){return X.ty.execute(e),(0,v.oW)("")}paste(e){return this._mixApplyLocal({action:new a.a(e,this._videoDocument)},{canUndoRedo:!0})}visible(e){return this._mixApplyLocal({action:new H.b(e)},{canUndoRedo:!0})}mute(e){var t;let i;let{segmentId:n,mute:a,draftId:s}=e,l=null!==(t=this._videoDocument.getDraftById(s))&&void 0!==t?t:this._videoDocument,d=a?W.Eu.KFTypeVolume:W.Eu.KFTypeLastVolume,u=a?W.Eu.KFTypeLastVolume:W.Eu.KFTypeVolume,c=l.getSegmentById(n);if(!c)return(0,v.wf)(-1,`segment not exist: ${n}`);let p=[];return!this._batchContext&&(i=this._behavior.batchStart()),c.commonKeyframes.filter(e=>e.propertyType===d).forEach(e=>{e.keyframeList.forEach(e=>{let t=new j.b8q().getTimelineByKeyframeTimeOffset(l,c,e.timeOffset);p.push(this._mixApplyLocal({action:new r.I({segmentId:n,dataParam:{curveType:e.curveType,datas:e.values,playHead:t,flags:-1n,graphData:e.graph?(0,j.Mvo)(e.graph):void 0,leftControl:e.leftControl,rightControl:e.rightControl},keyframeType:u,draftId:s})})),p.push(this._mixApplyLocal({action:new o.O({segmentId:n,keyframeTypeList:[d],draftId:s})}))})}),p.push(this._mixApplyLocal({action:new U.U({segmentIds:[n],volume:a?0:1,draftId:s,isKeyframe:!1})})),i&&this._behavior.batchEnd(i,{canUndoRedo:!0}),(0,v.oW)(p)}setName(e){return this._mixApplyLocal({action:new D.w(e)})}duplicate(e){return this._mixApplyLocal({action:new u.c(e)})}setDescription(e){return this._mixApplyLocal({action:new R.c(e)})}multiSegmentsSetTimeRange(e){return this._mixApplyLocal({action:new l.F(e)},{canUndoRedo:!0})}}(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[Object]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"move",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof ISegmentSetTimeRangeActionOptions?Object:ISegmentSetTimeRangeActionOptions,void 0,void 0]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"setTimeRange",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IInsertSegmentsActionOptions?Object:IInsertSegmentsActionOptions]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"insert",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IDeleteSegmentsActionOptions?Object:IDeleteSegmentsActionOptions]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"delete",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof ISplitSegmentActionOptions?Object:ISplitSegmentActionOptions]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"split",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof ISegmentScaleActionOptions?Object:ISegmentScaleActionOptions,Boolean]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"scale",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof ISegmentTranslateActionOptions?Object:ISegmentTranslateActionOptions,Boolean]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"translate",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof ISegmentRotateActionOptions?Object:ISegmentRotateActionOptions,Boolean]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"rotate",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof ISegmentUpdateLayoutActionOptions?Object:ISegmentUpdateLayoutActionOptions,Array,Boolean]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"updateLayout",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IMirrorSegmentActionOptions?Object:IMirrorSegmentActionOptions]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"mirror",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof ISegmentUpdateActionOptions?Object:ISegmentUpdateActionOptions]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"innerReplace",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof ISegmentUpdateActionOptions?Object:ISegmentUpdateActionOptions]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"innerReplaceStack",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[Array]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"paste",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof ISegmentVisibleActionOptions?Object:ISegmentVisibleActionOptions]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"visible",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof ISegmentMuteActionOptions?Object:ISegmentMuteActionOptions]),(0,n.w6)("design:returntype","undefined"==typeof ILvErrorOr?Object:ILvErrorOr)],Y.prototype,"mute",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof ISetNameActionOptions?Object:ISetNameActionOptions]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"setName",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IDuplicateActionOptions?Object:IDuplicateActionOptions]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"duplicate",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof ISegmentSetDescriptionActionOptions?Object:ISegmentSetDescriptionActionOptions]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"setDescription",null),(0,n.gn)([(0,G.cM)("segmentApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IMultiSegmentsSetTimeRangeOptions?Object:IMultiSegmentsSetTimeRangeOptions]),(0,n.w6)("design:returntype",void 0)],Y.prototype,"multiSegmentsSetTimeRange",null)},563770:function(e,t,i){"use strict";i.d(t,{f:function(){return T}});var n=i(789786),r=i(569818),o=i(731774),a=i(603822),s=i(790820),l=i(784392),d=i(187613),u=i(779166),c=i(323326),p=i(575534),m=i(695780),f=i(160849),h=i(529628),g=i(690613),y=i(800788);class T extends p.e{setMutableVideos(e){var t;let i,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=!(arguments.length>2)||void 0===arguments[2]||arguments[2],d=null!==(t=this._videoDocument.getDraftById(e.draftId))&&void 0!==t?t:this._videoDocument,u=m.Q.getMutableVideosActionOptions(e.videos,d);(0,y.Y2)(u.length===e.videos.length),!this._batchContext&&(i=this._behavior.batchStart());let p=Array.from(e.videos,()=>(0,g.ly)());for(let t=0;t<u.length;t++){let i=u[t];if(!i){p[t]=(0,g.wf)(-1,"get mutable videos action params failed");continue}if(p[t]=this._mixApplyLocal({action:new a.u({draftId:e.draftId,...i.templateReplaceVideoActionOptions})},{canUndoRedo:n,commit:o}),!p[t].ok)continue;if(p[t]=this._mixApplyLocal({action:new c.E({draftId:e.draftId,...i.cropVideoActionOptions})},{canUndoRedo:n,commit:o}),!p[t].ok)continue;if(p[t]=this._mixApplyLocal({action:new s.k({draftId:e.draftId,...i.templateSetVideoSpeedActionOptions})},{canUndoRedo:n,commit:o}),!p[t].ok)continue;if(p[t]=this._mixApplyLocal({action:new l.c({draftId:e.draftId,...i.templateSetVideoVolumeOptions})},{canUndoRedo:n,commit:o}),!!p[t].ok)i.segmentVisibleActionOptions&&(p[t]=this._mixApplyLocal({action:new r.b({draftId:e.draftId,...i.segmentVisibleActionOptions})},{canUndoRedo:n,commit:o}))}return i&&this._behavior.batchEnd(i,{canUndoRedo:n}),(0,g.oW)(p)}setMutableAudios(e){let t;!this._batchContext&&(t=this._behavior.batchStart());let i=[];for(let t of e.audios)t.draftId=e.draftId,i.push(this._mixApplyLocal({action:new o.o(t)}));return t&&this._behavior.batchEnd(t),(0,g.oW)(i)}setMutableTexts(e){let t;!this._batchContext&&(t=this._behavior.batchStart());let i=[],n=[];for(let t of e.text)t.updates.forEach(t=>{var i;return t.draftId=null!==(i=t.draftId)&&void 0!==i?i:e.draftId}),i.push(this._mixApplyLocal({action:new u.d(t)}));for(let t of e.textTemplate)t.updates.forEach(t=>{var i;return t.draftId=null!==(i=t.draftId)&&void 0!==i?i:e.draftId}),n.push(this._mixApplyLocal({action:new d.S(t)}));return t&&this._behavior.batchEnd(t),{text:(0,g.oW)(i),textTemplate:(0,g.oW)(n)}}setTemplateMute(e){let t,i=!(arguments.length>1)||void 0===arguments[1]||arguments[1];!this._batchContext&&(t=this._behavior.batchStart(!0));let n=(0,f.YY)(e);n.length&&n.forEach(e=>this._mixApplyLocal({action:e},{canUndoRedo:!1,commit:i})),t&&this._behavior.batchEnd(t,{canUndoRedo:!1})}}(0,n.gn)([(0,h.cM)("templateApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof ISetTemplateMutableVideosOptions?Object:ISetTemplateMutableVideosOptions,void 0,void 0]),(0,n.w6)("design:returntype","undefined"==typeof ILvErrorOr?Object:ILvErrorOr)],T.prototype,"setMutableVideos",null),(0,n.gn)([(0,h.cM)("templateApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof ISetTemplateMutableAudiosOptions?Object:ISetTemplateMutableAudiosOptions]),(0,n.w6)("design:returntype","undefined"==typeof ILvErrorOr?Object:ILvErrorOr)],T.prototype,"setMutableAudios",null),(0,n.gn)([(0,h.cM)("templateApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof ISetTemplateMutableTextsOptions?Object:ISetTemplateMutableTextsOptions]),(0,n.w6)("design:returntype",Object)],T.prototype,"setMutableTexts",null),(0,n.gn)([(0,h.cM)("templateApi"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IDraftView?Object:IDraftView,void 0]),(0,n.w6)("design:returntype",void 0)],T.prototype,"setTemplateMute",null)},788470:function(e,t,i){"use strict";i.d(t,{Be:function(){return n.B},Ov:function(){return r.Ov},Ub:function(){return r.Ub},VI:function(){return r.VI}});var n=i(209747),r=i(930801)},930801:function(e,t,i){"use strict";i.d(t,{Bh:function(){return d},GU:function(){return u},K4:function(){return h},Ov:function(){return y},RA:function(){return c},Sx:function(){return f},Ub:function(){return v},VI:function(){return T},ZK:function(){return m},dl:function(){return p},gG:function(){return g}});var n=i(481631),r=i(78975);i(819120);var o=i(881337),a=i(211561),s=i(788470),l=i(342040);function d(e){let t;let i=[];(0,n.he)(e)?e.animations&&(t=e.animations):(0,n.Ft)(e)?e.animations&&(i=e.animations.animations):(0,n.Q2)(e),t&&(i=t.animations);let r=[];for(let e of i){let t=(0,o.Ljr)({});t.effectId=e.id,t.categoryId=e.categoryId,t.categoryName=e.categoryName,t.type=e.type,t.start=e.start,t.duration=e.duration,t.path=e.path,t.platform=e.platform,t.resourceId=e.resourceId,t.name=e.name,t.panel=e.panel,t.materialType=e.materialType,r.push(t)}return r}function u(e){var t;let i=new Map,{mutableConfig:n}=e.getDraftProperty();for(let e of null!==(t=null==n?void 0:n.mutableMaterials)&&void 0!==t?t:[])i.set(e.id,e);return i}function c(e,t,i){return!!e.includes("://")||e!==i&&e!==t&&!!l.k.getInstance().pathRecords.get(e)}function p(e,t){if(null==t?void 0:t.startsWith("./quick"))return t;if(e.includes("://"))return e;let i=r.P.instance;if(i){if(e&&i.isExist(e))return e;if(t&&i.isExist(t))return t}return(null==t?void 0:t.includes("://"))?t:s.Be.templateSlotLostVideoHolderPath}function m(e,t,i){var n,o,a,l,d,u;if(t.includes("://"))return t;let c=r.P.instance,p=null!==(l=null===(n=e.getRecordBySegmentPath(null!=i?i:""))||void 0===n?void 0:n.resPath)&&void 0!==l?l:"",m=null!==(d=null===(o=e.getRecordBySegmentPath(t))||void 0===o?void 0:o.resPath)&&void 0!==d?d:"";if(c){if(t&&e.getRecordBySegmentPath(t)&&(c.isExist(m)||m.startsWith("asset_id:")))return t;if(i&&e.getRecordBySegmentPath(i)&&(c.isExist(p)||p.startsWith("asset_id:")))return i}return null!==(u=null===(a=e.getRecordBySegmentPath(s.Be.templateSlotLostVideoHolderPath))||void 0===a?void 0:a.resPath)&&void 0!==u?u:""}function f(e){let t=(0,o.kvz)();if((0,n.he)(e)&&e.transition){let i=e.transition;t.name=i.name,t.effectId=i.effectId,t.resourceId=i.resourceId,t.path=i.path,t.duration=i.duration,t.isOverlap=i.isOverlap,t.platform=i.platform,t.categoryId=i.categoryId,t.categoryName=i.categoryName,t.requestId=i.requestId}return t}function h(e){return e.commonKeyframes.map(e=>(0,o.IOn)({id:e.id,propertyType:e.propertyType,keyframeList:e.keyframeList.map(e=>{let{graph:t}=e;return(0,o.chi)({id:e.id,curveType:e.curveType,timeOffset:e.timeOffset,leftControl:e.leftControl,rightControl:e.rightControl,values:e.values,graph:t?{id:t.id,resourceId:t.resourceId,resourceName:t.resourceName,graphPoints:t.graphPoints}:void 0})})}))}function*g(e){let t=e.getTracksByTypes([a.pNd.TrackTypeVideo]),i=e.getSegmentsByMaterialTypes(a.pNd.TrackTypeVideo,[a.cVg.MetaTypeVideo]).map(e=>{let{id:t,speed:i}=e;return{id:t,speed:i.speed}});for(let e of t)for(let{id:t,extraMaterialRefs:n=[]}of e.segments){let e=i.find(e=>n.includes(e.id));e&&(yield[t,e.speed])}}let y=e=>"object"==typeof e&&null!==e&&"__segment_struct_type"in e&&"SegmentVideo"===e.__segment_struct_type,T=e=>"object"==typeof e&&null!==e&&"__segment_struct_type"in e&&"SegmentAudio"===e.__segment_struct_type,v=e=>"object"==typeof e&&null!==e&&"__segment_struct_type"in e&&"SegmentText"===e.__segment_struct_type},324993:function(e,t,i){"use strict";i(881337)},83822:function(e,t,i){"use strict";i.d(t,{Q:function(){return r}});var n=i(881337);function r(){var e,t;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{segId:void 0!==i.segId?i.segId:"",isKeyframe:void 0===i.isKeyframe||i.isKeyframe,isAutoFillKeyframe:void 0===i.isAutoFillKeyframe||i.isAutoFillKeyframe,keyframeId:void 0!==i.keyframeId?i.keyframeId:"",singleParams:(null!==(e=null==i?void 0:i.singleParams)&&void 0!==e?e:[]).map(e=>(0,n.Q2f)(e)),adjustParams:(null!==(t=null==i?void 0:i.adjustParams)&&void 0!==t?t:[]).map(e=>(0,n.Q2f)(e)),reset:void 0!==i.reset&&i.reset}}},127485:function(e,t,i){"use strict";function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{direction:void 0!==e.direction?e.direction:"",animMode:void 0!==e.animMode?e.animMode:""}}i.d(t,{I:function(){return n}})},859435:function(e,t,i){"use strict";i(881337)},128950:function(e,t,i){"use strict";i(881337)},452586:function(e,t,i){"use strict";i.d(t,{M:function(){return r}});var n=i(881337);function r(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{resourceId:void 0!==t.resourceId?t.resourceId:"",resourceName:void 0!==t.resourceName?t.resourceName:"",graphPointParams:(null!==(e=null==t?void 0:t.graphPointParams)&&void 0!==e?e:[]).map(e=>(0,n.fSd)(e))}}},384374:function(e,t,i){"use strict";i.d(t,{I:function(){return r}});var n=i(881337);function r(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:void 0!==t.id?t.id:"",propertyType:void 0!==t.propertyType?t.propertyType:"",keyframeList:(null!==(e=null==t?void 0:t.keyframeList)&&void 0!==e?e:[]).map(e=>(0,n.chi)(e))}}},81564:function(e,t,i){"use strict";i(881337)},983452:function(e,t,i){"use strict";function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{x:void 0!==e.x?e.x:0,y:void 0!==e.y?e.y:0}}i.d(t,{Z:function(){return n}})},368306:function(e,t,i){"use strict";i(881337)},116375:function(e,t,i){"use strict";i(881337)},434394:function(e,t,i){"use strict";i(881337)},862777:function(e,t,i){"use strict";i.d(t,{n:function(){return r}});var n=i(881337);function r(){var e,t;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{faceId:void 0!==i.faceId?i.faceId:"",enable:void 0===i.enable||i.enable,adjustParams:(null!==(e=null==i?void 0:i.adjustParams)&&void 0!==e?e:[]).map(e=>(0,n.Q2f)(e)),disablePart:(null!==(t=null==i?void 0:i.disablePart)&&void 0!==t?t:[]).map(e=>e)}}},213688:function(e,t,i){"use strict";i(881337)},564914:function(e,t,i){"use strict";i(881337)},338673:function(e,t,i){"use strict";i(881337)},770898:function(e,t,i){"use strict";i(881337)},467955:function(e,t,i){"use strict";i.d(t,{U:function(){return o}});var n=i(881337),r=i(602777);function o(){var e,t;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{materialId:void 0!==i.materialId?i.materialId:"",content:void 0!==i.content?i.content:"",words:((null==i?void 0:i.words)||[]).map(e=>(0,n.hK6)(e)),isBlankText:void 0!==i.isBlankText&&i.isBlankText,alignment:void 0!==i.alignment?i.alignment:r.s8.Center,typesetting:void 0!==i.typesetting?i.typesetting:0,layerWeight:void 0!==i.layerWeight?i.layerWeight:0,globalAlpha:void 0!==i.globalAlpha?i.globalAlpha:1,bgColor:void 0!==i.bgColor?i.bgColor:"",bgAlpha:void 0!==i.bgAlpha?i.bgAlpha:1,bgRoundRadiusScale:void 0!==i.bgRoundRadiusScale?i.bgRoundRadiusScale:0,bgWidth:void 0!==i.bgWidth?i.bgWidth:0,bgHeight:void 0!==i.bgHeight?i.bgHeight:0,bgVerticalOffset:void 0!==i.bgVerticalOffset?i.bgVerticalOffset:0,bgHorizontalOffset:void 0!==i.bgHorizontalOffset?i.bgHorizontalOffset:0,borderColor:void 0!==i.borderColor?i.borderColor:"",borderAlpha:void 0!==i.borderAlpha?i.borderAlpha:1,borderWidth:void 0!==i.borderWidth?i.borderWidth:.08,hasCurve:void 0!==i.hasCurve&&i.hasCurve,curveAngle:void 0!==i.curveAngle?i.curveAngle:72,fontTitle:void 0!==i.fontTitle?i.fontTitle:"",fontPath:void 0!==i.fontPath?i.fontPath:"",fontResId:void 0!==i.fontResId?i.fontResId:"",fontId:void 0!==i.fontId?i.fontId:"",fontSize:void 0!==i.fontSize?i.fontSize:15,letterSpacing:void 0!==i.letterSpacing?i.letterSpacing:0,lineSpacing:void 0!==i.lineSpacing?i.lineSpacing:.02,initialScale:void 0!==i.initialScale?i.initialScale:1,styleName:void 0!==i.styleName?i.styleName:"",textColor:void 0!==i.textColor?i.textColor:"#FFFFFF",textAlpha:void 0!==i.textAlpha?i.textAlpha:1,hasShadow:void 0!==i.hasShadow&&i.hasShadow,shadowColor:void 0!==i.shadowColor?i.shadowColor:"",shadowAlpha:void 0!==i.shadowAlpha?i.shadowAlpha:.8,shadowAngle:void 0!==i.shadowAngle?i.shadowAngle:-45,shadowSmoothing:void 0!==i.shadowSmoothing?i.shadowSmoothing:1,shadowSmoothingUseDiffuse:void 0!==i.shadowSmoothingUseDiffuse&&i.shadowSmoothingUseDiffuse,shadowDistance:void 0!==i.shadowDistance?i.shadowDistance:8,effectPath:void 0!==i.effectPath?i.effectPath:"",useEffectDefaultColor:void 0===i.useEffectDefaultColor||i.useEffectDefaultColor,shapePath:void 0!==i.shapePath?i.shapePath:"",shapeClipX:void 0!==i.shapeClipX&&i.shapeClipX,shapeClipY:void 0!==i.shapeClipY&&i.shapeClipY,textToAudioIds:(null!==(e=null==i?void 0:i.textToAudioIds)&&void 0!==e?e:[]).map(e=>e),boldWidth:void 0!==i.boldWidth?i.boldWidth:0,italicDegree:void 0!==i.italicDegree?i.italicDegree:0,hasUnderline:void 0!==i.hasUnderline&&i.hasUnderline,underlineWidth:void 0!==i.underlineWidth?i.underlineWidth:.05,underlineOffset:void 0!==i.underlineOffset?i.underlineOffset:.22,isKeyframe:void 0===i.isKeyframe||i.isKeyframe,keyframeId:void 0!==i.keyframeId?i.keyframeId:"",isAutoFillKeyframe:void 0===i.isAutoFillKeyframe||i.isAutoFillKeyframe,ktvColor:void 0!==i.ktvColor?i.ktvColor:"",subType:void 0!==i.subType?i.subType:r.SY.SubtitleMix,checkFlag:void 0!==i.checkFlag?i.checkFlag:63,textSize:void 0!==i.textSize?i.textSize:30,fontCategoryName:void 0!==i.fontCategoryName?i.fontCategoryName:"",fontSourcePlatform:void 0!==i.fontSourcePlatform?i.fontSourcePlatform:0,fontCategoryId:void 0!==i.fontCategoryId?i.fontCategoryId:"",replaceStyleRichText:void 0!==i.replaceStyleRichText?i.replaceStyleRichText:"",isRichText:void 0!==i.isRichText&&i.isRichText,ttsAutoUpdate:void 0!==i.ttsAutoUpdate&&i.ttsAutoUpdate,addType:void 0!==i.addType?i.addType:r.RZ.ManualAdd,recognizeType:void 0!==i.recognizeType?i.recognizeType:r.jI.UnkownType,fonts:(null!==(t=null==i?void 0:i.fonts)&&void 0!==t?t:[]).map(e=>(0,n.bJb)(e)),fontTeamId:void 0!==i.fontTeamId?i.fontTeamId:"",bgStyle:void 0!==i.bgStyle?i.bgStyle:0,presetId:void 0!==i.presetId?i.presetId:"",presetName:void 0!==i.presetName?i.presetName:"",presetCategory:void 0!==i.presetCategory?i.presetCategory:"",presetCategoryId:void 0!==i.presetCategoryId?i.presetCategoryId:"",presetIndex:void 0!==i.presetIndex?i.presetIndex:0,presetHasSetAlignment:void 0!==i.presetHasSetAlignment&&i.presetHasSetAlignment,forceApplyLineMaxWidth:void 0!==i.forceApplyLineMaxWidth&&i.forceApplyLineMaxWidth,language:void 0!==i.language?i.language:"",groupId:void 0!==i.groupId?i.groupId:"",fixedWidth:void 0!==i.fixedWidth?i.fixedWidth:-1,fixedHeight:void 0!==i.fixedHeight?i.fixedHeight:-1}}},432023:function(e,t,i){"use strict";i(881337)},191882:function(e,t,i){"use strict";i(881337)},411920:function(e,t,i){"use strict";i(881337)},833094:function(e,t,i){"use strict";i(881337)},629543:function(e,t,i){"use strict";i(881337)},300741:function(e,t,i){"use strict";i.d(t,{H:function(){return s}});var n=i(587892),r=i(331509),o=i(354101),a=i(265418);class s extends o.X{getDraftStr(e){return e.getAttachmentAiCreatorStr()}getFileName(){return a.J.AttachmentAiCreator}getJsonKey(){return""}draftDidUpdate(e,t){let{attachment:i=[]}=t;for(let e of i)switch(e.item.attachmentKey){case r.d3.AiStoryAlternativeMaterial:case r.d3.AiStoryGlobalId:case r.d3.AiCreator:case r.d3.AiStoryMeta:this._onChange.fire()}}constructor(){super(),this._onChange=new n.Q,this.onChange=this._onChange.event,this.setListenDraftUpdate(!0)}}s.controlName="aiCreatorAttachmentControl"},277662:function(e,t,i){"use strict";i(587892),i(690613),i(354101),i(340294)},992401:function(e,t,i){"use strict";i.d(t,{G3:function(){return f},Pu:function(){return _}});var n,r=i(481631),o=i(391889),a=i(211561),s=i(354101),l=i(53520),d=i(587892),u=i(722169),c=i(331509),p=i(270519),m=i(265418);var f=((n={})[n.ComplementFrame=1]="ComplementFrame",n[n.Deflicker=3]="Deflicker",n[n.NoiseReduction=4]="NoiseReduction",n[n.SmartColor=200]="SmartColor",n[n.Stable=201]="Stable",n);let h=e=>{let{material:t}=e,{videoAlgorithm:i,matting:n}=t||{};return(0,p.Mn)(t)?t.path||"":i.path||n.path||""},g=[{check:e=>{var t;return(null===(t=e.adjust)||void 0===t?void 0:t.enableSmartColorAdjust)!==void 0},getAlgorithm:e=>{var t,i,n;let r=null;r=(null==e?void 0:null===(t=e.adjust)||void 0===t?void 0:t.enableSmartColorAdjust)?"add":"delete";let o=null===(n=e.adjust)||void 0===n?void 0:null===(i=n.smartAdjustColor)||void 0===i?void 0:i.value;return{actionType:r,algorithm:new a.gzg({name:String(null!=o?o:0),type:200,platform:"web"})}}},{check:e=>{var t;return(null==e?void 0:null===(t=e.material)||void 0===t?void 0:t.stable)!==void 0},getAlgorithm:e=>{var t,i,n,r,o;let s=null;s=(null==e?void 0:null===(i=e.material)||void 0===i?void 0:null===(t=i.stable)||void 0===t?void 0:t.stableLevel)===0||(null==e?void 0:null===(n=e.material)||void 0===n?void 0:n.stable)===null?"delete":"add";let l=null===(o=e.material)||void 0===o?void 0:null===(r=o.stable)||void 0===r?void 0:r.stableLevel;return{actionType:s,algorithm:new a.gzg({name:String(l),type:201,platform:"web"})}}},{check:e=>{var t,i;return(null===(i=e.material)||void 0===i?void 0:null===(t=i.videoAlgorithm)||void 0===t?void 0:t.algorithms)!==void 0},getAlgorithm:(e,t)=>{var i,n,r,o,s,l;let d=null,u=(null==t?void 0:null===(r=t.material)||void 0===r?void 0:null===(n=r.videoAlgorithm)||void 0===n?void 0:null===(i=n.complementFrameConfig)||void 0===i?void 0:i.mode)||a.zAn.Origin;return{actionType:d=(null===(l=e.material)||void 0===l?void 0:null===(s=l.videoAlgorithm)||void 0===s?void 0:null===(o=s.algorithms)||void 0===o?void 0:o.find(e=>(null==e?void 0:e.type)===a.zzh.ComplementFrame))?"add":"delete",algorithm:new a.gzg({name:u,type:1,platform:"all"})}}},{check:e=>{var t,i;return(null==e?void 0:null===(i=e.material)||void 0===i?void 0:null===(t=i.videoAlgorithm)||void 0===t?void 0:t.algorithms)!==void 0},getAlgorithm:e=>{var t,i,n;let r=null;return{actionType:r=(null===(n=e.material)||void 0===n?void 0:null===(i=n.videoAlgorithm)||void 0===i?void 0:null===(t=i.algorithms)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.type)===a.zzh.NoiseReduction))?"add":"delete",algorithm:new a.gzg({name:"",type:4,platform:"all"})}}},{check:e=>{var t,i;return(null==e?void 0:null===(i=e.material)||void 0===i?void 0:null===(t=i.videoAlgorithm)||void 0===t?void 0:t.algorithms)!==void 0},getAlgorithm:e=>{var t,i,n;let r=null;return{actionType:r=(null===(n=e.material)||void 0===n?void 0:null===(i=n.videoAlgorithm)||void 0===i?void 0:null===(t=i.algorithms)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.type)===a.zzh.Deflicker))?"add":"delete",algorithm:new a.gzg({name:"",type:3,platform:"all"})}}}],y=new Map,T=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return`${e}_${t}_${i}_${n}`};class v{addAlgorithm(e,t,i){let n=i.draftView.getSegmentById(e),o=i.draftView.getTrackBySegmentId(e);if(!!o&&!!n&&!!(0,r.he)(n))i.api.attachment.insertVideoAlgorithms({videoAlgorithms:[new a.e_Q({...t,segmentId:n.id,trackId:o.id,materialId:n.material.id})]})}updateAlgorithm(e,t,i){var n,o,s,d,u,c,p,m,f,g,v;let _=i.draftView.getSegmentById(e),S=i.draftView.getTrackBySegmentId(e);if(!S||!_||!(0,r.he)(_))return;let A=i.draftView.getVideoAlgorithm(e),I=h(_);if(!A){let n=new a.e_Q({segmentId:e,trackId:S.id,materialId:_.material.id,path:I,algorithms:[new a.gzg(t)],pipelineId:null!==(f=y.get(T(e,S.id,null==_?void 0:null===(c=_.material)||void 0===c?void 0:null===(u=c.videoAlgorithm)||void 0===u?void 0:u.path,null==_?void 0:null===(m=_.material)||void 0===m?void 0:null===(p=m.matting)||void 0===p?void 0:p.path)))&&void 0!==f?f:""});i.api.attachment.insertVideoAlgorithms({videoAlgorithms:[n]}),l.t.setCache(I,n);return}let{algorithms:M=[]}=A,x=M.findIndex(e=>e.type===t.type),F=[...M];x>-1&&F.splice(x,1),F.push(new a.gzg(t));let k={...A,path:I,algorithms:F,materialId:_.material.id,pipelineId:null!==(v=null!==(g=y.get(T(e,S.id,null==_?void 0:null===(o=_.material)||void 0===o?void 0:null===(n=o.videoAlgorithm)||void 0===n?void 0:n.path,null==_?void 0:null===(d=_.material)||void 0===d?void 0:null===(s=d.matting)||void 0===s?void 0:s.path)))&&void 0!==g?g:A.pipelineId)&&void 0!==v?v:""};l.t.setCache(I,new a.e_Q(k)),i.api.attachment.updateVideoAlgorithm(k)}deleteAlgorithm(e,t,i){let n=t.draftView.getVideoAlgorithm(e);if(n){let{path:o}=n;if(!i){t.api.attachment.deleteVideoAlgorithms({segmentIds:[e]});return}let s=t.draftView.getSegmentById(e);if(!s||!(0,r.he)(s))return;let{algorithms:d=[]}=n,u=[...d],c=h(s),p=d.findIndex(e=>e.type===i.type);p>-1&&(u.splice(p,1),o&&l.t.setCache(o,new a.e_Q({...n,algorithms:u})),t.api.attachment.updateVideoAlgorithm({segmentId:e,algorithms:u})),!u.length&&!c&&t.api.attachment.deleteVideoAlgorithms({segmentIds:[e]})}}updateAlgorithmByPayload(e,t,i,n){let r=n.draftView.getVideoAlgorithm(e),o=Object.keys(i).reduce((e,t)=>({...e,[t]:i[t]}),{});if(!r){n.api.attachment.insertVideoAlgorithms({videoAlgorithms:[new a.e_Q({segmentId:e,trackId:t,...i})]});return}let s={...r,...o};n.api.attachment.updateVideoAlgorithm(s),i.path&&l.t.setCache(i.path,s)}deleteAttachmentIfInValid(e,t){var i;let n=t.draftView.getVideoAlgorithm(e);if(!!n)!(null==n?void 0:n.pipelineId)&&!(null===(i=n.algorithms)||void 0===i?void 0:i.length)&&!n.path&&t.api.attachment.deleteVideoAlgorithms({segmentIds:[e]})}}class _ extends s.X{getDraftStr(e){return e.getAttachmentVideoAlgorithmsStr()}getFileName(){return m.J.AttachmentVideoAlgorithm}getJsonKey(){return""}updateAttachmentJson(e,t,i,n){i.pipelineId&&(i.path||i.mattingPath)&&y.set(T(e,t,i.path,i.mattingPath),i.pipelineId),this._attachmentDraft.updateAlgorithmByPayload(e,t,(0,u.omit)(i,"mattingPath"),n),this._onChange.fire()}draftDidUpdate(e,t){let{segment:i=[],attachment:n=[]}=t;for(let t of i){let{segment:i}=t.item;if((null==i?void 0:i.__segment_struct_type)==="SegmentVideo")t.type===o.C8.ADD&&this.addSegment(t.item,e),t.type===o.C8.DELETE&&this.deleteSegment(t.item,e),t.type===o.C8.UPDATE&&this.updateSegment(t.item,e)}for(let e of n)if(e.item.attachmentKey===c.d3.VideoAlgorithm){this._onChange.fire();break}}updateSegment(e,t){var i,n,o,a,s,l,d,u;let{id:c,segment:m}=e,f=t.draftView.getTrackBySegmentId(c),g=t.draftView.getSegmentById(c);if(!g||!f||!(0,r.RF)(m))return;let v=this.getAlgorithmProcessArrayByDelta(m,g,t);if(null==v?void 0:v.length)for(let e of v)"delete"===e.actionType?this._attachmentDraft.deleteAlgorithm(g.id,t,e.algorithm):"add"===e.actionType&&this._attachmentDraft.updateAlgorithm(g.id,e.algorithm,t);if((null===(n=m.material)||void 0===n?void 0:null===(i=n.videoAlgorithm)||void 0===i?void 0:i.path)!==void 0||(null===(a=m.material)||void 0===a?void 0:null===(o=a.matting)||void 0===o?void 0:o.path)!==void 0){let e=h(g),i=(0,p.Mn)(g.material),n=y.get(T(c,f.id,i?e:null==g?void 0:null===(l=g.material)||void 0===l?void 0:null===(s=l.videoAlgorithm)||void 0===s?void 0:s.path,null==g?void 0:null===(u=g.material)||void 0===u?void 0:null===(d=u.matting)||void 0===d?void 0:d.path)),r={path:e,materialId:g.material.id};n&&(r.pipelineId=n),this._attachmentDraft.updateAlgorithmByPayload(c,f.id,r,t)}this._attachmentDraft.deleteAttachmentIfInValid(c,t)}addSegment(e,t){let{segment:i}=e;if(!(0,r.he)(i)||!this._isIntelligentSegment(i))return;let n=t.draftView.getVideoAlgorithm(i.id),o=h(i),a=l.t.getCache(o);a&&!n?this._attachmentDraft.addAlgorithm(i.id,a,t):!a&&n&&l.t.setCache(o,n)}deleteSegment(e,t){let{segment:i}=e;if(!!i&&!!(0,r.he)(i))this._attachmentDraft.deleteAlgorithm(i.id,t)}getAlgorithmProcessArrayByDelta(e,t,i){if(!i.draftView.getTrackBySegmentId(t.id)||!(0,r.RF)(e))return null;let n=[];for(let i of g){if(!!i.check(e))n.push(i.getAlgorithm(e,t))}return(null==n?void 0:n.length)?n:null}constructor(){super(),this._onChange=new d.Q,this.onChange=this._onChange.event,this._isIntelligentSegment=e=>{let{videoAlgorithm:t,matting:i}=e.material||{};return t.path||i.path},this.setListenDraftUpdate(!0),this._attachmentDraft=new v}}_.controlName="videoAlgorithmAttachmentControl"},52757:function(e,t,i){"use strict";i.d(t,{LM:function(){return g},hO:function(){return p},oI:function(){return h},sU:function(){return function e(t){var i,h,T,v,_,S;let A=arguments.length>1&&void 0!==arguments[1]&&arguments[1],I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],x={},F=[],k=[],C=[],w=[],{materials:V,platform:b}=t,{images:E}=V;if(Array.isArray(E))for(let e of E)F.push(e.id);let{shapes:P}=V;if(Array.isArray(P))for(let e of P)k.push(e.id);let{handwrites:N}=V;if(Array.isArray(N))for(let e of N)e.type===o.cVg.MetaTypeHandwriteRes?C.push(e.id):F.push(e.id);let{videos:R}=V;if(Array.isArray(R))for(let e of R)w.push(e.id);let{stickers:D}=V;if(Array.isArray(D))for(let e of D){F.push(e.id);let t=0,i="",n="",r="",o="";t=e.source_platform?e.source_platform:0,e.category_id&&(r=e.category_id),e.category_name&&e.category_name,n="emoji"===r||"400"===r?"emoji":s.U_.Default,i=e.resource_id,g(x,e,["effect_id","sticker_id"],"path","icon_url","name","",e.id,i,n,e.type,t)}let O=V.digital_humans;if(Array.isArray(O))for(let e of O){let{mask:t,background:n}=e;if(t){let e=t.id,n=void 0!==t.source_platform?t.source_platform:o.nj7.EffectPlatformLoki,r=null!==(i=t.resource_id)&&void 0!==i?i:"",a=null!==(h=t.type)&&void 0!==h?h:"";g(x,t,[],"path","","name","",e,r,"aiavatarmask",a,n)}if(n&&n.type===o.cVg.MetaTypeCanvasImage){let t=e.id,i=void 0!==n.source_platform?n.source_platform:o.nj7.EffectPlatformLoki,r=null!==(T=n.image_id)&&void 0!==T?T:"",a=null!==(v=n.type)&&void 0!==v?v:"";g(x,n,[],"value","","","",t,r,"canvas",a,i)}}let L=V.material_animations;if(L){let e=new Set,i=new Set,n=new Set,r=new Set,{tracks:a}=t;for(let t of a){if(t.type!==o.pNd.TrackTypeText&&t.type!==o.pNd.TrackTypeSticker&&t.type!==o.pNd.TrackTypeVideo)continue;let{segments:a}=t;for(let t of a){let o=t.extra_material_refs;if(!o)continue;let a=t.material_id;if(F.includes(a))for(let t of o)e.add(t);if(C.includes(a))for(let e of o)n.add(e);if(k.includes(a))for(let e of o)i.add(e);if(w.includes(a))for(let e of o)r.add(e)}}if(Array.isArray(L))for(let t of L){let a;let{id:l}=t,d=e.has(l),u=n.has(l),c=r.has(l),p=i.has(l);a=d?s.U_.Sticker:p?s.U_.ShapeAnimation:u?s.U_.PathAnimation:c?s.U_.Video:s.U_.Text;let{type:m,animations:f}=t;if(Array.isArray(f))for(let e of f){let i=e.resource_id,n=null!==(_=e.source_platform)&&void 0!==_?_:o.nj7.EffectPlatformLoki;if(!i){if(Array.isArray(V.text_templates)){for(let i of V.text_templates)if(Array.isArray(i.text_info_resources))for(let n of i.text_info_resources)n.extra_material_refs.includes(t.id)&&e.path.startsWith(i.path)&&M.push({relativePath:e.path.replace(i.path,""),reference:i,effect:e})}console.error(`Cannot find resource_id of type: ${m} with id: ${l}`);continue}g(x,e,["effect_id","id"],"path","","name","",l,i,a,m,n)}}}let{texts:K}=V;if(Array.isArray(K))for(let e of K){let t=e.id,{type:i,fonts:n,caption_template_info:a}=e;if((null==a?void 0:a.resource_id)&&g(x,a,["effect_id"],"","","resource_name","",t,a.resource_id,s.U_.SubtitleTemplate,i,null!==(S=a.source_platform)&&void 0!==S?S:o.nj7.EffectPlatformArtist),!n||!n.length){let n;if(void 0===e.font_resource_id)continue;let o=e.font_resource_id,a="fonts";o?r.NG.has(o)&&(a=p):(o="6776502040345448973",a=c),n=e.font_source_platform?e.font_source_platform:0,g(x,e,["effect_id","font_id"],"font_path","","font_title","",t,o,a,i,n)}if(Array.isArray(n))for(let e of n){let n,o=e.resource_id,a=s.U_.Fonts;o?r.NG.has(o)&&(a=s.U_.SystemFonts):(o="6776502040345448973",a=s.U_.Integration),n=e.source_platform?e.source_platform:0,g(x,e,["effect_id","font_id"],"path","","title","",t,o,a,i,n)}}y(x,new u.V().collect(t));let{effects:B}=V;if(Array.isArray(B))for(let e of B){let t;let i=e.id,n="";"string"==typeof e.category_id&&(n=e.category_id);let r="";"string"==typeof e.panel_id&&(r=e.panel_id);let{type:a}=e;if(a===o.cVg.MetaTypeLUT)continue;let s=e.resource_id,l="";e.version&&({version:l}=e);let d="";if(s){if(!(d=f(a,n,r,A))){console.error("Cannot find panel of effect whose type is",a);continue}}else{if(!(s=m(a,l))){console.error("Cannot find resource_id of effect whose type is",a);continue}d=c}t=e.source_platform?e.source_platform:0,g(x,e,["effect_id","id"],"path","","name","",i,s,d,a,t)}let{transitions:z}=V;if(Array.isArray(z))for(let e of z){let t=e.id;if(!e.resource_id)continue;let i=e.resource_id,{type:n,source_platform:r}=e;g(x,e,["effect_id"],"path","","name","",t,i,"transitions",n,null!=r?r:o.nj7.EffectPlatformLoki)}let{common_mask:H}=V;if(Array.isArray(H))for(let e of H){let{type:t,id:i,resource_id:n,source_platform:r}=e;g(x,e,["effect_id"],"path","","name","",i,n,"videomask",t,null!=r?r:o.nj7.EffectPlatformLoki)}let{chromas:U}=V;if(Array.isArray(U))for(let e of U){let t=e.id,{resourceId:i}=(0,a.Cr)(null==b?void 0:b.os,e.version),{type:n}=e;g(x,e,[],"path","","","",t,i,c,n,o.nj7.EffectPlatformLoki)}let j=V.video_effects;if(Array.isArray(j))for(let e of j){let t;let i=e.id,n=e.resource_id,{type:r}=e,o="";e.version&&({version:o}=e);let a="";if(n){if(!(a=f(r,"","",A))){console.error("Cannot find panel of video_effect whose type is",r);continue}}else{if(!(n=m(r,o))){console.error("Cannot find resource_id of video_effect whose type is",r);continue}a=c}t=e.source_platform?e.source_platform:0,g(x,e,["effect_id"],"path","","name","",i,n,a,r,t)}let W=V.audio_effects;if(Array.isArray(W))for(let e of W){let t=e.id,i=e.resource_id;if(!e.resource_id||e.is_vc_clone_tone)continue;let{type:n,source_platform:r}=e;g(x,e,["effect_id","id"],"path","","name","",t,i,s.U_.VoiceChange,n,null!=r?r:o.nj7.EffectPlatformLoki)}let G=V.color_curves;if(Array.isArray(G))for(let e of G){let t=e.id,i=e.resource_id,r=e.source_platform,{type:a}=e,l=s.U_.CurveHSL;n.R&&(l=s.U_.Integration),g(x,e,["effect_id","id"],"path","","","",t,i,l,a,null!=r?r:o.nj7.EffectPlatformLoki)}let X=V.hsl;if(Array.isArray(X))for(let e of X){let t=e.id,{type:i}=e;g(x,e,[],"path","","","",t,"6776502356789345623",c,i,o.nj7.EffectPlatformLoki)}let Z=V.primary_color_wheels;if(Array.isArray(Z))for(let e of Z){let t=e.id,i=e.resource_id,n=e.source_platform,{type:r}=e,a=s.U_.CurveHSL;if(!!i)g(x,e,["effect_id","id"],"path","","","",t,i,a,r,null!=n?n:o.nj7.EffectPlatformLoki)}let Y=V.log_color_wheels;if(Array.isArray(Y))for(let e of Y){let t=e.id,i=e.resource_id,n=e.source_platform,{type:r}=e,a=s.U_.CurveHSL;if(!!i)g(x,e,["effect_id","id"],"path","","","",t,i,a,r,null!=n?n:o.nj7.EffectPlatformLoki)}let{speeds:$}=V;if(Array.isArray($))for(let e of $){let t=e.id,i=e.curve_speed;if(i){let{id:n,source_platform:r}=i,{type:a}=e;if(!n){console.error("Cannot find resource_id of speed");continue}g(x,e,["effect_id"],"","","name","",t,n,f(a,"","",A),a,null!=r?r:o.nj7.EffectPlatformLoki)}}let{realtime_denoises:q}=V;if(Array.isArray(q))for(let e of q)g(x,e,[],"path","","","","","__REALTIME_DENOISE__","",o.cVg.MetaTypeRealtimeDenoise,o.nj7.EffectPlatformLoki);let{drafts:J}=V;if(Array.isArray(J))for(let t of J){let{type:i}=t,{draft:n}=t;y(x,e(n,"cover"===i,I))}let Q=V.log_color_wheels;if(Array.isArray(Q))for(let e of Q){let t=e.id,i=e.resource_id,{type:n}=e,r=s.U_.CurveHSL;if(!!i)g(x,e,["effect_id","id"],"path","","","",t,i,r,n,o.nj7.EffectPlatformLoki)}let ee=V.primary_color_wheels;if(Array.isArray(ee))for(let e of ee){let t=e.id,i=e.resource_id,{type:n}=e,r=s.U_.CurveHSL;if(!!i)g(x,e,["effect_id","id"],"path","","","",t,i,r,n,o.nj7.EffectPlatformLoki)}let et=V.manual_deformations;if(Array.isArray(et))for(let e of et){let t=e.id,i=e.resource_id,{type:n}=e;g(x,e,[],"resource_path","","","",t,i,s.U_.ManualFigure,n,o.nj7.EffectPlatformLoki)}y(x,new d.Q().collect(t)),y(x,new l._().collect(t));let{cover:ei}=V;if(ei){let t=ei.cover_draft;t&&y(x,e(t,!0,I))}return x}}});var n=i(438176),r=i(49667),o=i(211561),a=i(216023),s=i(320271),l=i(395138),d=i(535006),u=i(674120);let c="integration",p="system-fonts";function m(e,t){switch(e){case o.cVg.MetaTypeBrightness:if("v2"===t)return"7088143327614210591";if("v1"===t)return"6890480334995984903";else return"6776505054636544524";case o.cVg.MetaTypeContrast:if("v1"===t)return"7088143391271162381";return"6776504701362901518";case o.cVg.MetaTypeSaturation:if("v1"===t)return"7088144375489761806";return"6776504586996814340";case o.cVg.MetaTypeSharpen:if("v1"===t)return"7088144513608192549";return"6776553238729593356";case o.cVg.MetaTypeHighlight:if("v2"===t)return"7088144414505177607";if("v1"===t)return"6890480826375475726";else return"6776504861203632654";case o.cVg.MetaTypeShadow:if("v2"===t)return"7088144414505177607";if("v1"===t)return"7088144463821804039";else return"6776538804313395726";case o.cVg.MetaTypeTemperature:if("v2"===t)return"7088144564292162061";return"6776538977265521165";case o.cVg.MetaTypeHue:if("v2"===t)return"7088144564292162061";if("v1"===t)return"6890481172854346247";else return"6776538687397171720";case o.cVg.MetaTypeFade:return"6776504780459086344";case o.cVg.MetaTypeVignetting:if("v1"===t)return"7088144611222229518";return"6890481270678098445";case o.cVg.MetaTypeParticle:if("v1"===t)return"7088143665373123080";return"6890480998878810632";case o.cVg.MetaTypeLightSensation:return"6890480915479269902";case o.cVg.MetaTypeHsl:return"6776502356789345623";case o.cVg.MetaTypeColorCurves:return"7040008114145333791";default:return""}}function f(e,t,i,n){switch(e){case o.cVg.MetaTypeFilter:return s.U_.Filter;case o.cVg.MetaTypeVideoEffect:return s.U_.Effects;case o.cVg.MetaTypeFaceEffect:return s.U_.FaceProp;case o.cVg.MetaTypeTextShape:if(n)return s.U_.Bubble2;return s.U_.Bubble;case o.cVg.MetaTypeTextEffect:if(n)return s.U_.Flower2;return s.U_.Flower;case o.cVg.MetaTypeVideoAnimation:return s.U_.Video;case o.cVg.MetaTypeVideoMix:return s.U_.Mix;case o.cVg.MetaTypeFigure:if(t===s.U_.AutoBeautyShape||t===s.U_.AutoBeauty||t===s.U_.AutoBeautyBody||t===s.U_.AutoBeautyMakeup)return t;return s.U_.ManualFigure;case o.cVg.MetaTypeSpeed:return s.U_.Curvespeed;case o.cVg.MetaTypeAudioEffect:return s.U_.VoiceChange;case o.cVg.MetaTypeHandwriteRes:return s.U_.Graffiti;case o.cVg.MetaTypeBloom:return s.U_.TextGlow;case o.cVg.MetaTypeSmartColorAdjust:return s.U_.SmartColorAdjust;case o.cVg.MetaTypeGreenScreen:return s.U_.CC4BGsEdit;case o.cVg.MetaTypeMakeupRoot:return s.U_.AutoBeautyMakeup;case o.cVg.MetaTypeColorMatch:return s.U_.ColorMatch;case o.cVg.MetaTypeSmartRelight:return s.U_.SmartRelight;default:return""}}function h(e){if(e===s.U_.Filter)return o.cVg.MetaTypeFilter;if(e===s.U_.Effects)return o.cVg.MetaTypeVideoEffect;if(e===s.U_.Bubble||e===s.U_.Bubble2)return o.cVg.MetaTypeTextShape;else if(e===s.U_.Flower||e===s.U_.Flower2)return o.cVg.MetaTypeTextEffect;else if(e===s.U_.Video)return o.cVg.MetaTypeVideoAnimation;else if(e===s.U_.Mix)return o.cVg.MetaTypeVideoMix;else if(e===s.U_.Curvespeed)return o.cVg.MetaTypeSpeed;else if(e===s.U_.Videomask)return o.cVg.MetaTypeVideoMask;else if(e===s.U_.Fonts)return o.cVg.MetaTypeText;else if(e===s.U_.Transitions)return o.cVg.MetaTypeTransition;else if(e===s.U_.TextTemplate)return o.cVg.MetaTypeTextTemplate;else if(e===s.U_.Default||e===s.U_.Emojiios||e===s.U_.Iosemojinew)return o.cVg.MetaTypeSticker;else if(e===s.U_.Sticker||e===s.U_.Text)return o.cVg.MetaTypeAnimation;else if(e===s.U_.Canvas)return o.cVg.MetaTypeCanvasImage;else if(e===s.U_.Tone)return o.cVg.MetaTypeHue;else if(e===s.U_.SkeletonBody)return o.cVg.MetaTypeStretchLeg;else if(e===s.U_.Beauty2)return o.cVg.MetaTypeFigure;else if(e===s.U_.FaceProp)return o.cVg.MetaTypeFaceEffect;else if(e===s.U_.Graffiti)return o.cVg.MetaTypeHandwriteRes;return o.cVg.MetaTypeNone}function g(e,t,i,n,r,o,a,s,l,d,u,c){!e[l]&&(e[l]={resource_id:l,panel:d,meta_type:u,source_platform:c,references:[]});e[l].references.push({material_id:s,node:t,key_effect_id:i,key_path:n,key_icon_url:r,key_name:o,key_resource_id:a})}function y(e,t){for(let[i,n]of Object.entries(t))e[i]?e[i].references.push(...n.references):e[i]=n}},475298:function(e,t,i){"use strict";i.d(t,{GE:function(){return n.G},Y_:function(){return o.Y},sU:function(){return r.sU}}),i(754174);var n=i(28939),r=i(52757),o=i(722955);i(643293)},924041:function(e,t,i){"use strict";i.d(t,{Mo:function(){return a},b:function(){return s}});var n=i(179153);i(973735);var r=i(879856),o=i(800788);function a(e){let t=new n.P(e).migrate();return(0,o.Y2)(t.ok),t.value}function s(e,t){let i=new r.S(e,t).migrate();return(0,o.Y2)(i.ok),i.value}},807826:function(e,t,i){"use strict";i.d(t,{$:function(){return o}});var n=i(690613),r=i(341360);class o extends r.k{migrateInner(e){return(0,n.oW)(e)}constructor(...e){super(...e),this.version="116.0.0",this.needEnumerateSubDrafts=!0}}},589635:function(e,t,i){"use strict";i.d(t,{c:function(){return a}});var n=i(690613),r=i(341360),o=i(211561);class a extends r.k{migrateInner(e){let{materials:t}=e,{common_mask:i}=t;if(i)return(0,n.oW)(e);let r=[],a=new Set,{adjust_masks:s,masks:l,digital_humans:d}=t;Array.isArray(s)&&(s.forEach(e=>{e.category="adjust",r.push(e)}),t.adjust_masks=void 0),Array.isArray(l)&&(l.forEach(e=>{e.constant_material_id=e.id,e.category="video",e.loader_work_space="",e.track_segment="",e.is_old_version=!0,r.push(e),a.add(e.id)}),t.masks=void 0),t.common_mask=r,Array.isArray(d)&&d.forEach(e=>{e.category="digital_human"});let{tracks:u}=e;return Array.isArray(u)?(u.forEach(e=>{let{segments:t}=e;if(!!Array.isArray(t))t.forEach(e=>{let t=e.common_keyframes;if(!!Array.isArray(t))t.forEach(e=>{"KFTypeAdjustColorMaskPostionX"===e.property_type?e.property_type="KFTypeCommonMaskPositionX":"KFTypeAdjustColorMaskPostionY"===e.property_type?e.property_type="KFTypeCommonMaskPositionY":"KFTypeAdjustColorMaskSizeWidth"===e.property_type?e.property_type="KFTypeCommonMaskSizeWidth":"KFTypeAdjustColorMaskSizeHeight"===e.property_type?e.property_type="KFTypeCommonMaskSizeHeight":"KFTypeAdjustColorMaskRotation"===e.property_type?e.property_type="KFTypeCommonMaskRotation":"KFTypeAdjustColorMaskFeather"===e.property_type?e.property_type="KFTypeCommonMaskFeather":"KFTypeAdjustColorMaskRoundCorner"===e.property_type?e.property_type="KFTypeCommonMaskRoundCorner":"KFTypeAdjustColorMaskExpansion"===e.property_type&&(e.property_type="KFTypeCommonMaskExpansion")})})}),u.forEach(e=>{if("video"!==e.type)return;let{segments:t}=e;if(!!Array.isArray(t))t.forEach(e=>{let{extra_material_refs:t}=e;if(!Array.isArray(t))return;let i=t.find(e=>a.has(e));if(!i)return;let n=e.common_keyframes;if(!!Array.isArray(n))n.forEach(e=>{e.property_type===o.Eu.KFTypeMaskPostionX?(e.property_type="KFTypeCommonMaskPositionX",e.material_id=i):e.property_type===o.Eu.KFTypeMaskPostionY?(e.property_type="KFTypeCommonMaskPositionY",e.material_id=i):e.property_type===o.Eu.KFTypeMaskSizeX?(e.property_type=o.Eu.KFTypeCommonMaskSizeWidth,e.material_id=i):e.property_type===o.Eu.KFTypeMaskSizeY?(e.property_type=o.Eu.KFTypeCommonMaskSizeHeight,e.material_id=i):e.property_type===o.Eu.KFTypeMaskRotation?(e.property_type=o.Eu.KFTypeCommonMaskRotation,e.material_id=i):e.property_type===o.Eu.KFTypeMaskFeather?(e.property_type=o.Eu.KFTypeCommonMaskFeather,e.material_id=i):e.property_type===o.Eu.KFTypeMaskRoundCorner?(e.property_type=o.Eu.KFTypeCommonMaskRoundCorner,e.material_id=i):"KFTypeAdjustColorMaskExpansion"===e.property_type&&(e.property_type="KFTypeCommonMaskExpansion")})})}),(0,n.oW)(e)):(0,n.oW)(e)}constructor(...e){super(...e),this.version="125.0.0",this.needEnumerateSubDrafts=!0}}},744581:function(e,t,i){"use strict";i.d(t,{S:function(){return a}});var n=i(602777),r=i(690613),o=i(341360);class a extends o.k{migrateInner(e,t){let i=n.pN.TrackTypeFilter,o=[];if("tracks"in e&&Array.isArray(e.tracks)){let{tracks:t}=e;for(let e=0;e<t.length;++e){let n=t[e];if(!("type"in n)||!("segments"in n)||!Array.isArray(n.segments))continue;let{segments:r}=n;if(n.type===i)for(let e=0;e<r.length;++e)o.push(r[e])}}return this.upgradeRenderIndex(o),e.new_version=this.getStringVersion(),(0,r.oW)(e)}upgradeRenderIndex(e){let t=[];for(let i=0;i<e.length;++i){let n=e[i].render_index;t.push([i,n])}t.sort((e,t)=>e[1]-t[1]);let i=0;for(let n=0;n<t.length;++n)e[t[n][0]].render_index=i,++i}constructor(...e){super(...e),this.version="34.0.0"}}},773919:function(e,t,i){"use strict";i.d(t,{i:function(){return s}});var n=i(690613),r=i(341360),o=i(340294),a=i(283395);class s extends r.k{migrateInner(e,t){let i=this.correctResourceInfo(e,t);return i.ok?(0,n.oW)(e):i}correctResourceInfo(e,t){let i={};if(!(e.platform&&(0,o.Fz)(e.platform)))return(0,n.ly)();i=e.platform;let r="";if(!i.app_source||"string"!=typeof i.app_source)return(0,n.ly)();r=i.app_source;if("cc"!==r)return(0,n.ly)();if(!e.materials||!e.tracks)return(0,n.wf)(a.D.kDeserializeJsonFailed,"no materials or tracks in root");let s=e.materials,l=s.manual_deformations;if(!l)return(0,n.ly)();for(let e of l){if(!e.resource_id||"string"!=typeof e.resource_id)continue;let t=e.resource_id,i=this.correctCcResourceIds[t];i&&(e.resource_id=i)}for(let e of s.effects){if(!e.resource_id||"string"!=typeof e.resource_id)continue;let t=e.resource_id,i=this.correctCcResourceIds[t];i&&(e.resource_id=i)}return(0,n.ly)()}constructor(...e){super(...e),this.version="71.0.0",this.correctCcResourceIds={"7108624513650135560":"7114280216196813314","6976823053212717576":"7130178350013747714","7126765507457323557":"7130178350013747714"}}}},296862:function(e,t,i){"use strict";i.d(t,{W:function(){return o}});var n=i(690613),r=i(341360);class o extends r.k{migrateInner(e,t){var i,r,o,a,s,l;let d=null!==(o=null===(i=e.platform)||void 0===i?void 0:i.os)&&void 0!==o?o:"",u=null!==(a=null===(r=e.last_modified_platform)||void 0===r?void 0:r.os)&&void 0!==a?a:"",{materials:c}=e,{videos:p}=c;for(let e of p){let{gameplay:t}=e;if(t){let{algorithm:e}=t;""!==e&&(t.enable=!0)}}if(s=d,l=u,""===s||"windows"===l||"mac"===l||("macOS"===s||"windows"===s||"mac"===s||""===s)&&""===l||!e.tracks)return(0,n.oW)(e);let{tracks:m}=e;for(let e of m){if("video"!==e.type)continue;let{segments:t}=e;if(t)for(let e of t){let{clip:t}=e;if(t){let{transform:e}=t;if(e){let{x:t}=e,{y:i}=e;e.x=2*t,e.y=-2*i}}let i=e.common_keyframes;if(i&&i.length>0){let e=0;for(let t of i){let i=t.property_type;if("KFTypePositionX"===i){let i=t.keyframe_list;if(i)for(let e of i){let t=e.values;1===t.length&&(t[0]=2*t[0])}e++}if("KFTypePositionY"===i){let i=t.keyframe_list;if(i)for(let e of i){let t=e.values;1===t.length&&(t[0]=-2*t[0])}e++}if(2===e)break}}}}return(0,n.oW)(e)}constructor(...e){super(...e),this.version="87.0.0",this.needEnumerateSubDrafts=!0}}},720207:function(e,t,i){"use strict";i.d(t,{gG:function(){return g},hm:function(){return h},yB:function(){return y}});var n=i(722169),r=i(661936),o=i(602777),a=i(810909),s=i(287165),l=i(340294);function d(e){return[(0,a.CP)(BigInt(e))]}function u(e){return[(0,a.av)(BigInt(e))]}function c(e){return[(0,a.WL)(BigInt(e))]}function p(e){let t=[];return BigInt(e)===o.FD.SKFFPosition?t=[o.Eu.KFTypePositionX,o.Eu.KFTypePositionY]:t.push((0,a.vK)(BigInt(e))),t}function m(e){let t=[];return BigInt(e)===o.ND.TKFFPosition?t=[o.Eu.KFTypePositionX,o.Eu.KFTypePositionY]:BigInt(e)===o.ND.TKFFShadowPoint?t.push(o.Eu.KFTypeShadowDistance):BigInt(e)===o.ND.TKFFBorderColor?t=[o.Eu.KFTypeBorderColor,o.Eu.KFTypeBorderAlpha]:t.push((0,a.F6)(BigInt(e))),t}function f(e){let t=[];return BigInt(e)===o.n1.VKFFPosition?t=[o.Eu.KFTypePositionX,o.Eu.KFTypePositionY]:t.push((0,a.he)(BigInt(e))),t}class h{static get_keyframe_migration_processors(){return[["adjusts",r.zq,r.q1,d],["audios",r.qz,r.v0,u],["filters",r.WX,r.eY,c],["handwrites",r.Hw,r.sZ,p],["stickers",r.Hw,r.sZ,p],["texts",r.N4,r.F5,m],["videos",r.zn,r.wq,f]]}static migration(e,t,i,n,r,o){for(let a of o(i))this.migration_per_property_type(e,t,a,n,r)}static find_keyframe_owner(e,t){let i=e.find(e=>{for(let i of e.keyframe_refs)if(i===t)return!0;return!1});return i?i:null}static migration_video_effect_keyframes(e,t,i){for(let n of i){let i=n.id,r=h.find_keyframe_owner(e,i);if(!r&&(r=h.find_keyframe_owner(t,i)),!r)continue;!("common_keyframes"in r)&&(r.common_keyframes=[]);let o=r.common_keyframes;for(let e of n.values){let t=e.key,i=o.find(e=>t===e.property_type),r={},a=[e.value];if(r.id=(0,s.p)(),r.time_offset=n.time_offset,r.values=a,r.curveType="Line",r.graphID="",r.left_control={x:0,y:0},r.right_control={x:0,y:0},i)i.keyframe_list.push(r);else{let e=[];e.push(r);let i={id:(0,s.p)(),property_type:t,keyframe_list:e};o.push(i)}}}}static check_keyframe_valid(e,t,i,n){if("adjusts"===e)return this.check_global_adjust_keyframe_valid(t,i,n);if("audios"===e)return this.check_audio_keyframe_valid(t,i,n);if("videos"===e)return this.check_video_keyframe_valid(t,i,n);else return!0}static migration_per_property_type(e,t,i,n,r){let o=e.common_keyframes,a=o.find(e=>i===e.property_type),d={};d.id=(0,s.p)(),d.time_offset=t.time_offset;let u=r(i,t);if(0===u.length)return;d.values=u;let{graph:c}=t;if((0,l.Fz)(c)){let e={...c,id:(0,s.p)()};d.curveType="CurveInOut",d.graphID=e.id,n.push(e)}else d.curveType="Line",d.graphID="",d.left_control={x:0,y:0},d.right_control={x:0,y:0};if(a)a.keyframe_list.push(d);else{let e=[];e.push(d);let t={id:(0,s.p)(),property_type:i,keyframe_list:e};o.push(t)}}static check_global_adjust_keyframe_valid(e,t,i){return this.check_adjust_keyframe_valid(r.$8,e,t,i)}static check_adjust_keyframe_valid(e,t,i,n){let r=n.effects;for(let n of e)if(n.keyframeFlag===i){for(let e of r){let{type:i}=e;if(i===n.adjustType){if(this.check_segment_contain_extra_material(t,e.id))return!0}}break}return!1}static check_segment_contain_extra_material(e,t){return void 0!==e.extra_material_refs.find(e=>e===t)||!1}static check_audio_keyframe_valid(e,t,i){let n=i.audio_effects;if(o.cw.AUKFFEffectAdjustParam1===t||o.cw.AUKFFEffectAdjustParam2===t||o.cw.AUKFFEffectAdjustParam3===t){for(let t of n)if(this.check_segment_contain_extra_material(e,t.id))return!0}else if(o.cw.AUKFFVolume===t)return!0;return!1}static check_video_keyframe_valid(e,t,i){if(void 0!==r.wc.find(e=>t===e.keyframeFlag))return this.check_adjust_keyframe_valid(r.wc,e,t,i);if(o.n1.VKFFEffectAdjustParam1===t||o.n1.VKFFEffectAdjustParam2===t||o.n1.VKFFEffectAdjustParam3===t){for(let t of i.audio_effects)if(this.check_segment_contain_extra_material(e,t.id))return!0;return!1}if(o.n1.VKFFChromaIntensity===t||o.n1.VKFFChromaShadow===t){for(let t of i.chromas)if(this.check_segment_contain_extra_material(e,t.id))return!0;return!1}if(o.n1.VKFFChromaIntensity===t||o.n1.VKFFChromaShadow===t){for(let t of i.masks)if(this.check_segment_contain_extra_material(e,t.id))return!0;return!1}return!0}}function g(){let e=0n;if(0n===e){for(let t=1n;t<=o.n1.VKFFGraph;t<<=1n)e|=t;for(let t=o.n1.VKFFEffectAdjustParam1;t<=o.n1.VKFFSmartColorAdjust;t<<=1n)e|=t}return e}function y(e,t){let i=[];for(let r=0;r<e.length;){let o=e[r];if(!("property_type"in o)||!("keyframe_list"in o)){e.splice(r,1);continue}let{property_type:a}=o,l=t.get(a);if(!l){r++;continue}let d=0;for(let e of l){let t=(0,n.cloneDeep)(o);t.property_type=e.newType,t.id=(0,s.p)();let r=!1,a=t.keyframe_list;for(let t=0;t<a.length;++t){if(!("values"in a[t]))continue;a[t].id=(0,s.p)(),r=!0;let i=a[t].values,n=[];for(let t=0;t<e.valueSize;++t)d+t>=i.length?n.push(0):n.push(i[d+t]);a[t].values=n}d+=e.valueSize,r&&i.push(t)}e.splice(r,1)}for(let t=0;t<i.length;++t)e.push(i[t])}},292993:function(e,t,i){"use strict";i.d(t,{h:function(){return a}});var n=i(602777),r=i(690613),o=i(12826);class a extends o.j{repair(e){let{platform:t,materials:i}=e.draft;if((null==t?void 0:t.os)!=="web"||!(null==i?void 0:i.videos)||!Array.isArray(null==i?void 0:i.videos))return(0,r.oW)(e);for(let e of i.videos){if(!(null==e?void 0:e.matting))continue;let t=e.matting.flag||0;if(32&t){let i=-33&t|Number(n.R6.webAiMattingFlag);e.matting.flag=i}}return(0,r.oW)(e)}}},469362:function(e,t,i){"use strict";i.d(t,{Y:function(){return o}});var n=i(690613),r=i(980265);class o extends r.y{repair(e){let{draft:t}=e,{tracks:i}=t;if(Array.isArray(i))for(let e=1;e<i.length;++e){let t=i[e];if(Array.isArray(t.segments)&&t.type&&"audio"!==t.type)for(let e of t.segments)0===e.renderIndex&&0!==e.trackRenderIndex&&(e.renderIndex=e.trackRenderIndex)}return(0,n.oW)(e)}}},700845:function(e,t,i){"use strict";function n(e,t){return(BigInt(e)&t)===t}function r(e){return["windows","mac","macOS"].includes(e)}function o(e){return"web"===e.toLocaleLowerCase()}function a(e){return["android","ios"].includes(e.toLocaleLowerCase())}i.d(t,{$L:function(){return o},N0:function(){return a},Ro:function(){return r},yE:function(){return n}})},797432:function(e,t,i){"use strict";i.d(t,{r:function(){return o}});var n=i(690613),r=i(234396);class o extends r.K{repair(e){let{draft:t}=e;for(let e=t.tracks.length-1;e>0;--e){var i,r;!(null===(r=t.tracks[e])||void 0===r?void 0:null===(i=r.segments)||void 0===i?void 0:i.length)&&t.tracks.splice(e,1)}return 1===t.tracks.length&&0===t.tracks[0].segments.length&&t.tracks.splice(0,1),(0,n.oW)(e)}}},355911:function(e,t,i){"use strict";i.d(t,{g:function(){return a}});var n=i(690613),r=i(234396),o=i(211561);class a extends r.K{repair(e){let{draft:t}=e,{mutableConfig:i}=t.getDraftProperty();if(!i)return(0,n.oW)(e);let{mutableMaterials:r}=i,a=new Set(r.map(e=>null==e?void 0:e.id).filter(Boolean));return t.tracks.forEach(e=>{e.segments.forEach(e=>{if(!e||!a.has(e.materialId))return;let{commonKeyframes:t,clip:i}=e,n=new Set;t.forEach(e=>{var t,r,a,s;let l,{propertyType:d,keyframeList:u}=e;if(!!u.length){switch(d){case o.Eu.KFTypeScaleX:case o.Eu.KFTypeScaleY:l=d===o.Eu.KFTypeScaleX?null==i?void 0:null===(t=i.scale)||void 0===t?void 0:t.x:null==i?void 0:null===(r=i.scale)||void 0===r?void 0:r.y;break;case o.Eu.KFTypePositionX:case o.Eu.KFTypePositionY:l=d===o.Eu.KFTypePositionX?null==i?void 0:null===(a=i.transform)||void 0===a?void 0:a.x:null==i?void 0:null===(s=i.transform)||void 0===s?void 0:s.y;break;case o.Eu.KFTypeRotation:l=null==i?void 0:i.rotation}void 0!==l&&u.every(e=>e.values[0]===l)&&n.add(d)}}),n.size>0&&(e.commonKeyframes=t.filter(e=>{let{propertyType:t}=e;return!n.has(t)}))})}),(0,n.oW)(e)}}},602777:function(e,t,i){"use strict";i.d(t,{$S:function(){return ie},AH:function(){return eQ},BZ:function(){return t6},CH:function(){return e6},Ci:function(){return tz},DT:function(){return tK},DV:function(){return tD},De:function(){return e9},Dj:function(){return is},Dy:function(){return ia},Eg:function(){return tU},Eu:function(){return iB},FC:function(){return t3},FD:function(){return iP},GG:function(){return ih},GI:function(){return tm},Hw:function(){return tW},ID:function(){return tl},J2:function(){return id},Jb:function(){return t$},K4:function(){return tH},Kj:function(){return tk},L7:function(){return tS},LC:function(){return io},M4:function(){return t_},MB:function(){return t2},ND:function(){return iN},NG:function(){return tF},NV:function(){return tP},OW:function(){return tG},O_:function(){return tX},Oc:function(){return iz},P1:function(){return ip},Pb:function(){return t5},Q6:function(){return tY},QS:function(){return tQ},QZ:function(){return e0},R6:function(){return t7},RZ:function(){return th},SJ:function(){return td},SX:function(){return iO},SY:function(){return e5},Sb:function(){return it},TJ:function(){return tv},TU:function(){return im},Tp:function(){return e8},VA:function(){return tM},Vv:function(){return tR},X4:function(){return tZ},XC:function(){return tL},XH:function(){return ib},XI:function(){return ir},XO:function(){return tw},Xl:function(){return t0},Yz:function(){return tn},Z6:function(){return il},ZT:function(){return tO},ZX:function(){return ik},_6:function(){return ts},_T:function(){return ta},_s:function(){return iv},_v:function(){return tE},a$:function(){return ig},b2:function(){return iM},bZ:function(){return ty},bq:function(){return i_},cL:function(){return tC},cV:function(){return eJ},cv:function(){return e2},cw:function(){return iE},cy:function(){return e3},dm:function(){return tJ},eE:function(){return tp},eL:function(){return ic},fm:function(){return tq},fv:function(){return iu},hs:function(){return ix},ih:function(){return e4},j8:function(){return to},jI:function(){return tg},jR:function(){return t4},jv:function(){return e7},k6:function(){return iD},lw:function(){return tT},mG:function(){return iy},mI:function(){return tu},n1:function(){return iK},nH:function(){return iC},nR:function(){return tN},nj:function(){return e1},np:function(){return iI},pN:function(){return te},qL:function(){return tb},qx:function(){return ii},rq:function(){return tA},rx:function(){return tr},s8:function(){return iF},sQ:function(){return t8},se:function(){return iS},tL:function(){return iA},tM:function(){return iL},tx:function(){return t9},v:function(){return tI},v$:function(){return iw},v2:function(){return tV},w8:function(){return iR},w9:function(){return tt},wH:function(){return tx},we:function(){return tj},xb:function(){return tB},yM:function(){return t1},yP:function(){return iV},yY:function(){return ti},zA:function(){return tf},zD:function(){return iT},zz:function(){return tc}});var n,r,o,a,s,l,d,u,c,p,m,f,h,g,y,T,v,_,S,A,I,M,x,F,k,C,w,V,b,E,P,N,R,D,O,L,K,B,z,H,U,j,W,G,X,Z,Y,$,q,J,Q,ee,et,ei,en,er,eo,ea,es,el,ed,eu,ec,ep,em,ef,eh,eg,ey,eT,ev,e_,eS,eA,eI,eM,ex,eF,ek,eC,ew,eV,eb,eE,eP,eN,eR,eD,eO,eL,eK,eB,ez,eH,eU,ej,eW,eG,eX,eZ,eY,e$,eq,eJ=((n={}).MetaTypeNone="none",n.MetaTypeVideo="video",n.MetaTypePhoto="photo",n.MetaTypeGif="gif",n.MetaTypeMusic="music",n.MetaTypeExtractMusic="extract_music",n.MetaTypeSound="sound",n.MetaTypeRecord="record",n.MetaTypeImage="image",n.MetaTypeText="text",n.MetaTypeSubtitle="subtitle",n.MetaTypeLyrics="lyrics",n.MetaTypeTextTemplateSubtitle="text_template_subtitle",n.MetaTypeTextTemplateLyrics="text_template_lyrics",n.MetaTypeSticker="sticker",n.MetaTypeShape="shape",n.MetaTypeFilter="filter",n.MetaTypeLUT="lut",n.MetaTypeReshape="reshape",n.MetaTypeBeauty="beauty",n.MetaTypeVideoEffect="video_effect",n.MetaTypeBrightness="brightness",n.MetaTypeContrast="contrast",n.MetaTypeSaturation="saturation",n.MetaTypeSharpen="sharpen",n.MetaTypeHighlight="highlight",n.MetaTypeShadow="shadow",n.MetaTypeTemperature="temperature",n.MetaTypeHue="tone",n.MetaTypeWhite="white",n.MetaTypeBlack="black",n.MetaTypeClear="clear",n.MetaTypeFade="fade",n.MetaTypeLightSensation="light_sensation",n.MetaTypeVignetting="vignetting",n.MetaTypeParticle="particle",n.MetaTypeCanvasColor="canvas_color",n.MetaTypeCanvasImage="canvas_image",n.MetaTypeCanvasBlur="canvas_blur",n.MetaTypeTransition="transition",n.MetaTypeAudioEffect="audio_effect",n.MetaTypeAudioFade="audio_fade",n.MetaTypeBeats="beats",n.MetaTypeTailLeader="tail_leader",n.MetaTypeAnimation="sticker_animation",n.MetaTypeVideoAnimation="video_animation",n.MetaTypeTextEffect="text_effect",n.MetaTypeTextFlower="text_flower",n.MetaTypeTextShape="text_shape",n.MetaTypeTextToAudio="text_to_audio",n.MetaTypeVideoMix="mix_mode",n.MetaTypeAdjust="adjust",n.MetaTypeVideoMask="mask",n.MetaTypeSpeed="speed",n.MetaTypePlaceholderInfo="placeholder_info",n.MetaTypeChroma="chroma",n.MetaTypeTextTemplate="text_template",n.MetaTypeVideoOriginalSound="video_original_sound",n.MetaTypeStretchLeg="stretch_leg",n.MetaTypeRealtimeDenoise="realtime_denoise",n.MetaTypeFigure="figure",n.MetaTypeMakeupRoot="makeup_root",n.MetaTypeFaceEffect="face_effect",n.MetaTypeVideoTracking="video_tracking",n.MetaTypeHsl="hsl",n.MetaTypeAudioBalance="audio_balance",n.MetaTypeColorCurves="color_curves",n.MetaTypeComposition="composition",n.MetaTypeCover="cover",n.MetaTypeLeader="leader",n.MetaTypeTailer="tailer",n.MetaTypePrimaryColorWheels="primary_color_wheels",n.MetaTypeLogColorWheels="log_color_wheels",n.MetaTypeHandwriteImage="handwrite_image",n.MetaTypeHandwriteRes="handwrite_res",n.MetaTypeCombination="combination",n.MetaTypeManualDeformation="manual_deformation",n.MetaTypePluginEffect="plugin_effect",n.MetaTypeLockObject="lock_object",n.MetaTypeSmartMotion="smart_motion",n.MetaTypeMattingStroke="matting_stroke",n.MetaTypeAdCube="adcube",n.MetaTypeGreenScreen="green_screen",n.MetaTypeBloom="bloom",n.MetaTypeSmartColorAdjust="smart_color_adjust",n.MetaTypeColorMatch="color_match",n.MetaTypeColorCorrect="color_correct",n.MetaTypeTextPreset="text_preset",n.MetaTypeFont="font",n.MetaTypeDigitalHuman="digital_human",n.MetaTypeSmartCrop="smart_crop",n.MetaTypeGameplay="gameplay",n.MetaTypeAudioTrackIndex="audio_track_index",n.MetaTypeVocalBeautify="vocal_beautify",n.MetaTypeVocalSeparation="vocal_separation",n.MetaTypeLoudness="loudness",n.MetaTypeCaptionTemplate="caption_template",n.MetaTypeSmartRelight="smart_relight",n.MetaTypeAITranslate="ai_translate",n.MetaTypeTimeMark="time_mark",n.MetaTypeChannelMapping="sound_channel_mapping",n);var eQ=((r={}).CombinationTypeNone="none",r.CombinationTypeAIMusicMVBackground="ai_music_mv_background",r.CombinationTypeAIMusicMVVocal="ai_music_mv_vocal",r.CombinationTypeAIMusicMVTemplateBackground="ai_music_mv_template_background",r.CombinationTypeAIMusicMVTemplateVocal="ai_music_mv_template_vocal",r);var e0=((o={})[o.AudioPlatformLibrary=0]="AudioPlatformLibrary",o[o.AudioPlatformArtist=1]="AudioPlatformArtist",o[o.AudioPlatformBrand=2]="AudioPlatformBrand",o[o.AudioPlatformEnterprise=3]="AudioPlatformEnterprise",o[o.AudioPlatformAiGenerate=4]="AudioPlatformAiGenerate",o[o.AudioPlatformAIMusic=5]="AudioPlatformAIMusic",o[o.AudioPlatformAISound=6]="AudioPlatformAISound",o);var e1=((a={})[a.EffectPlatformLoki=0]="EffectPlatformLoki",a[a.EffectPlatformArtist=1]="EffectPlatformArtist",a[a.EffectPlatformBrand=2]="EffectPlatformBrand",a[a.EffectPlatformImportedFont=3]="EffectPlatformImportedFont",a[a.EffectPlatformArtistShop=4]="EffectPlatformArtistShop",a[a.EffectPlatformSongLib=5]="EffectPlatformSongLib",a[a.EffectPlatformImportFromPlugin=6]="EffectPlatformImportFromPlugin",a);var e2=((s={})[s.MaterialPlatformDefault=0]="MaterialPlatformDefault",s[s.MaterialPlatformArtist=1]="MaterialPlatformArtist",s[s.MaterialPlatformXTApp=2]="MaterialPlatformXTApp",s[s.MaterialPlatformQYApp=3]="MaterialPlatformQYApp",s[s.MaterialPlatformFaceuApp=4]="MaterialPlatformFaceuApp",s[s.MaterialPlatformLVApp=5]="MaterialPlatformLVApp",s[s.MaterialPlatformCapCutApp=6]="MaterialPlatformCapCutApp",s[s.MaterialPlatformXigua=7]="MaterialPlatformXigua",s[s.MaterialPlatformGiphy=8]="MaterialPlatformGiphy",s[s.MaterialPlatformBrand=9]="MaterialPlatformBrand",s[s.MaterialPlatformEnterprise=10]="MaterialPlatformEnterprise",s[s.MaterialPlatformTuchongAdobe=11]="MaterialPlatformTuchongAdobe",s[s.MaterialPlatformTuchongDeposit=12]="MaterialPlatformTuchongDeposit",s[s.MaterialPlatformTuchongPond5=13]="MaterialPlatformTuchongPond5",s[s.MaterialPlatformStudioShooting=14]="MaterialPlatformStudioShooting",s[s.MaterialPlatformBillo=15]="MaterialPlatformBillo",s[s.MaterialPlatformVCGVectorstock=16]="MaterialPlatformVCGVectorstock",s[s.MaterialPlatformVCG500px=17]="MaterialPlatformVCG500px",s[s.MaterialPlatformVCGIstock=18]="MaterialPlatformVCGIstock",s[s.MaterialPlatformAiGenerate=19]="MaterialPlatformAiGenerate",s[s.MaterialPlatformFeedVideoDownload=20]="MaterialPlatformFeedVideoDownload",s);var e6=((l={})[l.MaterialSourceDefault=0]="MaterialSourceDefault",l[l.MaterialSourceArtist=1]="MaterialSourceArtist",l[l.MaterialSourceLoki=2]="MaterialSourceLoki",l[l.MaterialSourceLibrary=3]="MaterialSourceLibrary",l[l.MaterialSourceLocal=4]="MaterialSourceLocal",l[l.MaterialSourceTuchong=5]="MaterialSourceTuchong",l[l.MaterialSourceBillo=6]="MaterialSourceBillo",l[l.MaterialSourceAiGenerate=7]="MaterialSourceAiGenerate",l);var e3=((d={})[d.ArticleVideoVideoPlatformOther=6]="ArticleVideoVideoPlatformOther",d[d.ArticleVideoVideoPlatformYiKai=0]="ArticleVideoVideoPlatformYiKai",d[d.ArticleVideoVideoPlatformTuChong=1]="ArticleVideoVideoPlatformTuChong",d[d.ArticleVideoVideoPlatformJoker=2]="ArticleVideoVideoPlatformJoker",d[d.ArticleVideoVideoPlatformTouTiao=3]="ArticleVideoVideoPlatformTouTiao",d[d.ArticleVideoVideoPlatformBaiKe=4]="ArticleVideoVideoPlatformBaiKe",d[d.ArticleVideoVideoPlatformArticle=5]="ArticleVideoVideoPlatformArticle",d);var e8=((u={})[u.ArticleVideoTextTypeTitle=0]="ArticleVideoTextTypeTitle",u[u.ArticleVideoTextTypeChapterTitle=1]="ArticleVideoTextTypeChapterTitle",u[u.ArticleVideoTextTypeSubtitle=2]="ArticleVideoTextTypeSubtitle",u);var e5=((c={})[c.SubtitleMix=0]="SubtitleMix",c[c.SubtitleVideo=1]="SubtitleVideo",c[c.SubtitleRecord=2]="SubtitleRecord",c[c.SubtitleTimeline=3]="SubtitleTimeline",c[c.SubTitleAiScript=4]="SubTitleAiScript",c[c.SubtitleTranslate=5]="SubtitleTranslate",c[c.SubtitleImportCaption=6]="SubtitleImportCaption",c);var e7=((p={}).RelationshipUnknown="",p.RelationshipTextToAudios="text_to_audios",p.RelationshipTvTextToAudio="tv_text_to_audio",p.RelationshipTvTextToVideos="tv_text_to_videos",p.RelationshipVideoToExtraTemplateInfo="video_to_extra_template_info",p.RelationshipLinkage="linkage",p);var e4=((m={}).GameplayAIGCTypeUnknown="",m.GameplayAIGCTypei2i="i2i",m.GameplayAIGCTypei2v="i2v",m.GameplayAIGCTypev2v="v2v",m);var e9=((f={}).MetaSubTypeNone="none",f.MetaSubTypeManualStretch="manual_stretch",f.MetaSubTypeManualSlim="manual_slim",f.MetaSubTypeManualZoom="manual_zoom",f.MetaSubTypeAutoBeauty="auto_beauty",f.MetaSubTypeExclusion="exclusion",f.MetaSubTypeExclusionFace="exclusion_face",f.MetaSubTypeAnimCaption="anim_caption",f.MetaSubTypeEyeCorrect="eye_correct",f);var te=((h={}).TrackTypeNone="none",h.TrackTypeVideo="video",h.TrackTypeAudio="audio",h.TrackTypeSticker="sticker",h.TrackTypeText="text",h.TrackTypeVideoEffect="effect",h.TrackTypeFilter="filter",h.TrackTypeAdjust="adjust",h.TrackTypeTextToVideoText="text_to_video_text",h.TrackTypeTextToVideoTextAudio="text_to_video_text_audio",h.TrackTypeComposition="composition",h.TrackTypePluginEffect="plugin_effect",h.TrackTypeAdCube="adcube",h);var tt=((g={})[g.FlagNone=0]="FlagNone",g[g.FlagTextSubtitle=1]="FlagTextSubtitle",g[g.FlagSubVideo=2]="FlagSubVideo",g[g.FlagTextLyric=3]="FlagTextLyric",g[g.FlagVideoSubtitle=4]="FlagVideoSubtitle",g[g.FlagAudioSubtitle=5]="FlagAudioSubtitle",g[g.FlagAiScriptSubtitle=6]="FlagAiScriptSubtitle",g);var ti=((y={})[y.SpeedModeNormal=0]="SpeedModeNormal",y[y.SpeedModeCurve=1]="SpeedModeCurve",y);var tn=((T={})[T.OptionNone=0]="OptionNone",T[T.HasSeparatedAudio=1]="HasSeparatedAudio",T[T.IsCombinationVideo=2]="IsCombinationVideo",T[T.IsDraftTemplateVideo=4]="IsDraftTemplateVideo",T[T.IsSceneEditCutVideo=8]="IsSceneEditCutVideo",T);var tr=((v={}).CanvasRatioOriginal="original",v.CanvasRatio16To9="16:9",v.CanvasRatio9To16="9:16",v.CanvasRatio4To3="4:3",v.CanvasRatio3To4="3:4",v.CanvasRatio1To1="1:1",v.CanvasRatio2To1="2:1",v.CanvasRatio2_35To1="2.35:1",v.CanvasRatio1_85To1="1.85:1",v.CanvasRatio1_125To2_436="1.125:2.436",v.CanvasRatioCustom="custom",v.CanvasRatio4To5="4:5",v.CanvasRatio21To9="21:9",v);var to=((_={}).CropRatioFree="free",_.CropRatio16To9="16:9",_.CropRatio9To16="9:16",_.CropRatio4To3="4:3",_.CropRatio3To4="3:4",_.CropRatio1To1="1:1",_.CropRatio2To1="2:1",_.CropRatio2_35To1="2.35:1",_.CropRatio1_85To1="1.85:1",_.CropRatio1_125To2_436="1.125:2.436",_);var ta=((S={}).AlignModeCanvas="align_canvas",S.AlignModeVideo="align_video",S);var ts=((A={}).CoverTypeFrame="frame",A.CoverTypeImage="image",A.CoverTypeWeb="web_cover",A);var tl=((I={}).RenderIndexModeDefault="default",I.RenderIndexModeSyncTrack="sync_track",I.RenderIndexModeFree="free",I);var td=((M={}).CoverSubTypeNone="",M.CoverSubTypeImageFromLocal="local",M.CoverSubTypeImageFromFrame="frame",M);var tu=((x={}).TutorialEditKindDraft="draft",x.TutorialEditKindEdit="edit",x);var tc=((F={}).AlgorithmDefault="AlgorithmDefault",F.ComplementFrame="ComplementFrame",F.MotionBlur="MotionBlur",F.Deflicker="Deflicker",F.NoiseReduction="NoiseReduction",F.QualityEnhance="QualityEnhance",F.SmartCrop="SmartCrop",F.SpeechToSong="SpeechToSong",F.AudioVocalSeparation="AudioVocalSeparation",F.AudioSoundSeparation="AudioSoundSeparation",F.AudioVcVoiceChange="AudioVcVoiceChange",F.AudioVcCloneTone="AudioVcCloneTone",F.AudioSpeechToSong="AudioSpeechToSong",F.AudioLoudness="AudioLoudness",F.VideoGamePlay="VideoGamePlay",F.AudioVocalBeautify="AudioVocalBeautify",F.SmartRelight="SmartRelight",F.VideoAITranslate="VideoAITranslate",F.AudioAITranslate="AudioAITranslate",F.AigcGamePlay="AigcGamePlay",F.OutPaintingGamePlay="OutPaintingGamePlay",F.InPaintingRepaintGamePlay="InPaintingRepaintGamePlay",F.InPaintingEraseGamePlay="InPaintingEraseGamePlay",F.SuperResolution="SuperResolution",F.BackgroundGamePlayAfterAIMatting="BackgroundGamePlayAfterAIMatting",F.BackgroundGamePlayAfterCustomMatting="BackgroundGamePlayAfterCustomMatting",F.BackgroundGamePlayAfterColorMatting="BackgroundGamePlayAfterColorMatting",F.SmartComplementFrame="SmartComplementFrame",F.AigcTypeGenImage="AigcTypeGenImage",F.AigcTypeGenVideo="AigcTypeGenVideo",F.MouthShapeDriver="MouthShapeDriver",F.Reverse="Reverse",F.ExpressionDriven="ExpressionDriven",F.MotionDriven="MotionDriven",F);var tp=((k={})[k.MouthShapeTwod=0]="MouthShapeTwod",k[k.MouthShapeLoopy=1]="MouthShapeLoopy",k);var tm=((C={})[C.DefaultAudio=0]="DefaultAudio",C[C.TTS=1]="TTS",C[C.Extract=2]="Extract",C[C.Record=3]="Record",C[C.MusicLib=4]="MusicLib",C[C.MusicCollection=5]="MusicCollection",C);var tf=((w={}).Origin="original",w.FrameBlending="frame_blending",w.OpticalFlow="optical_flow",w);var th=((V={})[V.ManualAdd=0]="ManualAdd",V[V.RecognizeAdd=1]="RecognizeAdd",V[V.ImportAdd=2]="ImportAdd",V[V.TranscriptEditAdd=3]="TranscriptEditAdd",V);var tg=((b={})[b.UnkownType=0]="UnkownType",b[b.GlobalType=1]="GlobalType",b[b.SelectType=2]="SelectType",b);var ty=((E={})[E.HDRDisplayModeNone=0]="HDRDisplayModeNone",E[E.HDRDisplayModeDefault=1]="HDRDisplayModeDefault",E[E.HDRDisplayModeSDR2HLG=2]="HDRDisplayModeSDR2HLG",E[E.HDRDisplayModeSDR2PQ=3]="HDRDisplayModeSDR2PQ",E[E.HDRDisplayModeHLG2SDR=4]="HDRDisplayModeHLG2SDR",E[E.HDRDisplayModeHLG2PQ=5]="HDRDisplayModeHLG2PQ",E[E.HDRDisplayModePQ2SDR=6]="HDRDisplayModePQ2SDR",E[E.HDRDisplayModePQ2HLG=7]="HDRDisplayModePQ2HLG",E[E.HDRDisplayModeSDR20202HLG=8]="HDRDisplayModeSDR20202HLG",E[E.HDRDisplayModeSDR20202PQ=9]="HDRDisplayModeSDR20202PQ",E[E.HDRDisplayModeHLG2SDR2020=10]="HDRDisplayModeHLG2SDR2020",E[E.HDRDisplayModePQ2SDR2020=11]="HDRDisplayModePQ2SDR2020",E);var tT=((P={}).Bilateral="bilateral",P.Forward="forward",P.Backward="backward",P);var tv=((N={})[N.Fluorescent=0]="Fluorescent",N[N.TimeLapse=1]="TimeLapse",N);var t_=((R={})[R.TextBackgroundStyleNone=0]="TextBackgroundStyleNone",R[R.TextBackgroundStyleSquare=1]="TextBackgroundStyleSquare",R[R.TextBackgroundStyleWrap=2]="TextBackgroundStyleWrap",R[R.TextBackgroundStyleWrapLine=3]="TextBackgroundStyleWrapLine",R);var tS=((D={})[D.Recommended=1]="Recommended",D[D.Weak=0]="Weak",D[D.Strong=2]="Strong",D);var tA=((O={})[O.Strong_NR=1]="Strong_NR",O[O.None_NR=-1]="None_NR",O[O.Weak_NR=0]="Weak_NR",O);var tI=((L={}).PictureFromNone="none",L.PictureFromSetFunction="set_function",L.PictureFromAddMaterial="add_material",L);var tM=((K={}).Anim_None="none",K.Anim_In="in",K.Anim_Out="out",K.Anim_Loop="loop",K.Anim_Caption="caption",K.Anim_Group="group",K);var tx=((B={}).KeyframeCurveTypeLine="Line",B.KeyframeCurveTypeCurveIn="CurveIn",B.KeyframeCurveTypeCurveOut="CurveOut",B.KeyframeCurveTypeCurveInOut="CurveInOut",B.KeyframeFreeCurveTypeCurveIn="FreeCurveIn",B.KeyframeFreeCurveTypeCurveOut="FreeCurveOut",B.KeyframeFreeCurveTypeCurveInOut="FreeCurveInOut",B);var tF=((z={})[z.Face=0]="Face",z[z.Body=1]="Body",z[z.RightHand=2]="RightHand",z[z.LeftHand=3]="LeftHand",z[z.Custom=4]="Custom",z);var tk=((H={})[H.Finish=0]="Finish",H[H.UnFinish=1]="UnFinish",H[H.Interrupt=2]="Interrupt",H[H.InterruptHandling=3]="InterruptHandling",H);var tC=((U={})[U.SmartMotionMode_None=-1]="SmartMotionMode_None",U[U.Dynamic=0]="Dynamic",U[U.Slow=1]="Slow",U[U.Zoom=2]="Zoom",U[U.Rotation=3]="Rotation",U);var tw=((j={}).TemplateSceneDefault="default",j.TemplateSceneCommerce="commerce",j.TemplateSceneEnterprise="enterprise",j.TemplateScenePersonal="personal",j.TemplateSceneGroup="group",j);var tV=((W={})[W.kSolid=0]="kSolid",W[W.kDotted=1]="kDotted",W[W.kDots=2]="kDots",W);var tb=((G={})[G.kSizeNone=0]="kSizeNone",G[G.kSizeScaled=1]="kSizeScaled",G[G.kSizeLateralExtension=2]="kSizeLateralExtension",G[G.kSizeLongitudinalExtension=3]="kSizeLongitudinalExtension",G[G.kSizeGlobalExtension=4]="kSizeGlobalExtension",G);var tE=((X={})[X.kHorizontalNone=0]="kHorizontalNone",X[X.kHorizontalLeft=1]="kHorizontalLeft",X[X.kHorizontalRight=2]="kHorizontalRight",X[X.kHorizontalCenter=3]="kHorizontalCenter",X);var tP=((Z={})[Z.kVerticalNone=0]="kVerticalNone",Z[Z.kVerticalTop=1]="kVerticalTop",Z[Z.kVerticalBottom=2]="kVerticalBottom",Z[Z.kVerticalCenter=3]="kVerticalCenter",Z);var tN=((Y={})[Y.NormalSticker=0]="NormalSticker",Y[Y.ShapeSticker=1]="ShapeSticker",Y);var tR=(($={})[$.StabilityDefault=2]="StabilityDefault",$[$.StabilityFlexible=1]="StabilityFlexible",$[$.StabilityStable=3]="StabilityStable",$);var tD=((q={})[q.TrackSpeedDefault=1]="TrackSpeedDefault",q[q.TrackSpeedFaster=0]="TrackSpeedFaster",q[q.TrackSpeedSlower=2]="TrackSpeedSlower",q);var tO=((J={})[J.Vocal=2]="Vocal",J[J.None=0]="None",J[J.Background=1]="Background",J);var tL=((Q={})[Q.PointLight=1]="PointLight",Q[Q.ParallelLight=2]="ParallelLight",Q);var tK=((ee={})[ee.AllObject=3]="AllObject",ee[ee.FigureObject=1]="FigureObject",ee[ee.BackgroundObject=2]="BackgroundObject",ee);var tB=((et={})[et.AudioEffectTypeNormal=0]="AudioEffectTypeNormal",et[et.AudioEffectTypeSoundEffects=1]="AudioEffectTypeSoundEffects",et[et.AudioEffectTypeVCVoiceChange=2]="AudioEffectTypeVCVoiceChange",et[et.AudioEffectTypeSpeechToSong=3]="AudioEffectTypeSpeechToSong",et[et.AudioEffectTypeVocalSeparation=4]="AudioEffectTypeVocalSeparation",et);var tz=((ei={})[ei.HD=0]="HD",ei[ei.UHD=1]="UHD",ei);var tH=((en={})[en.MODE_1080P=0]="MODE_1080P",en[en.MODE_2K=1]="MODE_2K",en[en.MODE_4K=2]="MODE_4K",en);var tU=((er={}).AIGCTypeNone="none",er.AIGCTypeTextToImage="text_to_image",er.AIGCTypeTextTemplate="ai_text_template",er.AIGCTypeTextToVideo="text_to_video",er.AIGCTypeAiCreatorStory="ai_creator_story",er.AIGCTypeAIEditCommon="ai_edit_common",er.AIGCTypeAIEditBusiness="ai_edit_business",er);var tj=((eo={}).MultiLanguageModeNone="none",eo.MultiLanguageModeSingle="single",eo.MultiLanguageModeMulti="multi",eo);var tW=((ea={}).MultiLanguageNone="none",ea.MultiLanguageCN="cn",ea.MultiLanguageEN="en",ea.MultiLanguageJA="ja",ea.MultiLanguageKO="ko",ea);var tG=((es={}).AudioCopyrightLimitTypeNone="none",es.AudioCopyrightLimitTypeGbdMusic="gbd_music",es);var tX=((el={}).DigitalHumanSourcePGC="pgc",el.DigitalHumanSourceCustomize="customize",el.DigitalHumanSourceCustomizeShort="customize_short",el.DigitalHumanSourcePGCVimo="pgc_vimo",el.DigitalHumanSourcePhotoPGCVimo="photo_pgc_vimo",el.DigitalHumanSourcePhotoAIGCCustomize="photo_aigc_customize",el.DigitalHumanSourcePhotoAlbumCustomize="photo_album_customize",el);var tZ=((ed={}).DigitalHumanModelNormal="twod",ed.DigitalHumanModelLoopy="loopy",ed);var tY=((eu={}).SubtitleKeywordsSourceUnknown="unknown",eu.SubtitleKeywordsSourceManual="manual",eu.SubtitleKeywordsSourceServer="server",eu);var t$=((ec={}).DigitalHumanSubTypeVideo="video",ec.DigitalHumanSubTypePhoto="photo",ec);var tq=((ep={})[ep.Unknow=0]="Unknow",ep[ep.Change=1]="Change",ep[ep.NotChange=2]="NotChange",ep);var tJ=((em={}).TextTemplate="text_template",em.SubtitleTemplate="subtitle_template",em);var tQ=((ef={})[ef.AIMusicTypeNone=0]="AIMusicTypeNone",ef[ef.AIMusicTypeBackground=1]="AIMusicTypeBackground",ef[ef.AIMusicTypeVocal=2]="AIMusicTypeVocal",ef);var t0=((eh={})[eh.AIMusicLyricTypeNone=0]="AIMusicLyricTypeNone",eh[eh.AIMusicLyricTypeCustom=1]="AIMusicLyricTypeCustom",eh[eh.AIMusicLyricTypeAI=2]="AIMusicLyricTypeAI",eh);var t1=((eg={})[eg.SegmentStateNormal=0]="SegmentStateNormal",eg[eg.SegmentStateAttach=1]="SegmentStateAttach",eg[eg.SegmentStateProcessing=2]="SegmentStateProcessing",eg[eg.SegmentStateFail=3]="SegmentStateFail",eg);var t2=((ey={})[ey.AIMusicGenerateSceneAIMusic=0]="AIMusicGenerateSceneAIMusic",ey[ey.AIMusicGenerateSceneAIAutoMusic=1]="AIMusicGenerateSceneAIAutoMusic",ey);var t6=((eT={})[eT.Control=0]="Control",eT[eT.Anchor=1]="Anchor",eT);let t3={FilterFlag:1n<<0n,EffectFlag:1n<<1n,VPosSizeFlag:1n<<2n,VMixFlag:1n<<3n,Beauty:1n<<4n,Chroma:1n<<5n,Masking:1n<<6n,AudioBasic:1n<<7n,Stable:1n<<8n,HDRSettingsFlag:1n<<9n,BeautyBody:1n<<10n,AudioVoiceChangeFlag:1n<<11n,VideoBackground:1n<<12n,ManualDeformation:1n<<13n,BeautyReshape:1n<<14n,BeautyMakeup:1n<<15n,SmartCropFlag:1n<<16n,SmartRelightFlag:1n<<17n,AdjustColorMasking:1n<<18n,ManualFigure:1n<<19n,EffectColorMasking:1n<<20n,EyeCorrect:1n<<21n,BeautyFaceShape:1n<<22n,BeautyFiveScene:1n<<23n,BeautySkinManagement:1n<<24n,VideoVelocity:1n<<25n},t8={BasicFlag:1n<<0n,VoiceChangeFlag:1n<<1n},t5={ArrangeFlag:1n<<0n,TPosSizeFlag:1n<<1n,TMixFlag:1n<<2n,BorderFlag:1n<<3n,FrameFlag:1n<<4n,ShadowFlag:1n<<5n,LightFlag:1n<<6n,TextCurveFlag:1n<<7n},t7={enableFlag:1n<<0n,aiMattingFlag:1n<<1n,cusMattingFlag:1n<<2n,headMattingFlag:1n<<3n,interactiveFlag:1n<<4n,tagMattingFlag:1n<<5n,webAiMattingFlag:1n<<6n,aiStrokeFlag:1n<<7n,customStrokeFlag:1n<<8n},t4={PosSizeFlag:1n<<0n,StickerMixFlag:1n<<2n,StickerBorderFlag:1n<<3n,StickerFrameFlag:1n<<4n,StickerShadowFlag:1n<<5n};var t9=((ev={})[ev.MattingBlendModeNormal=0]="MattingBlendModeNormal",ev[ev.MattingBlendModePreview=1]="MattingBlendModePreview",ev[ev.MattingBlendModeHide=2]="MattingBlendModeHide",ev);let ie={DefaultFlags:0n<<0n,MuteFlag:1n<<0n,HideFlag:1n<<1n,LockFlag:1n<<2n};var it=((e_={})[e_.Merge_None=0]="Merge_None",e_[e_.Merge_Face=1]="Merge_Face",e_[e_.Merge_Body=2]="Merge_Body",e_[e_.Merge_Adjust=3]="Merge_Adjust",e_[e_.Merge_Algorithm=4]="Merge_Algorithm",e_);var ii=((eS={}).default="default",eS.pr="pr",eS.finalcut="finalcut",eS.ai_generate_story="ai_generate_story",eS.ae="ae",eS);var ir=((eA={})[eA.TypeUnknown=0]="TypeUnknown",eA[eA.ArticleVideo=1]="ArticleVideo",eA[eA.Intelligent=2]="Intelligent",eA[eA.Template=3]="Template",eA);var io=((eI={})[eI.FeaturePayStatusNeed=0]="FeaturePayStatusNeed",eI[eI.FeaturePayStatusPaid=1]="FeaturePayStatusPaid",eI);var ia=((eM={})[eM.VipStatusUnknown=0]="VipStatusUnknown",eM[eM.VipStatusServerLimit=17]="VipStatusServerLimit",eM[eM.VipStatusServerPay=18]="VipStatusServerPay",eM[eM.VipStatusServerDisable=19]="VipStatusServerDisable",eM[eM.VipStatusServerSVip=20]="VipStatusServerSVip",eM[eM.VipStatusLokiLimit=33]="VipStatusLokiLimit",eM[eM.VipStatusLokiPay=34]="VipStatusLokiPay",eM[eM.VipStatusLokiDisable=35]="VipStatusLokiDisable",eM[eM.VipStatusOtherLimit=49]="VipStatusOtherLimit",eM[eM.VipStatusOtherPay=50]="VipStatusOtherPay",eM[eM.VipStatusOtherDisable=51]="VipStatusOtherDisable",eM[eM.VipStatusUnlockLimit=65]="VipStatusUnlockLimit",eM);var is=((ex={})[ex.VipFeatureUnKnown=0]="VipFeatureUnKnown",ex[ex.VipFeatureArticleToVideo=1]="VipFeatureArticleToVideo",ex[ex.VipFeatureArticleToVideoWithEmoji=2]="VipFeatureArticleToVideoWithEmoji",ex[ex.VipFeatureSubtitleRemoveInvalid=3]="VipFeatureSubtitleRemoveInvalid",ex[ex.VipFeatureCustomMattingQuickBrush=4]="VipFeatureCustomMattingQuickBrush",ex[ex.VipFeatureRemoveFlicker=5]="VipFeatureRemoveFlicker",ex[ex.VipFeatureManualFaceliftProtection=6]="VipFeatureManualFaceliftProtection",ex[ex.VipFeatureLockObject=7]="VipFeatureLockObject",ex[ex.VipFeatureVideoDenoise=8]="VipFeatureVideoDenoise",ex[ex.VipFeatureColorWheel=9]="VipFeatureColorWheel",ex[ex.VipFeatureVideoQualityEnhance=10]="VipFeatureVideoQualityEnhance",ex[ex.VipFeatureCustomMattingSmartEraser=11]="VipFeatureCustomMattingSmartEraser",ex[ex.VipFeatureAnimAdjustContentModeChar=12]="VipFeatureAnimAdjustContentModeChar",ex[ex.VipFeatureAnimAdjustContentModeWord=13]="VipFeatureAnimAdjustContentModeWord",ex[ex.VipFeatureBilingualSubtitles=14]="VipFeatureBilingualSubtitles",ex[ex.VipFeatureSmartCrop=15]="VipFeatureSmartCrop",ex[ex.VipFeatureSmartMotion=16]="VipFeatureSmartMotion",ex[ex.VipFeatureVocalSeparation=17]="VipFeatureVocalSeparation",ex[ex.VipFeatureVocalBeautify=18]="VipFeatureVocalBeautify",ex[ex.VipFeatureCustomMatting=19]="VipFeatureCustomMatting",ex[ex.VipFeatureSmoothSlowMotion=20]="VipFeatureSmoothSlowMotion",ex[ex.VipFeatureColorMatch=21]="VipFeatureColorMatch",ex[ex.VipFeatureSmartRelight=22]="VipFeatureSmartRelight",ex[ex.VipFeatureColorMatting=23]="VipFeatureColorMatting",ex[ex.VipFeatureIntelligentMatting=24]="VipFeatureIntelligentMatting",ex[ex.VipFeatureStable=25]="VipFeatureStable",ex[ex.VipFeatureAudioDenoise=26]="VipFeatureAudioDenoise",ex[ex.VipFeatureVolumeBalance=27]="VipFeatureVolumeBalance",ex[ex.VipFeatureAITranslate=28]="VipFeatureAITranslate",ex[ex.VipFeatureColorMattingEdgeCleanUp=29]="VipFeatureColorMattingEdgeCleanUp",ex[ex.VipFeatureColorMattingEdgeFeather=30]="VipFeatureColorMattingEdgeFeather",ex[ex.VipFeatureColorCorrect=31]="VipFeatureColorCorrect",ex[ex.VipFeatureInpaintingRepaint=32]="VipFeatureInpaintingRepaint",ex[ex.VipFeatureInpaintingErase=33]="VipFeatureInpaintingErase",ex[ex.VipFeatureSubtitleRecognition=34]="VipFeatureSubtitleRecognition",ex[ex.VipFeatureLyricRecognition=35]="VipFeatureLyricRecognition",ex[ex.VipFeatureMusicalInstrumentSeparate=36]="VipFeatureMusicalInstrumentSeparate",ex[ex.VipFeatureMusicalHumanBackSeparate=37]="VipFeatureMusicalHumanBackSeparate",ex[ex.VipFeatureSubtitleKeywords=38]="VipFeatureSubtitleKeywords",ex[ex.VipFeatureVideoSuperResolution=39]="VipFeatureVideoSuperResolution",ex[ex.VipFeatureMotionBlur=40]="VipFeatureMotionBlur",ex[ex.VipFeatureMaterialVideoTracking=41]="VipFeatureMaterialVideoTracking",ex[ex.VipFeatureSubtitleTemplate=42]="VipFeatureSubtitleTemplate",ex[ex.VipFeatureSmartCompleteFrame=43]="VipFeatureSmartCompleteFrame",ex[ex.VipFeatureAdjustColorMask=44]="VipFeatureAdjustColorMask",ex[ex.VipFeatureMouthShapeDriver=45]="VipFeatureMouthShapeDriver",ex[ex.VipFeatureSmartColor=46]="VipFeatureSmartColor",ex[ex.VipFeatureEffectMask=47]="VipFeatureEffectMask",ex[ex.VipFeatureEyeCorrection=48]="VipFeatureEyeCorrection",ex[ex.VipFeatureAIAccurateSubtitleRecognition=49]="VipFeatureAIAccurateSubtitleRecognition",ex[ex.VipFeatureCustomMattingFeather=50]="VipFeatureCustomMattingFeather",ex[ex.VipFeatureCustomMattingExpand=51]="VipFeatureCustomMattingExpand",ex[ex.VipFeatureVideoMask=52]="VipFeatureVideoMask",ex[ex.VipFeatureTextReading=53]="VipFeatureTextReading",ex[ex.VipFeatureExtractMusic=54]="VipFeatureExtractMusic",ex[ex.VipFeatureVideoOriginalSound=55]="VipFeatureVideoOriginalSound",ex[ex.VipFeatureSpeedModeCurve=56]="VipFeatureSpeedModeCurve",ex[ex.VipFeatureAiSound=57]="VipFeatureAiSound",ex);var il=((eF={})[eF.AiStoryMaterialSourcePlatformDefault=0]="AiStoryMaterialSourcePlatformDefault",eF[eF.AiStoryMaterialSourcePlatformArtist=1]="AiStoryMaterialSourcePlatformArtist",eF[eF.AiStoryMaterialSourcePlatformAiGenerate=2]="AiStoryMaterialSourcePlatformAiGenerate",eF);var id=((ek={})[ek.LVVESingleNone=0]="LVVESingleNone",ek[ek.LVVESingleSubtitleRecognize=1]="LVVESingleSubtitleRecognize",ek[ek.LVVESingleTranscript=2]="LVVESingleTranscript",ek[ek.LVVESingleBeauty=3]="LVVESingleBeauty",ek[ek.LVVESingleAdjust=4]="LVVESingleAdjust",ek);var iu=((eC={})[eC.expired=-4]="expired",eC[eC.failed=-3]="failed",eC[eC.canceled=-2]="canceled",eC[eC.create_failed=-1]="create_failed",eC[eC.initial=0]="initial",eC[eC.pending=1]="pending",eC[eC.processing=2]="processing",eC[eC.succeed=3]="succeed",eC[eC.download_failed=-11]="download_failed",eC[eC.downloading=12]="downloading",eC[eC.download_succeed=13]="download_succeed",eC[eC.applied=23]="applied",eC[eC.pre_create_failed=-31]="pre_create_failed",eC[eC.pre_creating=32]="pre_creating",eC[eC.pre_create_succeed=33]="pre_create_succeed",eC[eC.wait_sync=99]="wait_sync",eC);var ic=((ew={})[ew.NoneValue=0]="NoneValue",ew[ew.DigitalHumanToB=1]="DigitalHumanToB",ew[ew.AIGCReplicate=2]="AIGCReplicate",ew[ew.AIGCTool=3]="AIGCTool",ew[ew.DigitalHumanToC=4]="DigitalHumanToC",ew[ew.AIGCToolFree=5]="AIGCToolFree",ew[ew.VocalSeparation=6]="VocalSeparation",ew[ew.AIGCReplicateEditPrompt=7]="AIGCReplicateEditPrompt",ew[ew.VocalBeauty=8]="VocalBeauty",ew[ew.SmartPack=10]="SmartPack",ew[ew.VoiceClone=11]="VoiceClone",ew[ew.AITranslatorForVideo=13]="AITranslatorForVideo",ew[ew.AITranslatorForAudio=14]="AITranslatorForAudio",ew[ew.AICreatorCapFlow=1e4]="AICreatorCapFlow",ew[ew.OutPainting=15]="OutPainting",ew[ew.FlexibleTask=16]="FlexibleTask",ew[ew.DigitalHumanMake=17]="DigitalHumanMake",ew[ew.PhotoDigitalHumanMake=18]="PhotoDigitalHumanMake",ew[ew.VideoOutpainting=20]="VideoOutpainting",ew[ew.InPaintingErase=1002]="InPaintingErase",ew[ew.InPaintingRepaint=1003]="InPaintingRepaint",ew[ew.InPaintingVideoErase=21]="InPaintingVideoErase",ew[ew.OverdubTask=1001]="OverdubTask",ew[ew.OverdubAuditionTask=1011]="OverdubAuditionTask",ew[ew.AIMaterialGenerate=1004]="AIMaterialGenerate",ew[ew.SoundSeparation=19]="SoundSeparation",ew[ew.AutoCut=30]="AutoCut",ew[ew.AIBackgroundTask=1010]="AIBackgroundTask",ew[ew.AIMusic=25]="AIMusic",ew[ew.AIVocalMusic=23]="AIVocalMusic",ew[ew.LipSync=26]="LipSync",ew[ew.GameplayOverlay=3001]="GameplayOverlay",ew[ew.SmartPackageBroll=31]="SmartPackageBroll",ew[ew.VoiceChange=32]="VoiceChange",ew[ew.AIExpressionDriven=33]="AIExpressionDriven",ew[ew.AIMotionDriven=34]="AIMotionDriven",ew[ew.AISound=35]="AISound",ew[ew.AIVideoToMusic=36]="AIVideoToMusic",ew[ew.PhotoToLive=37]="PhotoToLive",ew);var ip=((eV={})[eV.GameplayTypeUnknown=0]="GameplayTypeUnknown",eV[eV.GameplayTypeI2I=1]="GameplayTypeI2I",eV[eV.GameplayTypeI2V=2]="GameplayTypeI2V",eV[eV.GameplayTypeV2V=3]="GameplayTypeV2V",eV);var im=((eb={})[eb.Rewrite=1]="Rewrite",eb[eb.Shorter=2]="Shorter",eb[eb.Longer=3]="Longer",eb[eb.GenerateText=4]="GenerateText",eb[eb.GenerateTitle=5]="GenerateTitle",eb);var ih=((eE={})[eE.AIGCGenerateTypeNone=0]="AIGCGenerateTypeNone",eE[eE.AIGCGenerateTypeT2I=1]="AIGCGenerateTypeT2I",eE[eE.AIGCGenerateTypeI2V=2]="AIGCGenerateTypeI2V",eE);var ig=((eP={})[eP.AICNone=0]="AICNone",eP[eP.AICArticleVideo=1]="AICArticleVideo",eP[eP.AICLiteEditor=2]="AICLiteEditor",eP[eP.AICEditor=3]="AICEditor",eP);var iy=((eN={})[eN.AiStoryMaterialPanelDefault=0]="AiStoryMaterialPanelDefault",eN[eN.AiStoryMaterialPanelAsset=1]="AiStoryMaterialPanelAsset",eN);var iT=((eR={})[eR.LVVEAiTaskStatusDefault=0]="LVVEAiTaskStatusDefault",eR[eR.LVVEAiTaskStatusInit=1]="LVVEAiTaskStatusInit",eR[eR.LVVEAiTaskStatusSuccess=2]="LVVEAiTaskStatusSuccess",eR[eR.LVVEAiTaskStatusError=3]="LVVEAiTaskStatusError",eR);var iv=((eD={})[eD.DraftTypeUnknown=0]="DraftTypeUnknown",eD[eD.Edit=1]="Edit",eD[eD.Export=2]="Export",eD);var i_=((eO={})[eO.QuickEditNone=0]="QuickEditNone",eO[eO.QuickEditMusic=1]="QuickEditMusic",eO[eO.QuickEditTemplate=2]="QuickEditTemplate",eO[eO.QuickEditEntrance=3]="QuickEditEntrance",eO);var iS=((eL={})[eL.AUDIO_BEAT_MODE_MELODY=0]="AUDIO_BEAT_MODE_MELODY",eL[eL.AUDIO_BEAT_MODE_BEAT=1]="AUDIO_BEAT_MODE_BEAT",eL[eL.AUDIO_BEAT_MODE_NONE=404]="AUDIO_BEAT_MODE_NONE",eL);var iA=((eK={})[eK.AUDIO_BEAT_GEAR_COUNT_NONE=0]="AUDIO_BEAT_GEAR_COUNT_NONE",eK[eK.AUDIO_BEAT_GEAR_COUNT_2=2]="AUDIO_BEAT_GEAR_COUNT_2",eK[eK.AUDIO_BEAT_GEAR_COUNT_5=5]="AUDIO_BEAT_GEAR_COUNT_5",eK);var iI=((eB={})[eB.AUDIO_BEAT_GEAR_0=0]="AUDIO_BEAT_GEAR_0",eB[eB.AUDIO_BEAT_GEAR_1=1]="AUDIO_BEAT_GEAR_1",eB[eB.AUDIO_BEAT_GEAR_2=2]="AUDIO_BEAT_GEAR_2",eB[eB.AUDIO_BEAT_GEAR_3=3]="AUDIO_BEAT_GEAR_3",eB[eB.AUDIO_BEAT_GEAR_4=4]="AUDIO_BEAT_GEAR_4",eB[eB.AUDIO_BEAT_GEAR_NONE=404]="AUDIO_BEAT_GEAR_NONE",eB);var iM=((ez={})[ez.SegmentJoint=0]="SegmentJoint",ez[ez.SegmentLinked=1]="SegmentLinked",ez);var ix=((eH={})[eH.JointNone=0]="JointNone",eH[eH.JointInOrder=1]="JointInOrder",eH);var iF=((eU={})[eU.Left=0]="Left",eU[eU.Center=1]="Center",eU[eU.Right=2]="Right",eU[eU.Up=3]="Up",eU[eU.Down=4]="Down",eU);var ik=((ej={})[ej.ClipStart=0]="ClipStart",ej[ej.ClipDuration=1]="ClipDuration",ej);var iC=((eW={})[eW.MainVideo=0]="MainVideo",eW[eW.SubVideo=1]="SubVideo",eW[eW.AllVideo=2]="AllVideo",eW);var iw=((eG={})[eG.Horizontal=0]="Horizontal",eG[eG.Vertical=1]="Vertical",eG);let iV={KFDataParamFlag_playHead:1n<<0n,KFDataParamFlag_curveType:1n<<1n,KFDataParamFlag_datas:1n<<2n,KFDataParamFlag_leftControl:1n<<3n,KFDataParamFlag_rightControl:1n<<4n,KFDataParamFlag_graphData:1n<<5n,KFDataParamFlag_All:-1};var ib=((eX={})[eX.ModifyTextAll=0]="ModifyTextAll",eX[eX.ModifyContent=1]="ModifyContent",eX[eX.ModifyAlignment=2]="ModifyAlignment",eX[eX.ModifyTypesetting=3]="ModifyTypesetting",eX[eX.ModifyLayerWeight=4]="ModifyLayerWeight",eX[eX.ModifyInitialScale=5]="ModifyInitialScale",eX[eX.ModifyStyleName=6]="ModifyStyleName",eX[eX.ModifyTextColor=7]="ModifyTextColor",eX[eX.ModifyTextAlpha=8]="ModifyTextAlpha",eX[eX.ModifyTextBgColor=9]="ModifyTextBgColor",eX[eX.ModifyTextBgAlpha=10]="ModifyTextBgAlpha",eX[eX.ModifyTextBorderColor=11]="ModifyTextBorderColor",eX[eX.ModifyTextBorderWidth=12]="ModifyTextBorderWidth",eX[eX.ModifyLetterSpacing=13]="ModifyLetterSpacing",eX[eX.ModifyLineSpacing=14]="ModifyLineSpacing",eX[eX.ModifyHasShadow=15]="ModifyHasShadow",eX[eX.ModifyShadowColor=16]="ModifyShadowColor",eX[eX.ModifyShadowAlpha=17]="ModifyShadowAlpha",eX[eX.ModifyShadowAngle=18]="ModifyShadowAngle",eX[eX.ModifyShadowSmoothing=19]="ModifyShadowSmoothing",eX[eX.ModifyShadowDistance=20]="ModifyShadowDistance",eX[eX.ModifyFontTitle=21]="ModifyFontTitle",eX[eX.ModifyFontPath=22]="ModifyFontPath",eX[eX.ModifyFallbackFontPath=23]="ModifyFallbackFontPath",eX[eX.ModifyFontSize=24]="ModifyFontSize",eX[eX.ModifyFontName=25]="ModifyFontName",eX[eX.ModifyFontId=26]="ModifyFontId",eX[eX.ModifyFontResId=27]="ModifyFontResId",eX[eX.ModifyUseEffectDefaultColor=28]="ModifyUseEffectDefaultColor",eX[eX.ModifyShapeFlipX=29]="ModifyShapeFlipX",eX[eX.ModifyShapeFlipY=30]="ModifyShapeFlipY",eX[eX.ModifyShapeKtvColor=31]="ModifyShapeKtvColor",eX[eX.ModifyBoldWidth=32]="ModifyBoldWidth",eX[eX.ModifyItalicDegree=33]="ModifyItalicDegree",eX[eX.ModifyUnderline=34]="ModifyUnderline",eX[eX.ModifyUnderlineWidth=35]="ModifyUnderlineWidth",eX[eX.ModifyUnderlineOffset=36]="ModifyUnderlineOffset",eX[eX.ModifyCheckFlag=37]="ModifyCheckFlag",eX[eX.ModifyFontCategoryName=38]="ModifyFontCategoryName",eX[eX.ModifyFontCategoryId=39]="ModifyFontCategoryId",eX[eX.ModifyRichTextStyleToAll=40]="ModifyRichTextStyleToAll",eX[eX.ModifyGlobalAlpha=41]="ModifyGlobalAlpha",eX[eX.ModifyTextBgRoundRadiusScale=42]="ModifyTextBgRoundRadiusScale",eX[eX.ModifyTextBgWidthAndHeight=43]="ModifyTextBgWidthAndHeight",eX[eX.ModifyTextBgVerticalAndHorizontalOffset=44]="ModifyTextBgVerticalAndHorizontalOffset",eX[eX.ModifyFontSizeSyncToAll=45]="ModifyFontSizeSyncToAll",eX[eX.ModifyFontSourcePlatform=46]="ModifyFontSourcePlatform",eX[eX.ModifyTTSAutoUpdate=47]="ModifyTTSAutoUpdate",eX[eX.ModifyTextBackgroundStyle=48]="ModifyTextBackgroundStyle",eX[eX.ModifyBloomColor=49]="ModifyBloomColor",eX[eX.ModifyBloomStrength=50]="ModifyBloomStrength",eX[eX.ModifyBloomRange=51]="ModifyBloomRange",eX[eX.ModifyBloomDirX=52]="ModifyBloomDirX",eX[eX.ModifyBloomDirY=53]="ModifyBloomDirY",eX[eX.ModifyBloomPath=54]="ModifyBloomPath",eX[eX.ModifyTextPreset=55]="ModifyTextPreset",eX[eX.ModifyTextPresetEffect=56]="ModifyTextPresetEffect",eX[eX.ModifyFixedWidth=57]="ModifyFixedWidth",eX[eX.ModifyFixedHeight=58]="ModifyFixedHeight",eX[eX.ModifyTextUniformScale=59]="ModifyTextUniformScale",eX[eX.ModifyTextBorderAlpha=60]="ModifyTextBorderAlpha",eX[eX.ModifyTextCurveAngle=61]="ModifyTextCurveAngle",eX[eX.ModifyLineMaxWidth=62]="ModifyLineMaxWidth",eX);let iE={AUKFFVolume:1n<<0n,AUKFFEffectAdjustParam1:1n<<1n,AUKFFEffectAdjustParam2:1n<<2n,AUKFFEffectAdjustParam3:1n<<3n,AUKFFEnd:1n<<4n},iP={SKFFPosition:1n<<0n,SKFFScale:1n<<1n,SKFFRotation:1n<<2n,SKFFGraph:1n<<3n,SKFFEnd:1n<<4n},iN={TKFFPosition:1n<<0n,TKFFScale:1n<<1n,TKFFRotation:1n<<2n,TKFFBorderWidth:1n<<3n,TKFFTextAlpha:1n<<4n,TKFFBackgroundAlpha:1n<<5n,TKFFShadowAlpha:1n<<6n,TKFFShadowSmoothing:1n<<7n,TKFFShadowAngle:1n<<8n,TKFFShadowPoint:1n<<9n,TKFFBorderColor:1n<<10n,TKFFTextColor:1n<<11n,TKFFShadowColor:1n<<12n,TKFFBackgroundColor:1n<<13n,TKFFGraph:1n<<14n,TKFFGlobalAlpha:1n<<15n,TKFFBloomColor:1n<<16n,TKFFBloomStrength:1n<<17n,TKFFBloomRange:1n<<18n,TKFFBloomDirX:1n<<19n,TKFFBloomDirY:1n<<20n,TKFFTextCurveAngle:1n<<21n,TKFFEnd:1n<<22n},iR={ADKFFBrightness:1n<<0n,ADKFFContrast:1n<<1n,ADKFFSaturation:1n<<2n,ADKFFSharpen:1n<<3n,ADKFFHightLight:1n<<4n,ADKFFShadow:1n<<5n,ADKFFTemperature:1n<<6n,ADKFFTone:1n<<7n,ADKFFFade:1n<<8n,ADKFFLightSensation:1n<<9n,ADKFFVignetting:1n<<10n,ADKFFParticle:1n<<11n,ADKFFLUT:1n<<12n,ADKFFPrimaryColorWheelsIntensity:1n<<13n,ADKFFLogColorWheelsIntensity:1n<<14n,ADKFFFilter:1n<<15n,ADKFFSmartColorAdjust:1n<<16n,ADKFFEnd:1n<<17n},iD={FKFFValue:1n<<0n,FKFFEnd:1n<<1n};var iO=((eZ={})[eZ.HslColorUnknown=0]="HslColorUnknown",eZ[eZ.HslColorRed=1]="HslColorRed",eZ[eZ.HslColorOrange=2]="HslColorOrange",eZ[eZ.HslColorYellow=3]="HslColorYellow",eZ[eZ.HslColorGreen=4]="HslColorGreen",eZ[eZ.HslColorCyan=5]="HslColorCyan",eZ[eZ.HslColorBlue=6]="HslColorBlue",eZ[eZ.HslColorPurple=7]="HslColorPurple",eZ[eZ.HslColorPurpleRed=8]="HslColorPurpleRed",eZ[eZ.HslColorEnd=9]="HslColorEnd",eZ);var iL=((eY={})[eY.ColorWheelsFieldPrimaryWheelsLift=0]="ColorWheelsFieldPrimaryWheelsLift",eY[eY.ColorWheelsFieldPrimaryWheelsGamma=1]="ColorWheelsFieldPrimaryWheelsGamma",eY[eY.ColorWheelsFieldPrimaryWheelsGain=2]="ColorWheelsFieldPrimaryWheelsGain",eY[eY.ColorWheelsFieldPrimaryWheelsOffset=3]="ColorWheelsFieldPrimaryWheelsOffset",eY[eY.ColorWheelsFieldPrimaryWheelsIntensity=4]="ColorWheelsFieldPrimaryWheelsIntensity",eY[eY.ColorWheelsFieldLogWheelsShadow=5]="ColorWheelsFieldLogWheelsShadow",eY[eY.ColorWheelsFieldLogWheelsMidtone=6]="ColorWheelsFieldLogWheelsMidtone",eY[eY.ColorWheelsFieldLogWheelsHighlight=7]="ColorWheelsFieldLogWheelsHighlight",eY[eY.ColorWheelsFieldLogWheelsOffset=8]="ColorWheelsFieldLogWheelsOffset",eY[eY.ColorWheelsFieldLogWheelsIntensity=9]="ColorWheelsFieldLogWheelsIntensity",eY);let iK={VKFFPosition:1n<<0n,VKFFScale:1n<<1n,VKFFRotation:1n<<2n,VKFFAlpha:1n<<3n,VKFFVolume:1n<<4n,VKFFLastVolume:1n<<5n,VKFFFilter:1n<<6n,VKFFBrightness:1n<<7n,VKFFContrast:1n<<8n,VKFFSaturation:1n<<9n,VKFFSharpen:1n<<10n,VKFFHightLight:1n<<11n,VKFFShadow:1n<<12n,VKFFTemperature:1n<<13n,VKFFTone:1n<<14n,VKFFFade:1n<<15n,VKFFLightSensatione:1n<<16n,VKFFVignetting:1n<<17n,VKFFParticle:1n<<18n,VKFFChromaIntensity:1n<<19n,VKFFChromaShadow:1n<<20n,VKFFCommonMaskPosition:1n<<21n,VKFFCommonMaskSize:1n<<22n,VKFFCommonMaskRotation:1n<<23n,VKFFCommonMaskFeather:1n<<24n,VKFFCommonMaskRoundCorner:1n<<25n,VKFFLUT:1n<<26n,VKFFGraph:1n<<27n,VKFFStretch:1n<<28n,VKFFSlim:1n<<29n,VKFFZoom:1n<<30n,VKFFPrimaryColorWheelIntensity:1n<<31n,VKFFLogColorWheelIntensity:1n<<32n,VKFFEffectAdjustParam1:1n<<33n,VKFFEffectAdjustParam2:1n<<34n,VKFFEffectAdjustParam3:1n<<35n,VKFFSmartColorAdjust:1n<<36n,VKFFWhite:1n<<37n,VKFFBlack:1n<<38n,VKFFClear:1n<<39n,VKFFEnd:1n<<40n};var iB=((e$={}).KFTypeNone="KFTypeNone",e$.KFTypePositionXY="KFTypePositionXY",e$.KFTypePositionX="KFTypePositionX",e$.KFTypePositionY="KFTypePositionY",e$.KFTypeScale="KFTypeScale",e$.KFTypeScaleX="KFTypeScaleX",e$.KFTypeScaleY="KFTypeScaleY",e$.KFTypeRotation="KFTypeRotation",e$.KFTypeAlpha="KFTypeAlpha",e$.KFTypeFilter="KFTypeFilter",e$.KFTypeVolume="KFTypeVolume",e$.KFTypeLastVolume="KFTypeLastVolume",e$.KFTypeEffectAdjustParam1="KFTypeEffectAdjustParam1",e$.KFTypeEffectAdjustParam2="KFTypeEffectAdjustParam2",e$.KFTypeEffectAdjustParam3="KFTypeEffectAdjustParam3",e$.KFTypeBrightness="KFTypeBrightness",e$.KFTypeContrast="KFTypeContrast",e$.KFTypeSaturation="KFTypeSaturation",e$.KFTypeSharpen="KFTypeSharpen",e$.KFTypeHightLight="KFTypeHightLight",e$.KFTypeShadow="KFTypeShadow",e$.KFTypeTemperature="KFTypeTemperature",e$.KFTypeHue="KFTypeHue",e$.KFTypeFade="KFTypeFade",e$.KFTypeLightSensatione="KFTypeLightSensatione",e$.KFTypeVignetting="KFTypeVignetting",e$.KFTypeParticle="KFTypeParticle",e$.KFTypeWhite="KFTypeWhite",e$.KFTypeBlack="KFTypeBlack",e$.KFTypeClear="KFTypeClear",e$.KFTypePrimaryColorWheelIntensity="KFTypePrimaryColorWheelIntensity",e$.KFTypeLogColorWheelIntensity="KFTypeLogColorWheelIntensity",e$.KFTypeSmartColorAdjust="KFTypeSmartColorAdjust",e$.KFTypeLUT="KFTypeLUT",e$.KFTypeColorMatch="KFTypeColorMatch",e$.KFTypeColorCorrect="KFTypeColorCorrect",e$.KFTypeChromaIntensity="KFTypeChromaIntensity",e$.KFTypeChromaShadow="KFTypeChromaShadow",e$.KFTypeChromaEdgeSmooth="KFTypeChromaEdgeSmooth",e$.KFTypeChromaSpill="KFTypeChromaSpill",e$.KFTypeMaskPostion="KFTypeMaskPostion",e$.KFTypeMaskPostionX="KFTypeMaskPostionX",e$.KFTypeMaskPostionY="KFTypeMaskPostionY",e$.KFTypeMaskSize="KFTypeMaskSize",e$.KFTypeMaskSizeX="KFTypeMaskSizeX",e$.KFTypeMaskSizeY="KFTypeMaskSizeY",e$.KFTypeMaskRotation="KFTypeMaskRotation",e$.KFTypeMaskFeather="KFTypeMaskFeather",e$.KFTypeMaskRoundCorner="KFTypeMaskRoundCorner",e$.KFTypeCommonMaskPositionX="KFTypeCommonMaskPositionX",e$.KFTypeCommonMaskPositionY="KFTypeCommonMaskPositionY",e$.KFTypeCommonMaskSizeWidth="KFTypeCommonMaskSizeWidth",e$.KFTypeCommonMaskSizeHeight="KFTypeCommonMaskSizeHeight",e$.KFTypeCommonMaskRotation="KFTypeCommonMaskRotation",e$.KFTypeCommonMaskFeather="KFTypeCommonMaskFeather",e$.KFTypeCommonMaskRoundCorner="KFTypeCommonMaskRoundCorner",e$.KFTypeStretch="KFTypeStretch",e$.KFTypeSlim="KFTypeSlim",e$.KFTypeZoom="KFTypeZoom",e$.KFTypeTextColor="KFTypeTextColor",e$.KFTypeTextAlpha="KFTypeTextAlpha",e$.KFTypeBackgroundColor="KFTypeBackgroundColor",e$.KFTypeBackgroundAlpha="KFTypeBackgroundAlpha",e$.KFTypeShadowColor="KFTypeShadowColor",e$.KFTypeShadowAlpha="KFTypeShadowAlpha",e$.KFTypeShadowSmoothing="KFTypeShadowSmoothing",e$.KFTypeShadowAngle="KFTypeShadowAngle",e$.KFTypeShadowDistance="KFTypeShadowDistance",e$.KFTypeBorderColor="KFTypeBorderColor",e$.KFTypeBorderAlpha="KFTypeBorderAlpha",e$.KFTypeBorderWidth="KFTypeBorderWidth",e$.KFTypeGlobalAlpha="KFTypeGlobalAlpha",e$.KFTypeTextCurveAngle="KFTypeTextCurveAngle",e$.KFTypeBloomColor="KFTypeBloomColor",e$.KFTypeBloomAlpha="KFTypeBloomAlpha",e$.KFTypeBloomStrength="KFTypeBloomStrength",e$.KFTypeBloomRange="KFTypeBloomRange",e$.KFTypeBloomDirX="KFTypeBloomDirX",e$.KFTypeBloomDirY="KFTypeBloomDirY",e$.KFTypeGraph="KFTypeGraph",e$.KFTypeObjectLocked="KFTypeObjectLocked",e$.KFTypeSmartMotion="KFTypeSmartMotion",e$);var iz=((eq={}).SegmentTailLeader="SegmentTailLeader",eq.SegmentVideo="SegmentVideo",eq.SegmentAudio="SegmentAudio",eq.SegmentVideoEffect="SegmentVideoEffect",eq.SegmentFilter="SegmentFilter",eq.SegmentPictureAdjust="SegmentPictureAdjust",eq.SegmentImageSticker="SegmentImageSticker",eq.SegmentSticker="SegmentSticker",eq.SegmentTextTemplate="SegmentTextTemplate",eq.SegmentText="SegmentText",eq.SegmentComposition="SegmentComposition",eq.SegmentAdcube="SegmentAdcube",eq.SegmentPluginEffect="SegmentPluginEffect",eq.SegmentHandwrite="SegmentHandwrite",eq.SegmentShape="SegmentShape",eq)},542099:function(e,t,i){"use strict";i.d(t,{E_:function(){return s},q9:function(){return u}});var n=i(669686),r=i(150251);let o={bigint:{start:{},duration:{}}},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.start=0n,this.duration=0n,(0,n.tZ)(this,e,a)}}let l={bigint:{start:{},duration:{}}},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},199234:function(e,t,i){"use strict";i.d(t,{s8:function(){return s}});var n=i(669686),r=i(150251);let o={common:["script_edited","script_origin","action","type"],bigint:{script_type:{}}},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.scriptType=0n,this.scriptEdited="",this.scriptOrigin="",this.action="",this.type="",(0,n.tZ)(this,e,a)}}let l={common:["script_edited","script_origin","action","type"],bigint:{script_type:{}}},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},357646:function(e,t,i){"use strict";i.d(t,{P7:function(){return s},v3:function(){return u}});var n=i(669686),r=i(150251);let o={common:["move_feeds_to_alternative"]},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.moveFeedsToAlternative=!0,(0,n.tZ)(this,e,a)}}let l={common:["move_feeds_to_alternative"]},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},93744:function(e,t,i){"use strict";i.d(t,{ZD:function(){return c},sE:function(){return l}});var n=i(669686),r=i(150251),o=i(689127);let a={common:["local_task_id","cap_key","capflow_id"],object:{prompt_info:{type:()=>o.V7}}},s=(0,n.I2)(a,[]);class l extends r.w8{static deserialize(e){let t=new l;return(0,n.Tz)(t,e,a),t}static serialize(e){return(0,n.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,n.he)(this,t,a,e),t}constructor(e={}){super(),this[r.I9]=c,this.localTaskId="",this.capKey="",this.capflowId="",this.promptInfo=new o.V7,(0,n.tZ)(this,e,s)}}let d={common:["local_task_id","cap_key","capflow_id"],object:{prompt_info:{type:()=>o.uB}}},u=(0,n.I2)(d,[]);class c extends r.u2{static deserialize(e){let t=new c;return(0,n.Tz)(t,e,d,!0),t}static serialize(e){return(0,n.o8)(e,d,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,n.he)(this,t,d,e,!1,!0),t}constructor(e={}){super(),this[r._n]=l,(0,n.fZ)(this,e,u)}}},760941:function(e,t,i){"use strict";i.d(t,{Hc:function(){return s},Zw:function(){return u}});var n=i(669686),r=i(150251);let o={common:["direction","anim_mode"]},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.direction="",this.animMode="",(0,n.tZ)(this,e,a)}}let l={common:["direction","anim_mode"]},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},964904:function(e,t,i){"use strict";i.d(t,{fM:function(){return c},zU:function(){return f}});var n=i(669686),r=i(150251),o=i(315989),a=i(516610),s=i(565875),l=i(913833);let d={common:["version","type","template_id","video_generator_type","picture_set_id"],array:{text:{type:"object",clsName:()=>o.c4},video:{type:"object",clsName:()=>a.Bv},bgm:{type:"object",clsName:()=>s.df},mismatch_audio_ids:{type:"common"}},object:{recommend_info:{type:()=>l.Dy}}},u=(0,n.I2)(d,[]);class c extends r.w8{static deserialize(e){let t=new c;return(0,n.Tz)(t,e,d),t}static serialize(e){return(0,n.o8)(e,d)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,n.he)(this,t,d,e),t}constructor(e={}){super(),this[r.I9]=f,this.text=[],this.video=[],this.bgm=[],this.version="",this.type=0,this.mismatchAudioIds=[],this.recommendInfo=new l.Dy,this.templateId="",this.videoGeneratorType=0,this.pictureSetId="",(0,n.tZ)(this,e,u)}}let p={common:["version","type","template_id","video_generator_type","picture_set_id"],array:{text:{type:"object",clsName:()=>o.c4},video:{type:"object",clsName:()=>a.Bv},bgm:{type:"object",clsName:()=>s.df},mismatch_audio_ids:{type:"common"}},object:{recommend_info:{type:()=>l.LE}}},m=(0,n.I2)(p,[]);class f extends r.u2{static deserialize(e){let t=new f;return(0,n.Tz)(t,e,p,!0),t}static serialize(e){return(0,n.o8)(e,p,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new f;return(0,n.he)(this,t,p,e,!1,!0),t}constructor(e={}){super(),this[r._n]=c,(0,n.fZ)(this,e,m)}}},516610:function(e,t,i){"use strict";i.d(t,{Bv:function(){return l}});var n=i(602777),r=i(669686),o=i(150251);let a={common:["id","source","url","caption","query","is_vip"]},s=(0,r.I2)(a,[]);class l extends o.w8{static deserialize(e){let t=new l;return(0,r.Tz)(t,e,a),t}static serialize(e){return(0,r.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,r.he)(this,t,a,e),t}constructor(e={}){super(),this[o.I9]=c,this.id="",this.source=n.cy.ArticleVideoVideoPlatformYiKai,this.url="",this.caption="",this.query="",this.isVip=!1,(0,r.tZ)(this,e,s)}}let d={common:["id","source","url","caption","query","is_vip"]},u=(0,r.I2)(d,[]);class c extends o.u2{static deserialize(e){let t=new c;return(0,r.Tz)(t,e,d,!0),t}static serialize(e){return(0,r.o8)(e,d,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,r.he)(this,t,d,e,!1,!0),t}constructor(e={}){super(),this[o._n]=l,(0,r.fZ)(this,e,u)}}},818149:function(e,t,i){"use strict";i.d(t,{WT:function(){return c},aw:function(){return l}});var n=i(669686),r=i(150251),o=i(238830);let a={common:["original_size_width","original_size_height"],bigint:{start_time:{},duration:{}},object:{clip:{type:()=>o.bX,nullable:!0}}},s=(0,n.I2)(a,[]);class l extends r.w8{static deserialize(e){let t=new l;return(0,n.Tz)(t,e,a),t}static serialize(e){return(0,n.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,n.he)(this,t,a,e),t}constructor(e={}){super(),this[r.I9]=c,this.startTime=0n,this.duration=0n,this.originalSizeWidth=0,this.originalSizeHeight=0,(0,n.tZ)(this,e,s)}}let d={common:["original_size_width","original_size_height"],bigint:{start_time:{},duration:{}},object:{clip:{type:()=>o.tL,nullable:!0}}},u=(0,n.I2)(d,[]);class c extends r.u2{static deserialize(e){let t=new c;return(0,n.Tz)(t,e,d,!0),t}static serialize(e){return(0,n.o8)(e,d,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,n.he)(this,t,d,e,!1,!0),t}constructor(e={}){super(),this[r._n]=l,(0,n.fZ)(this,e,u)}}},851678:function(e,t,i){"use strict";i.d(t,{Sv:function(){return u},zA:function(){return s}});var n=i(669686),r=i(150251);let o={common:["color","strength","range","dir_x","dir_y"]},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.color="",this.strength=0,this.range=1,this.dirX=0,this.dirY=0,(0,n.tZ)(this,e,a)}}let l={common:["color","strength","range","dir_x","dir_y"]},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},323776:function(e,t,i){"use strict";i.d(t,{t0:function(){return s}});var n=i(669686),r=i(150251);let o={common:["i","string_value"],array:{v:{type:"common"}}},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.i=0,this.v=[],this.stringValue="",(0,n.tZ)(this,e,a)}}let l={common:["i","string_value"],array:{v:{type:"common"}}},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},871011:function(e,t,i){"use strict";i.d(t,{FA:function(){return s},q1:function(){return u}});var n=i(669686),r=i(150251);let o={common:["path","name","audio_id"],bigint:{duration:{}}},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.path="",this.duration=0n,this.name="",this.audioId="",(0,n.tZ)(this,e,a)}}let l={common:["path","name","audio_id"],bigint:{duration:{}}},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},726336:function(e,t,i){"use strict";i.d(t,{K0:function(){return u},xh:function(){return s}});var n=i(669686),r=i(150251);let o={common:["edit_total_day"],bigint:{create_time:{},last_edit_time:{},edit_total_time:{},last_recorde_edit_time:{}}},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.createTime=0n,this.lastEditTime=0n,this.editTotalTime=0n,this.editTotalDay=0,this.lastRecordeEditTime=0n,(0,n.tZ)(this,e,a)}}let l={common:["edit_total_day"],bigint:{create_time:{},last_edit_time:{},edit_total_time:{},last_recorde_edit_time:{}}},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},670908:function(e,t,i){"use strict";i.d(t,{HH:function(){return s},T3:function(){return u}});var n=i(669686),r=i(150251);let o={common:["x","y"]},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.x=0,this.y=0,(0,n.tZ)(this,e,a)}}let l={common:["x","y"]},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},560689:function(e,t,i){"use strict";i.d(t,{Zv:function(){return u},oy:function(){return s}});var n=i(669686),r=i(150251);let o={common:["source_material_id","source_material_path","reverse_material_path"],bigint:{timestamp:{}}},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.sourceMaterialId="",this.sourceMaterialPath="",this.reverseMaterialPath="",this.timestamp=-1n,(0,n.tZ)(this,e,a)}}let l={common:["source_material_id","source_material_path","reverse_material_path"],bigint:{timestamp:{}}},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},595506:function(e,t,i){"use strict";i.d(t,{OM:function(){return u}});var n=i(669686),r=i(150251),o=i(883501),a=i(889803),s=i(425325);let l={common:["id","type","rotation"],bigint:{time_offset:{},flags:{}},object:{position:{type:()=>o.wx},scale:{type:()=>a.Ci},graph:{type:()=>s.kJ,nullable:!0}}},d=(0,n.I2)(l,[]);class u extends r.w8{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l),t}static serialize(e){return(0,n.o8)(e,l)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e),t}constructor(e={}){super(),this[r.I9]=m,this.id="",this.type="handwrite",this.timeOffset=0n,this.flags=-1n,this.position=new o.wx,this.scale=new a.Ci,this.rotation=0,(0,n.tZ)(this,e,d)}}let c={common:["id","type","rotation"],bigint:{time_offset:{},flags:{}},object:{position:{type:()=>o.jP},scale:{type:()=>a.o_},graph:{type:()=>s.tf,nullable:!0}}},p=(0,n.I2)(c,[]);class m extends r.u2{static deserialize(e){let t=new m;return(0,n.Tz)(t,e,c,!0),t}static serialize(e){return(0,n.o8)(e,c,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new m;return(0,n.he)(this,t,c,e,!1,!0),t}constructor(e={}){super(),this[r._n]=u,(0,n.fZ)(this,e,p)}}},392163:function(e,t,i){"use strict";i.d(t,{Ol:function(){return p},Vp:function(){return d}});var n=i(602777),r=i(669686),o=i(150251),a=i(93613);let s={common:["blur","blend","multiple_blur","blur_frame_type","resolution"],object:{backup_motion_blur:{type:()=>a.xD,nullable:!0}}},l=(0,r.I2)(s,[]);class d extends o.w8{static deserialize(e){let t=new d;return(0,r.Tz)(t,e,s),t}static serialize(e){return(0,r.o8)(e,s)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return(0,r.he)(this,t,s,e),t}constructor(e={}){super(),this[o.I9]=p,this.blur=0,this.blend=0,this.multipleBlur=1,this.blurFrameType=n.lw.Bilateral,this.resolution=720,(0,r.tZ)(this,e,l)}}let u={common:["blur","blend","multiple_blur","blur_frame_type","resolution"],object:{backup_motion_blur:{type:()=>a.w1,nullable:!0}}},c=(0,r.I2)(u,[]);class p extends o.u2{static deserialize(e){let t=new p;return(0,r.Tz)(t,e,u,!0),t}static serialize(e){return(0,r.o8)(e,u,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new p;return(0,r.he)(this,t,u,e,!1,!0),t}constructor(e={}){super(),this[o._n]=d,(0,r.fZ)(this,e,c)}}},245062:function(e,t,i){"use strict";i.d(t,{$y:function(){return l},PZ:function(){return c}});var n=i(669686),r=i(150251),o=i(755118);let a={array:{text_templates:{type:"object",clsName:()=>o.rD}}},s=(0,n.I2)(a,[]);class l extends r.w8{static deserialize(e){let t=new l;return(0,n.Tz)(t,e,a),t}static serialize(e){return(0,n.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,n.he)(this,t,a,e),t}constructor(e={}){super(),this[r.I9]=c,this.textTemplates=[],(0,n.tZ)(this,e,s)}}let d={array:{text_templates:{type:"object",clsName:()=>o.rD}}},u=(0,n.I2)(d,[]);class c extends r.u2{static deserialize(e){let t=new c;return(0,n.Tz)(t,e,d,!0),t}static serialize(e){return(0,n.o8)(e,d,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,n.he)(this,t,d,e,!1,!0),t}constructor(e={}){super(),this[r._n]=l,(0,n.fZ)(this,e,u)}}},527295:function(e,t,i){"use strict";i.d(t,{Hh:function(){return m}});var n=i(602777),r=i(287165),o=i(669686),a=i(150251),s=i(988210),l=i(153730),d=i(180438),u=i(923001);let c={common:["id","local_id","resource_id","name","type","path","textable"],array:{strokes:{type:"object",clsName:()=>l.qe},shadows:{type:"object",clsName:()=>d.W5},inner_shadows:{type:"object",clsName:()=>d.W5}},object:{fill:{type:()=>s.Xk},background:{type:()=>u.Ly}}},p=(0,o.I2)(c,[]);class m extends a.w8{static deserialize(e){let t=new m;return(0,o.Tz)(t,e,c),t}static serialize(e){return(0,o.o8)(e,c)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new m;return(0,o.he)(this,t,c,e,["id"]),t}constructor(e={}){super(),this[a.I9]=g,this.id=(0,r.p)(),this.localId="",this.resourceId="",this.name="",this.type=n.cV.MetaTypeNone,this.path="",this.fill=new s.Xk,this.strokes=[],this.shadows=[],this.innerShadows=[],this.background=new u.Ly,this.textable=!1,(0,o.tZ)(this,e,p)}}let f={common:["id","local_id","resource_id","name","type","path","textable"],array:{strokes:{type:"object",clsName:()=>l.qe},shadows:{type:"object",clsName:()=>d.W5},inner_shadows:{type:"object",clsName:()=>d.W5}},object:{fill:{type:()=>s.ah},background:{type:()=>u.Gm}}},h=(0,o.I2)(f,[]);class g extends a.u2{static deserialize(e){let t=new g;return(0,o.Tz)(t,e,f,!0),t}static serialize(e){return(0,o.o8)(e,f,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new g;return(0,o.he)(this,t,f,e,["id"],!0),t}constructor(e={}){super(),this[a._n]=m,(0,o.fZ)(this,e,h)}}},557599:function(e,t,i){"use strict";i.d(t,{Kr:function(){return m},RR:function(){return u}});var n=i(602777),r=i(287165),o=i(669686),a=i(150251),s=i(905940);let l={common:["id","type","size","intensity","hardness","protection","resource_path","vertex_list_path","source_platform","resource_id","third_resource_id","face_recognition_algorithm_path"],array:{manual_deformation_paths:{type:"object",clsName:()=>s.un}}},d=(0,o.I2)(l,[]);class u extends a.w8{static deserialize(e){let t=new u;return(0,o.Tz)(t,e,l),t}static serialize(e){return(0,o.o8)(e,l)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,o.he)(this,t,l,e,["id"]),t}constructor(e={}){super(),this[a.I9]=m,this.id=(0,r.p)(),this.type=n.cV.MetaTypeManualDeformation,this.size=100,this.intensity=.1,this.hardness=.1,this.protection=0,this.manualDeformationPaths=[],this.resourcePath="",this.vertexListPath="",this.sourcePlatform=0,this.resourceId="",this.thirdResourceId="",this.faceRecognitionAlgorithmPath="",(0,o.tZ)(this,e,d)}}let c={common:["id","type","size","intensity","hardness","protection","resource_path","vertex_list_path","source_platform","resource_id","third_resource_id","face_recognition_algorithm_path"],array:{manual_deformation_paths:{type:"object",clsName:()=>s.un}}},p=(0,o.I2)(c,[]);class m extends a.u2{static deserialize(e){let t=new m;return(0,o.Tz)(t,e,c,!0),t}static serialize(e){return(0,o.o8)(e,c,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new m;return(0,o.he)(this,t,c,e,["id"],!0),t}constructor(e={}){super(),this[a._n]=u,(0,o.fZ)(this,e,p)}}},414516:function(e,t,i){"use strict";i.d(t,{cN:function(){return T},sq:function(){return h}});var n=i(602777),r=i(287165),o=i(669686),a=i(150251),s=i(686513),l=i(750581),d=i(398163),u=i(229133),c=i(684372),p=i(64144);let m={common:["id","type","enable_lut","enable_adjust","enable_hsl","enable_color_curves","enable_color_wheels","adjust_preset_resource_id","enable_smart_color_adjust","enable_color_match_adjust","enable_color_correct_adjust","enable_adjust_mask"],array:{hsl:{type:"object",clsName:()=>l.pr},adjust_mask:{type:"object",clsName:()=>p.Q$}},object:{brightness:{type:()=>s.eA,nullable:!0},contrast:{type:()=>s.eA,nullable:!0},saturation:{type:()=>s.eA,nullable:!0},sharpening:{type:()=>s.eA,nullable:!0},highlight:{type:()=>s.eA,nullable:!0},shadow:{type:()=>s.eA,nullable:!0},white:{type:()=>s.eA,nullable:!0},black:{type:()=>s.eA,nullable:!0},clear:{type:()=>s.eA,nullable:!0},color_temperature:{type:()=>s.eA,nullable:!0},hue:{type:()=>s.eA,nullable:!0},fade:{type:()=>s.eA,nullable:!0},light_sensation:{type:()=>s.eA,nullable:!0},vignetting:{type:()=>s.eA,nullable:!0},particle:{type:()=>s.eA,nullable:!0},lut:{type:()=>s.eA,nullable:!0},color_curves:{type:()=>d.vI,nullable:!0},primary_color_wheels:{type:()=>u.i3,nullable:!0},log_color_wheels:{type:()=>c.p4,nullable:!0},filter:{type:()=>s.eA,nullable:!0},smart_adjust_color:{type:()=>s.eA,nullable:!0},color_match:{type:()=>s.eA,nullable:!0},color_correct:{type:()=>s.eA,nullable:!0}}},f=(0,o.I2)(m,[]);class h extends a.w8{static deserialize(e){let t=new h;return(0,o.Tz)(t,e,m),t}static serialize(e){return(0,o.o8)(e,m)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new h;return(0,o.he)(this,t,m,e,["id"]),t}constructor(e={}){super(),this[a.I9]=T,this.id=(0,r.p)(),this.type=n.cV.MetaTypeAdjust,this.enableLut=!0,this.enableAdjust=!0,this.enableHsl=!0,this.enableColorCurves=!0,this.enableColorWheels=!0,this.adjustPresetResourceId="",this.enableSmartColorAdjust=!1,this.enableColorMatchAdjust=!1,this.enableColorCorrectAdjust=!1,this.enableAdjustMask=!0,(0,o.tZ)(this,e,f)}}let g={common:["id","type","enable_lut","enable_adjust","enable_hsl","enable_color_curves","enable_color_wheels","adjust_preset_resource_id","enable_smart_color_adjust","enable_color_match_adjust","enable_color_correct_adjust","enable_adjust_mask"],array:{hsl:{type:"object",clsName:()=>l.pr},adjust_mask:{type:"object",clsName:()=>p.Q$}},object:{brightness:{type:()=>s.W9,nullable:!0},contrast:{type:()=>s.W9,nullable:!0},saturation:{type:()=>s.W9,nullable:!0},sharpening:{type:()=>s.W9,nullable:!0},highlight:{type:()=>s.W9,nullable:!0},shadow:{type:()=>s.W9,nullable:!0},white:{type:()=>s.W9,nullable:!0},black:{type:()=>s.W9,nullable:!0},clear:{type:()=>s.W9,nullable:!0},color_temperature:{type:()=>s.W9,nullable:!0},hue:{type:()=>s.W9,nullable:!0},fade:{type:()=>s.W9,nullable:!0},light_sensation:{type:()=>s.W9,nullable:!0},vignetting:{type:()=>s.W9,nullable:!0},particle:{type:()=>s.W9,nullable:!0},lut:{type:()=>s.W9,nullable:!0},color_curves:{type:()=>d.yF,nullable:!0},primary_color_wheels:{type:()=>u.XP,nullable:!0},log_color_wheels:{type:()=>c.q1,nullable:!0},filter:{type:()=>s.W9,nullable:!0},smart_adjust_color:{type:()=>s.W9,nullable:!0},color_match:{type:()=>s.W9,nullable:!0},color_correct:{type:()=>s.W9,nullable:!0}}},y=(0,o.I2)(g,[]);class T extends a.u2{static deserialize(e){let t=new T;return(0,o.Tz)(t,e,g,!0),t}static serialize(e){return(0,o.o8)(e,g,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new T;return(0,o.he)(this,t,g,e,["id"],!0),t}constructor(e={}){super(),this[a._n]=h,(0,o.fZ)(this,e,y)}}},232524:function(e,t,i){"use strict";i.d(t,{HV:function(){return m},Jc:function(){return u}});var n=i(602777),r=i(287165),o=i(669686),a=i(150251),s=i(180942);let l={common:["id","type","choice","production_path"],array:{removed_sounds:{type:"common"}},object:{time_range:{type:()=>s.tn,nullable:!0}}},d=(0,o.I2)(l,[]);class u extends a.w8{static deserialize(e){let t=new u;return(0,o.Tz)(t,e,l),t}static serialize(e){return(0,o.o8)(e,l)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,o.he)(this,t,l,e,["id"]),t}constructor(e={}){super(),this[a.I9]=m,this.id=(0,r.p)(),this.type=n.cV.MetaTypeVocalSeparation,this.choice=n.ZT.None,this.removedSounds=[],this.productionPath="",(0,o.tZ)(this,e,d)}}let c={common:["id","type","choice","production_path"],array:{removed_sounds:{type:"common"}},object:{time_range:{type:()=>s.ze,nullable:!0}}},p=(0,o.I2)(c,[]);class m extends a.u2{static deserialize(e){let t=new m;return(0,o.Tz)(t,e,c,!0),t}static serialize(e){return(0,o.o8)(e,c,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new m;return(0,o.he)(this,t,c,e,["id"],!0),t}constructor(e={}){super(),this[a._n]=u,(0,o.fZ)(this,e,p)}}},179849:function(e,t,i){"use strict";i.d(t,{GC:function(){return c},bq:function(){return f}});var n=i(669686),r=i(150251),o=i(432202),a=i(45854),s=i(666862),l=i(622625);let d={common:["description","rec_prompt"],array:{smart_label_list:{type:"common"},rec_text_list:{type:"common"},struct_info_list:{type:"object",clsName:()=>o.OB},short_text_list_v2:{type:"object",clsName:()=>s.aw}},object:{template_music_info:{type:()=>a.Fx},extra_info:{type:()=>l.U3}}},u=(0,n.I2)(d,[]);class c extends r.w8{static deserialize(e){let t=new c;return(0,n.Tz)(t,e,d),t}static serialize(e){return(0,n.o8)(e,d)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,n.he)(this,t,d,e),t}constructor(e={}){super(),this[r.I9]=f,this.description="",this.smartLabelList=[],this.recPrompt="",this.recTextList=[],this.structInfoList=[],this.templateMusicInfo=new a.Fx,this.shortTextListV2=[],this.extraInfo=new l.U3,(0,n.tZ)(this,e,u)}}let p={common:["description","rec_prompt"],array:{smart_label_list:{type:"common"},rec_text_list:{type:"common"},struct_info_list:{type:"object",clsName:()=>o.OB},short_text_list_v2:{type:"object",clsName:()=>s.aw}},object:{template_music_info:{type:()=>a.u4},extra_info:{type:()=>l.dR}}},m=(0,n.I2)(p,[]);class f extends r.u2{static deserialize(e){let t=new f;return(0,n.Tz)(t,e,p,!0),t}static serialize(e){return(0,n.o8)(e,p,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new f;return(0,n.he)(this,t,p,e,!1,!0),t}constructor(e={}){super(),this[r._n]=c,(0,n.fZ)(this,e,m)}}},250863:function(e,t,i){"use strict";i.d(t,{ZY:function(){return l}});var n=i(669686),r=i(150251),o=i(189190);let a={common:["description"],bigint:{chapter_id:{}},array:{video_segment_list:{type:"object",clsName:()=>o.fK}}},s=(0,n.I2)(a,[]);class l extends r.w8{static deserialize(e){let t=new l;return(0,n.Tz)(t,e,a),t}static serialize(e){return(0,n.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,n.he)(this,t,a,e),t}constructor(e={}){super(),this[r.I9]=c,this.chapterId=0n,this.description="",this.videoSegmentList=[],(0,n.tZ)(this,e,s)}}let d={common:["description"],bigint:{chapter_id:{}},array:{video_segment_list:{type:"object",clsName:()=>o.fK}}},u=(0,n.I2)(d,[]);class c extends r.u2{static deserialize(e){let t=new c;return(0,n.Tz)(t,e,d,!0),t}static serialize(e){return(0,n.o8)(e,d,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,n.he)(this,t,d,e,!1,!0),t}constructor(e={}){super(),this[r._n]=l,(0,n.fZ)(this,e,u)}}},60041:function(e,t,i){"use strict";i.d(t,{NP:function(){return s},ft:function(){return u}});var n=i(669686),r=i(150251);let o={common:["type","tone_type","resource_id","category_id","category_name"]},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.type="",this.toneType="",this.resourceId="",this.categoryId="",this.categoryName="",(0,n.tZ)(this,e,a)}}let l={common:["type","tone_type","resource_id","category_id","category_name"]},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},445803:function(e,t,i){"use strict";i.d(t,{Bn:function(){return f},WN:function(){return c}});var n=i(602777),r=i(669686),o=i(150251),a=i(662719),s=i(180942),l=i(686513);let d={common:["locked_type","adjust_rotate","adjust_fit","adjust_size","cache_path","has_updated_keyframe","adjust_blur","locked_enable","locked_status"],bigint:{locked_id:{},locked_pts:{}},array:{keyframes:{type:"object",clsName:()=>a.Hp},locked_time_ranges:{type:"object",clsName:()=>s.tn},stable_object_box:{type:"common"}},object:{effect:{type:()=>l.eA,nullable:!0}}},u=(0,r.I2)(d,[]);class c extends o.w8{static deserialize(e){let t=new c;return(0,r.Tz)(t,e,d),t}static serialize(e){return(0,r.o8)(e,d)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,r.he)(this,t,d,e),t}constructor(e={}){super(),this[o.I9]=f,this.lockedType=n.NG.Face,this.keyframes=[],this.adjustRotate=0,this.adjustFit=!1,this.adjustSize=!1,this.lockedTimeRanges=[],this.cachePath="",this.hasUpdatedKeyframe=!1,this.adjustBlur=!0,this.lockedEnable=!1,this.lockedId=-1n,this.lockedPts=-1n,this.lockedStatus=n.Kj.Finish,(0,r.tZ)(this,e,u)}}let p={common:["locked_type","adjust_rotate","adjust_fit","adjust_size","cache_path","has_updated_keyframe","adjust_blur","locked_enable","locked_status"],bigint:{locked_id:{},locked_pts:{}},array:{keyframes:{type:"object",clsName:()=>a.Hp},locked_time_ranges:{type:"object",clsName:()=>s.tn},stable_object_box:{type:"common"}},object:{effect:{type:()=>l.W9,nullable:!0}}},m=(0,r.I2)(p,[]);class f extends o.u2{static deserialize(e){let t=new f;return(0,r.Tz)(t,e,p,!0),t}static serialize(e){return(0,r.o8)(e,p,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new f;return(0,r.he)(this,t,p,e,!1,!0),t}constructor(e={}){super(),this[o._n]=c,(0,r.fZ)(this,e,m)}}},368229:function(e,t,i){"use strict";i.d(t,{iE:function(){return y}});var n=i(602777),r=i(287165),o=i(669686),a=i(150251),s=i(180942),l=i(238830),d=i(468634),u=i(532652),c=i(382068),p=i(467028),m=i(95477),f=i(396981);let h={common:["id","desc","state","speed","is_loop","is_tone_modify","reverse","intensifies_audio","cartoon","volume","last_nonzero_volume","material_id","render_index","enable_lut","enable_adjust","enable_hsl","visible","group_id","enable_color_curves","track_render_index","enable_color_wheels","track_attribute","is_placeholder","template_id","enable_smart_color_adjust","template_scene","enable_color_match_adjust","enable_color_correct_adjust","enable_adjust_mask","raw_segment_id","enable_video_mask"],bigint:{offset:{}},array:{extra_material_refs:{type:"common"},keyframe_refs:{type:"common"},common_keyframes:{type:"object",clsName:()=>c.ko}},object:{source_timerange:{type:()=>s.tn,nullable:!0},target_timerange:{type:()=>s.tn},render_timerange:{type:()=>s.tn},clip:{type:()=>l.bX,nullable:!0},uniform_scale:{type:()=>d._p,nullable:!0},hdr_settings:{type:()=>u.bE,nullable:!0},caption_info:{type:()=>p.kT,nullable:!0},responsive_layout:{type:()=>m.bN},lyric_keyframes:{type:()=>f.N2,nullable:!0}}},g=(0,o.I2)(h,["offset"]);class y extends a.w8{static deserialize(e){let t=new y;return(0,o.Tz)(t,e,h),t}static serialize(e){return(0,o.o8)(e,h)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new y;return(0,o.he)(this,t,h,e,["id"]),t.offset=this.offset,t}constructor(e={}){super(),this[a.I9]=_,this.id=(0,r.p)(),this.targetTimerange=new s.tn,this.renderTimerange=new s.tn,this.desc="",this.state=n.yM.SegmentStateNormal,this.speed=1,this.isLoop=!1,this.isToneModify=!1,this.reverse=!1,this.intensifiesAudio=!1,this.cartoon=!1,this.volume=1,this.lastNonzeroVolume=1,this.materialId="",this.extraMaterialRefs=[],this.renderIndex=0,this.keyframeRefs=[],this.enableLut=!0,this.enableAdjust=!0,this.enableHsl=!0,this.visible=!0,this.groupId="",this.enableColorCurves=!0,this.trackRenderIndex=0,this.enableColorWheels=!0,this.trackAttribute=0,this.isPlaceholder=!1,this.templateId="",this.enableSmartColorAdjust=!1,this.templateScene=n.XO.TemplateSceneDefault,this.commonKeyframes=[],this.responsiveLayout=new m.bN,this.enableColorMatchAdjust=!1,this.enableColorCorrectAdjust=!1,this.enableAdjustMask=!0,this.rawSegmentId="",this.enableVideoMask=!0,this.offset=0n,(0,o.tZ)(this,e,g)}}let T={common:["id","desc","state","speed","is_loop","is_tone_modify","reverse","intensifies_audio","cartoon","volume","last_nonzero_volume","material_id","render_index","enable_lut","enable_adjust","enable_hsl","visible","group_id","enable_color_curves","track_render_index","enable_color_wheels","track_attribute","is_placeholder","template_id","enable_smart_color_adjust","template_scene","enable_color_match_adjust","enable_color_correct_adjust","enable_adjust_mask","raw_segment_id","enable_video_mask"],bigint:{offset:{}},array:{extra_material_refs:{type:"common"},keyframe_refs:{type:"common"},common_keyframes:{type:"object",clsName:()=>c.ko}},object:{source_timerange:{type:()=>s.ze,nullable:!0},target_timerange:{type:()=>s.ze},render_timerange:{type:()=>s.ze},clip:{type:()=>l.tL,nullable:!0},uniform_scale:{type:()=>d.Rp,nullable:!0},hdr_settings:{type:()=>u.Gm,nullable:!0},caption_info:{type:()=>p.Lh,nullable:!0},responsive_layout:{type:()=>m.Xy},lyric_keyframes:{type:()=>f.WB,nullable:!0}}},v=(0,o.I2)(T,["offset"]);class _ extends a.u2{static deserialize(e){let t=new _;return(0,o.Tz)(t,e,T,!0),t}static serialize(e){return(0,o.o8)(e,T,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new _;return(0,o.he)(this,t,T,e,["id"],!0),null!==this.offset&&void 0!==this.offset&&(t.offset=this.offset),t}constructor(e={}){super(),this[a._n]=y,(0,o.fZ)(this,e,v)}}},844456:function(e,t,i){"use strict";i.d(t,{$2:function(){return u}});var n=i(602777),r=i(287165),o=i(669686),a=i(150251),s=i(368229);let l={common:["id","type","flag","attribute","name","is_default_name"],array:{segments:{type:"object",clsName:()=>s.iE}}},d=(0,o.I2)(l,[]);class u extends a.w8{static deserialize(e){let t=new u;return(0,o.Tz)(t,e,l),t}static serialize(e){return(0,o.o8)(e,l)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,o.he)(this,t,l,e,["id"]),t}constructor(e={}){super(),this[a.I9]=m,this.id=(0,r.p)(),this.type=n.pN.TrackTypeNone,this.segments=[],this.flag=n.w9.FlagNone,this.attribute=0,this.name="",this.isDefaultName=!1,(0,o.tZ)(this,e,d)}}let c={common:["id","type","flag","attribute","name","is_default_name"],array:{segments:{type:"object",clsName:()=>s.iE}}},p=(0,o.I2)(c,[]);class m extends a.u2{static deserialize(e){let t=new m;return(0,o.Tz)(t,e,c,!0),t}static serialize(e){return(0,o.o8)(e,c,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new m;return(0,o.he)(this,t,c,e,["id"],!0),t}constructor(e={}){super(),this[a._n]=u,(0,o.fZ)(this,e,p)}}},316976:function(e,t,i){"use strict";i.d(t,{QK:function(){return l}});var n=i(669686),r=i(150251),o=i(879662);let a={common:["segment_id"],object:{plugin_info:{type:()=>o.t0}}},s=(0,n.I2)(a,[]);class l extends r.w8{static deserialize(e){let t=new l;return(0,n.Tz)(t,e,a),t}static serialize(e){return(0,n.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,n.he)(this,t,a,e),t}constructor(e={}){super(),this[r.I9]=c,this.segmentId="",this.pluginInfo=new o.t0,(0,n.tZ)(this,e,s)}}let d={common:["segment_id"],object:{plugin_info:{type:()=>o.PR}}},u=(0,n.I2)(d,[]);class c extends r.u2{static deserialize(e){let t=new c;return(0,n.Tz)(t,e,d,!0),t}static serialize(e){return(0,n.o8)(e,d,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,n.he)(this,t,d,e,!1,!0),t}constructor(e={}){super(),this[r._n]=l,(0,n.fZ)(this,e,u)}}},657419:function(e,t,i){"use strict";i.d(t,{k9:function(){return s}});var n=i(669686),r=i(150251);let o={common:["column_id"],array:{material_ids:{type:"common"}}},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.columnId="",this.materialIds=[],(0,n.tZ)(this,e,a)}}let l={common:["column_id"],array:{material_ids:{type:"common"}}},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},445628:function(e,t,i){"use strict";i.d(t,{FE:function(){return l}});var n=i(669686),r=i(150251),o=i(706731);let a={common:["id"],array:{resources:{type:"object",clsName:()=>o.kn}}},s=(0,n.I2)(a,[]);class l extends r.w8{static deserialize(e){let t=new l;return(0,n.Tz)(t,e,a),t}static serialize(e){return(0,n.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,n.he)(this,t,a,e),t}constructor(e={}){super(),this[r.I9]=c,this.id="",this.resources=[],(0,n.tZ)(this,e,s)}}let d={common:["id"],array:{resources:{type:"object",clsName:()=>o.kn}}},u=(0,n.I2)(d,[]);class c extends r.u2{static deserialize(e){let t=new c;return(0,n.Tz)(t,e,d,!0),t}static serialize(e){return(0,n.o8)(e,d,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,n.he)(this,t,d,e,!1,!0),t}constructor(e={}){super(),this[r._n]=l,(0,n.fZ)(this,e,u)}}},781189:function(e,t,i){"use strict";i.d(t,{RT:function(){return l}});var n=i(669686),r=i(150251),o=i(657419);let a={common:["id","title","content","preview_video","cover_url"],array:{fragments_ids:{type:"common"},lines_ids:{type:"common"},extra_cols:{type:"object",clsName:()=>o.k9}}},s=(0,n.I2)(a,[]);class l extends r.w8{static deserialize(e){let t=new l;return(0,n.Tz)(t,e,a),t}static serialize(e){return(0,n.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,n.he)(this,t,a,e),t}constructor(e={}){super(),this[r.I9]=c,this.id="",this.title="",this.content="",this.previewVideo="",this.coverUrl="",this.fragmentsIds=[],this.linesIds=[],this.extraCols=[],(0,n.tZ)(this,e,s)}}let d={common:["id","title","content","preview_video","cover_url"],array:{fragments_ids:{type:"common"},lines_ids:{type:"common"},extra_cols:{type:"object",clsName:()=>o.k9}}},u=(0,n.I2)(d,[]);class c extends r.u2{static deserialize(e){let t=new c;return(0,n.Tz)(t,e,d,!0),t}static serialize(e){return(0,n.o8)(e,d,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,n.he)(this,t,d,e,!1,!0),t}constructor(e={}){super(),this[r._n]=l,(0,n.fZ)(this,e,u)}}},426555:function(e,t,i){"use strict";i.d(t,{Bh:function(){return c},Vn:function(){return f}});var n=i(669686),r=i(150251),o=i(864670),a=i(697444),s=i(225504),l=i(404660);let d={common:["version","translate_type","sync_subtitle","language","attachment_valid"],array:{parts:{type:"object",clsName:()=>o.IZ},translate_segments:{type:"object",clsName:()=>a.UL},overdub_sentence_ids:{type:"object",clsName:()=>s.Km},overdub_recover:{type:"object",clsName:()=>l.As}}},u=(0,n.I2)(d,[]);class c extends r.w8{static deserialize(e){let t=new c;return(0,n.Tz)(t,e,d),t}static serialize(e){return(0,n.o8)(e,d)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,n.he)(this,t,d,e),t}constructor(e={}){super(),this[r.I9]=f,this.version="1.0.0",this.parts=[],this.translateSegments=[],this.translateType="",this.syncSubtitle=!1,this.language="",this.attachmentValid=!1,this.overdubSentenceIds=[],this.overdubRecover=[],(0,n.tZ)(this,e,u)}}let p={common:["version","translate_type","sync_subtitle","language","attachment_valid"],array:{parts:{type:"object",clsName:()=>o.IZ},translate_segments:{type:"object",clsName:()=>a.UL},overdub_sentence_ids:{type:"object",clsName:()=>s.Km},overdub_recover:{type:"object",clsName:()=>l.As}}},m=(0,n.I2)(p,[]);class f extends r.u2{static deserialize(e){let t=new f;return(0,n.Tz)(t,e,p,!0),t}static serialize(e){return(0,n.o8)(e,p,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new f;return(0,n.he)(this,t,p,e,!1,!0),t}constructor(e={}){super(),this[r._n]=c,(0,n.fZ)(this,e,m)}}},868202:function(e,t,i){"use strict";i.d(t,{B6:function(){return m},Fm:function(){return g}});var n=i(602777),r=i(669686),o=i(150251),a=i(238830),s=i(2995),l=i(908301),d=i(217381),u=i(53823);let c={extend:u.xV,common:["adaption_model"],object:{clip:{type:()=>a.bX},material:{type:()=>s.vx},animations:{type:()=>l.ZP,nullable:!0},video_tracking:{type:()=>d.FM,nullable:!0}}},p=(0,r.I2)(c,[]);class m extends u.XX{static deserialize(e){let t=new m;return(0,r.Tz)(t,e,c),t}static serialize(e){return(0,r.o8)(e,c)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new m;return(0,r.he)(this,t,c,e,!0),t}constructor(e={}){super(e),this[o.I9]=g,this.__segment_struct_type=n.Oc.SegmentShape,this.adaptionModel=0,this.clip=new a.bX,this.material=new s.vx,(0,r.tZ)(this,e,p)}}let f={extend:u.FX,common:["adaption_model"],object:{clip:{type:()=>a.tL},material:{type:()=>s.XE},animations:{type:()=>l.PA,nullable:!0},video_tracking:{type:()=>d.Mw,nullable:!0}}},h=(0,r.I2)(f,[]);class g extends u.Ev{static deserialize(e){let t=new g;return(0,r.Tz)(t,e,f,!0),t}static serialize(e){return(0,r.o8)(e,f,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new g;return(0,r.he)(this,t,f,e,!0,!0),t}constructor(e={}){super(),this[o._n]=m,this.__segment_struct_type=n.Oc.SegmentShape,(0,r.fZ)(this,e,h)}}},937379:function(e,t,i){"use strict";i.d(t,{HF:function(){return u},uk:function(){return s}});var n=i(669686),r=i(150251);let o={common:["original_song_id","original_song_name"]},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.originalSongId="",this.originalSongName="",(0,n.tZ)(this,e,a)}}let l={common:["original_song_id","original_song_name"]},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},143703:function(e,t,i){"use strict";i.d(t,{ce:function(){return s}});var n=i(669686),r=i(150251);let o={common:["text_template","text_rewrite","label","segment_id"],bigint:{start:{},end:{}},array:{shot_ids:{type:"common"}}},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.textTemplate="",this.start=0n,this.end=0n,this.textRewrite="",this.label="",this.segmentId="",this.shotIds=[],(0,n.tZ)(this,e,a)}}let l={common:["text_template","text_rewrite","label","segment_id"],bigint:{start:{},end:{}},array:{shot_ids:{type:"common"}}},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},519124:function(e,t,i){"use strict";i.d(t,{lb:function(){return s}});var n=i(669686),r=i(150251);let o={common:["vid","material_id","is_new"],bigint:{duration:{}}},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.vid="",this.materialId="",this.duration=0n,this.isNew=!1,(0,n.tZ)(this,e,a)}}let l={common:["vid","material_id","is_new"],bigint:{duration:{}}},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},43987:function(e,t,i){"use strict";i.d(t,{Q3:function(){return s},i8:function(){return u}});var n=i(669686),r=i(150251);let o={common:["collage_quantity","ratio","model_id"]},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.collageQuantity=0,this.ratio="",this.modelId="",(0,n.tZ)(this,e,a)}}let l={common:["collage_quantity","ratio","model_id"]},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},572517:function(e,t,i){"use strict";i.d(t,{HD:function(){return c},xO:function(){return l}});var n=i(669686),r=i(150251),o=i(726336);let a={bigint:{version:{}},object:{edit_time_info:{type:()=>o.xh}}},s=(0,n.I2)(a,[]);class l extends r.w8{static deserialize(e){let t=new l;return(0,n.Tz)(t,e,a),t}static serialize(e){return(0,n.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,n.he)(this,t,a,e),t}constructor(e={}){super(),this[r.I9]=c,this.version=0n,this.editTimeInfo=new o.xh,(0,n.tZ)(this,e,s)}}let d={bigint:{version:{}},object:{edit_time_info:{type:()=>o.K0}}},u=(0,n.I2)(d,[]);class c extends r.u2{static deserialize(e){let t=new c;return(0,n.Tz)(t,e,d,!0),t}static serialize(e){return(0,n.o8)(e,d,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,n.he)(this,t,d,e,!1,!0),t}constructor(e={}){super(),this[r._n]=l,(0,n.fZ)(this,e,u)}}},23698:function(e,t,i){"use strict";i.d(t,{Sk:function(){return l},sE:function(){return c}});var n=i(602777),r=i(669686),o=i(150251);let a={common:["mode","from"]},s=(0,r.I2)(a,[]);class l extends o.w8{static deserialize(e){let t=new l;return(0,r.Tz)(t,e,a),t}static serialize(e){return(0,r.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,r.he)(this,t,a,e),t}constructor(e={}){super(),this[o.I9]=c,this.mode=n.K4.MODE_1080P,this.from="",(0,r.tZ)(this,e,s)}}let d={common:["mode","from"]},u=(0,r.I2)(d,[]);class c extends o.u2{static deserialize(e){let t=new c;return(0,r.Tz)(t,e,d,!0),t}static serialize(e){return(0,r.o8)(e,d,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,r.he)(this,t,d,e,!1,!0),t}constructor(e={}){super(),this[o._n]=l,(0,r.fZ)(this,e,u)}}},703753:function(e,t,i){"use strict";i.d(t,{PV:function(){return c},vc:function(){return l}});var n=i(602777),r=i(669686),o=i(150251);let a={common:["edit_method"]},s=(0,r.I2)(a,[]);class l extends o.w8{static deserialize(e){let t=new l;return(0,r.Tz)(t,e,a),t}static serialize(e){return(0,r.o8)(e,a)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new l;return(0,r.he)(this,t,a,e),t}constructor(e={}){super(),this[o.I9]=c,this.editMethod=n.mI.TutorialEditKindDraft,(0,r.tZ)(this,e,s)}}let d={common:["edit_method"]},u=(0,r.I2)(d,[]);class c extends o.u2{static deserialize(e){let t=new c;return(0,r.Tz)(t,e,d,!0),t}static serialize(e){return(0,r.o8)(e,d,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new c;return(0,r.he)(this,t,d,e,!1,!0),t}constructor(e={}){super(),this[o._n]=l,(0,r.fZ)(this,e,u)}}},577850:function(e,t,i){"use strict";i.d(t,{bA:function(){return u},vY:function(){return s}});var n=i(669686),r=i(150251);let o={array:{melody_0:{type:"bigint"},beat_0:{type:"bigint"},beat_1:{type:"bigint"},beat_2:{type:"bigint"},beat_3:{type:"bigint"},beat_4:{type:"bigint"}}},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.melody0=[],this.beat0=[],this.beat1=[],this.beat2=[],this.beat3=[],this.beat4=[],(0,n.tZ)(this,e,a)}}let l={array:{melody_0:{type:"bigint"},beat_0:{type:"bigint"},beat_1:{type:"bigint"},beat_2:{type:"bigint"},beat_3:{type:"bigint"},beat_4:{type:"bigint"}}},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},909497:function(e,t,i){"use strict";i.d(t,{ET:function(){return u},Nv:function(){return s}});var n=i(669686),r=i(150251);let o={common:["zoom_ratio","offset_x","offset_y"]},a=(0,n.I2)(o,[]);class s extends r.w8{static deserialize(e){let t=new s;return(0,n.Tz)(t,e,o),t}static serialize(e){return(0,n.o8)(e,o)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new s;return(0,n.he)(this,t,o,e),t}constructor(e={}){super(),this[r.I9]=u,this.zoomRatio=1,this.offsetX=0,this.offsetY=0,(0,n.tZ)(this,e,a)}}let l={common:["zoom_ratio","offset_x","offset_y"]},d=(0,n.I2)(l,[]);class u extends r.u2{static deserialize(e){let t=new u;return(0,n.Tz)(t,e,l,!0),t}static serialize(e){return(0,n.o8)(e,l,!0)}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new u;return(0,n.he)(this,t,l,e,!1,!0),t}constructor(e={}){super(),this[r._n]=s,(0,n.fZ)(this,e,d)}}},545065:function(e,t,i){"use strict";i.d(t,{UK:function(){return u},UY:function(){return d}});var n=i(89172),r=i(669686),o=i(150251),a=i(593642),s=i(211561);let l=new Set(["id","version","newVersion","duration","createTime","updateTime","source"]);class d extends o.w8{clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d;return e?t.id=(0,a.Rl)():t.id=this.id,t.version=this.version,t.newVersion=this.newVersion,t.duration=this.duration,t.createTime=this.createTime,t.updateTime=this.updateTime,t.source=this.source,t}constructor(){super(),this[o.I9]=u;let e=new s.nuI;this.id=e.id,this.version=Number(n.s4),this.newVersion=n.lr,this.duration=e.duration,this.createTime=1000n*BigInt(Date.now()),this.updateTime=this.createTime,this.source=e.source}}class u extends o.u2{static deserialize(e){return new u(e)}static serialize(e){return e}clone(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let e=new u;for(let t of Object.keys(this))e[t]=this[t];return e}constructor(e={}){super(),this[o._n]=d,(0,r.fZ)(this,e,l)}}},678912:function(e,t,i){"use strict";i.d(t,{Uw:function(){return m},ry:function(){return f}});var n=i(647847),r=i(85025),o=i(744207),a=i(89172),s=i(669686),l=i(150251),d=i(307502),u=i(211561),c=i(9592);let p=new Set(["name","fps","colorSpace","canvasConfig","platform","lastModifiedPlatform","mutableConfig","cover","retouchCover","staticCoverImagePath","extraInfo","relationships","renderIndexTrackModeOn","freeRenderIndexModeOn","videoMute","recordAudioLastIndex","extractAudioLastIndex","originalSoundLastIndex","subtitleRecognitionId","subtitleTaskinfo","lyricsRecognitionId","lyricsTaskinfo","subtitleSync","lyricsSync","stickerMaxIndex","adjustMaxIndex","materialSaveMode","exportRange","maintrackAdsorb","combinationMaxIndex","attachmentInfo","zoomInfoParams","systemFontList","subtitleKeywordsConfig"]);class m extends l.w8{clone(){var e,t,i,n,r;let o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=new m;return a.name=this.name,a.fps=this.fps,a.colorSpace=this.colorSpace,a.canvasConfig=this.canvasConfig.clone(o),a.platform=this.platform.clone(o),a.lastModifiedPlatform=this.lastModifiedPlatform.clone(o),a.mutableConfig=this.mutableConfig?this.mutableConfig.clone(o):void 0,a.cover=this.cover?this.cover.clone(o):void 0,a.retouchCover=this.retouchCover?this.retouchCover.clone(o):void 0,a.staticCoverImagePath=this.staticCoverImagePath,a.extraInfo=this.extraInfo?this.extraInfo.clone(o):void 0,a.relationships=(null!==(e=this.relationships)&&void 0!==e?e:[]).map(e=>e.clone(o)),a.renderIndexTrackModeOn=this.renderIndexTrackModeOn,a.freeRenderIndexModeOn=this.freeRenderIndexModeOn,a.videoMute=this.videoMute,a.recordAudioLastIndex=this.recordAudioLastIndex,a.extractAudioLastIndex=this.extractAudioLastIndex,a.originalSoundLastIndex=this.originalSoundLastIndex,a.subtitleRecognitionId=this.subtitleRecognitionId,a.subtitleTaskinfo=(null!==(t=this.subtitleTaskinfo)&&void 0!==t?t:[]).map(e=>e.clone(o)),a.lyricsRecognitionId=this.lyricsRecognitionId,a.lyricsTaskinfo=(null!==(i=this.lyricsTaskinfo)&&void 0!==i?i:[]).map(e=>e.clone(o)),a.subtitleSync=this.subtitleSync,a.lyricsSync=this.lyricsSync,a.stickerMaxIndex=this.stickerMaxIndex,a.adjustMaxIndex=this.adjustMaxIndex,a.materialSaveMode=this.materialSaveMode,a.exportRange=this.exportRange?this.exportRange.clone(o):void 0,a.maintrackAdsorb=this.maintrackAdsorb,a.combinationMaxIndex=this.combinationMaxIndex,a.attachmentInfo=(null!==(n=this.attachmentInfo)&&void 0!==n?n:[]).map(e=>e.clone(o)),a.zoomInfoParams=this.zoomInfoParams?this.zoomInfoParams.clone(o):void 0,a.systemFontList=(null!==(r=this.systemFontList)&&void 0!==r?r:[]).map(e=>e),a.multiLanguageMode=this.multiLanguageMode,a.multiLanguageMain=this.multiLanguageMain,a.multiLanguageCurrent=this.multiLanguageCurrent,a.multiLanguageList=this.multiLanguageList,a.subtitleKeywordsConfig=this.subtitleKeywordsConfig?this.subtitleKeywordsConfig.clone(o):void 0,a}constructor(){super(),this[l.I9]=f;let e=new c.nu;this.name=e.name,this.fps=e.fps,this.colorSpace=e.colorSpace,this.canvasConfig=e.canvasConfig,this.platform=new r.t4({appId:348188n,os:"web",osVersion:"",appVersion:a.Ww,appSource:"",deviceId:"",hardDiskId:"",macAddress:""}),this.lastModifiedPlatform=new r.t4({appId:348188n,os:"web",osVersion:"",appVersion:a.Ww,appSource:"",deviceId:"",hardDiskId:"",macAddress:""}),this.mutableConfig=e.mutableConfig,this.retouchCover=e.retouchCover,this.staticCoverImagePath=e.staticCoverImagePath,this.extraInfo=e.extraInfo,this.relationships=e.relationships,this.renderIndexTrackModeOn=e.renderIndexTrackModeOn,this.freeRenderIndexModeOn=e.freeRenderIndexModeOn;let t=new n.De;this.videoMute=t.videoMute,this.recordAudioLastIndex=t.recordAudioLastIndex,this.extractAudioLastIndex=t.extractAudioLastIndex,this.originalSoundLastIndex=t.originalSoundLastIndex,this.subtitleRecognitionId=t.subtitleRecognitionId,this.subtitleTaskinfo=t.subtitleTaskinfo,this.lyricsRecognitionId=t.lyricsRecognitionId,this.lyricsTaskinfo=t.lyricsTaskinfo,this.subtitleSync=t.subtitleSync,this.lyricsSync=t.lyricsSync,this.stickerMaxIndex=t.stickerMaxIndex,this.adjustMaxIndex=t.adjustMaxIndex,this.materialSaveMode=t.materialSaveMode,this.exportRange=t.exportRange,this.maintrackAdsorb=t.maintrackAdsorb,this.combinationMaxIndex=t.combinationMaxIndex,this.attachmentInfo=t.attachmentInfo,this.zoomInfoParams=t.zoomInfoParams,this.systemFontList=t.systemFontList,this.multiLanguageMode=t.multiLanguageMode,this.multiLanguageMain=t.multiLanguageMain,this.multiLanguageCurrent=t.multiLanguageCurrent,this.multiLanguageList=t.multiLanguageList,this.subtitleKeywordsConfig=t.subtitleKeywordsConfig,this.draftCanvasSizeConfig=new d.l}}class f extends l.u2{static deserialize(e){let t=new f;return e.canvasConfig&&(t.canvasConfig=u.jhR.deserialize(e.canvasConfig)),e.platform&&(t.platform=r.XI.deserialize(e.platform)),e.lastModifiedPlatform&&(t.lastModifiedPlatform=r.XI.deserialize(e.lastModifiedPlatform)),e.mutableConfig&&(t.mutableConfig=u.Rfr.deserialize(e.mutableConfig)),e.cover&&(t.cover=o.k.deserialize(e.cover)),e.retouchCover&&(t.retouchCover=u.Dqu.deserialize(e.retouchCover)),e.extraInfo&&(t.extraInfo=u.Q4W.deserialize(e.extraInfo)),e.exportRange&&(t.exportRange=u.zel.deserialize(e.exportRange)),e.zoomInfoParams&&(t.zoomInfoParams=u.ETn.deserialize(e.zoomInfoParams)),e.name&&(t.name=e.name),e.fps&&(t.fps=e.fps),e.colorSpace&&(t.colorSpace=e.colorSpace),e.staticCoverImagePath&&(t.staticCoverImagePath=e.staticCoverImagePath),e.relationships&&(t.relationships=e.relationships.map(e=>u.WX1.deserialize(e))),e.renderIndexTrackModeOn&&(t.renderIndexTrackModeOn=e.renderIndexTrackModeOn),e.freeRenderIndexModeOn&&(t.freeRenderIndexModeOn=e.freeRenderIndexModeOn),e.videoMute&&(t.videoMute=e.videoMute),e.recordAudioLastIndex&&(t.recordAudioLastIndex=e.recordAudioLastIndex),e.extractAudioLastIndex&&(t.extractAudioLastIndex=e.extractAudioLastIndex),e.originalSoundLastIndex&&(t.originalSoundLastIndex=e.originalSoundLastIndex),e.subtitleRecognitionId&&(t.subtitleRecognitionId=e.subtitleRecognitionId),e.subtitleTaskinfo&&(t.subtitleTaskinfo=e.subtitleTaskinfo.map(e=>u.hye.deserialize(e))),e.lyricsRecognitionId&&(t.lyricsRecognitionId=e.lyricsRecognitionId),e.lyricsTaskinfo&&(t.lyricsTaskinfo=e.lyricsTaskinfo.map(e=>u.hye.deserialize(e))),e.subtitleSync&&(t.subtitleSync=e.subtitleSync),e.lyricsSync&&(t.lyricsSync=e.lyricsSync),e.stickerMaxIndex&&(t.stickerMaxIndex=e.stickerMaxIndex),e.adjustMaxIndex&&(t.adjustMaxIndex=e.adjustMaxIndex),e.materialSaveMode&&(t.materialSaveMode=e.materialSaveMode),e.maintrackAdsorb&&(t.maintrackAdsorb=e.maintrackAdsorb),e.combinationMaxIndex&&(t.combinationMaxIndex=e.combinationMaxIndex),e.attachmentInfo&&(t.attachmentInfo=e.attachmentInfo.map(e=>u.PgN.deserialize(e))),e.systemFontList&&(t.systemFontList=e.systemFontList),void 0!==e.multiLanguageMode&&(t.multiLanguageMode=e.multiLanguageMode),void 0!==e.multiLanguageMain&&(t.multiLanguageMain=e.multiLanguageMain),void 0!==e.multiLanguageCurrent&&(t.multiLanguageCurrent=e.multiLanguageCurrent),void 0!==e.multiLanguageList&&(t.multiLanguageList=e.multiLanguageList),e.subtitleKeywordsConfig&&(t.subtitleKeywordsConfig=u.FdM.deserialize(e.subtitleKeywordsConfig)),e.draftCanvasSizeConfig&&(t.draftCanvasSizeConfig=d.l.deserialize(e.draftCanvasSizeConfig)),t}static serialize(e){return{...e,zoomInfoParams:e.zoomInfoParams?u.ETn.serialize(e.zoomInfoParams):void 0,exportRange:e.exportRange?u.zel.serialize(e.exportRange):void 0,extraInfo:e.extraInfo?u.Q4W.serialize(e.extraInfo):void 0,retouchCover:e.retouchCover?u.Dqu.serialize(e.retouchCover):void 0,cover:e.cover?o.k.serialize(e.cover):void 0,mutableConfig:e.mutableConfig?u.Rfr.serialize(e.mutableConfig):void 0,lastModifiedPlatform:e.lastModifiedPlatform?r.XI.serialize(e.lastModifiedPlatform):void 0,platform:e.platform?r.XI.serialize(e.platform):void 0,canvasConfig:e.canvasConfig?u.jhR.serialize(e.canvasConfig):void 0,attachmentInfo:e.attachmentInfo?e.attachmentInfo.map(e=>u.STV.serialize(e)):void 0,lyricsTaskinfo:e.lyricsTaskinfo?e.lyricsTaskinfo.map(e=>u.hye.deserialize(e)):void 0,subtitleTaskinfo:e.subtitleTaskinfo?e.subtitleTaskinfo.map(e=>u.hye.deserialize(e)):void 0,relationships:e.relationships?e.relationships.map(e=>u.WX1.deserialize(e)):void 0,subtitleKeywordsConfig:e.subtitleKeywordsConfig?u.FdM.serialize(e.subtitleKeywordsConfig):void 0}}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new f;for(let e of Object.keys(this))t[e]=this[e];return this.canvasConfig&&(t.canvasConfig=this.canvasConfig.clone(e)),this.platform&&(t.platform=this.platform.clone(e)),this.lastModifiedPlatform&&(t.lastModifiedPlatform=this.lastModifiedPlatform.clone(e)),this.mutableConfig&&(t.mutableConfig=this.mutableConfig.clone(e)),this.cover&&(t.cover=this.cover.clone(e)),this.retouchCover&&(t.retouchCover=this.retouchCover.clone(e)),this.extraInfo&&(t.extraInfo=this.extraInfo.clone(e)),this.exportRange&&(t.exportRange=this.exportRange?this.exportRange.clone(e):void 0),this.zoomInfoParams&&(t.zoomInfoParams=this.zoomInfoParams.clone(e)),this.relationships&&(t.relationships=this.relationships.map(t=>t.clone(e))),this.subtitleTaskinfo&&(t.subtitleTaskinfo=this.subtitleTaskinfo.map(t=>t.clone(e))),this.lyricsTaskinfo&&(t.lyricsTaskinfo=this.lyricsTaskinfo.map(t=>t.clone(e))),this.attachmentInfo&&(t.attachmentInfo=this.attachmentInfo.map(t=>t.clone(e))),this.systemFontList&&(t.systemFontList=this.systemFontList.map(e=>e)),void 0!==this.multiLanguageMode&&(t.multiLanguageMode=this.multiLanguageMode),void 0!==this.multiLanguageMain&&(t.multiLanguageMain=this.multiLanguageMain),void 0!==this.multiLanguageCurrent&&(t.multiLanguageCurrent=this.multiLanguageCurrent),this.multiLanguageList&&(t.multiLanguageList=this.multiLanguageList.map(e=>e)),this.subtitleKeywordsConfig&&(t.subtitleKeywordsConfig=this.subtitleKeywordsConfig.clone(e)),t}constructor(e={}){super(),this[l._n]=m,(0,s.fZ)(this,e,p)}}},882185:function(e,t,i){"use strict";i.d(t,{J:function(){return r},n:function(){return o}});var n=i(903849);function r(e,t,i,r){r.material=(0,n.In)(e.materials,r.extraMaterialRefs,r.materialId,r),r.keyframes=(0,n.tI)(e.keyframes,"adjusts",r.keyframeRefs),(0,n.j)(e.keyframeGraphList,r)}function o(e,t,i,r,o,a){a.materialId=o.material.id,(0,n.Xb)(e.materials,i,o,a),(0,n.u4)(e.keyframes,"adjusts",r,o.keyframes),(0,n.P$)(i,t,o.id),(0,n.SQ)(e.keyframeGraphList,o,a)}},216023:function(e,t,i){"use strict";i.d(t,{$U:function(){return a},Cr:function(){return s},Rc:function(){return o},zL:function(){return r}});var n=i(211561);let r={md5:"79233a9152377b244901a8b57c2aee68",url:"https://lf16-effectcdn.byteeffecttos-g.com/obj/ies-fe-effect-va/79233a9152377b244901a8b57c2aee68",resourceId:"7283798098113991169",effectId:"2793052",persistType:n.cVg.MetaTypeChroma,name:"chroma",key:"/integration/79233a9152377b244901a8b57c2aee68",package:{uri:"79233a9152377b244901a8b57c2aee68",urlList:["https://lf16-effectcdn.byteeffecttos-g.com/obj/ies-fe-effect-va/79233a9152377b244901a8b57c2aee68"]}},o={md5:"3e7b043860c39e5fdf08d771ff0609f5",url:"https://lf16-effectcdn.byteeffecttos-g.com/obj/ies-fe-effect-va/3e7b043860c39e5fdf08d771ff0609f5",resourceId:"7359561571661517328",effectId:"278804479",persistType:n.cVg.MetaTypeChroma,name:"chroma",key:"/integration/3e7b043860c39e5fdf08d771ff0609f5",package:{uri:"3e7b043860c39e5fdf08d771ff0609f5",urlList:["https://lf16-effectcdn.byteeffecttos-g.com/obj/ies-fe-effect-va/3e7b043860c39e5fdf08d771ff0609f5"]}},a={md5:"4282cb85f04eca29e23c7dfc4bed9fbd",url:"https://lf16-effectcdn.byteeffecttos-g.com/obj/ies-fe-effect-va/4282cb85f04eca29e23c7dfc4bed9fbd",resourceId:"6825780387113865741",effectId:"2793053",persistType:n.cVg.MetaTypeChroma,name:"chroma",key:"/integration/4282cb85f04eca29e23c7dfc4bed9fbd",package:{uri:"4282cb85f04eca29e23c7dfc4bed9fbd",urlList:["https://lf16-effectcdn.byteeffecttos-g.com/obj/ies-fe-effect-va/4282cb85f04eca29e23c7dfc4bed9fbd"]}};function s(e,t){return"v2"===t?o:"web"!==e?a:r}},198544:function(e,t,i){"use strict";i.d(t,{m:function(){return r}});var n,r=((n={})[n.InsertTrackIdDuplicate=10001]="InsertTrackIdDuplicate",n[n.InsertTrackMainTrackAlreadyExist=10002]="InsertTrackMainTrackAlreadyExist",n[n.InsertTrackMainTrackIndexInvalid=10003]="InsertTrackMainTrackIndexInvalid",n[n.InsertTrackIndexInvalid=10004]="InsertTrackIndexInvalid",n[n.DeleteTrackIdNotExist=10005]="DeleteTrackIdNotExist",n[n.DeleteTrackIndexNotMatch=10006]="DeleteTrackIndexNotMatch",n[n.DeleteTrackMainTrackShouldLastDelete=10007]="DeleteTrackMainTrackShouldLastDelete",n[n.MoveTrackSrcIndexInvalid=10008]="MoveTrackSrcIndexInvalid",n[n.MoveTrackDesIndexInvalid=10009]="MoveTrackDesIndexInvalid",n[n.MoveSegmentSrcIndexInvalid=10010]="MoveSegmentSrcIndexInvalid",n[n.MoveSegmentDesIndexInvalid=10011]="MoveSegmentDesIndexInvalid",n[n.MoveSegmentParamArrayLengthInvalid=10012]="MoveSegmentParamArrayLengthInvalid",n[n.UpdateTrackIdNotExist=10013]="UpdateTrackIdNotExist",n[n.InsertSegmentTrackIdNotExist=10014]="InsertSegmentTrackIdNotExist",n[n.InsertSegmentIdDuplicate=10015]="InsertSegmentIdDuplicate",n[n.InsertSegmentTargetTimerangeStartInvalid=10016]="InsertSegmentTargetTimerangeStartInvalid",n[n.InsertSegmentTargetTimerangeDurationInvalid=10017]="InsertSegmentTargetTimerangeDurationInvalid",n[n.InsertSegmentTargetTimerangeOverlap=10018]="InsertSegmentTargetTimerangeOverlap",n[n.DeleteSegmentIdNotExist=10019]="DeleteSegmentIdNotExist",n[n.UpdateSegmentIdNotExist=10020]="UpdateSegmentIdNotExist",n[n.UpdateSegmentTargetTimerangeStartInvalid=10021]="UpdateSegmentTargetTimerangeStartInvalid",n[n.UpdateSegmentTargetTimerangeDurationInvalid=10022]="UpdateSegmentTargetTimerangeDurationInvalid",n[n.UpdateSegmentTargetTimerangeOverlap=10023]="UpdateSegmentTargetTimerangeOverlap",n[n.MoveSegmentTargetTimerangeInvalid=10024]="MoveSegmentTargetTimerangeInvalid",n[n.InsertSegmentSourceTimerangeStartInvalid=10025]="InsertSegmentSourceTimerangeStartInvalid",n[n.InsertSegmentSourceTimerangeDurationInvalid=10026]="InsertSegmentSourceTimerangeDurationInvalid",n[n.UpdateSegmentSourceTimerangeStartInvalid=10027]="UpdateSegmentSourceTimerangeStartInvalid",n[n.UpdateSegmentSourceTimerangeDurationInvalid=10028]="UpdateSegmentSourceTimerangeDurationInvalid",n[n.InsertSegmentMaterialDurationInvalid=10029]="InsertSegmentMaterialDurationInvalid",n[n.UpdateSegmentMaterialDurationInvalid=10030]="UpdateSegmentMaterialDurationInvalid",n[n.UpdateSegmentSubDraftNotExist=10031]="UpdateSegmentSubDraftNotExist",n[n.UpdateCombinationSegmentInvalid=10032]="UpdateCombinationSegmentInvalid",n[n.InsertAttachmentKeyDuplication=10033]="InsertAttachmentKeyDuplication",n[n.DeleteAttachmentKeyNotExist=10034]="DeleteAttachmentKeyNotExist",n[n.UpdateAttachmentKeyNotExist=10035]="UpdateAttachmentKeyNotExist",n)},330902:function(e,t,i){"use strict";i.d(t,{J:function(){return r}});var n,r=((n={})[n.Local=0]="Local",n[n.Collab=1]="Collab",n[n.Replay=2]="Replay",n[n.Offline=3]="Offline",n)},932422:function(e,t,i){"use strict";i.d(t,{m:function(){return a}});var n=i(690613),r=i(887214),o=i(537004);class a{updateDataVersion(e){if(!!e)-1===(0,o.Cb)(this.version,e)&&(this.version=e)}needPersist(){return!0}run(e){let t=this.check(e);if(!t.ok)return t;let i=this.runOnModel(e);return(0,n.oW)(i)}constructor(){this.version=r.J4}}},729955:function(e,t,i){"use strict";i.d(t,{Ik:function(){return l},JQ:function(){return d},R7:function(){return a},d1:function(){return s},fd:function(){return o}});var n=i(283751),r=i(481631);function o(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let[n,o,a]=t;return!!(0,r.Si)(o)&&(n.editor.commit(()=>{n.filter.add(o,a)}),!0)}function a(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let[n,r]=t;return n.editor.commit(()=>n.filter.remove(r).ok),!0}function s(){for(var e,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];let[o,a,s,l]=i;if(!(0,r.g2)(s))return!1;let d=l.getSegmentById(a);return!!d&&(o.editor.commit(()=>{void 0!==s.targetTimerange&&o.filter.updateTargetTimeRange(d),o.filter.update(d,s,l)}),(null===(e=s.targetTimerange)||void 0===e?void 0:e.start)!==void 0)}function l(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let[r,o,a,s]=t,l=s.getSegmentById(o);if(!l)return!1;let d=l.clone();return a&&n.T.merge(d,a),r.editor.commit(()=>{r.filter.update(d,a,s)}),!1}function d(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let[n,r,o,a]=t,s=a.getSegmentById(r);return!!s&&(n.editor.commit(()=>{n.filter.update(s,void 0,a)}),!1)}},59670:function(e,t,i){"use strict";i.d(t,{D:function(){return u}});var n=i(211561),r=i(632634),o=i(396402),a=i(342558),s=i(481631),l=i(690613),d=i(361708);class u{get render(){return this._render}getRenderIndex(e){let t=(0,a.Mv)(this._render.config.layerMode,e);return(0,s.he)(e)?t=(0,a.dM)(this._render.config.layerMode,t):(0,s.Y9)(e)&&(t=-1),t}updateTargetTimeRange(e){var t,i,o,u,c,p,m,f;let h=null===(t=this._render.editor)||void 0===t?void 0:t.getClipBase(e.id);if(!h)return(0,l.wf)(r.FF.segmentInvalid,"clip no exist");let g=null===(i=this._render.editor)||void 0===i?void 0:i.getTrack(h.trackId);if(!g)return(0,l.wf)(r.FF.segmentInvalid,"track no exits");let{seqIn:y,seqOut:T,trackId:v}=h,{index:_}=g,S=e.targetTimerange.start,A=S+e.targetTimerange.duration,I=(0,a.Mv)(this._render.config.layerMode,e);(0,s.he)(e)?I=(0,a.dM)(this._render.config.layerMode,I):(0,s.Y9)(e)&&(I=_);let M=v;if(I!==_&&(M=null!==(c=null===(u=this._render.editor)||void 0===u?void 0:u.addTrack(this._trackIdToTrackType(M),I))&&void 0!==c?c:""),!M)return(0,l.wf)(r.FF.addTrackFail,"add track fail");if((null===(o=this._render.editor)||void 0===o?void 0:o.getClipConflict(M,e.id,S))&&!this._render.config.enableTrackClipOpt);else if(I!==_&&((0,s.he)(e)&&(0===I&&void 0!==e.background?this._render.apis.video.updateBackground(e.id,d.b.getVideoBackground({video:e,isMainSequence:this._render.apis.editor.isMainSequence()})):this._render.apis.video.updateBackground(e.id,new n.fln({type:n.cVg.MetaTypeNone}))),null===(p=this._render.editor)||void 0===p||p.updateClipTrack(e.id,M,S)),(y!==S||T!==A)&&(null===(m=this._render.editor)||void 0===m||m.updateClipSequenceTime(e.id,S,A),(0,s.he)(e)&&e.transition)){let t=e.transition.duration/2n;null===(f=this._render.editor)||void 0===f||f.updateClipSequenceTime(e.transition.id,A-t,A+t)}return(0,l.ly)()}updateTimeInfo(e){var t,i,o,a;let d=null===(i=this._render.editor)||void 0===i?void 0:null===(t=i.getClipBase(e.id))||void 0===t?void 0:t.data;if(!d)return(0,l.wf)(r.FF.updateClipFail,"clip not exist");let u=e.sourceTimerange.start,c=u+e.sourceTimerange.duration,p=null;if(((0,s.he)(e)||(0,s.Y9)(e))&&(p=e.speed),!p)return(0,l.wf)(r.FF.updateClipFail,"speed not exist");let{mode:m,speed:f,curveSpeed:h}=p,g=f;0===g&&(g=1);let y=[];if(m===n.yY$.SpeedModeCurve)for(let e of null!==(o=null==h?void 0:h.speedPoints)&&void 0!==o?o:[])y.push({x:e.x,y:e.y});return this._isSpeedChange(d,{trimIn:u,trimOut:c,speed:g,speedPoints:y})&&(d.trim_range={"in.us":u,"out.us":c},d.speed=g,d.curve_speed=y,null===(a=this._render.editor)||void 0===a||a.updateClip(d)),this.updateTargetTimeRange(e),(0,l.ly)()}updateVisible(e,t){var i,n,o;let a=null===(n=this._render.editor)||void 0===n?void 0:null===(i=n.getClipBase(e))||void 0===i?void 0:i.data;return a?(a.is_visible=t,0!==(null===(o=this._render.editor)||void 0===o?void 0:o.updateClip(a)))?(0,l.wf)(r.FF.updateClipFail,"update segment visible fail"):(0,l.ly)():(0,l.wf)(r.FF.updateClipFail,"clip not exist")}_trackIdToTrackType(e){if(e.startsWith("audio_track_"))return o.u2.AudioTrack;if(e.startsWith("effect_track_"))return o.u2.EffectTrack;if(e.startsWith("video_track_"))return o.u2.VideoTrack;else return o.u2.VideoTrack}_isSpeedChange(e,t){let{speed:i=1,curve_speed:n=[]}=e,{trimIn:r,trimOut:o,speed:a,speedPoints:s}=t;if(s.length!==n.length)return!0;for(let e=0;e<n.length;++e)if(Math.abs(n[e].x-s[e].x)>1e-5||Math.abs(n[e].y-s[e].y)>1e-5)return!0;return Math.abs(i-a)>1e-5||e.trim_range["in.us"]!==r||e.trim_range["out.us"]!==o}constructor(e){this.identifierMap={},this._render=e}}},75850:function(e,t,i){"use strict";i.d(t,{N:function(){return l}});var n=i(234075),r=i.n(n),o=i(78975),a=i(342040),s=i(266302);class l{_getTextItemJson(e){let{captionTemplateInfo:t,words:i}=e.material;if(!(null==t?void 0:t.path)||!t.isNew||!i||0===i.text.length||e.animations&&e.animations.animations.length>0)return;let{_textItemJsonCache:n}=this;if(n.has(t.path))return n.get(t.path);try{let e=r().join(t.path,"content.json"),i=a.k.getInstance().pathRecords.get(e),s=o.P.instance.readFileSync(i,{encoding:"utf8"}),l=JSON.parse(s);if("object"!=typeof l||"ScriptTemplate"!==l.type)return;let d=l.children.find(e=>"text"===e.type);if(!d)return;return n.set(t.path,d),d}catch{return}}_genInitParam(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return JSON.stringify({forInitScript:!0,depend_resource_list:[],fallback_font_path_list:[],screen_size:[1e3,1e3],path:e})}_genResetParams(){return!this._cachedResetParams&&(this._cachedResetParams=[this._genInitParam(),'{ "forResetScript": true }']),this._cachedResetParams}_parseUpdateParam(e,t,i){let{text_params:n,keyframe_params:r,caption_params:o}=t;if(!n||!r&&!o)return"";let a={name:t.name,type:t.type,keyframe_params:t.keyframe_params};if(o){var l,d,u,c;let{words:t,text:r}=e.material,p=e.targetTimerange.duration/1000n,m=(0,s.q)(t,r,p);if(!m.length)return"";(null===(l=e.material.subtitleKeywords)||void 0===l?void 0:l.range.length)&&(o.enable_keyword=!0,i&&(o.keyword_rich_text=i.styles),m=(0,s.s)(m,e.material.subtitleKeywords));let f={caption_params:{max_units_per_line:null!==(d=o.max_units_per_line)&&void 0!==d?d:0,max_lines_per_page:null!==(u=o.max_lines_per_page)&&void 0!==u?u:1,ignore_AI_punctuation:null!==(c=o.ignore_AI_punctuation)&&void 0!==c&&c},text_params:{richText:e.material.content,caption_duration_info:{words:m}}},h=this._render.utils.convertCaptionSplitLinePage(JSON.stringify(f));if(h){let e=JSON.parse(h),t={typeSettingKind:n.typeSettingKind,version:n.version,capital:n.capital,caption_duration_info:e.caption_duration_info};a.text_params=t}a.caption_params=o}return JSON.stringify({children:[a],forScript:!0})}getUpdatedParam(e,t){var i;let n=this._getTextItemJson(e);if(!n)return this._genResetParams();let r=this._parseUpdateParam(e,n,t);return r?[this._genInitParam(null===(i=e.material.captionTemplateInfo)||void 0===i?void 0:i.path),r]:this._genResetParams()}constructor(e){this._textItemJsonCache=new Map,this._render=e}}},325674:function(e,t,i){"use strict";i.d(t,{H:()=>z});var n=i("333781"),r=i("59670");class o extends r.D{setCanvasSize(e,t){var i;return null===(i=this._render.preview)||void 0===i?void 0:i.setCanvasSize(e,t)}setCanvasBackground(e){var t;return null===(t=this._render.preview)||void 0===t?void 0:t.setCanvasBackground(e)}}var a=i("2559"),s=i("632634"),l=i("396402"),d=i("378188"),u=i("211561"),c=i("481631"),p=i("690613"),m=i("733353");class f extends r.D{add(e,t){var i,n;if(!(0,c.Si)(e))return(0,p.wf)(s.FF.segmentInvalid,"not filter segment");if(e.targetTimerange.duration<=0)return(0,p.wf)(s.FF.segmentInvalid,"invalid target duration");if(!e.material)return(0,p.wf)(s.FF.segmentInvalid,"no filter material");let r=this.getRenderIndex(e),o=null===(i=this._render.editor)||void 0===i?void 0:i.addTrack(l.u2.EffectTrack,r);if(!o)return(0,p.wf)(s.FF.addTrackFail,"add filter track fail");let a=(0,d.FW)(e),u=e.targetTimerange.start,f=u+e.targetTimerange.duration;return null===(n=this._render.editor)||void 0===n||n.addClip(o,a,u,f),e.commonKeyframes.forEach(i=>{m.Rj.executeUpdate({render:this._render,videoDocument:t,clip:a,segment:e,parentId:a.id,keyframes:i,keyframeType:i.propertyType})}),(0,p.ly)()}update(e,t,i){var n;if(!(0,c.Si)(e))return(0,p.wf)(s.FF.segmentInvalid,"not filter segment");if(e.targetTimerange.duration<=0)return(0,p.wf)(s.FF.segmentInvalid,"invalid target duration");if(!e.material)return(0,p.wf)(s.FF.segmentInvalid,"no filter material");let r=(0,d.FW)(e);return null===(n=this._render.editor)||void 0===n||n.updateClip(r),m.Rj.executeUpdateByTypeList({clipId:r.id,keyframeTypeList:[u.Eu.KFTypeFilter],parentId:r.id,render:this._render,videoDocument:i,delta:t}),(0,p.ly)()}remove(e){var t;return null===(t=this._render.editor)||void 0===t||t.removeClip(e),(0,p.ly)()}}var h=i("264318"),g=i("408506"),y=i("944307"),T=i("524208"),v=i("729951"),_=i("342040"),S=i("361708");class A extends r.D{add(e){var t,i,n;if(!(0,c.Y9)(e))return(0,p.wf)(s.FF.segmentInvalid,"no audio segment");if(e.targetTimerange.duration<=0)return(0,p.wf)(s.FF.segmentInvalid,"invalid target duration");let r=this.getRenderIndex(e),o=null===(t=this._render.editor)||void 0===t?void 0:t.addTrack(l.u2.AudioTrack,r);if(!o)return(0,p.wf)(s.FF.addTrackFail,"add audio track fail");let a=(0,d.UT)(e),u=e.targetTimerange.start,m=u+e.targetTimerange.duration;return S.b.isCombination(e)?null===(i=this._render.editor)||void 0===i||i.addSubSequence(o,a,u,m):null===(n=this._render.editor)||void 0===n||n.addClip(o,a,u,m),(0,p.ly)()}delayHandleKeyframe(e,t,i){var n,r;let o=null===(r=this._render.editor)||void 0===r?void 0:null===(n=r.getClipBase(e.id))||void 0===n?void 0:n.data;if(o){let n=new Map([[u.Eu.KFTypeVolume,l.UO.AudioVolume],[u.Eu.KFTypeEffectAdjustParam1,l.UO.SAMIProcessorFilter],[u.Eu.KFTypeEffectAdjustParam2,l.UO.SAMIProcessorFilter],[u.Eu.KFTypeEffectAdjustParam3,l.UO.SAMIProcessorFilter]]);Array.from(n.keys()).forEach(r=>{m.Rj.executeUpdate({render:this._render,videoDocument:t,clip:o,segment:e,delta:i,keyframes:e.commonKeyframes.find(e=>e.propertyType===r),keyframeType:r,parentId:`${e.id}_${n.get(r)}`})})}}updateTone(e,t){var i,n,r;if(!e)return(0,p.wf)(s.FF.segmentInvalid,"audio id empty");let o=null===(n=this._render.editor)||void 0===n?void 0:null===(i=n.getClipBase(e))||void 0===i?void 0:i.data;return o?(o.is_pitch_reserved=!t,0!==(null===(r=this._render.editor)||void 0===r?void 0:r.updateClip(o)))?(0,p.wf)(s.FF.updateClipFail,"update audio tone fail"):(0,p.ly)():(0,p.wf)(s.FF.updateClipFail,"clip not exist")}updateVolume(e,t){var i,n,r;if(!e)return(0,p.wf)(s.FF.segmentInvalid,"audio id empty");let o=`${e}_${l.UO.AudioVolume}`,a=(0,v.Wv)(t,o);return(null===(i=this._render.editor)||void 0===i?void 0:i.getFilterById(e,o))?null===(n=this._render.editor)||void 0===n||n.updateFilter(a):null===(r=this._render.editor)||void 0===r||r.addFilter(a,e),(0,p.ly)()}updateAudioFade(e,t){var i,n,r;if(!e)return(0,p.wf)(s.FF.segmentInvalid,"audio id empty");if(!t)return(0,p.wf)(s.FF.segmentInvalid,"no audio fade");let o=`${e}_${l.UO.AudioFade}`,a=(0,v.$v)(t,o);return(null===(i=this._render.editor)||void 0===i?void 0:i.getFilterById(e,o))?null===(n=this._render.editor)||void 0===n||n.updateFilter(a):null===(r=this._render.editor)||void 0===r||r.addFilter(a,e),(0,p.ly)()}updateRealtimeDenoise(e,t){var i,n,r,o,a;if(!e)return(0,p.wf)(s.FF.segmentInvalid,"audio id empty");let d=`${e}_${l.UO.AudioNoiseFilter}`;if(!t)return(null===(n=this._render.editor)||void 0===n?void 0:n.getFilterById(e,d))&&(null===(r=this._render.editor)||void 0===r||r.removeFilter(d)),(0,p.ly)();let u=(0,v.jT)(t,d);return(null===(i=this._render.editor)||void 0===i?void 0:i.getFilterById(e,d))?null===(o=this._render.editor)||void 0===o||o.updateFilter(u):null===(a=this._render.editor)||void 0===a||a.addFilter(u,e),(0,p.ly)()}updateVoiceChange(e,t){var i,n,r,o,a,d,c;if(!e)return(0,p.wf)(s.FF.segmentInvalid,"audio id empty");if(!t||t.length<=0||t[0].subType===u.xbm.AudioEffectTypeVCVoiceChange){let t=`${e}_${l.UO.AudioSamiProcessorFilter}`;return(null===(i=this._render.editor)||void 0===i?void 0:i.getFilterById(e,t))&&(null===(n=this._render.editor)||void 0===n||n.removeFilter(t)),(0,p.ly)()}for(let i of t){let t=`${e}_${l.UO.AudioSamiProcessorFilter}`;if(!(null==i?void 0:i.path)){(null===(o=this._render.editor)||void 0===o?void 0:o.getFilterById(e,t))&&(null===(a=this._render.editor)||void 0===a||a.removeFilter(t));break}let n=_.k.getInstance().pathRecords.get(i.path),s=[],u=[];i.audioAdjustParams.forEach(e=>{s.push([e.portIndex,e.parameterIndex]),u.push(e.value)});let p={id:t,type:l.UO.AudioSamiProcessorFilter,resource_json_file_path:`${n}/mdsp_preset.json`,resource_find_path:n,param_index:s,params:u,bUseAutomation:!1};(null===(r=this._render.editor)||void 0===r?void 0:r.getFilterById(e,t))?null===(d=this._render.editor)||void 0===d||d.updateFilter(p):null===(c=this._render.editor)||void 0===c||c.addFilter(p,e)}return(0,p.ly)()}}var I=i("664678");class M extends r.D{get infoSticker(){var e,t;return null!==(t=null===(e=this._render.editor)||void 0===e?void 0:e.infoSticker)&&void 0!==t?t:null}commit(e){var t;return null===(t=this._render.editor)||void 0===t?void 0:t.commit(e)}updateTrackIndex(e,t){var i;return null===(i=this._render.editor)||void 0===i?void 0:i.updateTrackIndex(e,t)}removeClip(e){var t;return null===(t=this._render.editor)||void 0===t?void 0:t.removeClip(e)}getClipBase(e){var t;return null===(t=this._render.editor)||void 0===t?void 0:t.getClipBase(e)}updateFilter(e){var t;return null===(t=this._render.editor)||void 0===t?void 0:t.updateFilter(e)}setMaxDuration(e){var t;return null===(t=this._render.editor)||void 0===t?void 0:t.setMaxDuration(e)}setBackground(e){var t;return null===(t=this._render.editor)||void 0===t?void 0:t.setBackground(e)}isMainSequence(){var e;return null===(e=this._render.editor)||void 0===e?void 0:e.isMainSequence()}getAncestorIds(e){var t,i;return null!==(i=null===(t=this._render.editor)||void 0===t?void 0:t.getAncestorIds(e))&&void 0!==i?i:[]}getClipBaseByPath(e){var t;return null===(t=this._render.editor)||void 0===t?void 0:t.getClipBaseByPath(e)}}var x=i("587764"),F=i("234075"),k=i.n(F),C=i("800788"),w=i("340294"),V=i("825151"),b=i("438176"),E=i("287165"),P=i("587892"),N=i("592444"),R=i("716702"),D=i("39264"),O=i("186314"),L=i("748994");class K extends N.H{get utils(){return this._utilsWrapper}get infoSticker(){return this._infoStickerWrapper}commit(e){var t,i,n,r;if(0===this._commitSession&&null!==(i=null===(t=this._editorSequence)||void 0===t?void 0:t.begin())&&void 0!==i,++this._commitSession,e(),--this._commitSession,0===this._commitSession)return null!==(r=null===(n=this._editorSequence)||void 0===n?void 0:n.commit())&&void 0!==r,!this.updateSetting()&&!0;return!1}isDuringCommit(){return this._commitSession>0}updateSetting(){let e=!1;if(!this.isDuringCommit()){var t,i;null!==(i=null===(t=this._editorSequence)||void 0===t?void 0:t.setSequenceSetting(w.HH.stringify(this._sequenceSetting)))&&void 0!==i,e=!0}return e}setMaxDuration(e){}setBackground(e){this._sequenceSetting.bgType=(0,L.E)(e.type),this._sequenceSetting.bgColor=e.color,this._sequenceSetting.bgImage=e.image,this._sequenceSetting.bgBlur=e.blur}dumpSequence(e){var t;if(!this._editorSequence)return"";let i=this._configGetter(),n=[];for(let[e,r]of Object.entries(null!==(t=i.effectAbBoolConfig)&&void 0!==t?t:{}))n.push({type:"bool",key:e,value:r?"1":"0"});let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(let[i,r]of Object.entries(t))n.push({type:e,key:i,value:String(r)})};r("int",i.effectAbIntConfig),r("float",i.effectAbFloatConfig),r("string",i.effectAbStringConfig),e.effectABConfig=JSON.stringify(n);let o=[];for(let[e,t]of this._infoStickerWrapper.trackerMap.entries())for(let i of t)o.push({tracked_clip_id:i.targetSegmentId,tracking_clip_id:e,data_path:i.dataPath,track_mode:i.mode});return e.videoTracking=JSON.stringify(o),(0,R.Jv)(this._editorSequence,e)}addTrack(e,t){var i,n;-1===t&&(t=++this._lastRenderIndex);let r=(0,E.p)();switch(e){case l.u2.AudioTrack:r=`audio_track_${r}`;break;case l.u2.EffectTrack:r=`effect_track_${r}`,e=l.u2.VideoTrack;break;case l.u2.VideoTrack:r=`video_track_${r}`;break;default:r=`track_${r}`}for(let[i,n]of this._trackMap.entries())if(n.type===e&&n.index===t)return i;let o={};return o.id=r,o.type=e,null!==(n=null===(i=this._editorSequence)||void 0===i?void 0:i.insertTrack(w.HH.stringify(o),t))&&void 0!==n,this._trackMap.set(r,{type:e,index:t,clipIds:new Set}),r}removeTrack(e){var t,i,n,r;if(null!==(i=null===(t=this._editorSequence)||void 0===t?void 0:t.deleteTrack(e))&&void 0!==i,this._trackMap.has(e)){let t=null!==(r=null===(n=this._trackMap.get(e))||void 0===n?void 0:n.clipIds)&&void 0!==r?r:[];for(let i of(this._trackMap.delete(e),t))this._clipMap.delete(i)}return 0}updateTrackIndex(e,t){var i,n;return null!==(n=null===(i=this._editorSequence)||void 0===i?void 0:i.setTrackLayer(e,t))&&void 0!==n,this._trackMap.has(e)&&(this._trackMap.get(e).index=t),0}getTrack(e){var t;return null!==(t=this._trackMap.get(e))&&void 0!==t?t:null}addClip(e,t,i,n){var r,o,a,s,d,u,c,p;if(!t.id)return Promise.resolve(-1);i<0&&(i=0n),n<0&&(n=0n),null===(r=this._trackMap.get(e))||void 0===r||r.clipIds.add(t.id),this._clipMap.set(t.id,{trackId:e,seqIn:i,seqOut:n,data:t,filters:new Map,transition:null});let m=null!==(a=null===(o=this._editorSequence)||void 0===o?void 0:o.insertClip1(w.HH.stringify(t),e,i,n))&&void 0!==a?a:-1;if(0===m);else{let{type:r}=t;r===l.AM.AudioVideo||r===l.AM.Video||r===l.AM.Image?(t.type=l.AM.Color,t.res_color={color:"#ffffff00",width:10n,height:10n,gradient:!1,gradient_color:{colors:[],percents:[],angle:0}},m=null!==(d=null===(s=this._editorSequence)||void 0===s?void 0:s.insertClip1(w.HH.stringify(t),e,i,n))&&void 0!==d?d:-1):r===l.AM.Audio&&(t.res=null!==(c=this._configGetter().lostAudioPlaceholder)&&void 0!==c?c:"",m=null!==(p=null===(u=this._editorSequence)||void 0===u?void 0:u.insertClip1(w.HH.stringify(t),e,i,n))&&void 0!==p?p:-1)}return this._onAddClip.fire({clipId:t.id,result:m}),Promise.resolve(m)}removeClip(e){var t,i,n,r,o,a;if(null!==(i=null===(t=this._editorSequence)||void 0===t?void 0:t.deleteClip(e))&&void 0!==i,this._clipMap.has(e)){let t=null!==(a=null===(n=this._clipMap.get(e))||void 0===n?void 0:n.trackId)&&void 0!==a?a:"";this._clipMap.delete(e),null===(r=this._trackMap.get(t))||void 0===r||r.clipIds.delete(e);let i=null===(o=this._trackMap.get(t))||void 0===o?void 0:o.clipIds.size;"number"==typeof i&&i<=0&&this.removeTrack(t)}return 0}updateClip(e,t){var i,n;return null!==(n=null===(i=this._editorSequence)||void 0===i?void 0:i.updateClipInfo(w.HH.stringify(e)))&&void 0!==n,this._clipMap.has(e.id)&&(this._clipMap.get(e.id).data=e),0}updateClipSequenceTime(e,t,i){var n,r;if(null!==(r=null===(n=this._editorSequence)||void 0===n?void 0:n.updateClipSequenceTime(e,t,i))&&void 0!==r,this._clipMap.has(e)){let n=this._clipMap.get(e);n.seqIn=t,n.seqOut=i}return 0}updateClipTrack(e,t,i){var n,r,o,a,s;if(null!==(r=null===(n=this._editorSequence)||void 0===n?void 0:n.updateClipTrack(e,t,i))&&void 0!==r,this._clipMap.has(e)){let i=this._clipMap.get(e),n=i.trackId;i.trackId=t,null===(o=this._trackMap.get(n))||void 0===o||o.clipIds.delete(e),null===(a=this._trackMap.get(t))||void 0===a||a.clipIds.add(e);let r=null===(s=this._trackMap.get(n))||void 0===s?void 0:s.clipIds.size;"number"==typeof r&&r<=0&&this.removeTrack(n)}return 0}getClipBase(e){return this._clipMap.get(e)}getClipConflict(e,t,i){var n,r;if(!this._trackMap.has(e))return null;for(let o of null!==(r=null===(n=this._trackMap.get(e))||void 0===n?void 0:n.clipIds)&&void 0!==r?r:[]){if(o===t||!this._clipMap.has(o))continue;let e=this._clipMap.get(o);if(e.seqIn===i)return e}return null}addFilter(e,t){var i,n,r;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1n,s=(0,d.Pt)(e.id,e);return s.trim_range={"in.us":o,"out.us":a},null!==(n=null===(i=this._editorSequence)||void 0===i?void 0:i.insertClip1(w.HH.stringify(s),t,o,a))&&void 0!==n,this._clipMap.has(t)&&(null===(r=this._clipMap.get(t))||void 0===r||r.filters.set(e.id,e)),e.id}removeFilter(e){var t,i,n;null!==(i=null===(t=this._editorSequence)||void 0===t?void 0:t.deleteClip(e))&&void 0!==i;let r=e.split("_")[0];return this._clipMap.has(r)&&(null===(n=this._clipMap.get(r))||void 0===n||n.filters.delete(e)),0}updateFilter(e){var t,i,n;if(!e.id)return -1;let r=(0,d.Pt)(e.id,e);null!==(i=null===(t=this._editorSequence)||void 0===t?void 0:t.updateClipInfo(w.HH.stringify(r)))&&void 0!==i;let o=e.id.split("_")[0];return this._clipMap.has(o)&&(null===(n=this._clipMap.get(o))||void 0===n||n.filters.set(e.id,e)),0}getFilterById(e,t){var i;if(!this._clipMap.has(e))return null;let n=this._clipMap.get(e);return null!==(i=null==n?void 0:n.filters.get(t))&&void 0!==i?i:null}setKeyframe(e,t){var i,n;null!==(n=null===(i=this._editorSequence)||void 0===i?void 0:i.setKeyframe(w.HH.stringify(e),t))&&void 0!==n;let r=this._keyframesMap.get(t);return void 0===r&&(r=new Map,this._keyframesMap.set(t,r)),r.set(e.id,e),e.id}removeKeyframe(e,t){var i,n;null!==(n=null===(i=this._editorSequence)||void 0===i?void 0:i.deleteKeyframe(w.HH.stringify(e),t))&&void 0!==n;let r=this._keyframesMap.get(t);return r&&r.delete(e.id),0}resetKeyframes(e,t){var i,n;let r=[];for(let t of e)r.push(w.HH.stringify(t));null!==(n=null===(i=this._editorSequence)||void 0===i?void 0:i.resetKeyframe(r,t))&&void 0!==n;let o=this._keyframesMap.get(t);return void 0===o&&(o=new Map,this._keyframesMap.set(t,o)),e.forEach(e=>o.set(e.id,e)),0}getKeyframesByParentId(e){var t;return null!==(t=this._keyframesMap.get(e))&&void 0!==t?t:null}addVideoTransition(e,t,i,n){this.addClip(e,t,i,n).then(e=>{});let r=t.id;return this._clipMap.has(r)&&(this._clipMap.get(r).transition=t),0}removeVideoTransition(e){var t,i;null!==(i=null===(t=this._editorSequence)||void 0===t?void 0:t.deleteVideoTransition(e))&&void 0!==i;let n=e.split("_")[0];return this._clipMap.has(n)&&(this._clipMap.get(n).transition=null),0}updateVideoTransition(e){this.updateClip(e);let t=e.id.split("_")[0];return this._clipMap.has(t)&&(this._clipMap.get(t).transition=e),0}getTransition(e){let t=e.split("_")[0];return this.getTransitionByParent(t)}getTransitionByParent(e){var t,i;return this._clipMap.has(e)?null!==(i=null===(t=this._clipMap.get(e))||void 0===t?void 0:t.transition)&&void 0!==i?i:null:null}addSubSequence(e,t,i,n){var r,o,a;let s=new R.W8(t.id);s.setSequenceSetting(w.HH.stringify(this._sequenceSetting)),null===(r=this._trackMap.get(e))||void 0===r||r.clipIds.add(t.id),this._clipMap.set(t.id,{trackId:e,seqIn:i,seqOut:n,data:t,filters:new Map,transition:null,subState:{sequence:s,trackMap:new Map,clipMap:new Map}});let l=null!==(a=null===(o=this._editorSequence)||void 0===o?void 0:o.insertSubSequence(s,w.HH.stringify(t),e,i,n))&&void 0!==a?a:-1;return this._onAddClip.fire({clipId:t.id,result:l}),l}replaceSubSequence(e){var t,i,n,r,o;let a=this._clipMap.get(e);if(!(null==a?void 0:null===(t=a.subState)||void 0===t?void 0:t.sequence))return -1;let s=null!==(r=null===(i=this._editorSequence)||void 0===i?void 0:i.replaceSubSequence(a.subState.sequence,e))&&void 0!==r?r:-1;return s=null!==(o=null===(n=this._editorSequence)||void 0===n?void 0:n.setSubSeqResourceChange(e,!0))&&void 0!==o?o:-1,s}pushSequence(e){var t;let i=null===(t=this._clipMap.get(e))||void 0===t?void 0:t.subState;if(!!i)this._stateStack.push({sequence:this._editorSequence,trackMap:this._trackMap,clipMap:this._clipMap}),this._editorSequence=i.sequence,this._trackMap=i.trackMap,this._clipMap=i.clipMap}popSequence(){let e=this._stateStack.pop();if(!!e)this._editorSequence=e.sequence,this._trackMap=e.trackMap,this._clipMap=e.clipMap}isMainSequence(){return 0===this._stateStack.length}addDefaultVideoClip(){var e,t;if(this._defaultVideoClipId)return this._defaultVideoClipId;let i="default_video_clip",n=0n+33333n,r={id:i,type:l.AM.Color,stream_type:l.vG.VideoOnly,trim_range:{"in.us":0n,"out.us":n},res_color:{width:null!==(e=this._sequenceSetting.width)&&void 0!==e?e:100n,height:null!==(t=this._sequenceSetting.height)&&void 0!==t?t:100n,color:"#000000FF"}};return this.commit(()=>{let e=this.addTrack(l.u2.VideoTrack,0);this.addClip(e,r,0n,n)}),this._defaultVideoClipId=i,i}removeDefaultVideoClip(){return!!this._defaultVideoClipId&&(this.commit(()=>{this.removeClip(this._defaultVideoClipId)}),this._defaultVideoClipId="",!0)}startLoadAssetAllRegion(e){(0,C.ss)("no need")}prepareAudioSample(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2],(0,C.ss)("no implement")}getAudioSample(e){(0,C.ss)("no implement")}setEffectResourceFinder(e){(0,C.ss)("no need")}enableSkipDropFrame(e){(0,C.ss)("no need")}dumpLogInfo(){return this._editorSequence?(0,R.e8)(this._editorSequence):""}checkEditorRunningStatus(){return!0}hasBrokenPath(e){return!1}brokenAddPaths(e){(0,C.ss)("no need")}brokenRemovePaths(e,t,i){(0,C.ss)("no need")}brokenAddSegmentIds(e){(0,C.ss)("no need")}brokenRemoveSegmentIds(e,t,i){(0,C.ss)("no need")}constructor(e){super(),this._onAddClip=new P.Q,this._editorSequence=null,this._sequenceSetting={},this._trackMap=new Map,this._clipMap=new Map,this._keyframesMap=new Map,this._stateStack=[],this._commitSession=0,this._lastRenderIndex=0x3fffffff,this._defaultVideoClipId="";let{configGetter:t}=e;this._configGetter=t,this._utils=new R.OF,this._utilsWrapper=new D.J({utils:this._utils}),this._infoStickerWrapper=new O.W,this._editorSequence=new R.W8((0,E.p)()),this.onAddClip=this._onAddClip.event}}let B=/^.*?\/(.*)_v[0-9].*?.model/;class z{get editor(){return this._editor}get preview(){return this._preview}get utils(){return this._utils}get apis(){return this._apis}setTextDirectionLevel(e){this.config.directionLevel=e}setFallbackFontPathList(e){this.config.fallbackFontPathList=e}async destroy(){var e,t;await (null===(e=this._editor)||void 0===e?void 0:e.destroy()),null===(t=this._preview)||void 0===t||t.destroy()}async reset(){await this.destroy(),this._initEditor(!0)}setRenderConfig(e){this.config={...this.config,...e}}setEffectResourceRender(e){this._effectResourceFinder=e}_initEditor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(b.H&&this._renderMode===s.JH.legacy){if(!this._wasm)throw Error("ve wasm is null");let t=new g.C({wasm:this._wasm,config:this.config,fromReset:e});void 0!==this.config.logLevel&&t.utils.setLogLevel(this.config.logLevel),this._editor=t,this._editor.setEffectResourceFinder(e=>{var t,i,n,r;let o=null!==(i=null===(t=B.exec(e))||void 0===t?void 0:t[1])&&void 0!==i?i:e;o.endsWith(".model")&&(o=o.slice(0,-6));let a=this._effectResourceFinder(o),s=a;return w.P4.instance.isExist(a)&&(s=w.P4.instance.isDir(a)?k().join(a,null!==(r=null===(n=w.P4.instance.readdirSync(a))||void 0===n?void 0:n[0])&&void 0!==r?r:""):a),console.log("resource file path generated",s,e),`file://${s}`}),this._preview=this._editor.preview,this._utils=this._editor.utils}else if(b.H&&this._renderMode===s.JH.webgl);else if(b.R)this._editor=new K({configGetter:()=>this.config}),this._utils=this._editor.utils;else throw Error("unknown render mode")}constructor(e){this._renderMode=s.JH.legacy,this._wasm=null,this._webgl=null,this._editor=null,this._preview=null,this._utils=null;let{renderMode:t,wasm:i=null,webgl:r=null,config:l}=e;this._renderMode=t,this._wasm=i,this._webgl=r,this._apis={editor:new M(this),player:new o(this),video:new n._(this),audio:new A(this),text:new y.x(this),textTemplate:new T.T(this),sticker:new I.o(this),videoEffect:new a.L(this),filter:new f(this),pictureAdjust:new h.r(this),transition:new x.$(this),draft:new V.v(this)},this._effectResourceFinder=e=>{(0,C.ss)("user should provide a custom effect resource finder")},this.config=l,this._initEditor()}}},660533:function(e,t,i){"use strict";i.d(t,{G:function(){return l},n:function(){return s}});var n=i(342040),r=i(211561),o=i(712616),a=i(155235);function s(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=[];return 7===e.length?n.push(parseInt(e.substr(1,2),16)/255,parseInt(e.substr(3,2),16)/255,parseInt(e.substr(5,2),16)/255,t):9===e.length?n.push(parseInt(e.substr(1,2),16)/255,parseInt(e.substr(3,2),16)/255,parseInt(e.substr(5,2),16)/255,parseInt(e.substr(7,2),16)/255*t):0===i?n.push(1,1,1,t):1===i&&n.push(0,0,0,0),n}function l(e,t,i){var l,d;let u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{textAlpha:c}=e,p=(null==i?void 0:i.path)?1:c,m=e.backgroundAlpha>=0?e.backgroundAlpha:p,f=e.shadowAlpha*p,h={version:"1",text:e.content,textColor:s(null!==(l=e.textColor)&&void 0!==l?l:"#FFFFFF",p),background:e.backgroundStyle!==r.M4l.TextBackgroundStyleNone,backgroundColor:s(e.backgroundColor,m),backgroundWrapped:e.backgroundStyle===r.M4l.TextBackgroundStyleWrap,backgroundRoundCorner:e.backgroundRoundRadius>0,backgroundCustomized:!0,backgroundSplitThreshold:0,backgroundSplitPadding:.1,backgroundRoundRadiusScale:e.backgroundRoundRadius,backgroundWHCustomized:[e.backgroundWidth,e.backgroundHeight],backgroundOffsetCustomized:[e.backgroundHorizontalOffset,e.backgroundVerticalOffset],shadow:!0,shadowSmoothing:e.shadowSmoothing/18,shadowOffset:[e.shadowPoint.x/18,e.shadowPoint.y/18],shadowColor:e.hasShadow?s(e.shadowColor,f):[0,0,0,0]},{textCurve:g}=e;if(null==g?void 0:g.enable){let e={curveType:1,curveAngle:g.angle,offsetOnCurve:.1,points:[]};h.typeSettingPathEnable=g.enable,h.enableMergeLines=!0,h.typeSettingPathParam={curvesInfo:[e]}}let y=e.borderColor.length;h.outline=!0,y?(h.outlineWidth=e.borderWidth,h.outlineColor=s(e.borderColor,e.borderAlpha*p)):(h.outlineColor=[0,0,0,0],h.outlineWidth=0),h.charSpacing=e.letterSpacing,h.typeSettingKind=e.typesetting,h.typeSettingAlign=e.alignment,h.alignType=e.alignment,e.type!==r.cVg.MetaTypeText||e.forceApplyLineMaxWidth?h.lineMaxWidth=.82:h.lineMaxWidth=-1,h.fontSize=e.fontSize<=1?18:e.fontSize,h.lineGap=e.lineSpacing,h.useEffectDefaultColor=e.useEffectDefaultColor;let{ktvColor:T,ktvOutlineColor:v,ktvShadowColor:_}=o.i.updateKtvColor(e);return T&&(h.ktvColor=(0,a.P)(T)),v&&(h.ktvOutlineColor=(0,a.P)(v)),_&&(h.ktvShadowColor=(0,a.P)(_)),h.boldWidth=e.boldWidth,h.italicDegree=e.italicDegree,h.underline=e.underline,h.underlineWidth=e.underlineWidth,h.underlineOffset=e.underlineOffset,h.fallbackFontPathList=null!==(d=u.fallbackFontPathList)&&void 0!==d?d:[],h.fontPath=n.k.getInstance().pathRecords.get(e.fontPath),h.effectPath=i?i.path:"",h.effectPath=n.k.getInstance().pathRecords.get(h.effectPath),h.shapePath=t?t.path:"",h.shapePath=n.k.getInstance().pathRecords.get(h.shapePath),h.shapePath&&(h.shapeFlipX=e.shapeClipX,h.shapeFlipY=e.shapeClipY),h.textLocale=u.enableRtlTextRender?1:0,h.directionLevel=u.directionLevel?1:0,h}},398262:function(e,t,i){"use strict";i.d(t,{GB:function(){return u},Ik:function(){return c}});var n=i(211561),r=i(131805);let o=new r.z(300),a=new r.z(300);function s(e){return Object.entries(e).map(e=>{let[t,i]=e;return`${t}:${i}`}).join(";")}let l={[n.Ocy.SegmentText]:function(e,t){var i,n;let r=null!==(n=null===(i=e.videoTracking)||void 0===i?void 0:i.id)&&void 0!==n?n:"";return s({videoTrackingId:r,text:e.material.text,content:e.material.content,canvasWidth:`${t.canvasSize[0]}`,canvasHeight:`${t.canvasSize[1]}`,current:r?`${t.current}`:""})},[n.Ocy.SegmentSticker]:function(e,t){var i,n;let r=null!==(n=null===(i=e.videoTracking)||void 0===i?void 0:i.id)&&void 0!==n?n:"";return s({videoTrackingId:r,resourceId:e.material.resourceId,canvasWidth:`${t.canvasSize[0]}`,canvasHeight:`${t.canvasSize[1]}`,current:r?`${t.current}`:""})}};function d(e,t){let i=l[e.__segment_struct_type];return null==i?void 0:i(e,t)}function u(e,t){let i=d(e,t);return o.get(i)}function c(e,t,i){!function(e){let t=a.get(e.id);t&&(a.remove(e.id),o.remove(t))}(e);let n=d(e,i);a.put(e.id,n),o.put(n,t)}},367333:function(e,t,i){"use strict";i.d(t,{$$:function(){return h},Ab:function(){return v},C1:function(){return O},CT:function(){return I},E6:function(){return L},EZ:function(){return y},F9:function(){return K},HI:function(){return P},KV:function(){return A},NI:function(){return c},Vp:function(){return H},XP:function(){return T},Z:function(){return _},bn:function(){return E},ci:function(){return w},dI:function(){return R},ez:function(){return D},ge:function(){return N},lA:function(){return U},mD:function(){return f},qR:function(){return B},sx:function(){return M},vT:function(){return m},vW:function(){return g},y:function(){return p}});var n,r,o=i(342040),a=i(211561),s=i(912224),l=i(176791),d=i(800788);let u="intensity",c="shadow_intensity",p="highlight_intensity",m="tone_intensity",f="temperature_intensity";function h(e){switch(e){case s.nW.ColorCurvesOrder:return a.cVg.MetaTypeColorCurves;case s.nW.HslOrder:return a.cVg.MetaTypeHsl;case s.nW.BrightnessOrder:return a.cVg.MetaTypeBrightness;case s.nW.ContrastOrder:return a.cVg.MetaTypeContrast;case s.nW.SharpeningOrder:return a.cVg.MetaTypeSharpen;case s.nW.HighlightOrder:return a.cVg.MetaTypeHighlight;case s.nW.ShadowOrder:return a.cVg.MetaTypeShadow;case s.nW.HueOrder:return a.cVg.MetaTypeHue;case s.nW.FadeOrder:return a.cVg.MetaTypeFade;case s.nW.ColorTemperatureOrder:return a.cVg.MetaTypeTemperature;case s.nW.SaturationOrder:return a.cVg.MetaTypeSaturation;case s.nW.LightSensationOrder:return a.cVg.MetaTypeLightSensation;case s.nW.VignettingOrder:return a.cVg.MetaTypeVignetting;case s.nW.ParticleOrder:return a.cVg.MetaTypeParticle;case s.nW.LUTOrder:return a.cVg.MetaTypeLUT;case s.nW.SmartColorAdjustOrder:return a.cVg.MetaTypeSmartColorAdjust;case s.nW.PrimaryColorWheels:return a.cVg.MetaTypePrimaryColorWheels;case s.nW.LogColorWheels:return a.cVg.MetaTypeLogColorWheels;case s.nW.AdjustOrderCount:(0,d.ss)("unknown type");default:(0,d.bP)(e,"unknown type")}}function g(e,t){if(!t||"v1"===t)return u;switch(e){case a.cVg.MetaTypeShadow:return c;case a.cVg.MetaTypeHighlight:return p;case a.cVg.MetaTypeTemperature:return f;case a.cVg.MetaTypeHue:return m;default:return u}}var y=((n={})[n.videoNotHasLut=0]="videoNotHasLut",n[n.videoHasLut=1]="videoHasLut",n);function T(e){let t=e.lastIndexOf("/");return -1!==t?e.slice(0,t):""}var v=((r={})[r.NONE=0]="NONE",r[r.FILTER=1]="FILTER",r[r.BEAUTY=2]="BEAUTY",r[r.RESHAPE=3]="RESHAPE",r[r.VIDEO_EFFECT=4]="VIDEO_EFFECT",r[r.VIDEO_ANIM=5]="VIDEO_ANIM",r[r.MIX_MODE=6]="MIX_MODE",r[r.TEXT_EFFECT=7]="TEXT_EFFECT",r[r.TEXT_SHAPE=8]="TEXT_SHAPE",r[r.BRIGHTNESS=9]="BRIGHTNESS",r[r.CONTRAST=10]="CONTRAST",r[r.SATURATION=11]="SATURATION",r[r.SHARPENING=12]="SHARPENING",r[r.HIGHLIGHT=13]="HIGHLIGHT",r[r.SHADOW=14]="SHADOW",r[r.SHADOW_HIGHLIGHT=15]="SHADOW_HIGHLIGHT",r[r.COLOR_TEMPERATURE=16]="COLOR_TEMPERATURE",r[r.HUE=17]="HUE",r[r.COLOR_TEMPERATURE_HUE=18]="COLOR_TEMPERATURE_HUE",r[r.COLOR_FADE=19]="COLOR_FADE",r[r.LIGHT_SENSATION=20]="LIGHT_SENSATION",r[r.VIGNETTING=21]="VIGNETTING",r[r.PARTICLE=22]="PARTICLE",r[r.LUT=23]="LUT",r[r.HSL=24]="HSL",r[r.AUDIOTRANSITION=25]="AUDIOTRANSITION",r[r.VIDEO_COLOR_CURVES=26]="VIDEO_COLOR_CURVES",r[r.VIDEO_PRIMARY_COLOR_WHEELS=27]="VIDEO_PRIMARY_COLOR_WHEELS",r[r.VIDEO_LOG_COLOR_WHEELS=28]="VIDEO_LOG_COLOR_WHEELS",r[r.CHROMA=29]="CHROMA",r[r.MASK=30]="MASK",r[r.TRANSITION=31]="TRANSITION",r[r.AUDIO_EFFECT=32]="AUDIO_EFFECT",r[r.AUDIO_FADE=33]="AUDIO_FADE",r[r.KEY_FRAME=34]="KEY_FRAME",r[r.REALTIME_DENOISE=35]="REALTIME_DENOISE",r[r.STABLE=36]="STABLE",r[r.STRETCH_LEG=37]="STRETCH_LEG",r[r.AUDIO_BALANCE=38]="AUDIO_BALANCE",r[r.SLOW_MOTION=39]="SLOW_MOTION",r[r.LIGHT_WAVE=40]="LIGHT_WAVE",r[r.HANDWRITE=41]="HANDWRITE",r[r.MAGNIFIER=42]="MAGNIFIER",r[r.CANVAS_TRANSFORM=43]="CANVAS_TRANSFORM",r[r.MANUAL_DEFORMATION=44]="MANUAL_DEFORMATION",r[r.MOTION_BLUR=45]="MOTION_BLUR",r[r.MATTING=46]="MATTING",r[r.SMART_COLOR_ADJUST=47]="SMART_COLOR_ADJUST",r[r.GREEN_SCREEN=48]="GREEN_SCREEN",r);function _(e){switch(e){case a.cVg.MetaTypeBrightness:return 9;case a.cVg.MetaTypeContrast:return 10;case a.cVg.MetaTypeSaturation:return 11;case a.cVg.MetaTypeSharpen:return 12;case a.cVg.MetaTypeHighlight:return 13;case a.cVg.MetaTypeShadow:return 14;case a.cVg.MetaTypeTemperature:return 16;case a.cVg.MetaTypeHue:return 17;case a.cVg.MetaTypeFade:return 19;case a.cVg.MetaTypeLightSensation:return 20;case a.cVg.MetaTypeVignetting:return 21;case a.cVg.MetaTypeParticle:return 22;case a.cVg.MetaTypeLUT:return 23;case a.cVg.MetaTypeColorCurves:return 26;case a.cVg.MetaTypePrimaryColorWheels:return 27;case a.cVg.MetaTypeLogColorWheels:return 28;case a.cVg.MetaTypeHsl:return 24;case a.cVg.MetaTypeSmartColorAdjust:default:return 47}}function S(e){return 100n*e}function A(e){switch(e){case 9:return s.nW.BrightnessOrder;case 10:return s.nW.ContrastOrder;case 11:return s.nW.SaturationOrder;case 12:return s.nW.SharpeningOrder;case 13:case 15:return s.nW.HighlightOrder;case 14:return s.nW.ShadowOrder;case 16:case 18:return s.nW.ColorTemperatureOrder;case 17:return s.nW.HueOrder;case 19:return s.nW.FadeOrder;case 20:return s.nW.LightSensationOrder;case 21:return s.nW.VignettingOrder;case 22:return s.nW.ParticleOrder;case 23:return s.nW.LUTOrder;case 26:return s.nW.ColorCurvesOrder;case 27:return s.nW.PrimaryColorWheels;case 28:return s.nW.LogColorWheels;case 24:return s.nW.HslOrder;default:return s.nW.SmartColorAdjustOrder}}function I(e,t){let i;if(1===t)i=100n*e;else i=100n*e+BigInt(A(t));return i}function M(e){return function(e){switch(e){case 1:return c;case 2:return p;case 4:return f;case 8:return m;default:return u}}(function(e){switch(e){case a.cVg.MetaTypeShadow:return 1;case a.cVg.MetaTypeHighlight:return 2;case a.cVg.MetaTypeTemperature:return 4;case a.cVg.MetaTypeHue:return 8;default:return 1}}(e))}function x(e){!e.length&&(e=[new a.XcK({anchor:new a.KS6({x:0,y:0}),leftControl:new a.KS6({x:0,y:0}),rightControl:new a.KS6({x:.3,y:.3})}),new a.XcK({anchor:new a.KS6({x:1,y:1}),leftControl:new a.KS6({x:.6,y:.6}),rightControl:new a.KS6({x:0,y:0})})]);let t=[];for(let i=0;i<e.length;++i)0===i?(t.push(e[i].anchor.x),t.push(e[i].anchor.y),t.push(e[i].rightControl.x),t.push(e[i].rightControl.y)):i+1===e.length?(t.push(e[i].leftControl.x),t.push(e[i].leftControl.y),t.push(e[i].anchor.x),t.push(e[i].anchor.y)):(t.push(e[i].leftControl.x),t.push(e[i].leftControl.y),t.push(e[i].anchor.x),t.push(e[i].anchor.y),t.push(e[i].rightControl.x),t.push(e[i].rightControl.y));return t}let F=[0,0,.3,.3,.6,.6,1,1];function k(e){return e.length?e.length/2:F.length/2}function C(e){return e.length?e:[...F]}function w(e){return{intensityY:1,intensityR:1,intensityG:1,intensityB:1,yPointsCount:k(e.luma),rPointsCount:k(e.red),gPointsCount:k(e.green),bPointsCount:k(e.blue),yPoints:C(e.luma),rPoints:C(e.red),gPoints:C(e.green),bPoints:C(e.blue)}}function V(e){return e?{red:e.red,blue:e.blue,green:e.green,saturation:e.saturation}:{red:0,blue:0,green:0,saturation:0}}function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(t,Math.min(i,e))}function E(e){return{Intensity:e.intensity,LiftY:0,LiftR:b(e.lift.red),LiftG:b(e.lift.green),LiftB:b(e.lift.blue),LiftS:e.lift.saturation,GammaY:0,GammaR:b(e.gamma.red),GammaG:b(e.gamma.green),GammaB:b(e.gamma.blue),GammaS:e.gamma.saturation,GainY:0,GainR:b(e.gain.red),GainG:b(e.gain.green),GainB:b(e.gain.blue),GainS:e.gain.saturation,OffsetR:b(e.offset.red),OffsetG:b(e.offset.green),OffsetB:b(e.offset.blue),OffsetS:e.offset.saturation,LumaMix:0}}function P(e){return{Intensity:e.intensity,ShadowR:b(e.shadow.red),ShadowG:b(e.shadow.green),ShadowB:b(e.shadow.blue),ShadowS:e.shadow.saturation,MidtoneR:b(e.midtone.red),MidtoneG:b(e.midtone.green),MidtoneB:b(e.midtone.blue),MidtoneS:e.midtone.saturation,HightlightsR:b(e.highlight.red),HightlightsG:b(e.highlight.green),HightlightsB:b(e.highlight.blue),HightlightsS:e.highlight.saturation,OffsetR:b(e.offset.red),OffsetG:b(e.offset.green),OffsetB:b(e.offset.blue),OffsetS:e.offset.saturation,RugDown:.333,RugUP:.55}}function N(e){let t={};for(let i of e)t[M(i.type)]=`${i.value}`;if(Array.isArray(e[0].adjustParams))for(let i of e[0].adjustParams)t[i.name]=i.value;if(0!==Object.keys(t).length)return t}function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[],n="",r="",s=!0;for(let t of e)i.push({hslColorType:t.hslColorType,hue:t.hue,saturation:t.saturation,lightness:t.lightness}),n=t.version,r=o.k.getInstance().pathRecords.get(t.path),s=t.visible;let l={};for(let e of i){let t="";switch(e.hslColorType){case a.SXD.HslColorRed:t="HSLRed";break;case a.SXD.HslColorOrange:t="HSLOrange";break;case a.SXD.HslColorYellow:t="HSLYellow";break;case a.SXD.HslColorGreen:t="HSLGreen";break;case a.SXD.HslColorCyan:t="HSLCyan";break;case a.SXD.HslColorBlue:t="HSLBlue";break;case a.SXD.HslColorPurple:t="HSLPurple";break;case a.SXD.HslColorPurpleRed:t="HSLMagenta"}t&&(l[t]=[.005*e.hue+.5,.005*e.saturation+.5,.005*e.lightness+.5])}return Object.keys(t).forEach(e=>{!l[e]&&(l[e]=[.5,.5,.5])}),{extraParams:l,hslVer:n,hslPath:r,hslVisible:s}}function D(e){return{luma:x(e.luma),red:x(e.red),green:x(e.green),blue:x(e.blue),path:o.k.getInstance().pathRecords.get(e.path)}}function O(e){return{path:o.k.getInstance().pathRecords.get(e.path),intensity:e.intensity,lift:V(e.lift),gamma:V(e.gamma),gain:V(e.gain),offset:V(e.offset)}}function L(e){return e?{path:o.k.getInstance().pathRecords.get(e.path),intensity:e.intensity,shadow:V(e.shadow),midtone:V(e.midtone),highlight:V(e.highlight),offset:V(e.offset)}:{path:"",intensity:0,shadow:V(),midtone:V(),highlight:V(),offset:V()}}function K(e){return{effects_adjust_intensity:e.value}}function B(e){return{path:o.k.getInstance().pathRecords.get(e.path),strength:e.value,resource_id:e.resourceId,sub_type:e.subType,exclusion_group:e.exclusionGroup,algorithm_cache_folder:o.k.getInstance().pathRecords.get(e.algorithmArtifactPath)||e.algorithmArtifactPath,intensity_key:e.intensityKey,extra_params:e.adjustParams.reduce((e,t)=>({...e,[t.name]:t.value}),{}),face_adjust_params:e.faceAdjustParams.reduce((e,t)=>{let i={enable:t.enable,disable_part:t.disablePart,adjust_params:t.adjustParams.reduce((e,t)=>({...e,[t.name]:t.value}),{})};return{...e,[t.faceId]:i}},{})}}let z={[a.cVg.MetaTypeColorCurves]:"colorCurves",[a.cVg.MetaTypePrimaryColorWheels]:"primaryColorWheels",[a.cVg.MetaTypeLogColorWheels]:"logColorWheels",[a.cVg.MetaTypeSmartColorAdjust]:"smartAdjustColor",[a.cVg.MetaTypeHsl]:"hsl",[a.cVg.MetaTypeHighlight]:"highlight",[a.cVg.MetaTypeShadow]:"shadow",[a.cVg.MetaTypeTemperature]:"temperature",[a.cVg.MetaTypeHue]:"tone",[a.cVg.MetaTypeBrightness]:"brightness",[a.cVg.MetaTypeContrast]:"contrast",[a.cVg.MetaTypeSaturation]:"saturation",[a.cVg.MetaTypeSharpen]:"sharpen",[a.cVg.MetaTypeFade]:"fade",[a.cVg.MetaTypeLightSensation]:"lightSensation",[a.cVg.MetaTypeVignetting]:"vignetting",[a.cVg.MetaTypeParticle]:"particle",[a.cVg.MetaTypeLUT]:"lut",[a.cVg.MetaTypeFilter]:"filter"};function H(e){var t;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i){if(e===a.cVg.MetaTypeHighlight||e===a.cVg.MetaTypeShadow)return`${z[a.cVg.MetaTypeHighlight]}_${z[a.cVg.MetaTypeShadow]}`;if(e===a.cVg.MetaTypeTemperature||e===a.cVg.MetaTypeHue)return`${z[a.cVg.MetaTypeTemperature]}_${z[a.cVg.MetaTypeHue]}`}return null!==(t=z[e])&&void 0!==t?t:""}function U(e){return{ratio:function(e){switch(e){case a.rxY.CanvasRatioOriginal:return 0;case a.rxY.CanvasRatio16To9:return 2;case a.rxY.CanvasRatio9To16:return 3;case a.rxY.CanvasRatio4To3:return 4;case a.rxY.CanvasRatio3To4:return 5;case a.rxY.CanvasRatio1To1:return 6;case a.rxY.CanvasRatio2To1:return 7;case a.rxY.CanvasRatio2_35To1:return 8;case a.rxY.CanvasRatio1_85To1:return 9;case a.rxY.CanvasRatio1_125To2_436:return 10;case a.rxY.CanvasRatioCustom:return 1;default:return 0}}(e.cropRatio),stable:function(e){switch(e){case a.Vv6.StabilityFlexible:return 1;case a.Vv6.StabilityDefault:return 2;case a.Vv6.StabilityStable:return 3;default:return 1}}(e.stability),track_speed:function(e){switch(e){case a.DVV.TrackSpeedFaster:return 0;case a.DVV.TrackSpeedDefault:return 1;case a.DVV.TrackSpeedSlower:return 2;default:return 0}}(e.trackSpeed),render_scene:4,key:new l.wK().parseSmartCropKey(e.cachePath),cache_dir:e.cachePath,timerange:{"in.us":0n,"out.us":0n},video_path:"",config_path:"",model_dir:"",seg_id:"",plugin_id:""}}},923596:function(e,t,i){"use strict";i.d(t,{$D:function(){return r},BU:function(){return o},PO:function(){return m},TF:function(){return l},U_:function(){return s},c3:function(){return n},gj:function(){return u},pH:function(){return a},qy:function(){return f},tW:function(){return c},yQ:function(){return d},zQ:function(){return p}});let n=4134,r=4143,o=4097,a=4098,s=4101,l=4148,d=4188,u=4133,c=4157,p=4510,m=4511,f=4601},503722:function(e,t,i){"use strict";i.d(t,{c:function(){return y}});var n=i(20889),r=i(908232),o=i(49667),a=i(211561),s=i(283751),l=i(481631),d=i(575016),u=i(129862),c=i(698159),p=i(217201),m=i(879388),f=i(176791),h=i(239648);class g{constructor(){this.targetSegments=[],this.aboveTargetSegments=[],this.belowTargetSegments=[],this.mainToMainTrackSegments=[],this.subToMainTrackSegments=[]}}class y{move(e,t,i){this._prepareMoveSegments(e),this._handleMoveSegments(e,t,i),this._endMoveSegments(e,t,i)}_prepareMoveSegments(e){let t=[],i=[];for(let e of this.options)e.trackType===a.pNd.TrackTypeAudio?t.push(e):i.push(e);this._classification(e,this._aboveMainTrackHandlePart,t),this._classification(e,this._belowMainTrackHandlePart,i)}_handleMoveSegments(e,t,i){this._handlePart(e,this._aboveMainTrackHandlePart,t,i),this._handlePart(e,this._belowMainTrackHandlePart,t,i),(0,c.W)(new h.Uo().clearUselessTransitionAndAdjustDuration(e,this._needDealTransitionSegments,t),t),(0,c.W)(new h.Uo().clearUselessTransitionAndAdjustTrackStartTime(e),t)}_endMoveSegments(e,t,i){(0,c.W)(p.c8.updateDraftDurationIfNeeded(e),t),!i.keepEmptyTracks&&(0,c.W)(p.c8.clearEmptyTracks(e),t)}_classification(e,t,i){let n=!1,r=[],o=new Map,s=[];for(let l of i){if(l.inMousePosition)t.targetSegments.push(l),n=!0;else if(n)t.aboveTargetSegments.push(l);else{let e=o.get(l.sourceTrackIndex);e?e.push(l):o.set(l.sourceTrackIndex,[l]),!r.includes(l.sourceTrackIndex)&&r.push(l.sourceTrackIndex)}if(l.trackType===a.pNd.TrackTypeVideo){let i=e.getTrackIndexBySegmentId(l.segmentId,[])===p.fm,n=l.targetTrackIndex===p.fm;i&&n?t.mainToMainTrackSegments.push(l):!i&&n&&t.subToMainTrackSegments.push(l)}let i=e.getSegmentNodeById(l.segmentId,[]);if(!i)continue;let{segment:d}=i;if(!!d)s.push(d)}for(let e of(this._moveHelper.addMovedSegments(s),r.reverse())){let i=o.get(e);i&&t.belowTargetSegments.push(...i)}}_handlePart(e,t,i,n){for(let r of(t.mainToMainTrackSegments.length&&(this._sortToMainMoveSeg(t.mainToMainTrackSegments),this._executeMoveMainToMainVideoActions(e,t.mainToMainTrackSegments,i)),t.subToMainTrackSegments.length&&(this._sortToMainMoveSeg(t.subToMainTrackSegments),this._executeMoveSubToMainVideoActions(e,t.subToMainTrackSegments,i)),t.targetSegments)){let o={targetStartTime:r.targetStartTime,targetDuration:e.getSegmentById(r.segmentId).targetTimerange.duration,targetTrackIndex:r.targetTrackIndex,type:e.getAllTracks()[r.targetTrackIndex].type,targetSegmentId:r.segmentId,excludeSegmentIds:new Set([...t.aboveTargetSegments.map(e=>e.segmentId),...t.targetSegments.map(e=>e.segmentId),...t.belowTargetSegments.map(e=>e.segmentId)])};new m.W().moveConflictSegment(e,o,e.getAllTracks(),i,n)}this._realHandleSegmentTrackModeMove(e,t.targetSegments,i),this._realHandleSegmentTrackModeMove(e,t.aboveTargetSegments,i),this._realHandleSegmentTrackModeMove(e,t.belowTargetSegments,i)}_sortToMainMoveSeg(e){e.sort((e,t)=>e.mainVideoTargetIndex-t.mainVideoTargetIndex)}_mapArrayUseOrSet(e,t,i){let n=e.get(t);n?n.push(i):e.set(t,[i])}_afterMainToMainMove(e,t,i,n,r){!n&&t.length>0&&((0,c.W)(new h.Uo().clearUselessTransition(e,i),r),(0,c.W)(p.c8.adjustTrackTargetStartTime(e,i),r))}_executeMoveMainToMainVideoActions(e,t,i){let n=e.getMainTrack();if(!n)return;let r=e.getDraftProperty().maintrackAdsorb,o=new Map,s=new Map;if(this._setUsingVideos(t,n,s,o,r),0===s.size)return;for(let e of t){let t=o.get(e.segmentId);t&&this._mapArrayUseOrSet(this._needDealTransitionSegments,n,t);let i=s.get(e.segmentId);void 0!==i&&i>0&&this._mapArrayUseOrSet(this._needDealTransitionSegments,n,n.segments[i-1])}let l=t.filter(e=>o.has(e.segmentId));i(new d.B({segmentIds:l.map(e=>e.segmentId),srcTrackIndex:0,desTrackIndex:0,srcTrackId:e.getTrackByIndex(0).id,desTrackId:e.getTrackByIndex(0).id,srcTargetTimeRanges:l.map(e=>o.get(e.segmentId).targetTimerange),desTargetTimeRanges:l.map(e=>new a.tnv({start:e.targetStartTime,duration:o.get(e.segmentId).targetTimerange.duration}))})),r&&(0,c.W)(p.c8.adjustTrackTargetStartTime(e,n),i),(0,c.W)(p.c8.updateDraftDurationIfNeeded(e),i),this._afterMainToMainMove(e,n.segments,n,r,i)}_moveSubSegment(e,t,i){}_executeMoveSubToMainVideoActions(e,t,i){let n=e.getMainTrack();if(!n)return;let r=new Map;for(let i of t){let t=e.getAllTracks(),n=-1,o=-1,a=e.getSegmentAtPositionById(i.segmentId);if(!a)continue;({trackIndex:n,segmentIndex:o}=a);let s=t[n].segments[o];if(!s||!(0,l.he)(s))continue;r.set(i.segmentId,s);let d=t[n];if(o>=1){let e=d.segments[o-1];e&&(0,l.he)(e)&&e.transition&&this._mapArrayUseOrSet(this._needDealTransitionSegments,d,e)}}for(let o of t){if(!r.get(o.segmentId))continue;let t=o.mainVideoTargetIndex,m=n.segments,f=n.segments,h=m.length;if(t===h-1&&(0,l.MR)(f[h-1]))return;let g=null;if(t>=1&&t-1<f.length&&(g=f[t-1]),(t=t<h?t:h)===h&&f.length>0&&(0,l.MR)(f[h-1]))return;let y=r.get(o.segmentId);if(y){let t=new a.NOn;t.renderIndex=0,e.getDraftProperty().videoMute&&(t.lastNonzeroVolume=y.volume,t.volume=0),t.trackAttribute=n.attribute,(0,l.he)(y)&&y.transition&&this._mapArrayUseOrSet(this._needDealTransitionSegments,n,y),i(new d.B({segmentIds:[o.segmentId],srcTrackIndex:o.sourceTrackIndex,desTrackIndex:o.targetTrackIndex,srcTrackId:e.getTrackByIndex(o.sourceTrackIndex).id,desTrackId:e.getTrackByIndex(o.targetTrackIndex).id,srcTargetTimeRanges:[y.targetTimerange],desTargetTimeRanges:[new a.tnv({start:o.targetStartTime,duration:y.targetTimerange.duration})]}));let r=(0,l.xX)({__segment_struct_type:y.__segment_struct_type});s.T.pick(y,t,r),i(new u.F({segmentId:o.segmentId,trackId:n.id,trackIndex:e.getTrackIndexBySegmentId(o.segmentId),segmentDelta:t,sourceSegmentDelta:r})),this._moveHelper.moveOneFinished(y)}g&&(0,l.he)(g)&&g.transition&&this._mapArrayUseOrSet(this._needDealTransitionSegments,n,g),(0,c.W)(p.c8.adjustTrackTargetStartTime(e,n),i),(0,c.W)(p.c8.updateDraftDurationIfNeeded(e),i)}}_afterMoveToSub(e){let{draftView:t,preVideo:i,sourceTrack:n,videoSegment:r,targetTrack:o,targetPosPreVideo:d,callback:m}=e;for(let e of(this._moveSegmentSaveCache(r,o,i,n,d),t.getAllTracks())){if(e.type===a.pNd.TrackTypeVideoEffect)for(let i of e.segments){if(!!i&&!!(0,l.w5)(i)){if(i.applySegmentId===r.id){let e=new a.LtW,n=new a.UJq;n.applyTargetType=a.nH8.SubVideo,e.material=n;let r=(0,l.xX)({__segment_struct_type:i.__segment_struct_type});s.T.pick(i,e,r),m(new u.F({segmentId:i.id,segmentDelta:e,trackId:t.getTrackBySegmentId(i.id).id,trackIndex:t.getTrackIndexBySegmentId(i.id),sourceSegmentDelta:r}))}}}}if((0,c.W)(p.c8.adjustTrackTargetStartTime(t,n),m),t.getDraftProperty().videoMute){let e=new f.wK().muteAllKeyframes(r,!1),i=new a.NOn;i.commonKeyframes=e,(0,c.W)((0,c.l)(t,r.id,i),m)}(0,c.W)(p.c8.updateDraftDurationIfNeeded(t),m)}_executeMoveMainToSubVideoAction(e,t,i){let n=-1,r=e.getMainTrack();if(!r)return;let o=r.segments;for(let e=0;e<o.length;e++)if(o[e].id===t.segmentId){n=e;break}if(-1===n)throw Error("track mode move : Can't find the video segment");let s=o[n];i(new d.B({segmentIds:[s.id],srcTrackIndex:t.sourceTrackIndex,desTrackIndex:t.targetTrackIndex,srcTrackId:e.getTrackByIndex(t.sourceTrackIndex).id,desTrackId:e.getTrackByIndex(t.targetTrackIndex).id,srcTargetTimeRanges:[s.targetTimerange],desTargetTimeRanges:[new a.tnv({start:t.targetStartTime,duration:s.targetTimerange.duration})]})),this._moveHelper.moveOneFinished(s);let l=e.getTrackIndexBySegmentId(s.id,[]),u=null;n>=1&&(u=o[n-1]);let c=e.getAllTracks()[l],p=c.segments,m=null;t.targetTrackIndex>=1&&t.targetTrackIndex-1<p.length&&(m=p[t.targetTrackIndex-1]),this._updateRenderIndex(e,s,i),this._afterMoveToSub({draftView:e,preVideo:u,sourceTrack:r,videoSegment:s,targetTrack:c,targetPosPreVideo:m,callback:i})}_updateRenderIndex(e,t,i){let n=e.getAllSegments(),r=0;for(let e of n)e&&(0,l.he)(e)&&r<e.renderIndex&&(r=e.renderIndex);let a=e.getSegmentById(t.id),s=(0,l.xX)({__segment_struct_type:a.__segment_struct_type,renderIndex:r+1}),d=[(0,c.l)(e,t.id,s)];o.vc.FEATURE_SEPARATE_TRACE_MUTED_AND_SEGMENT_VOLUME&&e.getDraftProperty().videoMute&&d.push((0,c.l)(e,t.id,(0,l.xX)({__segment_struct_type:a.__segment_struct_type,volume:t.lastNonzeroVolume}))),(0,c.W)(d,i)}_executeMoveSubToSubVideoAction(e,t,i){var n;let r=e.getAllTracks(),{segmentIndex:o=-1,trackIndex:c=-1}=null!==(n=e.getSegmentAtPositionById(t.segmentId))&&void 0!==n?n:{};if(-1===c||-1===o)throw Error("track mode move Can't find the video segment");let m=r[c].segments[o];if(!m)throw Error("track mode move Can't find the video segment");let f=r[t.targetTrackIndex],h=null;o>=1&&(h=r[c].segments[o-1]);let g=r[c],y=p.c8.alignTimerange(e,t.targetStartTime,m.targetTimerange.duration);i(new d.B({segmentIds:[t.segmentId],srcTrackIndex:c,desTrackIndex:t.targetTrackIndex,srcTrackId:e.getTrackByIndex(c).id,desTrackId:e.getTrackByIndex(t.targetTrackIndex).id,srcTargetTimeRanges:[m.targetTimerange],desTargetTimeRanges:[new a.tnv({start:y[0],duration:y[1]})]}));let T=new a.NOn({trackAttribute:f.attribute}),v=e.getSegmentById(t.segmentId),_=(0,l.xX)({__segment_struct_type:v.__segment_struct_type});s.T.pick(v,T,_),i(new u.F({trackId:f.id,trackIndex:t.targetTrackIndex,segmentId:t.segmentId,segmentDelta:T,sourceSegmentDelta:_}));let S=e.getSegmentIndexByTrackIdAndSegmentId(f.id,t.segmentId);this._moveHelper.moveOneFinished(m);let A=e.getTrackIndexBySegmentId(m.id,[]),I=(f=e.getAllTracks()[A]).segments,M=null;S>=1&&S-1<I.length&&(M=I[S-1]),this._moveSegmentSaveCache(m,f,h,g,M)}_moveSegmentSaveCache(e,t,i,n,r){e&&(0,l.he)(e)&&e.transition&&this._mapArrayUseOrSet(this._needDealTransitionSegments,t,e),i&&(0,l.he)(i)&&i.transition&&this._mapArrayUseOrSet(this._needDealTransitionSegments,n,i),r&&(0,l.he)(r)&&r.transition&&this._mapArrayUseOrSet(this._needDealTransitionSegments,t,r)}_realHandleSegmentTrackModeMove(e,t,i){for(let n of((0,r.l)({}),(0,r.l)(),t))if(n.trackType===a.pNd.TrackTypeVideo){let t=e.getTrackIndexBySegmentId(n.segmentId)===p.fm,r=n.targetTrackIndex===p.fm;if(!r){let o={segmentId:n.segmentId,targetTrackIndex:n.targetTrackIndex,sourceTrackIndex:n.sourceTrackIndex,targetStartTime:n.targetStartTime};t&&!r?this._executeMoveMainToSubVideoAction(e,o,i):!t&&!r&&this._executeMoveSubToSubVideoAction(e,o,i)}}else{let t={segmentId:n.segmentId,targetTrackIndex:n.targetTrackIndex,sourceTrackIndex:n.sourceTrackIndex,targetStartTime:n.targetStartTime};this._handleCommonSegmentMove(e,t,i)}}_handleCommonSegmentMove(e,t,i){let n=e.getSegmentNodeById(t.segmentId,[]);if(!n)return;let r=n.trackNode.track,{segment:o}=n;if(!o)return;let c=p.c8.alignTimerange(e,t.targetStartTime,o.targetTimerange.duration);i(new d.B({segmentIds:[t.segmentId],srcTrackIndex:n.trackNode.trackIndex,desTrackIndex:t.targetTrackIndex,srcTrackId:e.getTrackByIndex(n.trackNode.trackIndex).id,desTrackId:e.getTrackByIndex(t.targetTrackIndex).id,srcTargetTimeRanges:[o.targetTimerange],desTargetTimeRanges:[new a.tnv({start:c[0],duration:c[1]})]}));let m=e.getAllTracks()[t.targetTrackIndex],f=new a.NOn({trackAttribute:m.attribute}),h=(0,l.xX)({__segment_struct_type:o.__segment_struct_type});s.T.pick(o,f,h),i(new u.F({trackId:m.id,trackIndex:t.targetTrackIndex,segmentId:t.segmentId,segmentDelta:f,sourceSegmentDelta:h})),this._moveHelper.moveOneFinished(o),0===r.segments.length&&this._needRemoveTracks.push(r)}constructor(e){this._moveHelper=new n.h,this._needRemoveTracks=[],this._needDealTransitionSegments=new Map,this._aboveMainTrackHandlePart=new g,this._belowMainTrackHandlePart=new g,this._setUsingVideos=(e,t,i,n,r)=>{for(let a of e){var o;let e=-1,{segments:s}=t;for(let t=0;t<s.length;t++)if(s[t].id===a.segmentId){e=t,i.set(a.segmentId,e);break}if(-1===e)throw Error("Can't find the segment");let d=a.mainVideoTargetIndex;if(r&&e===d){i.delete(a.segmentId);continue}let u=null===(o=t.segments)||void 0===o?void 0:o[e];if(!u||!(0,l.he)(u)){i.delete(a.segmentId);continue}n.set(a.segmentId,u)}},this.options=e}}},842079:function(e,t,i){"use strict";i.d(t,{I:function(){return s}});var n=i(211561),r=i(280700),o=i(176791),a=i(217201);function s(e,t,i,s){let{segmentId:l,clipTime:d,clipType:u}=t,{segmentIndex:c,trackIndex:p}=(0,r.Cm)(e.getAllTracks(),l),m=e.getAllTracks()[p],f=m.segments[c],h=new n.tnv({...f.targetTimerange});a.c8.updateSegmentTimeRange(e,l,d,u,[],!1,!1,i);let g=e.isSubVideoTrack(m);new o.wK().updateVideoSpecialByTimeRange(e,f,u,h,!1,i,s),!g&&a.c8.modifyRenderIndexSubToSub(e,[f],!1,i)}},255781:function(e,t,i){"use strict";i.d(t,{k8:function(){return m}});var n=i(602777);i(211561),i(129862),i(912224),i(93735),i(843363),i(247817),i(356787),i(481631);let r="#FFE64444",o="#FFE69444",a="#FFF2F224",s="#FF45E644",l="#FF45E6E6",d="#FF4595E6",u="#FF9545E6",c="#FFE644E6";class p{constructor(e,t){this.colorArgb=e,this.colorType=t}}class m{static create(){return new m}getHslAdjustColors(e){return e=[new p(r,n.SX.HslColorRed),new p(o,n.SX.HslColorOrange),new p(a,n.SX.HslColorYellow),new p(s,n.SX.HslColorGreen),new p(l,n.SX.HslColorCyan),new p(d,n.SX.HslColorBlue),new p(u,n.SX.HslColorPurple),new p(c,n.SX.HslColorPurpleRed)]}getColorByType(e){let t="";switch(e){case n.SX.HslColorRed:t=r;break;case n.SX.HslColorOrange:t=o;break;case n.SX.HslColorYellow:t=a;break;case n.SX.HslColorGreen:t=s;break;case n.SX.HslColorBlue:t=d;break;case n.SX.HslColorCyan:t=l;break;case n.SX.HslColorPurple:t=u;break;case n.SX.HslColorPurpleRed:t=c}return t}getColor(e){let t=this.getColorByType(e);if(0===t.length)return;t.replace("#","0x");let i=Number(t);return[(0xff000000&i)>>24,(0xff0000&i)>>16,(65280&i)>>8,255&i]}getVersion(){return String(1)}}},740495:function(e,t,i){"use strict";i.d(t,{$:function(){return r}});var n=i(127926);function r(e,t){if(e.commonKeyframes&&e.commonKeyframes.length>0){let i=e.clone();for(let e of t)n.OL.takeKeyframes(i,e);return i.commonKeyframes}}},779510:function(e,t,i){"use strict";i.d(t,{_:function(){return r}});var n=i(211561);function r(e){return({[n.Eu.KFTypeMaskPostion]:{centerX:1,centerY:1},[n.Eu.KFTypeMaskSize]:{width:1,height:1},[n.Eu.KFTypeStretch]:{effects_adjust_intensity:1,upper:1,bottom:1},[n.Eu.KFTypeSlim]:{effects_adjust_intensity:1,x:1,y:1,width:1,height:1,rotation:1},[n.Eu.KFTypeZoom]:{effects_adjust_intensity:1,x:1,y:1,r:1},[n.Eu.KFTypeObjectLocked]:{position:3,scale:3,rotation:3}})[e]}},131137:function(e,t,i){"use strict";i.d(t,{S:function(){return r}});var n=i(211561);let r={setSegmentProperty(e,t,i){if(t===n.Eu.KFTypeFilter&&i.length>=1){let e=new n.M_b;return e.material=new n.W9x,e.material.value=i[0],e}},getSegmentProperty(e,t){let i=[];if(t===n.Eu.KFTypeFilter){var r;i.push(null!==(r=e.material.value)&&void 0!==r?r:0)}return i}}},354696:function(e,t,i){"use strict";i.d(t,{K:function(){return d}});var n=i(211561),r=i(527730),o=i(155235),a=i(340294),s=i(660533),l=i(351603);let d={setSegmentProperty(e,t,i){let n=r.s.setBaseProperty(e,t,i);if(n)return n;let o=this.setCommonProperty(e,t,i[0]);if(i.length>=1&&o)return o;let a=this.setPropertyColor(e,t,i);if(a)return a;let s=this.setBloomProperty(e,t,i);if(s)return s},setCommonProperty(e,t,i){let r=new n.xKN;if(r.material=new n.edz,t===n.Eu.KFTypeTextAlpha)r.material.textAlpha=i;else if(t===n.Eu.KFTypeBorderWidth)r.material.borderWidth=i;else if(t===n.Eu.KFTypeBackgroundAlpha)r.material.backgroundAlpha=i;else if(t===n.Eu.KFTypeShadowAlpha)r.material.shadowAlpha=i;else if(t===n.Eu.KFTypeShadowAngle)r.material.shadowAngle=i;else if(t===n.Eu.KFTypeShadowSmoothing)r.material.shadowSmoothing=i;else if(t===n.Eu.KFTypeShadowDistance)r.material.shadowDistance=i;else if(t===n.Eu.KFTypeGlobalAlpha)r.material.globalAlpha=i;else{if(t!==n.Eu.KFTypeBorderAlpha)return;let s=e.material.borderColor,l=(0,o.P)(s);l[3]=i,r.material.borderColor=(0,a.jg)(l)}return r},getCommonProperty(e,t){if(t===n.Eu.KFTypeTextAlpha)return e.material.textAlpha;if(t===n.Eu.KFTypeBorderWidth)return e.material.borderWidth;if(t===n.Eu.KFTypeBorderAlpha){let t=e.material.borderColor,i=0;return t.length>0&&(i=t.length<=7?1:(0,a.ci)(t)/255),i}else if(t===n.Eu.KFTypeBackgroundAlpha)return e.material.backgroundColor.length>0?e.material.backgroundAlpha:0;else if(t===n.Eu.KFTypeShadowAlpha)return e.material.hasShadow?e.material.shadowAlpha:.9;else if(t===n.Eu.KFTypeShadowAngle)return e.material.shadowAngle;else if(t===n.Eu.KFTypeShadowDistance)return(0,l.EW)(e.material.shadowPoint)[0];else if(t===n.Eu.KFTypeShadowSmoothing)return e.material.shadowSmoothing;else if(t===n.Eu.KFTypeGlobalAlpha)return e.material.globalAlpha},setPropertyColor(e,t,i){let r=new n.xKN;if(r.material=new n.edz,t===n.Eu.KFTypeTextColor)r.material.textColor=(0,a.jg)(i);else if(t===n.Eu.KFTypeBackgroundColor)r.material.backgroundColor=(0,a.jg)(i);else if(t===n.Eu.KFTypeBorderColor)r.material.borderColor=(0,a.jg)(i);else{if(t!==n.Eu.KFTypeShadowColor)return;r.material.shadowColor=(0,a.jg)(i)}return r},getPropertyColor(e,t){if(t===n.Eu.KFTypeTextColor)return e.material.textColor;if(t===n.Eu.KFTypeBackgroundColor)return e.material.backgroundColor;if(t===n.Eu.KFTypeBorderColor)return e.material.borderColor;else if(t===n.Eu.KFTypeShadowColor)return e.material.shadowColor},setBloomProperty(e,t,i){if(!e.bloom)return;let{bloomParams:r}=e.bloom,o=new n.xKN;if(o.bloom=new n.W9x,o.bloom.bloomParams=new n.SvS,t===n.Eu.KFTypeBloomColor){let e=(0,a.jg)(i);r&&(o.bloom.bloomParams.color=e)}else if(t===n.Eu.KFTypeBloomAlpha){if(r){let{color:e}=r;e=(0,a.EO)(e,i[0]),o.bloom.bloomParams.color=e}}else if(t===n.Eu.KFTypeBloomStrength)r&&(o.bloom.bloomParams.strength=i[0]);else if(t===n.Eu.KFTypeBloomRange)r&&(o.bloom.bloomParams.range=i[0]);else if(t===n.Eu.KFTypeBloomDirX)r&&(o.bloom.bloomParams.dirX=i[0]);else{if(t!==n.Eu.KFTypeBloomDirY)return;r&&(o.bloom.bloomParams.dirY=i[0])}return o},getBloomProperty(e,t){var i,r,o,a,l;let d=null===(i=e.bloom)||void 0===i?void 0:i.bloomParams;if(t===n.Eu.KFTypeBloomColor){let e=d?d.color:"#FFFFFFFF";return(0,s.n)(e,0)}if(t===n.Eu.KFTypeBloomAlpha){if(!d)return[1];{let{color:e}=d,t=(0,s.n)(e,0);return t.length>=4?[t[3]]:[1]}}if(t===n.Eu.KFTypeBloomStrength)return[null!==(r=null==d?void 0:d.strength)&&void 0!==r?r:0];else if(t===n.Eu.KFTypeBloomRange)return[null!==(o=null==d?void 0:d.range)&&void 0!==o?o:1];else if(t===n.Eu.KFTypeBloomDirX)return[null!==(a=null==d?void 0:d.dirX)&&void 0!==a?a:0];else if(t===n.Eu.KFTypeBloomDirY)return[null!==(l=null==d?void 0:d.dirY)&&void 0!==l?l:0];return[]},getSegmentProperty(e,t){let i=[];if((i=r.s.getBaseProperty(e,t)).length>0)return i;let n=this.getCommonProperty(e,t);if(void 0!==n)return i.push(n),i;let o=this.getPropertyColor(e,t);return void 0!==o?i=(0,s.n)(o,1,1):((i=this.getBloomProperty(e,t)).length,i)}}},189304:function(e,t,i){"use strict";i.d(t,{A:function(){return o}});var n=i(35276),r=i(127926);class o{getCurrentKeyframeId(e,t,i){var o,a;let s=this._videoDocument.getSegmentById(e);if(!s)return"";let l=new n.b().getKeyframeTimeOffsetByTimeline(this._videoDocument,s,i),d=r.OL.findKeyframes(s,t);return d?null!==(a=null===(o=r.OL.findKeyframeByTimeOffset(d,l).keyframe)||void 0===o?void 0:o.id)&&void 0!==a?a:"":""}getKeyframeTimeOffsetByPlayHead(e,t){let i=this._videoDocument.getSegmentById(e);return i?new n.b().getKeyframeTimeOffsetByTimeline(this._videoDocument,i,t):-1n}getPlayHeadByKeyframeTimeOffset(e,t){let i=this._videoDocument.getSegmentById(e);return i?new n.b().getTimelineByKeyframeTimeOffset(this._videoDocument,i,t):-1n}constructor(e){this._videoDocument=e}}},342040:function(e,t,i){"use strict";i.d(t,{k:function(){return r}});var n=i(188310);class r{static getInstance(){return!r.instance&&(r.instance=new r),r.instance}clearAll(){this.pathRecords.clear(),this.decryptRecords.clear(),this.streamRecords.clear()}setRecords(e){if(Array.isArray(e)){e.forEach(e=>this.setRecords(e));return}let{decryptKey:t,resPath:i,segmentPath:n,stream:r}=e;this.pathRecords.set(n,i),t&&this.decryptRecords.set(i,t),r&&this.streamRecords.set(i,r)}getRecordBySegmentPath(e){let t=this.pathRecords.safeGet(e);if(!t)return;let i=this.streamRecords.safeGet(t);return{decryptKey:this.decryptRecords.safeGet(t),resPath:t,segmentPath:e,stream:i}}setIncrThumbDensity(e){this._incrThumbDensitySwitch=e}get incrThumbDensity(){return this._incrThumbDensitySwitch}constructor(){this.pathRecords=new n.D("pathRecords",{defaultGetValue:""}),this.decryptRecords=new n.D("decryptRecords",{defaultGetValue:""}),this.streamRecords=new n.D("streamRecords"),this._incrThumbDensitySwitch=!1}}},843363:function(e,t,i){"use strict";i.d(t,{A:function(){return o},i:function(){return r}});var n=i(211561);let r=(e,t)=>{let i=new n.tnv;return i.start=e,i.duration=t,i},o=(e,t,i)=>{let n=i.targetTimerange.start;return!(e>i.targetTimerange.start+i.targetTimerange.duration||e+t<n)}},487108:function(e,t,i){"use strict";i.d(t,{CA:function(){return w},DZ:function(){return x},J_:function(){return M},O3:function(){return S},P_:function(){return I},Sw:function(){return A},Z0:function(){return m},ao:function(){return k},fv:function(){return C},mL:function(){return T},nx:function(){return f},rs:function(){return _},sm:function(){return F}});var n=i(223729),r=i(90844),o=i(21816),a=i(581592),s=i(211561);i(454588);var l=i(351603),d=i(155235),u=i(879566),c=i(340294);let p=(e,t,i)=>{let n=RegExp(t,"g");return e.replace(n,i)},m=e=>p(e,"\\\\","/"),f=(e,t)=>{let i=new n.B;return e===o.p.TextEffect?(i.iOpCode=r.wI.CT_EDIT_EFFECT_STYLE,i.iParam5=`{"id": "${t.resId}","path": "${m(t.path)}"}`):e===o.p.TextShape&&(i.iOpCode=r.wI.CT_EDIT_TEXT_PARAM,i.iParam5=`{"shapePath": "${m(t.path)}"}`),i},h=e=>{let t=new r.kT;return e?(t.iOpCode=e.iOpCode,t.iParam1=Number(e.iParam1),t.iParam2=Number(e.iParam2),t.iParam3=Number(e.iParam3),t.iParam4=Number(e.iParam4),t.pParam5=e.iParam5,t):t},g=e=>a.f.Instance().getEditor(e),y=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];let i=g(e);if(null===i)return new r.kT;let n={iOpCode:r.wI.CT_GET_RICH_STR,iParam1:0,iParam2:0,iParam3:0,iParam4:1,pParam5:'{"getJson":true}'};return i.convertRichText(e,t,n)},T=async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return[!1,""];let n=await y(e,h(t),i);return -1===n.iOpCode?[!1,""]:[!0,n.pParam5]},v=e=>{let t=r.wI.CT_NONE;switch(e){case s.XHM.ModifyRichTextStyleToAll:case s.XHM.ModifyContent:t=r.wI.CT_EDIT_TEMPLATE_TEXT_STYLE;break;case s.XHM.ModifyTextColor:t=r.wI.CT_EDIT_COLOR;break;case s.XHM.ModifyTextAlpha:t=r.wI.CT_EDIT_ALPHA;break;case s.XHM.ModifyTextBorderColor:t=r.wI.CT_EDIT_OUTLINE_COLOR;break;case s.XHM.ModifyTextBorderWidth:t=r.wI.CT_EDIT_OUTLINE_WIDTH;break;case s.XHM.ModifyHasShadow:t=r.wI.CT_EDIT_SHADOW;break;case s.XHM.ModifyShadowColor:t=r.wI.CT_EDIT_SHADOW_COLOR;break;case s.XHM.ModifyShadowAlpha:t=r.wI.CT_EDIT_SHADOW_ALPHA;break;case s.XHM.ModifyShadowAngle:case s.XHM.ModifyShadowDistance:t=r.wI.CT_EDIT_SHADOW_OFFSET;break;case s.XHM.ModifyShadowSmoothing:t=r.wI.CT_EDIT_SHADOW_SMOOTH;break;case s.XHM.ModifyFontPath:case s.XHM.ModifyFontId:case s.XHM.ModifyFontResId:t=r.wI.CT_EDIT_FONT;break;case s.XHM.ModifyFontSize:t=r.wI.CT_EDIT_SIZE;break;case s.XHM.ModifyBoldWidth:t=r.wI.CT_EDIT_BOLD;break;case s.XHM.ModifyItalicDegree:t=r.wI.CT_EDIT_ITALIC;break;case s.XHM.ModifyUnderline:case s.XHM.ModifyUnderlineOffset:t=r.wI.CT_EDIT_UNDERLINE;break;case s.XHM.ModifyTextBgColor:case s.XHM.ModifyTextBgAlpha:case s.XHM.ModifyAlignment:case s.XHM.ModifyTypesetting:case s.XHM.ModifyLetterSpacing:case s.XHM.ModifyLineSpacing:case s.XHM.ModifyGlobalAlpha:case s.XHM.ModifyTextBgRoundRadiusScale:case s.XHM.ModifyTextBgWidthAndHeight:case s.XHM.ModifyTextBgVerticalAndHorizontalOffset:case s.XHM.ModifyTextBackgroundStyle:case s.XHM.ModifyFixedWidth:case s.XHM.ModifyFixedHeight:t=r.wI.CT_EDIT_TEXT_PARAM;break;default:t=r.wI.CT_NONE}return t},_=(e,t,i)=>{let r=v(e),o=new n.B;return o.iOpCode=r,e===s.XHM.ModifyRichTextStyleToAll&&(o.iParam5=JSON.stringify({text:i,templateStyle:t})),o},S=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=v(e),o=new n.B;if(o.iOpCode=r,e===s.XHM.ModifyContent){let e={};return o.iParam1=1,e.text=t.content,!t.content&&(e.text="\b"),e.templateStyle=i,o.iParam5=JSON.stringify(e),o}if(e===s.XHM.ModifyTextColor){let e=(0,d.P)(t.textColor);return[o.iParam1,o.iParam2,o.iParam3]=e,!t.useEffectDefaultColor&&(o.iParam5=JSON.stringify({useEffectDefaultColor:!1})),o}if(e===s.XHM.ModifyTextAlpha)return o.iParam1=t.textAlpha,!t.useEffectDefaultColor&&(o.iParam5=JSON.stringify({useEffectDefaultColor:!1})),o;if(e===s.XHM.ModifyTextBgColor||e===s.XHM.ModifyTextBgAlpha){let i=(0,d.P)(t.bgColor);return(!t.bgColor&&e===s.XHM.ModifyTextBgColor||e===s.XHM.ModifyTextBgAlpha)&&(i[3]=t.bgAlpha),o.iParam5=JSON.stringify({canvas:!0,canvasColor:i}),o}if(e===s.XHM.ModifyTextBackgroundStyle){let e={canvas:t.bgStyle!==s.M4l.TextBackgroundStyleNone,canvasWrapped:t.bgStyle===s.M4l.TextBackgroundStyleWrap};return o.iParam5=JSON.stringify(e),o}if(e===s.XHM.ModifyTextBgRoundRadiusScale){let e={canvasRoundCorner:t.bgRoundRadiusScale>0,canvasRoundRadiusScale:t.bgRoundRadiusScale};return o.iParam5=JSON.stringify(e),o}if(e===s.XHM.ModifyTextBgWidthAndHeight){let e={canvasCustomized:!0,canvasWHCustomized:[t.bgWidth,t.bgHeight]};return o.iParam5=JSON.stringify(e),o}if(e===s.XHM.ModifyTextBorderColor){let e=(0,d.P)(t.borderColor);return[o.iParam1,o.iParam2,o.iParam3]=e,o}if(e===s.XHM.ModifyTextBorderWidth)return o.iParam1=t.borderWidth,o;if(e===s.XHM.ModifyHasShadow){o.iParam1=1;let e={},i=(0,d.P)(t.shadowColor);t.hasShadow?e.shadowAlpha=t.shadowAlpha:e.shadowAlpha=0,e.shadowColor=i,e.shadowSmoothing=t.shadowSmoothing/18;let n=(0,l.IN)(t.shadowDistance,t.shadowAngle);return e.shadowOffset=[n.x/18,n.y/18],e.shadowAngle=t.shadowAngle,o.iParam5=JSON.stringify(e),o}if(e===s.XHM.ModifyShadowColor){let e=(0,d.P)(t.shadowColor);return[o.iParam1,o.iParam2,o.iParam3]=e,o}if(e===s.XHM.ModifyShadowAlpha)return o.iParam1=t.shadowAlpha,o;if(e===s.XHM.ModifyShadowAngle||e===s.XHM.ModifyShadowDistance){let e=(0,l.IN)(t.shadowDistance,t.shadowAngle);return o.iParam1=e.x/18,o.iParam2=e.y/18,o.iParam3=t.shadowAngle,o}if(e===s.XHM.ModifyShadowSmoothing)return o.iParam1=t.shadowSmoothing/18,o.iParam2=t.shadowSmoothingUseDiffuse?1:0,o;if(e===s.XHM.ModifyFontPath||e===s.XHM.ModifyFontId||e===s.XHM.ModifyFontResId)return o.iParam5=`{"id": "${0===t.fontResId.length?t.fontId:t.fontResId}", "path": "${t.fontPath}"}`,o;if(e===s.XHM.ModifyFontSize)return o.iParam1=t.fontSize,o;if(e===s.XHM.ModifyBoldWidth)return o.iParam1=t.boldWidth>0?1:0,o;if(e===s.XHM.ModifyItalicDegree)return o.iParam1=t.italicDegree>0?1:0,o;if(e===s.XHM.ModifyUnderline||e===s.XHM.ModifyUnderlineOffset)return o.iParam1=t.hasUnderline?1:0,o;if(e===s.XHM.ModifyTypesetting||e===s.XHM.ModifyAlignment){let e={typeSettingKind:t.typesetting,typeSettingAlign:t.alignment};return o.iParam5=JSON.stringify(e),o}if(e===s.XHM.ModifyLetterSpacing){let e={letterSpacing:t.letterSpacing};return o.iParam5=JSON.stringify(e),o}if(e===s.XHM.ModifyLineSpacing){let e={lineSpacing:t.lineSpacing};return o.iParam5=JSON.stringify(e),o}if(e===s.XHM.ModifyGlobalAlpha){let e={globalAlpha:t.globalAlpha};return o.iParam5=JSON.stringify(e),o}if(e===s.XHM.ModifyFixedWidth){let e={canvasWHFixed:[t.fixedWidth,-1]};return o.iParam5=JSON.stringify(e),o}if(e===s.XHM.ModifyFixedHeight){let e={canvasWHFixed:[-1,t.fixedHeight]};o.iParam5=JSON.stringify(e)}return o},A=e=>{let t=new n.B;t.iOpCode=r.wI.CT_COMMAND_BATCH_PROCESS;let i=e.map(e=>({cmdCode:e.iOpCode,iParams:[e.iParam1,e.iParam2,e.iParam3,e.iParam4],sParams:e.iParam5}));return t.iParam5=JSON.stringify({commands:i}),t},I=e=>{let t=new n.B;t.iOpCode=r.wI.CT_EDIT_KEY_WORD_INFO;let i=e.range.map(e=>{let{location:t,length:i}=e;return[t,t+i]}).flat();return t.iParam5=JSON.stringify({keyword_ranges:i}),t},M=()=>{let e=new n.B;return e.iOpCode=r.wI.CT_EDIT_TEXT_PARAM,e.iParam1=1,e},x=(e,t)=>{var i;let n=new c.uT;return n.text=e.content,n.bold=e.boldWidth>0,n.italic=e.italicDegree>0,n.underline=e.hasUnderline,n.useEffectDefaultColor=e.useEffectDefaultColor,n.fontSize=e.fontSize,n.textColor=e.textColor,n.textAlpha=e.textAlpha,n.fontId=e.fontResId?e.fontResId:e.fontId,n.fontPath=m(e.fontPath),n.hasBorder=!!e.borderColor,n.borderColor=e.borderColor,n.borderWidth=e.borderWidth,n.borderAlpha=e.borderAlpha,n.hasShadow=!!e.shadowColor,n.shadowColor=e.shadowColor,n.shadowAlpha=e.shadowAlpha,n.shadowSmooth=e.shadowSmoothing/18,n.shadowSmoothUseDiffuse=null===(i=e.shadowSmoothingUseDiffuse)||void 0===i||i,n.shadowDistance=e.shadowDistance,n.shadowAngle=e.shadowAngle,n.effectId=t.resId,n.effectPath=m(t.path),u.hM.richTextFromTextParams([n])},F=(e,t)=>{let i=(0,d.P)(t);return`<color=(${i[0].toFixed(2)}, ${i[1].toFixed(2)}, ${i[2].toFixed(2)}, ${i[3].toFixed(2)})>${e}</color>`},k=(e,t,i)=>{if(""===t)return`<outline enable=false>${e}</outline>`;{let n=(0,d.P)(t);return`<outline color=(${n[0].toFixed(2)}, ${n[1].toFixed(2)}, ${n[2].toFixed(2)}, ${n[3].toFixed(2)}) width=${i.toFixed(2)}>${e}</outline>`}},C=(e,t,i,n,r,o)=>{if(""===t)return`<shadow enable=false>${e}</shadow>`;let a=(0,d.P)(t);return a[3]=i,`<shadow color=(${a[0].toFixed(2)}, ${a[1].toFixed(2)}, ${a[2].toFixed(2)}, ${a[3].toFixed(2)}) offset=(${(n/18).toFixed(2)}, ${(r/18).toFixed(2)}) smooth=${(o/18).toFixed(2)}>${e}</shadow>`},w=()=>{let e=new n.B;return e.iOpCode=r.wI.CT_EDIT_TEXT_PARAM,e.iParam1=0,e.iParam2=1,e}},879566:function(e,t,i){"use strict";i.d(t,{eF:function(){return f},hM:function(){return c},wQ:function(){return m}});var n=i(339636),r=i(666652),o=i(340294),a=i(701897),s=i(487108),l=i(312473),d=i(256077),u=i(940105);class c{static getInstance(){return!this.mParser&&(this.mParser=new n.e),this.mParser}static get VEUtils(){return c._VEUtils?c._VEUtils:(c._VEUtils=l.p.CreateVEUtils(),c._VEUtils)}static getAllFontAndEffectIdsFromText(e){let t=[],i=[],n=new Set,r=new Set,a=(0,o.zG)(e),s=a.get(d.J.Font);if(s){for(let e of s)if((0,o.Uk)(e.value)){let i=e.value.id;if("string"==typeof i&&i.length>0&&!n.has(i)){let r={id:i,path:e.value.path,params:""};t.push(r),n.add(i)}}}let l=a.get(d.J.EffectStyle);if(l){for(let e of l)if((0,o.Uk)(e.value)){let t=e.value.id;if("string"==typeof t&&t.length>0&&!r.has(t)){let n={id:t,path:e.value.path,params:""};i.push(n),r.add(t)}}}return{fontIdPathsOut:t,effectIdPathsOut:i}}static getOriginContentFromContent(e){return e?this.isXMLStyleRichText(e)?this._getPlainContentFromXMLRichText(e):this.isJSONStyleRichText(e)?this._getPlainContentFromJSONRichText(e):e:""}static isJSONStyleRichText(e){return e.startsWith("{")&&e.endsWith("}")}static isXMLStyleRichText(e){return e.startsWith("<")&&e.endsWith(">")}static _getPlainContentFromJSONRichText(e){if(!e)return"";try{return JSON.parse(e).text}catch{return e}}static _getPlainContentFromXMLRichText(e){return u.Q.xmlToJson(e).text}static getFontIdsFromText(e){let t=(0,o.dT)(e,d.J.Font),i=new Set;for(let e of t){let t=e.value;if(t&&"object"==typeof t){let e=t.id;i.add(e)}else i.add("")}return i}static getFontResources(e,t){let i={location:t.begin,length:t.end-t.begin},n={fonts:[]};for(let t of(0,o.dT)(e,d.J.Font,i)){let e=t.value,i={id:"",path:"",params:""};(0,o.Uk)(i)&&(i.id=e.id,i.path=e.path,i.params=e.params),n.fonts.push(i)}return n.fonts}static getFontSizesFromRichText(e,t){let i={location:t.begin,length:t.end-t.begin},n={values:[]};for(let t of(0,o.dT)(e,d.J.Size,i))if("number"==typeof t.value){let e=t.value;n.values.push(e)}else n.values.push(0);return n.values}static getShadowEnable(e,t){let i={location:t.begin,length:t.end-t.begin},n=[];for(let t of(0,o.dT)(e,d.J.Shadow,i))n.push((0,o.Uk)(t.value));return n}static getColorRGBStyles(e,t,i){let n={location:t.begin,length:t.end-t.begin};if(i===r.J.TEXT_COLOR){let t={colors:[]};for(let i of(0,o.dT)(e,d.J.FillColor,n))if("string"==typeof i.value){let e=(0,a.PS)(i.value),n=(Math.round(255*e[0])<<16)+(Math.round(255*e[1])<<8)+Math.round(255*e[2]);t.colors.push(n)}return t}if(i===r.J.STOKE_COLOR){let t={colors:[]};for(let i of(0,o.dT)(e,d.J.Outline,n)){let e=i.value;if((0,o.Uk)(e)&&e.color){let i=e.color,n=(0,a.PS)(i),r=(Math.round(255*n[0])<<16)+(Math.round(255*n[1])<<8)+Math.round(255*n[2]);t.colors.push(r)}}return(0,o.kd)(t.colors),t}if(i===r.J.SHADOW_COLOR){let t={colors:[]};for(let i of(0,o.dT)(e,d.J.Shadow,n)){let e=i.value;if((0,o.Uk)(e)&&e.color){let i=e.color,n=(0,a.PS)(i),r=(Math.round(255*n[0])<<16)+(Math.round(255*n[1])<<8)+Math.round(255*n[2]);t.colors.push(r)}}return(0,o.kd)(t.colors),t}return{colors:[]}}static getColorAlphaStyles(e,t,i){let n={location:t.begin,length:t.end-t.begin},a={alphas:[],originAlphas:[]},s=[];for(let t of(i===r.J.TEXT_COLOR?s=(0,o.dT)(e,d.J.FillAlpha,n):i===r.J.STOKE_COLOR?s=(0,o.dT)(e,d.J.Outline,n):i===r.J.SHADOW_COLOR&&(s=(0,o.dT)(e,d.J.Shadow,n)),s))if(t.value&&"number"==typeof t.value){let e=t.value;a.alphas.push(255*e),a.originAlphas.push(e)}else a.alphas.push(255),a.originAlphas.push(1);return(0,o.kd)(a.alphas),(0,o.kd)(a.originAlphas),a}static getOutlineEnable(e,t){let i={location:t.begin,length:t.end-t.begin},n=[];for(let t of(0,o.dT)(e,d.J.Outline,i)){let e=(0,o.Uk)(t.value);n.push(e)}return n}static getMixedStyles(e,t){var i,n,a,s;let l=new r.y;if(!e)return l;let u=(0,o.zG)(e,{location:t.begin,length:t.end-t.begin}),c=u.get(d.J.Font);l.fonts=c&&c.length>0?(0,o.Tw)(c.map(e=>{var t,i;return null!==(i=null===(t=e.value)||void 0===t?void 0:t.id)&&void 0!==i?i:""})):[];let p=u.get(d.J.Size);l.fontSizes=p&&p.length>0?(0,o.Tw)(p.map(e=>e.value)):[];let m=u.get(d.J.Bold);l.boldStyles=m&&m.length>0?(0,o.Tw)(m.map(e=>{var t;return null!==(t=e.value)&&void 0!==t&&t})):[!1];let f=u.get(d.J.Italic);l.italicStyles=f&&f.length>0?(0,o.Tw)(f.map(e=>{var t;return null!==(t=e.value)&&void 0!==t&&t})):[!1];let h=u.get(d.J.Underline);l.underlineStyles=h&&h.length>0?(0,o.Tw)(h.map(e=>{var t;return null!==(t=e.value)&&void 0!==t&&t})):[!1];let g=u.get(d.J.FillColor);l.textColors=g&&g.length>0?(0,o.Tw)(g.map(e=>e.value)):[];let y=null!==(a=null===(i=u.get(d.J.Outline))||void 0===i?void 0:i.map(e=>e.value))&&void 0!==a?a:[];y.length>0?(l.outlineEnabled=!0,l.outlineColors=(0,o.Tw)(y.map(e=>e.color)),l.outlineWidths=(0,o.Tw)(y.map(e=>e.width))):l.outlineWidths=[o.sy.width];let T=null!==(s=null===(n=u.get(d.J.Shadow))||void 0===n?void 0:n.map(e=>e.value))&&void 0!==s?s:[];return T.length>0?(l.shadowEnabled=!0,l.shadowColors=(0,o.Tw)(T.map(e=>e.color)),l.shadowAlphas=(0,o.Tw)(T.map(e=>e.alpha)),l.shadowDistances=(0,o.Tw)(T.map(e=>e.distance/100)),l.shadowSmooths=(0,o.Tw)(T.map(e=>e.smooth)),l.shadowAngles=(0,o.Tw)(T.map(e=>e.angle))):(l.shadowAlphas=[o.Hj.alpha],l.shadowDistances=[o.Hj.distance/100],l.shadowSmooths=[o.Hj.alpha],l.shadowAngles=[o.Hj.angle]),l}static isRichText(e){if(!e||!(0,o.y9)(e))return!1;let t=(0,o.$F)(e);return(0,o.Uk)(t)&&Array.isArray(t.styles)&&t.styles.length>1}static richTextFromTextParams(e){if(0===e.length)return"";let t="",i=[],n=0;for(let r of e){if(!r.text)continue;t+=r.text;let e={};if(r.bold&&(e.bold=!0),r.italic&&(e.italic=!0),r.underline&&(e.underline=!0),!r.useEffectDefaultColor&&(e.useLetterColor=!0),e.size=r.fontSize,r.textColor){let t={};t.alpha=r.textAlpha,t.content=(0,o.oM)(r.textColor),e.fill=t}let a={};if(a.id=r.fontId,a.path=(0,s.Z0)(r.fontPath),e.font=a,r.effectId){let t={};t.id=r.effectId,t.path=(0,s.Z0)(r.effectPath),e.effectStyle=t}if(r.hasBorder){let t=[],i={};i.width=r.borderWidth,i.alpha=r.borderAlpha,i.content=(0,o.oM)(r.borderColor),t.push(i),e.strokes=t}if(r.hasShadow){let t=[],i={};i.alpha=r.shadowAlpha,i.content=(0,o.oM)(r.shadowColor),i.angle=r.shadowAngle,r.shadowSmoothUseDiffuse?i.diffuse=r.shadowSmooth:i.feather=r.shadowSmooth,i.distance=r.shadowDistance,t.push(i),e.shadows=t}let l=r.text.length;e.range=[n,n+l],i.push(e),n+=l}return JSON.stringify({text:t,styles:i})}static richTextFromXMLContent(e){return e&&(0,o.BK)(e)?c.VEUtils.convertRichTextXml2Json(e).text:(0,o.tA)().text}static getPlainContent(e){if(!e)return"";let t=e;if((0,o.BK)(t)&&(t=c.richTextFromXMLContent(t)),!(0,o.y9)(t))return e;try{let e=JSON.parse(t);if((0,o.Uk)(e)&&(e={}),e.text)return e.text}catch(e){}return""}static replaceRichTextContent(e,t,i){if(!e)return t;let n=(0,o.$F)(e);n.text=t;let r=n.styles,a=t.length;for(let e=0;e<r.length;e++){let t=r[e],{range:o}=t;if(o[0]>=a){n.styles=r.slice(0,e);break}let s=o[1];(o[1]>a||e===r.length-1)&&(s=a),t.range=[o[0],s],"number"==typeof i&&(t.size=i)}return JSON.stringify(n)}static replaceFontPath(e,t,i){e.styles.forEach(e=>{var n;if((null===(n=e.font)||void 0===n?void 0:n.id)===t.resourceId)i?e.font=void 0:e.font.path=t.path})}static replaceEffectStylePath(e,t){e.styles.forEach(e=>{var i;(null===(i=e.effectStyle)||void 0===i?void 0:i.id)===t.resourceId&&(e.effectStyle.path=t.path)})}static replaceFontSize(e,t){e.styles.forEach(e=>{e.size=t})}static getLetterStyle(e,t){let{styles:i}=(0,o.$F)(e);return i.find(e=>{let{range:i}=e;return t>=i[0]&&t<i[1]})}static buildRichTextFromStyle(e,t){return JSON.stringify({text:t,styles:e?[{...e,range:[0,t.length]}]:[]})}static isUsingOldTextShadowSmooth(e){let t=(0,o.$F)(e);return 0===t.styles.length||t.styles.some(e=>{var t;return null===(t=e.shadows)||void 0===t?void 0:t.some(e=>void 0!==e.feather)})}getRichStyles(e,t,i){if(!e||!(0,o.y9)(e))return[];if(!o.L8.includes(t))return console.warn("g_richTextFullTypes.find(type) == g_richTextFullTypes.end() assert(0);"),[];let n=(0,o.$F)(e);if("object"!=typeof n)return[];let r=n.styles;if(!Array.isArray(r)||0===r.length)return[];let a=r[r.length-1].range[1];if(i.location<0||i.length<0||i.location+i.length>a)return[];i.location<=a&&i.location>=0&&0===i.length&&(i.location=0,i.length=a);let s=[i.location,i.location+i.length],l=[];for(let e of r){let i=e.range,n=i[0],r=i[1];if(r<=s[0])continue;let a=(0,o.vC)(e,t),d=Math.min(r,s[1]);if(l.length&&(0,o.QE)(l[l.length-1].value,a,t)){let e={range:{location:n,length:d-n},value:a};l.push(e)}else{let e=l[l.length-1],t=e.range;e.range={location:t.location,length:d-t.location}}if(r>=s[1])break}return l}static fixPathsInRichText(e,t){return this.isXMLStyleRichText(e)?this.fixPathsInXMLStyleRichText(e,t):this.fixPathsInJSONStyleRichText(e,t)}static fixPathsInXMLStyleRichText(e,t){return e}static fixPathsInJSONStyleRichText(e,t){try{let i=JSON.parse(e);return i.styles.forEach(e=>{e.font&&t[e.font.id]&&(e.font.path=t[e.font.id]),e.effectStyle&&t[e.effectStyle.id]&&(e.effectStyle.path=t[e.effectStyle.id])}),JSON.stringify(i)}catch{return e}}}function p(e){return/\s/.test(e)||RegExp("\\p{P}","u").test(e)&&"'"!==e&&"_"!==e}function m(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=t;if(i)for(;n>=0&&p(e[n]);)n--;for(;n>=0&&!p(e[n]);)n--;return Math.max(n+1,0)}function f(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=t,r=e.length;if(i)for(;n<r&&p(e[n]);)n++;for(;n<r&&!p(e[n]);)n++;return Math.min(n-1,r-1)}c._VEUtils=null},132662:function(e,t,i){"use strict";i.d(t,{Z:function(){return r}});var n=i(544393);class r{constructor(e){this.query=new n.A(e)}}},156975:function(e,t,i){"use strict";i.d(t,{Z:function(){return r},u:function(){return n}});let n=(e,t)=>{if(!e)return t;if(!t)return e;let i=e;return i.lastIndexOf("\\")!==i.length-2&&i.lastIndexOf("/")!==i.length-1&&(i+="/"),0===t.indexOf("\\")&&(t=t.substring(2)),0===t.indexOf("/")&&(t=t.substring(1)),i+=t},r={VideoFigureAlgorithmArtifact:{majorDir:"video",minorDir:"figure_algorithm",makePath(e,t){let i=e;return i=n(i,this.majorDir),i=n(i,this.minorDir),i=n(i,t)},updatePath(e,t){let i=e.split("/");return i[i.length-1]=t,i.join("/")}}}}}]);