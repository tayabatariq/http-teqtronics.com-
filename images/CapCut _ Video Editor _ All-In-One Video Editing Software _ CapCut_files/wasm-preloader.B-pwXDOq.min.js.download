!function(){let e,t;window._WASM_FILE_SIZE_MAP={"vesdk-lvapi-opt":0x1f718fc,libffmpeg_simd:2843686,"vesdk-lvapi":0x20b9df8,libffmpeg:2811465};var r,l,n="undefined"!=typeof document?document.currentScript:null;null==(l=null==(r=window.performance)?void 0:r.mark)||l.call(r,"SIDE_CODE_SCRIPT_EXECUTION_START");let c="undefined"!=typeof window,o={version:"1.0.1.344273037",versions:[],url:{simd:{js:c?new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/vesdk-lvapi-opt.CShrwS7t.js").href:new URL("assets/vesdk-lvapi-opt.CShrwS7t.js",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href:"",wasm:c?new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/vesdk-lvapi-opt.Cu8LFJl_.wasm").href:new URL("assets/vesdk-lvapi-opt.Cu8LFJl_.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href:"",worker:c?new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/vesdk-lvapi-opt.worker.BTk7YOh9.mjs").href:new URL("assets/vesdk-lvapi-opt.worker.BTk7YOh9.mjs",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href:"",sideModule:c?new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/libffmpeg_simd.CfK7zy6y.wasm").href:new URL("assets/libffmpeg_simd.CfK7zy6y.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href:"",group:"lvapi"},common:{js:c?new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/vesdk-lvapi.zJtVUDMT.js").href:new URL("assets/vesdk-lvapi.zJtVUDMT.js",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href:"",wasm:c?new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/vesdk-lvapi.CZ2VQCSn.wasm").href:new URL("assets/vesdk-lvapi.CZ2VQCSn.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href:"",worker:c?new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/vesdk-lvapi.worker.F0JDcoRN.mjs").href:new URL("assets/vesdk-lvapi.worker.F0JDcoRN.mjs",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href:"",sideModule:c?new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/libffmpeg.9nbYe6Bt.wasm").href:new URL("assets/libffmpeg.9nbYe6Bt.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href:"",group:"lvapi"}}},a={panel:"integration",resourceId:"6776502040345448973",effectId:"485795",md5:"b07e8afaad96368f7a5056a9dc3ab1f2",url:new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/default_font.BYcsiefx.zip").href:new URL("assets/default_font.BYcsiefx.zip",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href,en:{url:new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/en.ttf.61M3z9sC.zip").href:new URL("assets/en.ttf.61M3z9sC.zip",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href},ja:{url:new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/ja.ttf.DA6la7Hv.zip").href:new URL("assets/ja.ttf.DA6la7Hv.zip",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href},ko:{url:new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/ko.ttf.3CARWhsX.zip").href:new URL("assets/ko.ttf.3CARWhsX.zip",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href},th:{url:new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/th.ttf.BCYsnQhq.zip").href:new URL("assets/th.ttf.BCYsnQhq.zip",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href},"zh-hans":{url:new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/zh-hans.ttf.aJEOvC6W.zip").href:new URL("assets/zh-hans.ttf.aJEOvC6W.zip",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href},"zh-hant":{url:new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/zh-hant.ttf.DaKYqlCp.zip").href:new URL("assets/zh-hant.ttf.DaKYqlCp.zip",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href},minorityLang:{url:new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/minority_languages.BaC2rA9k.zip").href:new URL("assets/minority_languages.BaC2rA9k.zip",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href}};new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/algorithmConfig.B4MzmikZ.json").href:new URL("assets/algorithmConfig.B4MzmikZ.json",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href,new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/NotoColorEmoji-git.CVRaVQeC.ttf").href:new URL("assets/NotoColorEmoji-git.CVRaVQeC.ttf",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href,new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/matting_blend.WY8V0S8Y.zip").href:new URL("assets/matting_blend.WY8V0S8Y.zip",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href,new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/area_locked.AmcSFlru.zip").href:new URL("assets/area_locked.AmcSFlru.zip",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href;let i={url:new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/rnnoise_v2.0.B9sKhX6b.model").href:new URL("assets/rnnoise_v2.0.B9sKhX6b.model",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href,path:"/integration/audio/rnnoise/rnnoise_v2.0.model",dir:"/integration/audio"};new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/audio_metrics_v1.4.CqYbDzPE.model").href:new URL("assets/audio_metrics_v1.4.CqYbDzPE.model",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href,new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/makeup-root.DIq1OOrO.zip").href:new URL("assets/makeup-root.DIq1OOrO.zip",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href,new URL("undefined"==typeof document?require("url").pathToFileURL(__dirname+"/assets/makeup-root.DIq1OOrO.zip").href:new URL("assets/makeup-root.DIq1OOrO.zip",document.currentScript&&document.currentScript.src||document.baseURI).href,"undefined"==typeof document?require("url").pathToFileURL(__filename).href:n&&n.src||new URL("wasm-preloader.B-pwXDOq.min.js",document.baseURI).href).href;var s={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function l(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function c(e,t,l,c,o){if("function"!=typeof l)throw TypeError("The listener must be a function");var a=new n(l,c||e,o),i=r?r+t:t;return e._events[i]?e._events[i].fn?e._events[i]=[e._events[i],a]:e._events[i].push(a):(e._events[i]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new l:delete e._events[t]}function a(){this._events=new l,this._eventsCount=0}Object.create&&(l.prototype=Object.create(null),(new l).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,l,n=[];if(0===this._eventsCount)return n;for(l in e=this._events)t.call(e,l)&&n.push(r?l.slice(1):l);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=r?r+e:e,l=this._events[t];if(!l)return[];if(l.fn)return[l.fn];for(var n=0,c=l.length,o=Array(c);n<c;n++)o[n]=l[n].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,l=this._events[t];return l?l.fn?1:l.length:0},a.prototype.emit=function(e,t,l,n,c,o){var a=r?r+e:e;if(!this._events[a])return!1;var i,s,d=this._events[a],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,l),!0;case 4:return d.fn.call(d.context,t,l,n),!0;case 5:return d.fn.call(d.context,t,l,n,c),!0;case 6:return d.fn.call(d.context,t,l,n,c,o),!0}for(s=1,i=Array(u-1);s<u;s++)i[s-1]=arguments[s];d.fn.apply(d.context,i)}else{var m,p=d.length;for(s=0;s<p;s++)switch(d[s].once&&this.removeListener(e,d[s].fn,void 0,!0),u){case 1:d[s].fn.call(d[s].context);break;case 2:d[s].fn.call(d[s].context,t);break;case 3:d[s].fn.call(d[s].context,t,l);break;case 4:d[s].fn.call(d[s].context,t,l,n);break;default:if(!i)for(m=1,i=Array(u-1);m<u;m++)i[m-1]=arguments[m];d[s].fn.apply(d[s].context,i)}}return!0},a.prototype.on=function(e,t,r){return c(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return c(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,l,n){var c=r?r+e:e;if(!this._events[c])return this;if(!t)return o(this,c),this;var a=this._events[c];if(a.fn)a.fn!==t||n&&!a.once||l&&a.context!==l||o(this,c);else{for(var i=0,s=[],d=a.length;i<d;i++)(a[i].fn!==t||n&&!a[i].once||l&&a[i].context!==l)&&s.push(a[i]);s.length?this._events[c]=1===s.length?s[0]:s:o(this,c)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new l,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a}(s);let d=(U=s.exports)&&U.__esModule&&Object.prototype.hasOwnProperty.call(U,"default")?U.default:U,u=(e,t={})=>{e&&(performance.getEntriesByName(e).length||performance.mark(e,{detail:t}))},m=(e,t={})=>{e&&u(`${e}_START`,t)},p=(e,t={})=>{e&&u(`${e}_END`,t)},h=(e,t=`${e}_START`,r=`${e}_END`)=>{try{return performance.measure(e,t,r)}catch(e){}};function R(e){if(e&&e.status>=200&&e.status<300)return e;throw Error(`Unexpected status code: ${e.status}`)}async function b(e,t={},{onProgress:r}={}){let l=await function e(t,r={},l){let{delayMs:n=500,numTry:c=2,checkResponse:o=R}=l??{};return t.startsWith("http://")&&(t=t.replace(/^http:\/\//,"https://")),fetch(t,r).then(o).catch(async l=>{if(!(l instanceof DOMException&&"AbortError"===l.name)){let o=c-1;if(o<=0)throw console.warn("fetch-retry no more retry times, url:",t,", error:",l),l;return console.warn("fetch-retry url:",t,", will retry:",o,", error:",l),await new Promise(e=>setTimeout(e,n)),await e(t,r,{delayMs:n,numTry:o})}console.warn(`fetch ${t} has been aborted`)})}(e,t);if(!(l.status>=200&&l.status<300)){let t=Error(`Request status(${l.status}): ${e}`);throw t.response=t,t}let{body:n,headers:c}=l,o=Number(c.get("Content-Length")??c.get("Media-Length")??0);if(!n||!o)return l;let a=0,i=new Response(new ReadableStream({start(e){let t=n.getReader();return function l(){return t.read().then(({done:t,value:n})=>{if(!t)return e.enqueue(n),a+=n.byteLength,null==r||r(a/o),l();e.close()})}()}}),{status:l.status,statusText:l.statusText});for(let[e,t]of l.headers.entries())i.headers.set(e,t);return i}function f(e,t=!0){var r;let l=null==(r=performance.getEntriesByName(e))?void 0:r[0];if(!l&&t){let t=e.split("/").pop();t&&(l=performance.getEntries().find(e=>e.name.includes(t)))}return l&&void 0!==l.transferSize?0===l.transferSize?"browser":"none":"unknown"}let Z="force_refresh",X="disable_compatible_versions",V=!1;"DedicatedWorkerGlobalScope"!==globalThis.constructor.name&&navigator.cookieEnabled&&(V=!!localStorage.getItem(X));let y=(e,t={})=>{let r=new URL(e);for(let e in t)r.searchParams.append(e,t[e]);return r.href},L=new class{constructor(){this._eventbus=new d,this._cache=null,this._task=new Map,this._cachedList=[],this._cacheInitPromise=caches.open("cache_manager").then(e=>this._cache=e).catch(e=>console.error("CacheManager error: ",e)),this._cacheKeysPromise=this._initCachedList()}async getCachedBuf(e,t={}){let r=await this.getCachedResponse(e,t);return await (null==r?void 0:r.arrayBuffer())}async getCachedResponse(e,t={}){var r,l,n;let c;await this._cacheInitPromise;let o=(null==(r=t.versions)?void 0:r.length)&&(null==(l=t.marks)?void 0:l.group)&&(null==(n=t.marks)?void 0:n.name)&&!V,a=y(e,t.marks);"DedicatedWorkerGlobalScope"===globalThis.constructor.name&&(V=globalThis.disableCompatible);try{if(o){let r=await this.getCachedKeysByGroup(t.marks.group,t.versions),l=null==r?void 0:r.find(e=>e.name===t.marks.name);l&&(console.info("found cached version:",l.version),c=await this._cache.match(l.url,{ignoreSearch:!0}),l.version!==t.versions[0]&&this._cache.match(e,{ignoreSearch:!0}).then(e=>{void 0===e?this._cache.add(a):a!==e.url&&this._cache.put(a,e.clone())}))}return c||((c=await this._cache.match(e,{ignoreSearch:!0}))&&a!==c.url&&this._cache.put(a,c.clone()),c)}catch(e){return}}_perfSuccess(e,t,r){return p(e,{categories:{hit_cache:t,status:"success"},metrics:{file_size:null==r?void 0:r.byteLength}}),r}_perfError(e){p(e,{categories:{status:"fail"}})}async _fetchArrayBuffer(e,t={}){var r;let{perfName:l,forceRefresh:n,marks:c={},priority:o,ignoreQueryInKey:a}=t;await this._cacheInitPromise;let i=a?e.split("?")[0]:e;m(l);let s=n?void 0:await this.getCachedBuf(i,t);if(s)return this._perfSuccess(l,"idb",s),s;try{let t=await b(n?y(e,{[Z]:`${Date.now()}`}):e,{priority:o},{onProgress:t=>this._eventbus.emit(`progress:${e}`,t)});return s=await t.arrayBuffer(),null==(r=this._cache)||r.put(y(i,c),new Response(s)),this._eventbus.removeAllListeners(`progress:${e}`),this._perfSuccess(l,f(e),s),s}catch(t){throw this._perfError(l),this._eventbus.removeAllListeners(`progress:${e}`),t}}async _fetchResponse(e,t={}){var r;let{perfName:l,forceRefresh:n,marks:c,priority:o,ignoreQueryInKey:a}=t;await this._cacheInitPromise;let i=a?e.split("?")[0]:e;m(l);let s=n?void 0:await this.getCachedResponse(i,t);if(s)return this._perfSuccess(l,"idb"),s;try{return s=await b(n?y(e,{[Z]:`${Date.now()}`}):e,{priority:o},{onProgress:t=>{this._eventbus.emit(`progress:${e}`,t),t>=1&&(this._eventbus.removeAllListeners(`progress:${e}`),this._perfSuccess(l,f(e)))}}),null==(r=this._cache)||r.put(y(i,c),s.clone()),s}catch(t){throw this._perfError(l),this._eventbus.removeAllListeners(`progress:${e}`),t}}fetchWithCache(e,t){let{onProgress:r,removeAfterDone:l=!0,returnType:n="arraybuffer"}=t??{};r&&this._eventbus.on(`progress:${e}`,r);let c=`${e}_${n}`,o=this._task.get(c);if(o)return o;let a="arraybuffer"===n?this._fetchArrayBuffer(e,t):this._fetchResponse(e,t);return this._task.set(c,a),l&&a.finally(()=>this._task.delete(c)),a}deleteTask(e,t="arraybuffer"){let r=`${e}_${t}`;this._task.delete(r)}async deleteCache(e,t){var r;await this._cacheInitPromise,await (null==(r=this._cache)?void 0:r.delete(e,t))}async _initCachedList(){var e;if(this._cachedList.length)return;await this._cacheInitPromise;let t=await (null==(e=this._cache)?void 0:e.keys())??[];this._cachedList=t.map(({url:e})=>{let{searchParams:t}=new URL(e),r={};for(let[e,l]of t.entries())r[e]=l;return{url:e,...r}})}async getCachedKeysByGroup(e,t){await this._cacheKeysPromise;let r=this._cachedList.filter(t=>t.group===e);if(!r.length)return;let l=new Set(r[0].names.split("~")),n=r.reduce((e,t)=>(t.version&&t.name&&(t.version in e||(e[t.version]=[]),e[t.version].push(t)),e),{});for(let e in n){let t=new Set(n[e].map(e=>e.name));t.size===l.size&&[...l].every(e=>t.has(e))||delete n[e]}if(!t)return n;for(let e of t)if(n[e])return n[e]}async clearCacheByGroup(e,t){try{if(navigator.storage&&navigator.storage.estimate){let e=await navigator.storage.estimate();if(!e.quota||!e.usage)return;let t=e.usage/e.quota*100,r=e.quota-e.usage;if(console.log("clearCacheByGroup info ====>",{remaining:r,percentageUsed:t,quota:e}),e.quota>1e10&&t<30||r/1e6>100)return}for(let r of(await this._cacheKeysPromise,this._cachedList.filter(t=>{var r,l;return t.group===e||(null==(l=(r=t.url).includes)?void 0:l.call(r,e))})))t.includes(r.version)||this.deleteCache(r.url)}catch(e){console.error("clearCacheByGroup error",e)}}};var S=null;try{S=("undefined"!=typeof module&&"function"==typeof module.require&&module.require("worker_threads")||"function"==typeof __non_webpack_require__&&__non_webpack_require__("worker_threads")||"function"==typeof require&&require("worker_threads")).Worker}catch(e){}var U,w,W,G,_,T,I,Y,N,F,J=(F="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwiZGVmYXVsdCIpP2UuZGVmYXVsdDplfXZhciB0PXtleHBvcnRzOnt9fTshZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxyPSJ+IjtmdW5jdGlvbiBuKCl7fWZ1bmN0aW9uIHMoZSx0LHIpe3RoaXMuZm49ZSx0aGlzLmNvbnRleHQ9dCx0aGlzLm9uY2U9cnx8ITF9ZnVuY3Rpb24gbyhlLHQsbixvLGEpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBuKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKTt2YXIgaT1uZXcgcyhuLG98fGUsYSksYz1yP3IrdDp0O3JldHVybiBlLl9ldmVudHNbY10/ZS5fZXZlbnRzW2NdLmZuP2UuX2V2ZW50c1tjXT1bZS5fZXZlbnRzW2NdLGldOmUuX2V2ZW50c1tjXS5wdXNoKGkpOihlLl9ldmVudHNbY109aSxlLl9ldmVudHNDb3VudCsrKSxlfWZ1bmN0aW9uIGEoZSx0KXswPT0tLWUuX2V2ZW50c0NvdW50P2UuX2V2ZW50cz1uZXcgbjpkZWxldGUgZS5fZXZlbnRzW3RdfWZ1bmN0aW9uIGkoKXt0aGlzLl9ldmVudHM9bmV3IG4sdGhpcy5fZXZlbnRzQ291bnQ9MH1PYmplY3QuY3JlYXRlJiYobi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShudWxsKSwobmV3IG4pLl9fcHJvdG9fX3x8KHI9ITEpKSxpLnByb3RvdHlwZS5ldmVudE5hbWVzPWZ1bmN0aW9uKCl7dmFyIGUsbixzPVtdO2lmKDA9PT10aGlzLl9ldmVudHNDb3VudClyZXR1cm4gcztmb3IobiBpbiBlPXRoaXMuX2V2ZW50cyl0LmNhbGwoZSxuKSYmcy5wdXNoKHI/bi5zbGljZSgxKTpuKTtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9zLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpKTpzfSxpLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9cj9yK2U6ZSxuPXRoaXMuX2V2ZW50c1t0XTtpZighbilyZXR1cm5bXTtpZihuLmZuKXJldHVybltuLmZuXTtmb3IodmFyIHM9MCxvPW4ubGVuZ3RoLGE9bmV3IEFycmF5KG8pO3M8bztzKyspYVtzXT1uW3NdLmZuO3JldHVybiBhfSxpLnByb3RvdHlwZS5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGUpe3ZhciB0PXI/citlOmUsbj10aGlzLl9ldmVudHNbdF07cmV0dXJuIG4/bi5mbj8xOm4ubGVuZ3RoOjB9LGkucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZSx0LG4scyxvLGEpe3ZhciBpPXI/citlOmU7aWYoIXRoaXMuX2V2ZW50c1tpXSlyZXR1cm4hMTt2YXIgYyxoLHU9dGhpcy5fZXZlbnRzW2ldLGw9YXJndW1lbnRzLmxlbmd0aDtpZih1LmZuKXtzd2l0Y2godS5vbmNlJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKGUsdS5mbix2b2lkIDAsITApLGwpe2Nhc2UgMTpyZXR1cm4gdS5mbi5jYWxsKHUuY29udGV4dCksITA7Y2FzZSAyOnJldHVybiB1LmZuLmNhbGwodS5jb250ZXh0LHQpLCEwO2Nhc2UgMzpyZXR1cm4gdS5mbi5jYWxsKHUuY29udGV4dCx0LG4pLCEwO2Nhc2UgNDpyZXR1cm4gdS5mbi5jYWxsKHUuY29udGV4dCx0LG4scyksITA7Y2FzZSA1OnJldHVybiB1LmZuLmNhbGwodS5jb250ZXh0LHQsbixzLG8pLCEwO2Nhc2UgNjpyZXR1cm4gdS5mbi5jYWxsKHUuY29udGV4dCx0LG4scyxvLGEpLCEwfWZvcihoPTEsYz1uZXcgQXJyYXkobC0xKTtoPGw7aCsrKWNbaC0xXT1hcmd1bWVudHNbaF07dS5mbi5hcHBseSh1LmNvbnRleHQsYyl9ZWxzZXt2YXIgZixfPXUubGVuZ3RoO2ZvcihoPTA7aDxfO2grKylzd2l0Y2godVtoXS5vbmNlJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKGUsdVtoXS5mbix2b2lkIDAsITApLGwpe2Nhc2UgMTp1W2hdLmZuLmNhbGwodVtoXS5jb250ZXh0KTticmVhaztjYXNlIDI6dVtoXS5mbi5jYWxsKHVbaF0uY29udGV4dCx0KTticmVhaztjYXNlIDM6dVtoXS5mbi5jYWxsKHVbaF0uY29udGV4dCx0LG4pO2JyZWFrO2Nhc2UgNDp1W2hdLmZuLmNhbGwodVtoXS5jb250ZXh0LHQsbixzKTticmVhaztkZWZhdWx0OmlmKCFjKWZvcihmPTEsYz1uZXcgQXJyYXkobC0xKTtmPGw7ZisrKWNbZi0xXT1hcmd1bWVudHNbZl07dVtoXS5mbi5hcHBseSh1W2hdLmNvbnRleHQsYyl9fXJldHVybiEwfSxpLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLHQscil7cmV0dXJuIG8odGhpcyxlLHQsciwhMSl9LGkucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBvKHRoaXMsZSx0LHIsITApfSxpLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHQsbixzKXt2YXIgbz1yP3IrZTplO2lmKCF0aGlzLl9ldmVudHNbb10pcmV0dXJuIHRoaXM7aWYoIXQpcmV0dXJuIGEodGhpcyxvKSx0aGlzO3ZhciBpPXRoaXMuX2V2ZW50c1tvXTtpZihpLmZuKWkuZm4hPT10fHxzJiYhaS5vbmNlfHxuJiZpLmNvbnRleHQhPT1ufHxhKHRoaXMsbyk7ZWxzZXtmb3IodmFyIGM9MCxoPVtdLHU9aS5sZW5ndGg7Yzx1O2MrKykoaVtjXS5mbiE9PXR8fHMmJiFpW2NdLm9uY2V8fG4mJmlbY10uY29udGV4dCE9PW4pJiZoLnB1c2goaVtjXSk7aC5sZW5ndGg/dGhpcy5fZXZlbnRzW29dPTE9PT1oLmxlbmd0aD9oWzBdOmg6YSh0aGlzLG8pfXJldHVybiB0aGlzfSxpLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGU/KHQ9cj9yK2U6ZSx0aGlzLl9ldmVudHNbdF0mJmEodGhpcyx0KSk6KHRoaXMuX2V2ZW50cz1uZXcgbix0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzfSxpLnByb3RvdHlwZS5vZmY9aS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIsaS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9aS5wcm90b3R5cGUub24saS5wcmVmaXhlZD1yLGkuRXZlbnRFbWl0dGVyPWksZS5leHBvcnRzPWl9KHQpO3ZhciByPWUodC5leHBvcnRzKTtjb25zdCBuPShlLHQ9e30pPT57ZSYmKHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUoZSkubGVuZ3RofHxwZXJmb3JtYW5jZS5tYXJrKGUse2RldGFpbDp0fSkpfSxzPShlLHQ9e30pPT57ZSYmbihgJHtlfV9TVEFSVGAsdCl9LG89KGUsdD17fSk9PntlJiZuKGAke2V9X0VORGAsdCl9LGE9KGUsdD1gJHtlfV9TVEFSVGAscj1gJHtlfV9FTkRgKT0+e3RyeXtyZXR1cm4gcGVyZm9ybWFuY2UubWVhc3VyZShlLHQscil9Y2F0Y2gobil7fX07ZnVuY3Rpb24gaShlKXtpZihlJiZlLnN0YXR1cz49MjAwJiZlLnN0YXR1czwzMDApcmV0dXJuIGU7dGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHN0YXR1cyBjb2RlOiAke2Uuc3RhdHVzfWApfWZ1bmN0aW9uIGMoZSx0PXt9LHIpe2NvbnN0e2RlbGF5TXM6bj01MDAsbnVtVHJ5OnM9MixjaGVja1Jlc3BvbnNlOm89aX09cj8/e307cmV0dXJuIGUuc3RhcnRzV2l0aCgiaHR0cDovLyIpJiYoZT1lLnJlcGxhY2UoL15odHRwOlwvXC8vLCJodHRwczovLyIpKSxmZXRjaChlLHQpLnRoZW4obykuY2F0Y2goKGFzeW5jIHI9Pnt2YXIgbztpZighKHIgaW5zdGFuY2VvZiBET01FeGNlcHRpb24mJiJBYm9ydEVycm9yIj09PXIubmFtZSkpe2NvbnN0IGE9cy0xO2lmKGE8PTApdGhyb3cgY29uc29sZS53YXJuKCJmZXRjaC1yZXRyeSBubyBtb3JlIHJldHJ5IHRpbWVzLCB1cmw6IixlLCIsIGVycm9yOiIscikscjtyZXR1cm4gY29uc29sZS53YXJuKCJmZXRjaC1yZXRyeSB1cmw6IixlLCIsIHdpbGwgcmV0cnk6IixhLCIsIGVycm9yOiIsciksYXdhaXQobz1uLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsbykpKSksYXdhaXQgYyhlLHQse2RlbGF5TXM6bixudW1Ucnk6YX0pfWNvbnNvbGUud2FybihgZmV0Y2ggJHtlfSBoYXMgYmVlbiBhYm9ydGVkYCl9KSl9YXN5bmMgZnVuY3Rpb24gaChlLHQ9e30se29uUHJvZ3Jlc3M6cn09e30pe2NvbnN0IG49YXdhaXQgYyhlLHQpO2lmKCEobi5zdGF0dXM+PTIwMCYmbi5zdGF0dXM8MzAwKSl7Y29uc3QgdD1uZXcgRXJyb3IoYFJlcXVlc3Qgc3RhdHVzKCR7bi5zdGF0dXN9KTogJHtlfWApO3Rocm93IHQucmVzcG9uc2U9dCx0fWNvbnN0e2JvZHk6cyxoZWFkZXJzOm99PW4sYT1OdW1iZXIoby5nZXQoIkNvbnRlbnQtTGVuZ3RoIik/P28uZ2V0KCJNZWRpYS1MZW5ndGgiKT8/MCk7aWYoIXN8fCFhKXJldHVybiBuO2xldCBpPTA7Y29uc3QgaD1uZXcgUmVzcG9uc2UobmV3IFJlYWRhYmxlU3RyZWFtKHtzdGFydChlKXtjb25zdCB0PXMuZ2V0UmVhZGVyKCk7cmV0dXJuIGZ1bmN0aW9uIG4oKXtyZXR1cm4gdC5yZWFkKCkudGhlbigoKHtkb25lOnQsdmFsdWU6c30pPT57aWYoIXQpcmV0dXJuIGUuZW5xdWV1ZShzKSxpKz1zLmJ5dGVMZW5ndGgsbnVsbD09cnx8cihpL2EpLG4oKTtlLmNsb3NlKCl9KSl9KCl9fSkse3N0YXR1czpuLnN0YXR1cyxzdGF0dXNUZXh0Om4uc3RhdHVzVGV4dH0pO2Zvcihjb25zdFtjLHVdb2Ygbi5oZWFkZXJzLmVudHJpZXMoKSloLmhlYWRlcnMuc2V0KGMsdSk7cmV0dXJuIGh9ZnVuY3Rpb24gdShlLHQ9ITApe3ZhciByO2xldCBuPW51bGw9PShyPXBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUoZSkpP3ZvaWQgMDpyWzBdO2lmKCFuJiZ0KXtjb25zdCB0PWUuc3BsaXQoIi8iKS5wb3AoKTt0JiYobj1wZXJmb3JtYW5jZS5nZXRFbnRyaWVzKCkuZmluZCgoZT0+ZS5uYW1lLmluY2x1ZGVzKHQpKSkpfXJldHVybiBuJiZ2b2lkIDAhPT1uLnRyYW5zZmVyU2l6ZT8wPT09bi50cmFuc2ZlclNpemU/ImJyb3dzZXIiOiJub25lIjoidW5rbm93biJ9Y29uc3QgbD0iZm9yY2VfcmVmcmVzaCI7bGV0IGY9ITE7IkRlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlIiE9PWdsb2JhbFRoaXMuY29uc3RydWN0b3IubmFtZSYmbmF2aWdhdG9yLmNvb2tpZUVuYWJsZWQmJihmPUJvb2xlYW4obG9jYWxTdG9yYWdlLmdldEl0ZW0oImRpc2FibGVfY29tcGF0aWJsZV92ZXJzaW9ucyIpKSk7Y29uc3QgXz0oZSx0PXt9KT0+e2NvbnN0IHI9bmV3IFVSTChlKTtmb3IoY29uc3QgbiBpbiB0KXIuc2VhcmNoUGFyYW1zLmFwcGVuZChuLHRbbl0pO3JldHVybiByLmhyZWZ9LHA9bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5fZXZlbnRidXM9bmV3IHIsdGhpcy5fY2FjaGU9bnVsbCx0aGlzLl90YXNrPW5ldyBNYXAsdGhpcy5fY2FjaGVkTGlzdD1bXSx0aGlzLl9jYWNoZUluaXRQcm9taXNlPWNhY2hlcy5vcGVuKCJjYWNoZV9tYW5hZ2VyIikudGhlbigoZT0+dGhpcy5fY2FjaGU9ZSkpLmNhdGNoKChlPT5jb25zb2xlLmVycm9yKCJDYWNoZU1hbmFnZXIgZXJyb3I6ICIsZSkpKSx0aGlzLl9jYWNoZUtleXNQcm9taXNlPXRoaXMuX2luaXRDYWNoZWRMaXN0KCl9YXN5bmMgZ2V0Q2FjaGVkQnVmKGUsdD17fSl7Y29uc3Qgcj1hd2FpdCB0aGlzLmdldENhY2hlZFJlc3BvbnNlKGUsdCk7cmV0dXJuIGF3YWl0KG51bGw9PXI/dm9pZCAwOnIuYXJyYXlCdWZmZXIoKSl9YXN5bmMgZ2V0Q2FjaGVkUmVzcG9uc2UoZSx0PXt9KXt2YXIgcixuLHM7bGV0IG87YXdhaXQgdGhpcy5fY2FjaGVJbml0UHJvbWlzZTtjb25zdCBhPShudWxsPT0ocj10LnZlcnNpb25zKT92b2lkIDA6ci5sZW5ndGgpJiYobnVsbD09KG49dC5tYXJrcyk/dm9pZCAwOm4uZ3JvdXApJiYobnVsbD09KHM9dC5tYXJrcyk/dm9pZCAwOnMubmFtZSkmJiFmLGk9XyhlLHQubWFya3MpOyJEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZSI9PT1nbG9iYWxUaGlzLmNvbnN0cnVjdG9yLm5hbWUmJihmPWdsb2JhbFRoaXMuZGlzYWJsZUNvbXBhdGlibGUpO3RyeXtpZihhKXtjb25zdCByPWF3YWl0IHRoaXMuZ2V0Q2FjaGVkS2V5c0J5R3JvdXAodC5tYXJrcy5ncm91cCx0LnZlcnNpb25zKSxuPW51bGw9PXI/dm9pZCAwOnIuZmluZCgoZT0+ZS5uYW1lPT09dC5tYXJrcy5uYW1lKSk7biYmKGNvbnNvbGUuaW5mbygiZm91bmQgY2FjaGVkIHZlcnNpb246IixuLnZlcnNpb24pLG89YXdhaXQgdGhpcy5fY2FjaGUubWF0Y2gobi51cmwse2lnbm9yZVNlYXJjaDohMH0pLG4udmVyc2lvbiE9PXQudmVyc2lvbnNbMF0mJnRoaXMuX2NhY2hlLm1hdGNoKGUse2lnbm9yZVNlYXJjaDohMH0pLnRoZW4oKGU9Pnt2b2lkIDA9PT1lP3RoaXMuX2NhY2hlLmFkZChpKTppIT09ZS51cmwmJnRoaXMuX2NhY2hlLnB1dChpLGUuY2xvbmUoKSl9KSkpfXJldHVybiBvfHwobz1hd2FpdCB0aGlzLl9jYWNoZS5tYXRjaChlLHtpZ25vcmVTZWFyY2g6ITB9KSxvJiZpIT09by51cmwmJnRoaXMuX2NhY2hlLnB1dChpLG8uY2xvbmUoKSksbyl9Y2F0Y2goYyl7cmV0dXJufX1fcGVyZlN1Y2Nlc3MoZSx0LHIpe3JldHVybiBvKGUse2NhdGVnb3JpZXM6e2hpdF9jYWNoZTp0LHN0YXR1czoic3VjY2VzcyJ9LG1ldHJpY3M6e2ZpbGVfc2l6ZTpudWxsPT1yP3ZvaWQgMDpyLmJ5dGVMZW5ndGh9fSkscn1fcGVyZkVycm9yKGUpe28oZSx7Y2F0ZWdvcmllczp7c3RhdHVzOiJmYWlsIn19KX1hc3luYyBfZmV0Y2hBcnJheUJ1ZmZlcihlLHQ9e30pe3ZhciByO2NvbnN0e3BlcmZOYW1lOm4sZm9yY2VSZWZyZXNoOm8sbWFya3M6YT17fSxwcmlvcml0eTppLGlnbm9yZVF1ZXJ5SW5LZXk6Y309dDthd2FpdCB0aGlzLl9jYWNoZUluaXRQcm9taXNlO2NvbnN0IGY9Yz9lLnNwbGl0KCI/IilbMF06ZTtzKG4pO2xldCBwPW8/dm9pZCAwOmF3YWl0IHRoaXMuZ2V0Q2FjaGVkQnVmKGYsdCk7aWYocClyZXR1cm4gdGhpcy5fcGVyZlN1Y2Nlc3MobiwiaWRiIixwKSxwO3RyeXtjb25zdCB0PWF3YWl0IGgobz9fKGUse1tsXTpgJHtEYXRlLm5vdygpfWB9KTplLHtwcmlvcml0eTppfSx7b25Qcm9ncmVzczp0PT50aGlzLl9ldmVudGJ1cy5lbWl0KGBwcm9ncmVzczoke2V9YCx0KX0pO3JldHVybiBwPWF3YWl0IHQuYXJyYXlCdWZmZXIoKSxudWxsPT0ocj10aGlzLl9jYWNoZSl8fHIucHV0KF8oZixhKSxuZXcgUmVzcG9uc2UocCkpLHRoaXMuX2V2ZW50YnVzLnJlbW92ZUFsbExpc3RlbmVycyhgcHJvZ3Jlc3M6JHtlfWApLHRoaXMuX3BlcmZTdWNjZXNzKG4sdShlKSxwKSxwfWNhdGNoKEUpe3Rocm93IHRoaXMuX3BlcmZFcnJvcihuKSx0aGlzLl9ldmVudGJ1cy5yZW1vdmVBbGxMaXN0ZW5lcnMoYHByb2dyZXNzOiR7ZX1gKSxFfX1hc3luYyBfZmV0Y2hSZXNwb25zZShlLHQ9e30pe3ZhciByO2NvbnN0e3BlcmZOYW1lOm4sZm9yY2VSZWZyZXNoOm8sbWFya3M6YSxwcmlvcml0eTppLGlnbm9yZVF1ZXJ5SW5LZXk6Y309dDthd2FpdCB0aGlzLl9jYWNoZUluaXRQcm9taXNlO2NvbnN0IGY9Yz9lLnNwbGl0KCI/IilbMF06ZTtzKG4pO2xldCBwPW8/dm9pZCAwOmF3YWl0IHRoaXMuZ2V0Q2FjaGVkUmVzcG9uc2UoZix0KTtpZihwKXJldHVybiB0aGlzLl9wZXJmU3VjY2VzcyhuLCJpZGIiKSxwO3RyeXtyZXR1cm4gcD1hd2FpdCBoKG8/XyhlLHtbbF06YCR7RGF0ZS5ub3coKX1gfSk6ZSx7cHJpb3JpdHk6aX0se29uUHJvZ3Jlc3M6dD0+e3RoaXMuX2V2ZW50YnVzLmVtaXQoYHByb2dyZXNzOiR7ZX1gLHQpLHQ+PTEmJih0aGlzLl9ldmVudGJ1cy5yZW1vdmVBbGxMaXN0ZW5lcnMoYHByb2dyZXNzOiR7ZX1gKSx0aGlzLl9wZXJmU3VjY2VzcyhuLHUoZSkpKX19KSxudWxsPT0ocj10aGlzLl9jYWNoZSl8fHIucHV0KF8oZixhKSxwLmNsb25lKCkpLHB9Y2F0Y2goRSl7dGhyb3cgdGhpcy5fcGVyZkVycm9yKG4pLHRoaXMuX2V2ZW50YnVzLnJlbW92ZUFsbExpc3RlbmVycyhgcHJvZ3Jlc3M6JHtlfWApLEV9fWZldGNoV2l0aENhY2hlKGUsdCl7Y29uc3R7b25Qcm9ncmVzczpyLHJlbW92ZUFmdGVyRG9uZTpuPSEwLHJldHVyblR5cGU6cz0iYXJyYXlidWZmZXIifT10Pz97fTtyJiZ0aGlzLl9ldmVudGJ1cy5vbihgcHJvZ3Jlc3M6JHtlfWAscik7Y29uc3Qgbz1gJHtlfV8ke3N9YCxhPXRoaXMuX3Rhc2suZ2V0KG8pO2lmKGEpcmV0dXJuIGE7Y29uc3QgaT0iYXJyYXlidWZmZXIiPT09cz90aGlzLl9mZXRjaEFycmF5QnVmZmVyKGUsdCk6dGhpcy5fZmV0Y2hSZXNwb25zZShlLHQpO3JldHVybiB0aGlzLl90YXNrLnNldChvLGkpLG4mJmkuZmluYWxseSgoKCk9PnRoaXMuX3Rhc2suZGVsZXRlKG8pKSksaX1kZWxldGVUYXNrKGUsdD0iYXJyYXlidWZmZXIiKXtjb25zdCByPWAke2V9XyR7dH1gO3RoaXMuX3Rhc2suZGVsZXRlKHIpfWFzeW5jIGRlbGV0ZUNhY2hlKGUsdCl7dmFyIHI7YXdhaXQgdGhpcy5fY2FjaGVJbml0UHJvbWlzZSxhd2FpdChudWxsPT0ocj10aGlzLl9jYWNoZSk/dm9pZCAwOnIuZGVsZXRlKGUsdCkpfWFzeW5jIF9pbml0Q2FjaGVkTGlzdCgpe3ZhciBlO2lmKHRoaXMuX2NhY2hlZExpc3QubGVuZ3RoKXJldHVybjthd2FpdCB0aGlzLl9jYWNoZUluaXRQcm9taXNlO2NvbnN0IHQ9YXdhaXQobnVsbD09KGU9dGhpcy5fY2FjaGUpP3ZvaWQgMDplLmtleXMoKSk/P1tdO3RoaXMuX2NhY2hlZExpc3Q9dC5tYXAoKCh7dXJsOmV9KT0+e2NvbnN0e3NlYXJjaFBhcmFtczp0fT1uZXcgVVJMKGUpLHI9e30sbj10LmVudHJpZXMoKTtmb3IoY29uc3RbcyxvXW9mIG4pcltzXT1vO3JldHVybnt1cmw6ZSwuLi5yfX0pKX1hc3luYyBnZXRDYWNoZWRLZXlzQnlHcm91cChlLHQpe2F3YWl0IHRoaXMuX2NhY2hlS2V5c1Byb21pc2U7Y29uc3Qgcj10aGlzLl9jYWNoZWRMaXN0LmZpbHRlcigodD0+dC5ncm91cD09PWUpKTtpZighci5sZW5ndGgpcmV0dXJuO2NvbnN0IG49bmV3IFNldChyWzBdLm5hbWVzLnNwbGl0KCJ+IikpLHM9ci5yZWR1Y2UoKChlLHQpPT50LnZlcnNpb24mJnQubmFtZT8odC52ZXJzaW9uIGluIGV8fChlW3QudmVyc2lvbl09W10pLGVbdC52ZXJzaW9uXS5wdXNoKHQpLGUpOmUpLHt9KTtmb3IoY29uc3QgbyBpbiBzKXtjb25zdCBlPW5ldyBTZXQoc1tvXS5tYXAoKGU9PmUubmFtZSkpKTtlLnNpemU9PT1uLnNpemUmJlsuLi5uXS5ldmVyeSgodD0+ZS5oYXModCkpKXx8ZGVsZXRlIHNbb119aWYoIXQpcmV0dXJuIHM7Zm9yKGNvbnN0IG8gb2YgdClpZihzW29dKXJldHVybiBzW29dfWFzeW5jIGNsZWFyQ2FjaGVCeUdyb3VwKGUsdCl7dHJ5e2lmKG5hdmlnYXRvci5zdG9yYWdlJiZuYXZpZ2F0b3Iuc3RvcmFnZS5lc3RpbWF0ZSl7Y29uc3QgZT1hd2FpdCBuYXZpZ2F0b3Iuc3RvcmFnZS5lc3RpbWF0ZSgpO2lmKCFlLnF1b3RhfHwhZS51c2FnZSlyZXR1cm47Y29uc3QgdD1lLnVzYWdlL2UucXVvdGEqMTAwLHI9ZS5xdW90YS1lLnVzYWdlO2lmKGNvbnNvbGUubG9nKCJjbGVhckNhY2hlQnlHcm91cCBpbmZvID09PT0+Iix7cmVtYWluaW5nOnIscGVyY2VudGFnZVVzZWQ6dCxxdW90YTplfSksZS5xdW90YT4xZTEwJiZ0PDMwKXJldHVybjtpZihyLzFlNj4xMDApcmV0dXJufWF3YWl0IHRoaXMuX2NhY2hlS2V5c1Byb21pc2U7Y29uc3Qgcj10aGlzLl9jYWNoZWRMaXN0LmZpbHRlcigodD0+e3ZhciByLG47cmV0dXJuIHQuZ3JvdXA9PT1lfHwobnVsbD09KG49KHI9dC51cmwpLmluY2x1ZGVzKT92b2lkIDA6bi5jYWxsKHIsZSkpfSkpO2Zvcihjb25zdCBlIG9mIHIpdC5pbmNsdWRlcyhlLnZlcnNpb24pfHx0aGlzLmRlbGV0ZUNhY2hlKGUudXJsKX1jYXRjaChyKXtjb25zb2xlLmVycm9yKCJjbGVhckNhY2hlQnlHcm91cCBlcnJvciIscil9fX0sRT1lPT57dmFyIHQ7aWYobnVsbD09ZSlyZXR1cm4gbmV3IEVycm9yKCJlcnJvciBpcyBlbXB0eSIpO2lmKGUgaW5zdGFuY2VvZiBFcnJvcil7aWYoZnVuY3Rpb24oZSx0KXtjb25zdCByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KXx8T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSksdCl8fHt9O3JldHVybiBCb29sZWFuKHIud3JpdGFibGUpfShlLCJtZXNzYWdlIikpcmV0dXJuIGU7e2NvbnN0IHQ9bmV3IEVycm9yKGUubWVzc2FnZSx7Y2F1c2U6ZS5jYXVzZX0pO3JldHVybiB0LnN0YWNrPWUuc3RhY2ssdH19aWYoZSBpbnN0YW5jZW9mIEV2ZW50KXJldHVybiBlIGluc3RhbmNlb2YgRXJyb3JFdmVudD9lLmVycm9yP0UoZS5lcnJvcik6bmV3IEVycm9yKGBbRXJyb3JFdmVudF0gdHlwZTogJHtlLnR5cGV9IG1zZzogJHtlLm1lc3NhZ2V9YCk6bmV3IEVycm9yKGBbRXZlbnRdIHR5cGU6ICR7ZS50eXBlfWApO2lmKCJvYmplY3QiIT10eXBlb2YgZSlyZXR1cm4gbmV3IEVycm9yKGUpO2xldCByPShudWxsPT0odD1lLnRvU3RyaW5nKT92b2lkIDA6dC5jYWxsKGUpKT8/Ilt1bmtvd24gdHlwZV0iO3RyeXtyPWAke3J9ICR7SlNPTi5zdHJpbmdpZnkoZSl9YH1jYXRjaChuKXtyPWAke3J9IGVycm9yIG1lc3NhZ2UgY2Fubm90IHN0cmluZ2lmeWB9cmV0dXJuIG5ldyBFcnJvcihyKX0sbT1lPT5FKGUpLm1lc3NhZ2U7dmFyIHk9KGU9PihlLlBSRUxPQURfV09SS0VSX1NFVFVQPSJQUkVMT0FEX1dPUktFUl9TRVRVUCIsZS5ET1dOTE9BRF9KUz0iTE9BREVSX0RPV05MT0FEX0pTIixlLkRPV05MT0FEX1dPUktFUj0iTE9BREVSX0RPV05MT0FEX1dPUktFUiIsZS5ET1dOTE9BRF9XQVNNPSJMT0FERVJfRE9XTkxPQURfV0FTTSIsZS5ET1dOTE9BRF9TSURFX01PRFVMRV9XQVNNPSJMT0FERVJfRE9XTkxPQURfV0FTTV9TSURFX01PRFVMRSIsZS5DT01QSUxFX0pTPSJMT0FERVJfQ09NUElMRV9KUyIsZS5DT01QSUxFX1dPUktFUj0iTE9BREVSX0NPTVBJTEVfV09SS0VSIixlLkNPTVBJTEVfV0FTTT0iTE9BREVSX0NPTVBJTEVfV0FTTSIsZSkpKHl8fHt9KSx2PShlPT4oZVtlLlNUQVJUPTBdPSJTVEFSVCIsZVtlLkpTX0NPTVBJTEVfU1RBUlQ9MV09IkpTX0NPTVBJTEVfU1RBUlQiLGVbZS5XT1JLRVJfQ09NUElMRV9TVEFSVD0yXT0iV09SS0VSX0NPTVBJTEVfU1RBUlQiLGVbZS5XQVNNX0NPTVBJTEVfU1RBUlQ9M109IldBU01fQ09NUElMRV9TVEFSVCIsZVtlLkpTX1JFQURZPTRdPSJKU19SRUFEWSIsZVtlLldPUktFUl9SRUFEWT01XT0iV09SS0VSX1JFQURZIixlW2UuV0FTTV9SRUFEWT02XT0iV0FTTV9SRUFEWSIsZVtlLlNJREVfTU9EVUxFX1JFQURZPTddPSJTSURFX01PRFVMRV9SRUFEWSIsZVtlLkVSUk9SPThdPSJFUlJPUiIsZVtlLldBU01fRkVUQ0hfRVJST1I9OV09IldBU01fRkVUQ0hfRVJST1IiLGVbZS5TVEFSVEVEPTEwXT0iU1RBUlRFRCIsZS5NQVJLPSJNQVJLIixlKSkodnx8e30pO2xldCBSPW51bGw7dHJ5e1I9SlNPTi5wYXJzZSgneyIkSVNfRU1QVFlfUEFSQU1TIjp0cnVlfScpLGNvbnNvbGUubG9nKCJbcHJlbG9hZC13b3JrZXJdIGluaXRpYWxpemluZyBwcmVsb2FkZXIgd2l0aCBwYXJhbXMiLFIpfWNhdGNoKFQpe2NvbnNvbGUuZXJyb3IoVCl9Y29uc3QgZD1zZWxmLE89cGVyZm9ybWFuY2UudGltZU9yaWdpbixBPShlLHQpPT57dHJ5e2NvbnN0W3JdPXBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUoZSk7aWYoIXIpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihgW3ByZWxvYWQtd29ya2VyXSBwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlOYW1lKCR7ZX0pIHJldHVybiBudWxsYCk7Y29uc3R7ZW50cnlUeXBlOm4sbmFtZTpzLHN0YXJ0VGltZTpvLGR1cmF0aW9uOmEsZGV0YWlsOml9PXI7ZC5wb3N0TWVzc2FnZSh7dHlwZTp2Lk1BUkssdGltZU9yaWdpbjpPLG1hcms6e25hbWU6cyxlbnRyeVR5cGU6bixzdGFydFRpbWU6byxkdXJhdGlvbjphLGRldGFpbDp7Li4uaSwuLi50fX19KX1jYXRjaChyKXtjb25zb2xlLmVycm9yKHIpfX0sZz0oZSx0KT0+e2QucG9zdE1lc3NhZ2Uoe3R5cGU6ZSxkYXRhOnR9KX0sdz0oZSx0KT0+e2QucG9zdE1lc3NhZ2Uoe3R5cGU6di5FUlJPUixkYXRhOmUsZXJyb3JTdHI6dH0pfSxTPWFzeW5jIGU9Pntjb25zdHt1cmw6dCxwZXJmTmFtZTpyLHJldHVyblR5cGU6bj0iYXJyYXlidWZmZXIiLG1hcmtzOnMsdmVyc2lvbnM6b309ZTtsZXQgYTthd2FpdCBwLmRlbGV0ZUNhY2hlKHQse2lnbm9yZVNlYXJjaDohMH0pLHAuZGVsZXRlVGFzayh0LG4pLHAuZmV0Y2hXaXRoQ2FjaGUodCx7cGVyZk5hbWU6cixyZW1vdmVBZnRlckRvbmU6ITAscmV0dXJuVHlwZTpuLGZvcmNlUmVmcmVzaDohMCxtYXJrczpzLHZlcnNpb25zOm99KS5jYXRjaCgoZT0+e2NvbnNvbGUud2FybihgcHJlbG9hZC13YXNtIGZldGNoICR7dH0gZXJyb3JgLGUpLGE9ZX0pKS50aGVuKChlPT57RChlLHZvaWQgMCxhLHQpfSkpfSxEPWFzeW5jKGUsdCxyLG4pPT57dHJ5e2lmKCFlKXtpZihyKXRocm93IHI7dGhyb3cgbmV3IFJhbmdlRXJyb3IoIndhc21fcmVzcG9uZXNlX2lzX251bGwiKX1BKGAke3kuRE9XTkxPQURfV0FTTX1fU1RBUlRgKSxBKGAke3kuRE9XTkxPQURfV0FTTX1fRU5EYCx7aXNSZXRyeTohdH0pLGEoeS5ET1dOTE9BRF9XQVNNKX1jYXRjaChUKXtyZXR1cm4gdD92b2lkIFModCk6dm9pZCB3KHYuV0FTTV9GRVRDSF9FUlJPUixgJHttKFQpfS0ke259YCl9dHJ5e3MoeS5DT01QSUxFX1dBU00pLEEoYCR7eS5DT01QSUxFX1dBU019X1NUQVJUYCk7Y29uc3Qgcj1hd2FpdCBXZWJBc3NlbWJseS5jb21waWxlU3RyZWFtaW5nKGUpO2lmKCFyKXRocm93IG5ldyBSYW5nZUVycm9yKCJ3YXNtX2NvbXBsaWVfZGF0YV9pc19udWxsIik7cmV0dXJuIG8oeS5DT01QSUxFX1dBU00pLEEoYCR7eS5DT01QSUxFX1dBU019X0VORGAse2lzUmV0cnk6IXR9KSxhKHkuQ09NUElMRV9XQVNNKSx2b2lkIGcodi5XQVNNX1JFQURZLHIpfWNhdGNoKFQpe2lmKHQpcmV0dXJuIHZvaWQgUyh0KTt3KHYuV0FTTV9SRUFEWSxtKFQpKX19LEw9KHt3YXNtRmlsZTplLGRpc2FibGVDb21wYXRpYmxlOnQsZm9yY2VSZWZyZXNoOnJ9KT0+e2dsb2JhbFRoaXMuZGlzYWJsZUNvbXBhdGlibGU9dDtjb25zdHt1cmw6bixzaWRlTW9kdWxlVXJsOnMscGVyZk5hbWU6byxyZXR1cm5UeXBlOmk9ImFycmF5YnVmZmVyIixpZ25vcmVGb3JjZVJlZnJlc2g6Yz0hMCxtYXJrczpoLHZlcnNpb25zOnV9PWU7bGV0IGw7cC5mZXRjaFdpdGhDYWNoZShuLHtwZXJmTmFtZTpvLHJlbW92ZUFmdGVyRG9uZTohMSxyZXR1cm5UeXBlOmksZm9yY2VSZWZyZXNoOiFjJiZyLG1hcmtzOmgsdmVyc2lvbnM6dX0pLmNhdGNoKChlPT57Y29uc29sZS53YXJuKGBwcmVsb2FkLXdhc20gZmV0Y2ggJHtufSBlcnJvcmAsZSksbD1lfSkpLnRoZW4oKHQ9PntEKHQsZSxsLG4pfSkpLHAuZmV0Y2hXaXRoQ2FjaGUocyx7cGVyZk5hbWU6YCR7b31fU0lERV9NT0RVTEVgLHJlbW92ZUFmdGVyRG9uZTohMSxyZXR1cm5UeXBlOmksZm9yY2VSZWZyZXNoOiFjJiZyLG1hcmtzOnsuLi5oLG5hbWU6InNpZGVfbW9kdWxlX3dhc20ifSx2ZXJzaW9uczp1fSkuY2F0Y2goKGU9Pntjb25zb2xlLndhcm4oYHByZWxvYWQtd2FzbSBzaWRlIG1vZHVsZSBmZXRjaCAke259IGVycm9yYCxlKSxsPWV9KSkudGhlbigodD0+eyhhc3luYyhlLHQscik9Pnt0cnl7aWYoIWUpe2lmKHIpdGhyb3cgcjt0aHJvdyBuZXcgUmFuZ2VFcnJvcigid2FzbV9yZXNwb25lc2VfaXNfbnVsbCIpfUEoYCR7eS5ET1dOTE9BRF9TSURFX01PRFVMRV9XQVNNfV9TVEFSVGApO2NvbnN0IG49YXdhaXQgZS5hcnJheUJ1ZmZlcigpLHM9bmV3IFVpbnQ4QXJyYXkobik7Y29uc29sZS5sb2coYFtQcmVsb2FkZXJdIHNpZGUgbW9kdWxlIHNpemUgJHtuLmJ5dGVMZW5ndGh9IHVuaXQ4IHNpemUgJHtzLmJ5dGVMZW5ndGh9YCksQShgJHt5LkRPV05MT0FEX1NJREVfTU9EVUxFX1dBU019X0VORGAse2lzUmV0cnk6IXR9KSxhKHkuRE9XTkxPQURfU0lERV9NT0RVTEVfV0FTTSksZyh2LlNJREVfTU9EVUxFX1JFQURZLHMpfWNhdGNoKFQpe3JldHVybiB2b2lkIHcodi5TSURFX01PRFVMRV9SRUFEWSxtKFQpKX19KSh0LGUsbCl9KSl9LE09ZT0+e0woZSksbyh5LlBSRUxPQURfV09SS0VSX1NFVFVQKSxBKGAke3kuUFJFTE9BRF9XT1JLRVJfU0VUVVB9X0VORGApLGEoeS5QUkVMT0FEX1dPUktFUl9TRVRVUCl9O2lmKCFnbG9iYWxUaGlzLmRvY3VtZW50KXtzKHkuUFJFTE9BRF9XT1JLRVJfU0VUVVApLEEoYCR7eS5QUkVMT0FEX1dPUktFUl9TRVRVUH1fU1RBUlRgKTtjb25zdCBlPUJvb2xlYW4oUikmJiEobnVsbD09Uj92b2lkIDA6Ui4kSVNfRU1QVFlfUEFSQU1TKTtlJiZNKFIpLGQuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKHQ9Pntjb25zdHt0eXBlOnIsZGF0YTpufT10LmRhdGE7c3dpdGNoKHIpe2Nhc2Ugdi5TVEFSVDppZihlKWJyZWFrO00obil9fSkpfX0oKTsKCg==","[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)?(T=(_=(G=F,Buffer.from(G,"base64").toString("utf8"))).indexOf("\n",10)+1,I=_.substring(T)+"",function(e){return new S(I,Object.assign({},e,{eval:!0}))}):(Y=F,function(e){return new Worker(N=N||function(e,t,r){var l=atob(e),n=l.indexOf("\n",10)+1,c=new Blob([l.substring(n)+""],{type:"application/javascript"});return URL.createObjectURL(c)}(Y),e)}));function E(e,t){return"string"==typeof e?`${e}_${t}`:null==e?void 0:e.map(e=>`${e}_${t}`)}let v="force_refresh_wasm_cache";var K=((e=K||{}).PRELOAD_WORKER_SETUP="PRELOAD_WORKER_SETUP",e.DOWNLOAD_JS="LOADER_DOWNLOAD_JS",e.DOWNLOAD_WORKER="LOADER_DOWNLOAD_WORKER",e.DOWNLOAD_WASM="LOADER_DOWNLOAD_WASM",e.DOWNLOAD_SIDE_MODULE_WASM="LOADER_DOWNLOAD_WASM_SIDE_MODULE",e.COMPILE_JS="LOADER_COMPILE_JS",e.COMPILE_WORKER="LOADER_COMPILE_WORKER",e.COMPILE_WASM="LOADER_COMPILE_WASM",e),O=((t=O||{})[t.START=0]="START",t[t.JS_COMPILE_START=1]="JS_COMPILE_START",t[t.WORKER_COMPILE_START=2]="WORKER_COMPILE_START",t[t.WASM_COMPILE_START=3]="WASM_COMPILE_START",t[t.JS_READY=4]="JS_READY",t[t.WORKER_READY=5]="WORKER_READY",t[t.WASM_READY=6]="WASM_READY",t[t.SIDE_MODULE_READY=7]="SIDE_MODULE_READY",t[t.ERROR=8]="ERROR",t[t.WASM_FETCH_ERROR=9]="WASM_FETCH_ERROR",t[t.STARTED=10]="STARTED",t.MARK="MARK",t);let C=()=>()=>{},{searchParams:H}=new URL(window.location.href),g=parseInt(H.get("mock_pool_size")??"20",10),k=!Number.isNaN(g)&&Number.isFinite(g)?g:20,D="1"===H.get("force_refresh_wasm_cache"),z=(e,t,r)=>(l,n)=>l.endsWith("worker.mjs")?e:l.includes("libffmpeg")?r:l.endsWith(".wasm")?t:(console.warn("[side-code]",`unexpected locate file ${l}`,"locate_file"),n+l),B=(e,t,r,l,n)=>(c,o)=>(null==n||n("beginInstantiateWASM"),m("LOADER_LOAD_WASM"),e.then(e=>{p("LOADER_LOAD_WASM"),h("LOADER_LOAD_WASM"),null==n||n("didLoadWASM"),e.use_vefs_force=!0,e.pthreadPoolSize=k,window.Module.binaryDynamicLibraries={[r]:t},m("LOADER_INSTANTIATE"),WebAssembly.instantiate(e,c).then(t=>{null==n||n("didInstantiate"),o(t,e)}).catch(e=>{throw l(e),e}).finally(()=>{p("LOADER_INSTANTIATE"),h("LOADER_INSTANTIATE")})},l),{}),x=async(e,t,r,l,n,c,o)=>{var a;let[i,s,d]=(()=>{let e=C,t=C,r=new Promise((r,l)=>{t=r,e=l});return[e,t,r]})();d.then(window.pCreateModule,window.pCreateModuleReject);let u="started",R=setTimeout(()=>{i(Error("Load timeout.",{cause:`timeout at stage ${u}`}))},3e5);try{"string"!=typeof n.workerBlobUrl&&r.then(e=>{n.workerBlobUrl=e},i),u="awaitMainJS",m("LOADER_IMPORT_MAIN_JS");let{default:d}=await import(e);if(p("LOADER_IMPORT_MAIN_JS"),h("LOADER_IMPORT_MAIN_JS"),!d)throw Error("can not import module from jsUrl, make sure -s MODULARIZE = 1 -s EXPORT_ES6 = 1");u="awaitPWorker","string"!=typeof n.workerBlobUrl&&(n.workerBlobUrl=await r);let R=await c,b=window._WASM_FILE_SIZE_MAP;if(b){let e=o.match(/assets\/([^/]*?)\..*?\.wasm/);if(e){let t=e[1],r=b[t];r===R.byteLength||null==(a=window.ccWebSlardar)||a.call(window,"sendEvent",{name:"preload_wasm_mismatched",metrics:{expectedSize:r,actualSize:R.byteLength},categories:{fileName:t,fullUrl:o}})}}u="createModule",m("LOADER_CREATE_MODULE");let f=await d({mainScriptUrlOrBlob:e,locateFile:z(n.workerBlobUrl,t,o),instantiateWasm:B(l,R,o,i,e=>{u=e})});p("LOADER_CREATE_MODULE"),h("LOADER_CREATE_MODULE"),u="finished",s(f)}catch(e){i(e)}finally{clearTimeout(R)}},P=window.__preload_marks??(window.__preload_marks=[]),M=performance.timeOrigin,A=e=>{let t=new J;t.postMessage({type:O.START,data:e}),t.onmessage=e=>{var t,r,l,n,c;let{type:o,data:a,mark:i,errorStr:s,timeOrigin:d}=e.data;switch(o){case O.MARK:console.log("[side-code] received mark",i,d),i&&"number"==typeof d&&((e,t)=>{let{entryType:r,name:l,startTime:n,duration:c,detail:o}=e;P.push({entryType:r,name:l,startTime:n+t-M,duration:c,detail:o})})(i,d);break;case O.WASM_READY:null==(t=window.pWasmModule)||t.call(window,a),performance.mark("SIDE_CODE_WASM_READY"),h("PRELOAD_WASM","SIDE_CODE_SETUP_PRELOAD_WORKER","SIDE_CODE_WASM_READY");break;case O.SIDE_MODULE_READY:null==(r=window.pSideWasmModule)||r.call(window,a),performance.mark("SIDE_CODE_SIDE_MODULE_WASM_READY"),h("PRELOAD_SIDE_CODE_WASM","SIDE_CODE_SETUP_PRELOAD_WORKER","SIDE_CODE_SIDE_MODULE_WASM_READY");break;case O.ERROR:console.error("[side-code] received error",s),a===O.WASM_READY?null==(l=window.pWasmModuleReject)||l.call(window,`[wasm_preload_wasm_compile_error]: ${s}`):a===O.SIDE_MODULE_READY?null==(n=window.pWasmModuleReject)||n.call(window,`[wasm_side_module_fetch_error]: ${s}`):a===O.WASM_FETCH_ERROR&&(null==(c=window.pWasmModuleReject)||c.call(window,`[wasm_preload_wasm_fetch_error]: ${s}`))}},t.onerror=()=>{var e;null==(e=window.pWasmModuleReject)||e.call(window,"preload_wasm_onerror")}};(()=>{let{wasmType:e}={wasmType:WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))&&WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11]))?"simd":"common"},t=o.url[e]??o.url.common,r=E(o.version,e),l=E(o.versions,e),n={group:t.group,names:"wasm~js~worker",version:r},c=[r,...l],s=D||!!localStorage.getItem(v),{pWasmModule:d,pSideWasmModule:u,pWorker:m,pCreateModule:p}=window.pWasmResult;null==p||p.then(()=>{localStorage.removeItem(X),localStorage.removeItem(v)},async e=>{console.error(e);let{js:r,wasm:l,worker:n,sideModule:c}=t;await Promise.all([L.deleteCache(r),L.deleteCache(l),L.deleteCache(n),L.deleteCache(c)]);try{localStorage.setItem(X,"1"),localStorage.setItem(v,"1")}catch(e){}});let R={};L.fetchWithCache(t.js,{returnType:"arraybuffer",marks:{name:"js",...n},versions:c,perfName:K.DOWNLOAD_JS,forceRefresh:s,removeAfterDone:!1}).then(e=>{var r;if(!(e instanceof ArrayBuffer))throw TypeError("should be instance of ArrayBuffer");h(K.DOWNLOAD_JS);let l=URL.createObjectURL(new Blob([e],{type:"application/javascript"}));x(l,t.wasm,m,d,R,u,t.sideModule).catch(console.error).finally(()=>{h("PRELOAD_VE","SIDE_CODE_SETUP_PRELOAD_WORKER")}),null==(r=window.pJs)||r.call(window,l),performance.mark("SIDE_CODE_JS_READY"),h("PRELOAD_JS","SIDE_CODE_SETUP_PRELOAD_WORKER","SIDE_CODE_JS_READY")},e=>{var r,l;console.warn(`preload-wasm fetch ${t.js} error`,e);let n=e.message??"unknown";null==(r=window.pJsReject)||r.call(window,`[wasm_preload_js_error]: ${n}`),null==(l=window.pCreateModuleReject)||l.call(window,e)}),L.fetchWithCache(t.worker,{returnType:"arraybuffer",marks:{name:"worker",...n},versions:c,perfName:K.DOWNLOAD_WORKER,forceRefresh:s,removeAfterDone:!1}).then(e=>{var t;if(!(e instanceof ArrayBuffer))throw TypeError("should be instance of ArrayBuffer");h(K.DOWNLOAD_WORKER);let r=URL.createObjectURL(new Blob([e],{type:"application/javascript"}));R.workerBlobUrl=r,null==(t=window.pWorker)||t.call(window,r),performance.mark("SIDE_CODE_WORKER_READY"),h("PRELOAD_WORKER","SIDE_CODE_SETUP_PRELOAD_WORKER","SIDE_CODE_WORKER_READY")},e=>{var r;console.warn(`preload-wasm fetch ${t.worker} error`,e);let l=e.message??"unknown";null==(r=window.pWorkerReject)||r.call(window,`[wasm_preload_worker_error]: ${l}`)});let b={url:t.wasm,sideModuleUrl:t.sideModule,returnType:"response",marks:{name:"wasm",...n},versions:c,perfName:K.DOWNLOAD_WASM,ignoreForceRefresh:!1},f=!!localStorage.getItem(X);performance.mark("SIDE_CODE_SETUP_PRELOAD_WORKER"),A({wasmFile:b,disableCompatible:f,forceRefresh:s});let Z=(()=>{var e;window._defaultFontResource=a,null==(e=window.pDefaultFontResourceResolve)||e.call(window);let t=[{url:a.en.url,perfName:"EDITOR_SDK_DOWNLOAD_DEFAULT_FONT_EN"}];/\/(editor|editor-template)\/[\w]+/.test(window.location.pathname)&&t.push({url:a.ja.url,perfName:"EDITOR_SDK_DOWNLOAD_DEFAULT_FONT_JA",priority:"low"},{url:a.ko.url,perfName:"EDITOR_SDK_DOWNLOAD_DEFAULT_FONT_KO",priority:"low"},{url:a.th.url,perfName:"EDITOR_SDK_DOWNLOAD_DEFAULT_FONT_TH",priority:"low"},{url:a["zh-hans"].url,perfName:"EDITOR_SDK_DOWNLOAD_DEFAULT_FONT_ZHS",priority:"low"},{url:a["zh-hant"].url,perfName:"EDITOR_SDK_DOWNLOAD_DEFAULT_FONT_ZHT",priority:"low"});let r=!!localStorage.getItem(v),l=t.map(({url:e,perfName:t,returnType:l="arraybuffer",ignoreForceRefresh:n=!0,marks:c,versions:o,priority:a})=>L.fetchWithCache(e,{perfName:t,removeAfterDone:!1,returnType:l,forceRefresh:!n&&r,marks:c,versions:o,priority:a}).catch(t=>console.warn(`side-code fetch ${e} error`,t)));return window.pWasmResult&&l.push(window.pWasmResult.pJs,window.pWasmResult.pWorker,window.pWasmResult.pWasmModule),l})();Promise.all([...Z,(()=>{window._defaultDenoiseModelResource=i;let e=/\/(editor|editor-template)\/[\w]+/.test(window.location.pathname)?L.fetchWithCache(i.url,{priority:"low"}):Promise.resolve(null);return e.then(e=>{var t;null==(t=window.pDefaultDenoiseModelResolve)||t.call(window,e)},()=>{var e;null==(e=window.pDefaultDenoiseModelResolve)||e.call(window,null)}),e})()]).then(()=>L.clearCacheByGroup(n.group,c))})(),p("SIDE_CODE_SCRIPT_EXECUTION")}();